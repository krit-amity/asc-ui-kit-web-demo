/*! For license information please see 2.e647eaaa.chunk.js.LICENSE.txt */
(this["webpackJsonpasc-ui-kit-web-demo"]=this["webpackJsonpasc-ui-kit-web-demo"]||[]).push([[2],[function(t,e,r){"use strict";t.exports=r(139)},function(t,e,r){"use strict";r.r(e),r.d(e,"__extends",(function(){return o})),r.d(e,"__assign",(function(){return i})),r.d(e,"__rest",(function(){return a})),r.d(e,"__decorate",(function(){return u})),r.d(e,"__param",(function(){return s})),r.d(e,"__metadata",(function(){return c})),r.d(e,"__awaiter",(function(){return l})),r.d(e,"__generator",(function(){return f})),r.d(e,"__createBinding",(function(){return h})),r.d(e,"__exportStar",(function(){return p})),r.d(e,"__values",(function(){return d})),r.d(e,"__read",(function(){return y})),r.d(e,"__spread",(function(){return v})),r.d(e,"__spreadArrays",(function(){return m})),r.d(e,"__spreadArray",(function(){return g})),r.d(e,"__await",(function(){return b})),r.d(e,"__asyncGenerator",(function(){return w})),r.d(e,"__asyncDelegator",(function(){return _})),r.d(e,"__asyncValues",(function(){return E})),r.d(e,"__makeTemplateObject",(function(){return O})),r.d(e,"__importStar",(function(){return x})),r.d(e,"__importDefault",(function(){return k})),r.d(e,"__classPrivateFieldGet",(function(){return j})),r.d(e,"__classPrivateFieldSet",(function(){return T})),r.d(e,"__classPrivateFieldIn",(function(){return L}));var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i=function(){return i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};function a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function u(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function s(t,e){return function(r,n){e(r,n,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(e){i(e)}}function u(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))}function f(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var h=Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function p(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||h(e,t,r)}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)n[o]=i[a];return n}function g(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){o[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||u(t,e)}))})}function u(t,e){try{(r=o[t](e)).value instanceof b?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(n){l(i[0][3],n)}var r}function s(t){u("next",t)}function c(t){u("throw",t)}function l(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function _(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,o,(e=t[r](e)).done,e.value)}))}}}function O(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var S=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&h(e,t,r);return S(e,t),e}function k(t){return t&&t.__esModule?t:{default:t}}function j(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function T(t,e,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(t,r):o?o.value=r:e.set(t,r),r}function L(t,e){if(null===e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof t?e===t:t.has(e)}},function(t,e,r){t.exports=r(140)()},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(14);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return i})),r.d(e,"h",(function(){return a})),r.d(e,"d",(function(){return u})),r.d(e,"f",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"e",(function(){return l})),r.d(e,"g",(function(){return f}));var n,o=r(1);!function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"}(n||(n={}));var i=function(t){function e(r,n,o){var i=this,a=o?o instanceof Error?o:new Error(String(o)):void 0;return(i=t.call(this,"[@formatjs/intl Error ".concat(r,"] ").concat(n,"\n").concat(a?"\n".concat(a.message,"\n").concat(a.stack):""))||this).code=r,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(i,e),i}return Object(o.__extends)(e,t),e}(Error),a=function(t){function e(e,r){return t.call(this,n.UNSUPPORTED_FORMATTER,e,r)||this}return Object(o.__extends)(e,t),e}(i),u=function(t){function e(e,r){return t.call(this,n.INVALID_CONFIG,e,r)||this}return Object(o.__extends)(e,t),e}(i),s=function(t){function e(e,r){return t.call(this,n.MISSING_DATA,e,r)||this}return Object(o.__extends)(e,t),e}(i),c=function(t){function e(e,r,o){return t.call(this,n.FORMAT_ERROR,"".concat(e,"\nLocale: ").concat(r,"\n"),o)||this}return Object(o.__extends)(e,t),e}(i),l=function(t){function e(e,r,n,o){var i=t.call(this,"".concat(e,"\nMessageID: ").concat(null===n||void 0===n?void 0:n.id,"\nDefault Message: ").concat(null===n||void 0===n?void 0:n.defaultMessage,"\nDescription: ").concat(null===n||void 0===n?void 0:n.description,"\n"),r,o)||this;return i.descriptor=n,i}return Object(o.__extends)(e,t),e}(c),f=function(t){function e(e,r){var o=t.call(this,n.MISSING_TRANSLATION,'Missing message: "'.concat(e.id,'" for locale "').concat(r,'", using ').concat(e.defaultMessage?"default message (".concat("string"===typeof e.defaultMessage?e.defaultMessage:e.defaultMessage.map((function(t){var e;return null!==(e=t.value)&&void 0!==e?e:JSON.stringify(t)})).join(),")"):"id"," as fallback."))||this;return o.descriptor=e,o}return Object(o.__extends)(e,t),e}(i)},function(t,e,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(38);var o=r(53),i=r(26);function a(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||Object(o.a)(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,r){"use strict";function n(t,e){var r=e&&e.cache?e.cache:l,n=e&&e.serializer?e.serializer:s;return(e&&e.strategy?e.strategy:u)(t,{cache:r,serializer:n})}function o(t,e,r,n){var o,i=null==(o=n)||"number"===typeof o||"boolean"===typeof o?n:r(n),a=e.get(i);return"undefined"===typeof a&&(a=t.call(this,n),e.set(i,a)),a}function i(t,e,r){var n=Array.prototype.slice.call(arguments,3),o=r(n),i=e.get(o);return"undefined"===typeof i&&(i=t.apply(this,n),e.set(o,i)),i}function a(t,e,r,n,o){return r.bind(e,t,n,o)}function u(t,e){return a(t,this,1===t.length?o:i,e.cache.create(),e.serializer)}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return f}));var s=function(){return JSON.stringify(arguments)};function c(){this.cache=Object.create(null)}c.prototype.get=function(t){return this.cache[t]},c.prototype.set=function(t,e){this.cache[t]=e};var l={create:function(){return new c}},f={variadic:function(t,e){return a(t,this,i,e.cache.create(),e.serializer)},monadic:function(t,e){return a(t,this,o,e.cache.create(),e.serializer)}}},function(t,e,r){"use strict";t.exports=r(351)},function(t,e,r){"use strict";r.d(e,"d",(function(){return u})),r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"b",(function(){return f})),r.d(e,"e",(function(){return h}));var n=r(1),o=r(36),i=r(7),a=r(4);function u(t,e,r){return void 0===r&&(r={}),e.reduce((function(e,n){return n in t?e[n]=t[n]:n in r&&(e[n]=r[n]),e}),{})}var s={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(t){0},onWarn:function(t){0}};function c(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function l(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,r){t[e]=r}}}}}function f(t){void 0===t&&(t={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var e=Intl.RelativeTimeFormat,r=Intl.ListFormat,a=Intl.DisplayNames,u=Object(i.a)((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,Object(n.__spreadArray)([void 0],e,!1)))}),{cache:l(t.dateTime),strategy:i.b.variadic}),s=Object(i.a)((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,Object(n.__spreadArray)([void 0],e,!1)))}),{cache:l(t.number),strategy:i.b.variadic}),c=Object(i.a)((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,Object(n.__spreadArray)([void 0],e,!1)))}),{cache:l(t.pluralRules),strategy:i.b.variadic});return{getDateTimeFormat:u,getNumberFormat:s,getMessageFormat:Object(i.a)((function(t,e,r,i){return new o.a(t,e,r,Object(n.__assign)({formatters:{getNumberFormat:s,getDateTimeFormat:u,getPluralRules:c}},i||{}))}),{cache:l(t.message),strategy:i.b.variadic}),getRelativeTimeFormat:Object(i.a)((function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new(e.bind.apply(e,Object(n.__spreadArray)([void 0],t,!1)))}),{cache:l(t.relativeTime),strategy:i.b.variadic}),getPluralRules:c,getListFormat:Object(i.a)((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(r.bind.apply(r,Object(n.__spreadArray)([void 0],t,!1)))}),{cache:l(t.list),strategy:i.b.variadic}),getDisplayNames:Object(i.a)((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(a.bind.apply(a,Object(n.__spreadArray)([void 0],t,!1)))}),{cache:l(t.displayNames),strategy:i.b.variadic})}}function h(t,e,r,n){var o,i=t&&t[e];if(i&&(o=i[r]),o)return o;n(new a.h("No ".concat(e," format named: ").concat(r)))}},function(t,e,r){"use strict";r.d(e,"m",(function(){return it})),r.d(e,"a",(function(){return o})),r.d(e,"e",(function(){return u})),r.d(e,"b",(function(){return s})),r.d(e,"f",(function(){return c})),r.d(e,"c",(function(){return l})),r.d(e,"l",(function(){return f})),r.d(e,"j",(function(){return h})),r.d(e,"h",(function(){return p})),r.d(e,"i",(function(){return d})),r.d(e,"k",(function(){return y})),r.d(e,"g",(function(){return v})),r.d(e,"d",(function(){return m}));var n,o,i,a=r(1);function u(t){return t.type===o.literal}function s(t){return t.type===o.argument}function c(t){return t.type===o.number}function l(t){return t.type===o.date}function f(t){return t.type===o.time}function h(t){return t.type===o.select}function p(t){return t.type===o.plural}function d(t){return t.type===o.pound}function y(t){return t.type===o.tag}function v(t){return!(!t||"object"!==typeof t||t.type!==i.number)}function m(t){return!(!t||"object"!==typeof t||t.type!==i.dateTime)}!function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(n||(n={})),function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"}(o||(o={})),function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"}(i||(i={}));var g=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,b=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function w(t){var e={};return t.replace(b,(function(t){var r=t.length;switch(t[0]){case"G":e.era=4===r?"long":5===r?"narrow":"short";break;case"y":e.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][r-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][r-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][r-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][r-1];break;case"s":e.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),e}var _=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var E=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,O=/^(@+)?(\+|#+)?[rs]?$/g,S=/(\*)(0+)|(#+)(0+)|(0+)/g,x=/^(0+)$/;function k(t){var e={};return"r"===t[t.length-1]?e.roundingPriority="morePrecision":"s"===t[t.length-1]&&(e.roundingPriority="lessPrecision"),t.replace(O,(function(t,r,n){return"string"!==typeof n?(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length):"+"===n?e.minimumSignificantDigits=r.length:"#"===r[0]?e.maximumSignificantDigits=r.length:(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length+("string"===typeof n?n.length:0)),""})),e}function j(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function T(t){var e;if("E"===t[0]&&"E"===t[1]?(e={notation:"engineering"},t=t.slice(2)):"E"===t[0]&&(e={notation:"scientific"},t=t.slice(1)),e){var r=t.slice(0,2);if("+!"===r?(e.signDisplay="always",t=t.slice(2)):"+?"===r&&(e.signDisplay="exceptZero",t=t.slice(2)),!x.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function L(t){var e=j(t);return e||{}}function P(t){for(var e={},r=0,n=t;r<n.length;r++){var o=n[r];switch(o.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=o.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},e),{notation:"scientific"}),o.options.reduce((function(t,e){return Object(a.__assign)(Object(a.__assign)({},t),L(e))}),{}));continue;case"engineering":e=Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},e),{notation:"engineering"}),o.options.reduce((function(t,e){return Object(a.__assign)(Object(a.__assign)({},t),L(e))}),{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(S,(function(t,r,n,o,i,a){if(r)e.minimumIntegerDigits=n.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(x.test(o.stem))e.minimumIntegerDigits=o.stem.length;else if(E.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(E,(function(t,r,n,o,i,a){return"*"===n?e.minimumFractionDigits=r.length:o&&"#"===o[0]?e.maximumFractionDigits=o.length:i&&a?(e.minimumFractionDigits=i.length,e.maximumFractionDigits=i.length+a.length):(e.minimumFractionDigits=r.length,e.maximumFractionDigits=r.length),""}));var i=o.options[0];"w"===i?e=Object(a.__assign)(Object(a.__assign)({},e),{trailingZeroDisplay:"stripIfInteger"}):i&&(e=Object(a.__assign)(Object(a.__assign)({},e),k(i)))}else if(O.test(o.stem))e=Object(a.__assign)(Object(a.__assign)({},e),k(o.stem));else{var u=j(o.stem);u&&(e=Object(a.__assign)(Object(a.__assign)({},e),u));var s=T(o.stem);s&&(e=Object(a.__assign)(Object(a.__assign)({},e),s))}}return e}var A,C={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function I(t){var e=t.hourCycle;if(void 0===e&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r,n=t.language;return"root"!==n&&(r=t.maximize().region),(C[r||""]||C[n||""]||C["".concat(n,"-001")]||C["001"])[0]}var R=new RegExp("^".concat(g.source,"*")),D=new RegExp("".concat(g.source,"*$"));function N(t,e){return{start:t,end:e}}var F=!!String.prototype.startsWith,M=!!String.fromCodePoint,B=!!Object.fromEntries,U=!!String.prototype.codePointAt,z=!!String.prototype.trimStart,G=!!String.prototype.trimEnd,q=!!Number.isSafeInteger?Number.isSafeInteger:function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},H=!0;try{H="a"===(null===(A=J("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===A?void 0:A[0])}catch(at){H=!1}var V,$=F?function(t,e,r){return t.startsWith(e,r)}:function(t,e,r){return t.slice(r,r+e.length)===e},W=M?String.fromCodePoint:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r,n="",o=t.length,i=0;o>i;){if((r=t[i++])>1114111)throw RangeError(r+" is not a valid code point");n+=r<65536?String.fromCharCode(r):String.fromCharCode(55296+((r-=65536)>>10),r%1024+56320)}return n},K=B?Object.fromEntries:function(t){for(var e={},r=0,n=t;r<n.length;r++){var o=n[r],i=o[0],a=o[1];e[i]=a}return e},Y=U?function(t,e){return t.codePointAt(e)}:function(t,e){var r=t.length;if(!(e<0||e>=r)){var n,o=t.charCodeAt(e);return o<55296||o>56319||e+1===r||(n=t.charCodeAt(e+1))<56320||n>57343?o:n-56320+(o-55296<<10)+65536}},Q=z?function(t){return t.trimStart()}:function(t){return t.replace(R,"")},X=G?function(t){return t.trimEnd()}:function(t){return t.replace(D,"")};function J(t,e){return new RegExp(t,e)}if(H){var Z=J("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");V=function(t,e){var r;return Z.lastIndex=e,null!==(r=Z.exec(t)[1])&&void 0!==r?r:""}}else V=function(t,e){for(var r=[];;){var n=Y(t,e);if(void 0===n||rt(n)||nt(n))break;r.push(n),e+=n>=65536?2:1}return W.apply(void 0,r)};var tt=function(){function t(t,e){void 0===e&&(e={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!e.ignoreTag,this.locale=e.locale,this.requiresOtherClause=!!e.requiresOtherClause,this.shouldParseSkeletons=!!e.shouldParseSkeletons}return t.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(t,e,r){for(var i=[];!this.isEOF();){var a=this.char();if(123===a){if((u=this.parseArgument(t,r)).err)return u;i.push(u.val)}else{if(125===a&&t>0)break;if(35!==a||"plural"!==e&&"selectordinal"!==e){if(60===a&&!this.ignoreTag&&47===this.peek()){if(r)break;return this.error(n.UNMATCHED_CLOSING_TAG,N(this.clonePosition(),this.clonePosition()))}if(60===a&&!this.ignoreTag&&et(this.peek()||0)){if((u=this.parseTag(t,e)).err)return u;i.push(u.val)}else{var u;if((u=this.parseLiteral(t,e)).err)return u;i.push(u.val)}}else{var s=this.clonePosition();this.bump(),i.push({type:o.pound,location:N(s,this.clonePosition())})}}}return{val:i,err:null}},t.prototype.parseTag=function(t,e){var r=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:o.literal,value:"<".concat(i,"/>"),location:N(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var a=this.parseMessage(t+1,e,!0);if(a.err)return a;var u=a.val,s=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!et(this.char()))return this.error(n.INVALID_TAG,N(s,this.clonePosition()));var c=this.clonePosition();return i!==this.parseTagName()?this.error(n.UNMATCHED_CLOSING_TAG,N(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:o.tag,value:i,children:u,location:N(r,this.clonePosition())},err:null}:this.error(n.INVALID_TAG,N(s,this.clonePosition())))}return this.error(n.UNCLOSED_TAG,N(r,this.clonePosition()))}return this.error(n.INVALID_TAG,N(r,this.clonePosition()))},t.prototype.parseTagName=function(){var t,e=this.offset();for(this.bump();!this.isEOF()&&(45===(t=this.char())||46===t||t>=48&&t<=57||95===t||t>=97&&t<=122||t>=65&&t<=90||183==t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039);)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(t,e){for(var r=this.clonePosition(),n="";;){var i=this.tryParseQuote(e);if(i)n+=i;else{var a=this.tryParseUnquoted(t,e);if(a)n+=a;else{var u=this.tryParseLeftAngleBracket();if(!u)break;n+=u}}}var s=N(r,this.clonePosition());return{val:{type:o.literal,value:n,location:s},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(et(t=this.peek()||0)||47===t)?null:(this.bump(),"<");var t},t.prototype.tryParseQuote=function(t){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===t||"selectordinal"===t)break;return null;default:return null}this.bump();var e=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(39===r){if(39!==this.peek()){this.bump();break}e.push(39),this.bump()}else e.push(r);this.bump()}return W.apply(void 0,e)},t.prototype.tryParseUnquoted=function(t,e){if(this.isEOF())return null;var r=this.char();return 60===r||123===r||35===r&&("plural"===e||"selectordinal"===e)||125===r&&t>0?null:(this.bump(),W(r))},t.prototype.parseArgument=function(t,e){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(n.EXPECT_ARGUMENT_CLOSING_BRACE,N(r,this.clonePosition()));if(125===this.char())return this.bump(),this.error(n.EMPTY_ARGUMENT,N(r,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(n.MALFORMED_ARGUMENT,N(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(n.EXPECT_ARGUMENT_CLOSING_BRACE,N(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:o.argument,value:i,location:N(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(n.EXPECT_ARGUMENT_CLOSING_BRACE,N(r,this.clonePosition())):this.parseArgumentOptions(t,e,i,r);default:return this.error(n.MALFORMED_ARGUMENT,N(r,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),e=this.offset(),r=V(this.message,e),n=e+r.length;return this.bumpTo(n),{value:r,location:N(t,this.clonePosition())}},t.prototype.parseArgumentOptions=function(t,e,r,u){var s,c=this.clonePosition(),l=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(l){case"":return this.error(n.EXPECT_ARGUMENT_TYPE,N(c,f));case"number":case"date":case"time":this.bumpSpace();var h=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((E=this.parseSimpleArgStyleIfPossible()).err)return E;if(0===(m=X(E.val)).length)return this.error(n.EXPECT_ARGUMENT_STYLE,N(this.clonePosition(),this.clonePosition()));h={style:m,styleLocation:N(p,this.clonePosition())}}if((O=this.tryParseArgumentClose(u)).err)return O;var d=N(u,this.clonePosition());if(h&&$(null===h||void 0===h?void 0:h.style,"::",0)){var y=Q(h.style.slice(2));if("number"===l)return(E=this.parseNumberSkeletonFromString(y,h.styleLocation)).err?E:{val:{type:o.number,value:r,location:d,style:E.val},err:null};if(0===y.length)return this.error(n.EXPECT_DATE_TIME_SKELETON,d);var v=y;this.locale&&(v=function(t,e){for(var r="",n=0;n<t.length;n++){var o=t.charAt(n);if("j"===o){for(var i=0;n+1<t.length&&t.charAt(n+1)===o;)i++,n++;var a=1+(1&i),u=i<2?1:3+(i>>1),s=I(e);for("H"!=s&&"k"!=s||(u=0);u-- >0;)r+="a";for(;a-- >0;)r=s+r}else r+="J"===o?"H":o}return r}(y,this.locale));var m={type:i.dateTime,pattern:v,location:h.styleLocation,parsedOptions:this.shouldParseSkeletons?w(v):{}};return{val:{type:"date"===l?o.date:o.time,value:r,location:d,style:m},err:null}}return{val:{type:"number"===l?o.number:"date"===l?o.date:o.time,value:r,location:d,style:null!==(s=null===h||void 0===h?void 0:h.style)&&void 0!==s?s:null},err:null};case"plural":case"selectordinal":case"select":var g=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(n.EXPECT_SELECT_ARGUMENT_OPTIONS,N(g,Object(a.__assign)({},g)));this.bumpSpace();var b=this.parseIdentifierIfPossible(),_=0;if("select"!==l&&"offset"===b.value){if(!this.bumpIf(":"))return this.error(n.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,N(this.clonePosition(),this.clonePosition()));var E;if(this.bumpSpace(),(E=this.tryParseDecimalInteger(n.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,n.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return E;this.bumpSpace(),b=this.parseIdentifierIfPossible(),_=E.val}var O,S=this.tryParsePluralOrSelectOptions(t,l,e,b);if(S.err)return S;if((O=this.tryParseArgumentClose(u)).err)return O;var x=N(u,this.clonePosition());return"select"===l?{val:{type:o.select,value:r,options:K(S.val),location:x},err:null}:{val:{type:o.plural,value:r,options:K(S.val),offset:_,pluralType:"plural"===l?"cardinal":"ordinal",location:x},err:null};default:return this.error(n.INVALID_ARGUMENT_TYPE,N(c,f))}},t.prototype.tryParseArgumentClose=function(t){return this.isEOF()||125!==this.char()?this.error(n.EXPECT_ARGUMENT_CLOSING_BRACE,N(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,e=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(n.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,N(r,this.clonePosition()));this.bump();break;case 123:t+=1,this.bump();break;case 125:if(!(t>0))return{val:this.message.slice(e.offset,this.offset()),err:null};t-=1;break;default:this.bump()}}return{val:this.message.slice(e.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(t,e){var r=[];try{r=function(t){if(0===t.length)throw new Error("Number skeleton cannot be empty");for(var e=[],r=0,n=t.split(_).filter((function(t){return t.length>0}));r<n.length;r++){var o=n[r].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var i=o[0],a=o.slice(1),u=0,s=a;u<s.length;u++)if(0===s[u].length)throw new Error("Invalid number skeleton");e.push({stem:i,options:a})}return e}(t)}catch(o){return this.error(n.INVALID_NUMBER_SKELETON,e)}return{val:{type:i.number,tokens:r,location:e,parsedOptions:this.shouldParseSkeletons?P(r):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(t,e,r,o){for(var i,a=!1,u=[],s=new Set,c=o.value,l=o.location;;){if(0===c.length){var f=this.clonePosition();if("select"===e||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(n.EXPECT_PLURAL_ARGUMENT_SELECTOR,n.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;l=N(f,this.clonePosition()),c=this.message.slice(f.offset,this.offset())}if(s.has(c))return this.error("select"===e?n.DUPLICATE_SELECT_ARGUMENT_SELECTOR:n.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===c&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===e?n.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:n.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,N(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(t+1,e,r);if(d.err)return d;var y=this.tryParseArgumentClose(p);if(y.err)return y;u.push([c,{value:d.val,location:N(p,this.clonePosition())}]),s.add(c),this.bumpSpace(),c=(i=this.parseIdentifierIfPossible()).value,l=i.location}return 0===u.length?this.error("select"===e?n.EXPECT_SELECT_ARGUMENT_SELECTOR:n.EXPECT_PLURAL_ARGUMENT_SELECTOR,N(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(n.MISSING_OTHER_CLAUSE,N(this.clonePosition(),this.clonePosition())):{val:u,err:null}},t.prototype.tryParseDecimalInteger=function(t,e){var r=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var u=N(n,this.clonePosition());return o?q(i*=r)?{val:i,err:null}:this.error(e,u):this.error(t,u)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var e=Y(this.message,t);if(void 0===e)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return e},t.prototype.error=function(t,e){return{val:null,err:{kind:t,message:this.message,location:e}}},t.prototype.bump=function(){if(!this.isEOF()){var t=this.char();10===t?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},t.prototype.bumpIf=function(t){if($(this.message,t,this.offset())){for(var e=0;e<t.length;e++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(t){var e=this.offset(),r=this.message.indexOf(t,e);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var e=this.offset();if(e===t)break;if(e>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&rt(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),e=this.offset(),r=this.message.charCodeAt(e+(t>=65536?2:1));return null!==r&&void 0!==r?r:null},t}();function et(t){return t>=97&&t<=122||t>=65&&t<=90}function rt(t){return t>=9&&t<=13||32===t||133===t||t>=8206&&t<=8207||8232===t||8233===t}function nt(t){return t>=33&&t<=35||36===t||t>=37&&t<=39||40===t||41===t||42===t||43===t||44===t||45===t||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||91===t||92===t||93===t||94===t||96===t||123===t||124===t||125===t||126===t||161===t||t>=162&&t<=165||166===t||167===t||169===t||171===t||172===t||174===t||176===t||177===t||182===t||187===t||191===t||215===t||247===t||t>=8208&&t<=8213||t>=8214&&t<=8215||8216===t||8217===t||8218===t||t>=8219&&t<=8220||8221===t||8222===t||8223===t||t>=8224&&t<=8231||t>=8240&&t<=8248||8249===t||8250===t||t>=8251&&t<=8254||t>=8257&&t<=8259||8260===t||8261===t||8262===t||t>=8263&&t<=8273||8274===t||8275===t||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||8608===t||t>=8609&&t<=8610||8611===t||t>=8612&&t<=8613||8614===t||t>=8615&&t<=8621||8622===t||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||8658===t||8659===t||8660===t||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||8968===t||8969===t||8970===t||8971===t||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||9001===t||9002===t||t>=9003&&t<=9083||9084===t||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||9655===t||t>=9656&&t<=9664||9665===t||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||9839===t||t>=9840&&t<=10087||10088===t||10089===t||10090===t||10091===t||10092===t||10093===t||10094===t||10095===t||10096===t||10097===t||10098===t||10099===t||10100===t||10101===t||t>=10132&&t<=10175||t>=10176&&t<=10180||10181===t||10182===t||t>=10183&&t<=10213||10214===t||10215===t||10216===t||10217===t||10218===t||10219===t||10220===t||10221===t||10222===t||10223===t||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||10627===t||10628===t||10629===t||10630===t||10631===t||10632===t||10633===t||10634===t||10635===t||10636===t||10637===t||10638===t||10639===t||10640===t||10641===t||10642===t||10643===t||10644===t||10645===t||10646===t||10647===t||10648===t||t>=10649&&t<=10711||10712===t||10713===t||10714===t||10715===t||t>=10716&&t<=10747||10748===t||10749===t||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||11158===t||t>=11159&&t<=11263||t>=11776&&t<=11777||11778===t||11779===t||11780===t||11781===t||t>=11782&&t<=11784||11785===t||11786===t||11787===t||11788===t||11789===t||t>=11790&&t<=11798||11799===t||t>=11800&&t<=11801||11802===t||11803===t||11804===t||11805===t||t>=11806&&t<=11807||11808===t||11809===t||11810===t||11811===t||11812===t||11813===t||11814===t||11815===t||11816===t||11817===t||t>=11818&&t<=11822||11823===t||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||11840===t||11841===t||11842===t||t>=11843&&t<=11855||t>=11856&&t<=11857||11858===t||t>=11859&&t<=11903||t>=12289&&t<=12291||12296===t||12297===t||12298===t||12299===t||12300===t||12301===t||12302===t||12303===t||12304===t||12305===t||t>=12306&&t<=12307||12308===t||12309===t||12310===t||12311===t||12312===t||12313===t||12314===t||12315===t||12316===t||12317===t||t>=12318&&t<=12319||12320===t||12336===t||64830===t||64831===t||t>=65093&&t<=65094}function ot(t){t.forEach((function(t){if(delete t.location,h(t)||p(t))for(var e in t.options)delete t.options[e].location,ot(t.options[e].value);else c(t)&&v(t.style)||(l(t)||f(t))&&m(t.style)?delete t.style.location:y(t)&&ot(t.children)}))}function it(t,e){void 0===e&&(e={}),e=Object(a.__assign)({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var r=new tt(t,e).parse();if(r.err){var o=SyntaxError(n[r.err.kind]);throw o.location=r.err.location,o.originalMessage=r.err.message,o}return(null===e||void 0===e?void 0:e.captureLocation)||ot(r.val),r.val}},function(t,e,r){"use strict";r.d(e,"c",(function(){return u})),r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return c})),r.d(e,"d",(function(){return l}));var n=r(1),o=r(0),i=r(361),a=r(9);function u(t){Object(i.a)(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var s=Object(n.__assign)(Object(n.__assign)({},a.a),{textComponent:o.Fragment});function c(t){return function(e){return t(o.Children.toArray(e))}}function l(t,e){if(t===e)return!0;if(!t||!e)return!1;var r=Object.keys(t),n=Object.keys(e),o=r.length;if(n.length!==o)return!1;for(var i=0;i<o;i++){var a=r[i];if(t[a]!==e[a]||!Object.prototype.hasOwnProperty.call(e,a))return!1}return!0}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(51);var o=r(26),i=r(52);function a(t,e){return Object(n.a)(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(s){u=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||Object(o.a)(t,e)||Object(i.a)()}},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},function(t,e,r){var n=r(89),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},function(t,e,r){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(167)},function(t,e,r){var n=r(193),o=r(194),i=r(195);t.exports=function(t){return n(t)||o(t)||i()}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,r){"use strict";function n(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";var n=r(36);e.a=n.a},function(t,e,r){"use strict";r.d(e,"b",(function(){return l})),r.d(e,"a",(function(){return f})),r.d(e,"c",(function(){return h}));var n=r(1),o=r(0),i=r(33),a=r.n(i),u=r(11);var s=o.createContext(null),c=s.Consumer,l=s.Provider,f=s;function h(t,e){var r,i=e||{},s=i.intlPropName,l=void 0===s?"intl":s,f=i.forwardRef,h=void 0!==f&&f,p=i.enforceContext,d=void 0===p||p,y=function(e){return o.createElement(c,null,(function(r){var i;d&&Object(u.c)(r);var a=((i={})[l]=r,i);return o.createElement(t,Object(n.__assign)({},e,a,{ref:h?e.forwardedRef:null}))}))};return y.displayName="injectIntl(".concat((r=t).displayName||r.name||"Component",")"),y.WrappedComponent=t,h?a()(o.forwardRef((function(t,e){return o.createElement(y,Object(n.__assign)({},t,{forwardedRef:e}))})),t):a()(y,t)}},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return s}));var n,o=r(1);!function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"}(n||(n={}));var i=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.code=r,o.originalMessage=n,o}return Object(o.__extends)(e,t),e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),a=function(t){function e(e,r,o,i){return t.call(this,'Invalid values for "'.concat(e,'": "').concat(r,'". Options are "').concat(Object.keys(o).join('", "'),'"'),n.INVALID_VALUE,i)||this}return Object(o.__extends)(e,t),e}(i),u=function(t){function e(e,r,o){return t.call(this,'Value for "'.concat(e,'" must be of type ').concat(r),n.INVALID_VALUE,o)||this}return Object(o.__extends)(e,t),e}(i),s=function(t){function e(e,r){return t.call(this,'The intl string context variable "'.concat(e,'" was not provided to the string "').concat(r,'"'),n.MISSING_VALUE,r)||this}return Object(o.__extends)(e,t),e}(i)},function(t,e,r){"use strict";t.exports=function(t,e,r,n,o,i,a,u){if(!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,u],l=0;(s=new Error(e.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(t,e,r){!function(){"use strict";var e="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},r=t.exports,n=function(){for(var t,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=r.length,i={};n<o;n++)if((t=r[n])&&t[1]in e){for(n=0;n<t.length;n++)i[r[0][n]]=t[n];return i}return!1}(),o={change:n.fullscreenchange,error:n.fullscreenerror},i={request:function(t,r){return new Promise(function(o,i){var a=function(){this.off("change",a),o()}.bind(this);this.on("change",a);var u=(t=t||e.documentElement)[n.requestFullscreen](r);u instanceof Promise&&u.then(a).catch(i)}.bind(this))},exit:function(){return new Promise(function(t,r){if(this.isFullscreen){var o=function(){this.off("change",o),t()}.bind(this);this.on("change",o);var i=e[n.exitFullscreen]();i instanceof Promise&&i.then(o).catch(r)}else t()}.bind(this))},toggle:function(t,e){return this.isFullscreen?this.exit():this.request(t,e)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,r){var n=o[t];n&&e.addEventListener(n,r,!1)},off:function(t,r){var n=o[t];n&&e.removeEventListener(n,r,!1)},raw:n};n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),r?t.exports=i:window.screenfull=i):r?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(38);function o(t,e){if(t){if("string"===typeof t)return Object(n.a)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(t,e):void 0}}},function(t,e,r){var n=r(173),o=r(178);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,r){var n=r(61),o=r(63);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},function(t,e,r){"use strict";t.exports=r(132)},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(40),o=r(174),i=r(175),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e,r){"use strict";var n=r(165),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(t){return n.isMemo(t)?a:u[t.$$typeof]||o}u[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,r,n){if("string"!==typeof r){if(d){var o=p(r);o&&o!==d&&t(e,o,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var u=s(e),y=s(r),v=0;v<a.length;++v){var m=a[v];if(!i[m]&&(!n||!n[m])&&(!y||!y[m])&&(!u||!u[m])){var g=h(r,m);try{c(e,m,g)}catch(b){}}}}return e}},function(t,e,r){var n=r(32),o=r(28);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(1),o=r(10),i=r(7),a=r(37);function u(t,e){return e?Object.keys(t).reduce((function(r,o){var i,a;return r[o]=(i=t[o],(a=e[o])?Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},i||{}),a||{}),Object.keys(i).reduce((function(t,e){return t[e]=Object(n.__assign)(Object(n.__assign)({},i[e]),a[e]||{}),t}),{})):i),r}),Object(n.__assign)({},t)):t}function s(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,r){t[e]=r}}}}}var c=function(){function t(e,r,o,c){void 0===r&&(r=t.defaultLocale);var l,f=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(t){var e=f.formatToParts(t);if(1===e.length)return e[0].value;var r=e.reduce((function(t,e){return t.length&&e.type===a.a.literal&&"string"===typeof t[t.length-1]?t[t.length-1]+=e.value:t.push(e.value),t}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(t){return Object(a.b)(f.ast,f.locales,f.formatters,f.formats,t,void 0,f.message)},this.resolvedOptions=function(){var t;return{locale:(null===(t=f.resolvedLocale)||void 0===t?void 0:t.toString())||Intl.NumberFormat.supportedLocalesOf(f.locales)[0]}},this.getAst=function(){return f.ast},this.locales=r,this.resolvedLocale=t.resolveLocale(r),"string"===typeof e){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e,{ignoreTag:null===c||void 0===c?void 0:c.ignoreTag,locale:this.resolvedLocale})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=u(t.formats,o),this.formatters=c&&c.formatters||(void 0===(l=this.formatterCache)&&(l={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Object(i.a)((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,Object(n.__spreadArray)([void 0],e,!1)))}),{cache:s(l.number),strategy:i.b.variadic}),getDateTimeFormat:Object(i.a)((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,Object(n.__spreadArray)([void 0],e,!1)))}),{cache:s(l.dateTime),strategy:i.b.variadic}),getPluralRules:Object(i.a)((function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,Object(n.__spreadArray)([void 0],e,!1)))}),{cache:s(l.pluralRules),strategy:i.b.variadic})})}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(t){if("undefined"!==typeof Intl.Locale){var e=Intl.NumberFormat.supportedLocalesOf(t);return e.length>0?new Intl.Locale(e[0]):new Intl.Locale("string"===typeof t?t:t[0])}},t.__parse=o.m,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}()},function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return u}));var n,o=r(10),i=r(23);function a(t){return"function"===typeof t}function u(t,e,r,s,c,l,f){if(1===t.length&&Object(o.e)(t[0]))return[{type:n.literal,value:t[0].value}];for(var h=[],p=0,d=t;p<d.length;p++){var y=d[p];if(Object(o.e)(y))h.push({type:n.literal,value:y.value});else if(Object(o.i)(y))"number"===typeof l&&h.push({type:n.literal,value:r.getNumberFormat(e).format(l)});else{var v=y.value;if(!c||!(v in c))throw new i.e(v,f);var m=c[v];if(Object(o.b)(y))m&&"string"!==typeof m&&"number"!==typeof m||(m="string"===typeof m||"number"===typeof m?String(m):""),h.push({type:"string"===typeof m?n.literal:n.object,value:m});else if(Object(o.c)(y)){var g="string"===typeof y.style?s.date[y.style]:Object(o.d)(y.style)?y.style.parsedOptions:void 0;h.push({type:n.literal,value:r.getDateTimeFormat(e,g).format(m)})}else if(Object(o.l)(y)){g="string"===typeof y.style?s.time[y.style]:Object(o.d)(y.style)?y.style.parsedOptions:s.time.medium;h.push({type:n.literal,value:r.getDateTimeFormat(e,g).format(m)})}else if(Object(o.f)(y)){(g="string"===typeof y.style?s.number[y.style]:Object(o.g)(y.style)?y.style.parsedOptions:void 0)&&g.scale&&(m*=g.scale||1),h.push({type:n.literal,value:r.getNumberFormat(e,g).format(m)})}else{if(Object(o.k)(y)){var b=y.children,w=y.value,_=c[w];if(!a(_))throw new i.d(w,"function",f);var E=_(u(b,e,r,s,c,l).map((function(t){return t.value})));Array.isArray(E)||(E=[E]),h.push.apply(h,E.map((function(t){return{type:"string"===typeof t?n.literal:n.object,value:t}})))}if(Object(o.j)(y)){if(!(O=y.options[m]||y.options.other))throw new i.c(y.value,m,Object.keys(y.options),f);h.push.apply(h,u(O.value,e,r,s,c))}else if(Object(o.h)(y)){var O;if(!(O=y.options["=".concat(m)])){if(!Intl.PluralRules)throw new i.b('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',i.a.MISSING_INTL_API,f);var S=r.getPluralRules(e,{type:y.pluralType}).select(m-(y.offset||0));O=y.options[S]||y.options.other}if(!O)throw new i.c(y.value,m,Object.keys(y.options),f);h.push.apply(h,u(O.value,e,r,s,c,m-(y.offset||0)))}else;}}}return function(t){return t.length<2?t:t.reduce((function(t,e){var r=t[t.length-1];return r&&r.type===n.literal&&e.type===n.literal?r.value+=e.value:t.push(e),t}),[])}(h)}!function(t){t[t.literal=0]="literal",t[t.object=1]="object"}(n||(n={}))},function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,r){var n=r(15).Symbol;t.exports=n},function(t,e,r){var n=r(182),o=r(28),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e,r){(function(t){var n=r(15),o=r(183),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?n.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s}).call(this,r(43)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){var n=r(184),o=r(91),i=r(185),a=i&&i.isTypedArray,u=a?o(a):n;t.exports=u},function(t,e,r){var n=r(235),o=r(236),i=r(237),a=r(238),u=r(239);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(35);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(27)(Object,"create");t.exports=n},function(t,e,r){var n=r(253);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},function(t,e){t.exports=function(t){return t}},function(t,e,r){var n=r(34);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},function(t,e,r){"use strict";function n(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=E(a,r);if(u){if(u===h)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=f(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(T){return{type:"throw",arg:T}}}t.wrap=l;var h={};function p(){}function d(){}function y(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(k([])));g&&g!==e&&r.call(g,a)&&(v=g);var b=y.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(i,a,u,s){var c=f(t[i],t,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,u,s)}),(function(t){o("throw",t,u,s)})):e.resolve(h).then((function(t){l.value=t,u(l)}),(function(t){return o("throw",t,u,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=y,c(b,"constructor",y),c(y,"constructor",d),d.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(_.prototype),c(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),c(b,s,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(c){return void r(c)}u.done?e(s):Promise.resolve(s).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){i(a,n,o,u,s,"next",t)}function s(t){i(a,n,o,u,s,"throw",t)}u(void 0)}))}}r.r(e),r.d(e,"Controller",(function(){return at})),r.d(e,"FormProvider",(function(){return $})),r.d(e,"appendErrors",(function(){return ut})),r.d(e,"get",(function(){return T})),r.d(e,"set",(function(){return lt})),r.d(e,"useController",(function(){return it})),r.d(e,"useFieldArray",(function(){return Gt})),r.d(e,"useForm",(function(){return ce})),r.d(e,"useFormContext",(function(){return V})),r.d(e,"useFormState",(function(){return Z})),r.d(e,"useWatch",(function(){return ot}));var u=r(26);function s(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Object(u.a)(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}var c=r(14),l=r(6),f=r(3),h=r(13),p=r(19),d=r(0),y=["children"],v=["name"],m=["_f"],g=["_f"],b=function(t){return"checkbox"===t.type},w=function(t){return t instanceof Date},_=function(t){return null==t},E=function(t){return"object"===typeof t},O=function(t){return!_(t)&&!Array.isArray(t)&&E(t)&&!w(t)},S=function(t){return O(t)&&t.target?b(t.target)?t.target.checked:t.target.value:t},x=function(t,e){return t.has(function(t){return t.substring(0,t.search(/\.\d+(\.|$)/))||t}(e))},k=function(t){return Array.isArray(t)?t.filter(Boolean):[]},j=function(t){return void 0===t},T=function(t,e,r){if(!e||!O(t))return r;var n=k(e.split(/[,[\].]+?/)).reduce((function(t,e){return _(t)?t:t[e]}),t);return j(n)||n===t?j(t[e])?r:t[e]:n},L="blur",P="focusout",A="change",C="onBlur",I="onChange",R="onSubmit",D="onTouched",N="all",F="max",M="min",B="maxLength",U="minLength",z="pattern",G="required",q="validate",H=d.createContext(null),V=function(){return d.useContext(H)},$=function(t){var e=t.children,r=Object(p.a)(t,y);return d.createElement(H.Provider,{value:r},e)},W=function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={},i=function(i){Object.defineProperty(o,i,{get:function(){var o=i;return e[o]!==N&&(e[o]=!n||N),r&&(r[o]=!0),t[o]}})};for(var a in t)i(a);return o},K=function(t){return O(t)&&!Object.keys(t).length},Y=function(t,e,r){t.name;var n=Object(p.a)(t,v);return K(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find((function(t){return e[t]===(!r||N)}))},Q=function(t){return Array.isArray(t)?t:[t]},X=function(t,e,r){return r&&e?t===e:!t||!e||t===e||Q(t).some((function(t){return t&&(t.startsWith(e)||e.startsWith(t))}))};function J(t){var e=d.useRef(t);e.current=t,d.useEffect((function(){var r=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return function(){return function(t){t&&t.unsubscribe()}(r)}}),[t.disabled])}function Z(t){var e=V(),r=t||{},n=r.control,o=void 0===n?e.control:n,i=r.disabled,a=r.name,u=r.exact,s=d.useState(o._formState),c=Object(h.a)(s,2),l=c[0],p=c[1],y=d.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),v=d.useRef(a),m=d.useRef(!0);return v.current=a,J({disabled:i,callback:d.useCallback((function(t){return m.current&&X(v.current,t.name,u)&&Y(t,y.current)&&p(Object(f.a)(Object(f.a)({},o._formState),t))}),[o,u]),subject:o._subjects.state}),d.useEffect((function(){return m.current=!0,function(){m.current=!1}}),[]),W(l,o._proxyFormState,y.current,!1)}var tt=function(t){return"string"===typeof t},et=function(t,e,r,n){var o=Array.isArray(t);return tt(t)?(n&&e.watch.add(t),T(r,t)):o?t.map((function(t){return n&&e.watch.add(t),T(r,t)})):(n&&(e.watchAll=!0),r)},rt=function(t){return"function"===typeof t},nt=function(t){for(var e in t)if(rt(t[e]))return!0;return!1};function ot(t){var e=V(),r=t||{},n=r.control,o=void 0===n?e.control:n,i=r.name,a=r.defaultValue,u=r.disabled,s=r.exact,c=d.useRef(i);c.current=i;var p=d.useCallback((function(t){if(X(c.current,t.name,s)){var e=et(c.current,o._names,t.values||o._formValues);g(j(c.current)||O(e)&&!nt(e)?Object(f.a)({},e):Array.isArray(e)?Object(l.a)(e):j(e)?a:e)}}),[o,s,a]);J({disabled:u,subject:o._subjects.watch,callback:p});var y=d.useState(j(a)?o._getWatch(i):a),v=Object(h.a)(y,2),m=v[0],g=v[1];return d.useEffect((function(){o._removeUnmounted()})),m}function it(t){var e=V(),r=t.name,n=t.control,o=void 0===n?e.control:n,i=t.shouldUnregister,a=x(o._names.array,r),u=ot({control:o,name:r,defaultValue:T(o._formValues,r,T(o._defaultValues,r,t.defaultValue)),exact:!0}),s=Z({control:o,name:r}),c=d.useRef(o.register(r,Object(f.a)(Object(f.a)({},t.rules),{},{value:u})));return d.useEffect((function(){var t=function(t,e){var r=T(o._fields,t);r&&(r._f.mount=e)};return t(r,!0),function(){var e=o._options.shouldUnregister||i;(a?e&&!o._stateFlags.action:e)?o.unregister(r):t(r,!1)}}),[r,o,a,i]),{field:{name:r,value:u,onChange:d.useCallback((function(t){c.current.onChange({target:{value:S(t),name:r},type:A})}),[r]),onBlur:d.useCallback((function(){c.current.onBlur({target:{value:T(o._formValues,r),name:r},type:L})}),[r,o]),ref:d.useCallback((function(t){var e=T(o._fields,r);t&&e&&t.focus&&(e._f.ref={focus:function(){return t.focus()},select:function(){return t.select()},setCustomValidity:function(e){return t.setCustomValidity(e)},reportValidity:function(){return t.reportValidity()}})}),[r,o._fields])},formState:s,fieldState:Object.defineProperties({},{invalid:{get:function(){return!!T(s.errors,r)}},isDirty:{get:function(){return!!T(s.dirtyFields,r)}},isTouched:{get:function(){return!!T(s.touchedFields,r)}},error:{get:function(){return T(s.errors,r)}}})}}var at=function(t){return t.render(it(t))},ut=function(t,e,r,n,o){return e?Object(f.a)(Object(f.a)({},r[t]),{},{types:Object(f.a)(Object(f.a)({},r[t]&&r[t].types?r[t].types:{}),{},Object(c.a)({},n,o||!0))}):{}},st=function(t){return/^\w*$/.test(t)},ct=function(t){return k(t.replace(/["|']|\]/g,"").split(/\.|\[/))};function lt(t,e,r){for(var n=-1,o=st(e)?[e]:ct(e),i=o.length,a=i-1;++n<i;){var u=o[n],s=r;if(n!==a){var c=t[u];s=O(c)||Array.isArray(c)?c:isNaN(+o[n+1])?{}:[]}t[u]=s,t=t[u]}return t}var ft=function t(e,r,n){var o,i=s(n||Object.keys(e));try{for(i.s();!(o=i.n()).done;){var a=o.value,u=T(e,a);if(u){var c=u._f,l=Object(p.a)(u,m);if(c&&r(c.name)){if(c.ref.focus&&j(c.ref.focus()))break;if(c.refs){c.refs[0].focus();break}}else O(l)&&t(l,r)}}}catch(f){i.e(f)}finally{i.f()}},ht=function(){var t="undefined"===typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(16*Math.random()+t)%16|0;return("x"==e?r:3&r|8).toString(16)}))},pt=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.shouldFocus||j(r.shouldFocus)?r.focusName||"".concat(t,".").concat(j(r.focusIndex)?e:r.focusIndex,"."):""},dt=function(t,e,r){return!r&&(e.watchAll||e.watch.has(t)||Object(l.a)(e.watch).some((function(e){return t.startsWith(e)&&/^\.\w+/.test(t.slice(e.length))})))},yt=function(t,e,r){var n=k(T(t,r));return lt(n,"root",e[r]),lt(t,r,n),t},vt=function(t){return"boolean"===typeof t},mt=function(t){return"file"===t.type},gt=function(t){return tt(t)||d.isValidElement(t)},bt=function(t){return"radio"===t.type},wt=function(t){return t instanceof RegExp},_t={value:!1,isValid:!1},Et={value:!0,isValid:!0},Ot=function(t){if(Array.isArray(t)){if(t.length>1){var e=t.filter((function(t){return t&&t.checked&&!t.disabled})).map((function(t){return t.value}));return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!j(t[0].attributes.value)?j(t[0].value)||""===t[0].value?Et:{value:t[0].value,isValid:!0}:Et:_t}return _t},St={isValid:!1,value:null},xt=function(t){return Array.isArray(t)?t.reduce((function(t,e){return e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t}),St):St};function kt(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(gt(t)||Array.isArray(t)&&t.every(gt)||vt(t)&&!t)return{type:r,message:gt(t)?t:"",ref:e}}var jt=function(t){return O(t)&&!wt(t)?t:{value:t,message:""}},Tt=function(){var t=a(o().mark((function t(e,r,n,i,a){var u,s,c,l,h,p,d,y,v,m,g,w,E,S,x,k,j,T,L,P,A,C,I,R,D,N,H,V,$,W,Y,Q,X,J,Z,et,nt,ot,it,at,st,ct,lt,ft;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=e._f,s=u.ref,c=u.refs,l=u.required,h=u.maxLength,p=u.minLength,d=u.min,y=u.max,v=u.pattern,m=u.validate,g=u.name,w=u.valueAsNumber,E=u.mount,S=u.disabled,E&&!S){t.next=3;break}return t.abrupt("return",{});case 3:if(x=c?c[0]:s,k=function(t){i&&x.reportValidity&&(x.setCustomValidity(vt(t)?"":t||" "),x.reportValidity())},j={},T=bt(s),L=b(s),P=T||L,A=(w||mt(s))&&!s.value||""===r||Array.isArray(r)&&!r.length,C=ut.bind(null,g,n,j),I=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U,i=t?e:r;j[g]=Object(f.a)({type:t?n:o,message:i,ref:s},C(t?n:o,i))},!(a?!Array.isArray(r)||!r.length:l&&(!P&&(A||_(r))||vt(r)&&!r||L&&!Ot(c).isValid||T&&!xt(c).isValid))){t.next=19;break}if(R=gt(l)?{value:!!l,message:l}:jt(l),D=R.value,N=R.message,!D){t.next=19;break}if(j[g]=Object(f.a)({type:G,message:N,ref:x},C(G,N)),n){t.next=19;break}return k(N),t.abrupt("return",j);case 19:if(A||_(d)&&_(y)){t.next=28;break}if($=jt(y),W=jt(d),_(r)||isNaN(r)?(Q=s.valueAsDate||new Date(r),tt($.value)&&(H=Q>new Date($.value)),tt(W.value)&&(V=Q<new Date(W.value))):(Y=s.valueAsNumber||+r,_($.value)||(H=Y>$.value),_(W.value)||(V=Y<W.value)),!H&&!V){t.next=28;break}if(I(!!H,$.message,W.message,F,M),n){t.next=28;break}return k(j[g].message),t.abrupt("return",j);case 28:if(!h&&!p||A||!(tt(r)||a&&Array.isArray(r))){t.next=38;break}if(X=jt(h),J=jt(p),Z=!_(X.value)&&r.length>X.value,et=!_(J.value)&&r.length<J.value,!Z&&!et){t.next=38;break}if(I(Z,X.message,J.message),n){t.next=38;break}return k(j[g].message),t.abrupt("return",j);case 38:if(!v||A||!tt(r)){t.next=45;break}if(nt=jt(v),ot=nt.value,it=nt.message,!wt(ot)||r.match(ot)){t.next=45;break}if(j[g]=Object(f.a)({type:z,message:it,ref:s},C(z,it)),n){t.next=45;break}return k(it),t.abrupt("return",j);case 45:if(!m){t.next=79;break}if(!rt(m)){t.next=58;break}return t.next=49,m(r);case 49:if(at=t.sent,!(st=kt(at,x))){t.next=56;break}if(j[g]=Object(f.a)(Object(f.a)({},st),C(q,st.message)),n){t.next=56;break}return k(st.message),t.abrupt("return",j);case 56:t.next=79;break;case 58:if(!O(m)){t.next=79;break}ct={},t.t0=o().keys(m);case 61:if((t.t1=t.t0()).done){t.next=75;break}if(lt=t.t1.value,K(ct)||n){t.next=65;break}return t.abrupt("break",75);case 65:return t.t2=kt,t.next=68,m[lt](r);case 68:t.t3=t.sent,t.t4=x,t.t5=lt,(ft=(0,t.t2)(t.t3,t.t4,t.t5))&&(ct=Object(f.a)(Object(f.a)({},ft),C(lt,ft.message)),k(ft.message),n&&(j[g]=ct)),t.next=61;break;case 75:if(K(ct)){t.next=79;break}if(j[g]=Object(f.a)({ref:x},ct),n){t.next=79;break}return t.abrupt("return",j);case 79:return k(!0),t.abrupt("return",j);case 81:case"end":return t.stop()}}),t)})));return function(e,r,n,o,i){return t.apply(this,arguments)}}();function Lt(t,e){return[].concat(Object(l.a)(t),Object(l.a)(Q(e)))}var Pt="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function At(t){var e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else{if(Pt&&(t instanceof Blob||t instanceof FileList)||!r&&!O(t))return t;for(var n in e=r?[]:{},t){if(rt(t[n])){e=t;break}e[n]=At(t[n])}}return e}var Ct=function(t){return Array.isArray(t)?t.map((function(){})):void 0},It=function(t){return{isOnSubmit:!t||t===R,isOnBlur:t===C,isOnChange:t===I,isOnAll:t===N,isOnTouch:t===D}};function Rt(t,e,r){return[].concat(Object(l.a)(t.slice(0,e)),Object(l.a)(Q(r)),Object(l.a)(t.slice(e)))}var Dt=function(t,e,r){return Array.isArray(t)?(j(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[]};function Nt(t,e){return[].concat(Object(l.a)(Q(e)),Object(l.a)(Q(t)))}var Ft=function(t,e){return j(e)?[]:function(t,e){var r,n=0,o=Object(l.a)(t),i=s(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;o.splice(a-n,1),n++}}catch(u){i.e(u)}finally{i.f()}return k(o).length?o:[]}(t,Q(e).sort((function(t,e){return t-e})))},Mt=function(t,e,r){t[e]=[t[r],t[r]=t[e]][0]};function Bt(t){for(var e in t)if(!j(t[e]))return!1;return!0}function Ut(t,e){var r,n=st(e)?[e]:ct(e),o=1==n.length?t:function(t,e){for(var r=e.slice(0,-1).length,n=0;n<r;)t=j(t)?n++:t[e[n++]];return t}(t,n),i=n[n.length-1];o&&delete o[i];for(var a=0;a<n.slice(0,-1).length;a++){var u=-1,s=void 0,c=n.slice(0,-(a+1)),l=c.length-1;for(a>0&&(r=t);++u<c.length;){var f=c[u];s=s?s[f]:t[f],l===u&&(O(s)&&K(s)||Array.isArray(s)&&Bt(s))&&(r?delete r[f]:delete t[f]),r=s}}return t}var zt=function(t,e,r){return t[e]=r,t};function Gt(t){var e=V(),r=t.control,n=void 0===r?e.control:r,o=t.name,i=t.keyName,a=void 0===i?"id":i,u=t.shouldUnregister,s=d.useState(n._getFieldArray(o)),p=Object(h.a)(s,2),y=p[0],v=p[1],m=d.useRef(n._getFieldArray(o).map(ht)),g=d.useRef(y),b=d.useRef(o),w=d.useRef(!1);b.current=o,g.current=y,n._names.array.add(o),t.rules&&n.register(o,t.rules),J({callback:d.useCallback((function(t){var e=t.values,r=t.name;if(r===b.current||!r){var n=T(e,b.current,[]);v(n),m.current=n.map(ht)}}),[]),subject:n._subjects.array});var _=d.useCallback((function(t){w.current=!0,n._updateFieldArray(o,t)}),[n,o]);return d.useEffect((function(){if(n._stateFlags.action=!1,dt(o,n._names)&&n._subjects.state.next({}),w.current)if(n._options.resolver)n._executeSchema([o]).then((function(t){var e=T(t.errors,o),r=T(n._formState.errors,o);(r?!e&&r.type:e&&e.type)&&(e?lt(n._formState.errors,o,e):Ut(n._formState.errors,o),n._subjects.state.next({errors:n._formState.errors}))}));else{var t=T(n._fields,o);(!It(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&t&&t._f&&Tt(t,T(n._formValues,o),n._options.criteriaMode===N,n._options.shouldUseNativeValidation,!0).then((function(t){return!K(t)&&n._subjects.state.next({errors:yt(n._formState.errors,t,o)})}))}n._subjects.watch.next({name:o,values:n._formValues}),n._names.focus&&ft(n._fields,(function(t){return t.startsWith(n._names.focus)})),n._names.focus="",n._proxyFormState.isValid&&n._updateValid()}),[y,o,n]),d.useEffect((function(){return!T(n._formValues,o)&&n._updateFieldArray(o),function(){(n._options.shouldUnregister||u)&&n.unregister(o)}}),[o,n,a,u]),{swap:d.useCallback((function(t,e){var r=n._getFieldArray(o);Mt(r,t,e),Mt(m.current,t,e),_(r),v(r),n._updateFieldArray(o,r,Mt,{argA:t,argB:e},!1)}),[_,o,n]),move:d.useCallback((function(t,e){var r=n._getFieldArray(o);Dt(r,t,e),Dt(m.current,t,e),_(r),v(r),n._updateFieldArray(o,r,Dt,{argA:t,argB:e},!1)}),[_,o,n]),prepend:d.useCallback((function(t,e){var r=Q(At(t)),i=Nt(n._getFieldArray(o),r);n._names.focus=pt(o,0,e),m.current=Nt(m.current,r.map(ht)),_(i),v(i),n._updateFieldArray(o,i,Nt,{argA:Ct(t)})}),[_,o,n]),append:d.useCallback((function(t,e){var r=Q(At(t)),i=Lt(n._getFieldArray(o),r);n._names.focus=pt(o,i.length-1,e),m.current=Lt(m.current,r.map(ht)),_(i),v(i),n._updateFieldArray(o,i,Lt,{argA:Ct(t)})}),[_,o,n]),remove:d.useCallback((function(t){var e=Ft(n._getFieldArray(o),t);m.current=Ft(m.current,t),_(e),v(e),n._updateFieldArray(o,e,Ft,{argA:t})}),[_,o,n]),insert:d.useCallback((function(t,e,r){var i=Q(At(e)),a=Rt(n._getFieldArray(o),t,i);n._names.focus=pt(o,t,r),m.current=Rt(m.current,t,i.map(ht)),_(a),v(a),n._updateFieldArray(o,a,Rt,{argA:t,argB:Ct(e)})}),[_,o,n]),update:d.useCallback((function(t,e){var r=At(e),i=zt(n._getFieldArray(o),t,r);m.current=Object(l.a)(i).map((function(e,r){return e&&r!==t?m.current[r]:ht()})),_(i),v(Object(l.a)(i)),n._updateFieldArray(o,i,zt,{argA:t,argB:r},!0,!1)}),[_,o,n]),replace:d.useCallback((function(t){var e=Q(At(t));m.current=e.map(ht),_(Object(l.a)(e)),v(Object(l.a)(e)),n._updateFieldArray(o,Object(l.a)(e),(function(t){return t}),{},!0,!1)}),[_,o,n]),fields:d.useMemo((function(){return y.map((function(t,e){return Object(f.a)(Object(f.a)({},t),{},Object(c.a)({},a,m.current[e]||ht()))}))}),[y,a])}}function qt(){var t=[];return{get observers(){return t},next:function(e){var r,n=s(t);try{for(n.s();!(r=n.n()).done;){r.value.next(e)}}catch(o){n.e(o)}finally{n.f()}},subscribe:function(e){return t.push(e),{unsubscribe:function(){t=t.filter((function(t){return t!==e}))}}},unsubscribe:function(){t=[]}}}var Ht=function(t){return _(t)||!E(t)};function Vt(t,e){if(Ht(t)||Ht(e))return t===e;if(w(t)&&w(e))return t.getTime()===e.getTime();var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=0,i=r;o<i.length;o++){var a=i[o],u=t[a];if(!n.includes(a))return!1;if("ref"!==a){var s=e[a];if(w(u)&&w(s)||O(u)&&O(s)||Array.isArray(u)&&Array.isArray(s)?!Vt(u,s):u!==s)return!1}}return!0}var $t=function(t){var e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Wt=function(t){return"select-multiple"===t.type},Kt=function(t){return bt(t)||b(t)},Yt=function(t){return $t(t)&&t.isConnected};function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Array.isArray(t);if(O(t)||r)for(var n in t)Array.isArray(t[n])||O(t[n])&&!nt(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Qt(t[n],e[n])):_(t[n])||(e[n]=!0);return e}function Xt(t,e,r){var n=Array.isArray(t);if(O(t)||n)for(var o in t)Array.isArray(t[o])||O(t[o])&&!nt(t[o])?j(e)||Ht(r[o])?r[o]=Array.isArray(t[o])?Qt(t[o],[]):Object(f.a)({},Qt(t[o])):Xt(t[o],_(e)?{}:e[o],r[o]):r[o]=!Vt(t[o],e[o]);return r}var Jt=function(t,e){return Xt(t,e,Qt(e))},Zt=function(t,e){var r=e.valueAsNumber,n=e.valueAsDate,o=e.setValueAs;return j(t)?t:r?""===t||_(t)?NaN:+t:n&&tt(t)?new Date(t):o?o(t):t};function te(t){var e=t.ref;if(!(t.refs?t.refs.every((function(t){return t.disabled})):e.disabled))return mt(e)?e.files:bt(e)?xt(t.refs).value:Wt(e)?Object(l.a)(e.selectedOptions).map((function(t){return t.value})):b(e)?Ot(t.refs).value:Zt(j(e.value)?t.ref.value:e.value,t)}var ee=function(t,e,r,n){var o,i={},a=s(t);try{for(a.s();!(o=a.n()).done;){var u=o.value,c=T(e,u);c&&lt(i,u,c._f)}}catch(f){a.e(f)}finally{a.f()}return{criteriaMode:r,names:Object(l.a)(t),fields:i,shouldUseNativeValidation:n}},re=function(t){return j(t)?void 0:wt(t)?t.source:O(t)?wt(t.value)?t.value.source:t.value:t},ne=function(t){return t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate)};function oe(t,e,r){var n=T(t,r);if(n||st(r))return{error:n,name:r};for(var o=r.split(".");o.length;){var i=o.join("."),a=T(e,i),u=T(t,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(u&&u.type)return{name:i,error:u};o.pop()}return{name:r}}var ie=function(t,e,r,n,o){return!o.isOnAll&&(!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:!(r?n.isOnChange:o.isOnChange)||t)},ae=function(t,e){return!k(T(t,e)).length&&Ut(t,e)},ue={mode:R,reValidateMode:I,shouldFocusError:!0};function se(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object(f.a)(Object(f.a)({},ue),e),n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},u=At(r.defaultValues)||{},h=r.shouldUnregister?{}:At(u),d={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},v=0,m={},E={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},O={watch:qt(),array:qt(),state:qt()},A=It(r.mode),C=It(r.reValidateMode),I=r.criteriaMode===N,R=function(t){return function(e){clearTimeout(v),v=window.setTimeout(t,e)}},D=function(){var t=a(o().mark((function t(e){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!1,!E.isValid){t.next=15;break}if(!r.resolver){t.next=10;break}return t.t1=K,t.next=6,G();case 6:t.t2=t.sent.errors,t.t0=(0,t.t1)(t.t2),t.next=13;break;case 10:return t.next=12,H(i,!0);case 12:t.t0=t.sent;case 13:a=t.t0,e||a===n.isValid||(n.isValid=a,O.state.next({isValid:a}));case 15:return t.abrupt("return",a);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o&&r){if(d.action=!0,s&&Array.isArray(T(i,t))){var c=r(T(i,t),o.argA,o.argB);a&&lt(i,t,c)}if(E.errors&&s&&Array.isArray(T(n.errors,t))){var l=r(T(n.errors,t),o.argA,o.argB);a&&lt(n.errors,t,l),ae(n.errors,t)}if(E.touchedFields&&s&&Array.isArray(T(n.touchedFields,t))){var f=r(T(n.touchedFields,t),o.argA,o.argB);a&&lt(n.touchedFields,t,f)}E.dirtyFields&&(n.dirtyFields=Jt(u,h)),O.state.next({isDirty:$(t,e),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else lt(h,t,e)},M=function(t,e){lt(n.errors,t,e),O.state.next({errors:n.errors})},B=function(t,e,r,n){var o=T(i,t);if(o){var a=T(h,t,j(r)?T(u,t):r);j(a)||n&&n.defaultChecked||e?lt(h,t,e?a:te(o._f)):X(t,a),d.mount&&D()}},U=function(t,e,r,o,i){var a=!1,s={name:t},c=T(n.touchedFields,t);if(E.isDirty){var l=n.isDirty;n.isDirty=s.isDirty=$(),a=l!==s.isDirty}if(E.dirtyFields&&(!r||o)){var f=T(n.dirtyFields,t);Vt(T(u,t),e)?Ut(n.dirtyFields,t):lt(n.dirtyFields,t,!0),s.dirtyFields=n.dirtyFields,a=a||f!==T(n.dirtyFields,t)}return r&&!c&&(lt(n.touchedFields,t,r),s.touchedFields=n.touchedFields,a=a||E.touchedFields&&c!==r),a&&i&&O.state.next(s),a?s:{}},z=function(){var r=a(o().mark((function r(i,a,u,s){var c,l,h;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c=T(n.errors,i),l=E.isValid&&n.isValid!==a,e.delayError&&u?(t=R((function(){return M(i,u)})))(e.delayError):(clearTimeout(v),t=null,u?lt(n.errors,i,u):Ut(n.errors,i)),(u?Vt(c,u):!c)&&K(s)&&!l||(h=Object(f.a)(Object(f.a)(Object(f.a)({},s),l?{isValid:a}:{}),{},{errors:n.errors,name:i}),n=Object(f.a)(Object(f.a)({},n),h),O.state.next(h)),m[i]--,E.isValidating&&!Object.values(m).some((function(t){return t}))&&(O.state.next({isValidating:!1}),m={});case 6:case"end":return r.stop()}}),r)})));return function(t,e,n,o){return r.apply(this,arguments)}}(),G=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.resolver){t.next=6;break}return t.next=3,r.resolver(Object(f.a)({},h),r.context,ee(e||y.mount,i,r.criteriaMode,r.shouldUseNativeValidation));case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0={};case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=a(o().mark((function t(e){var r,i,a,u,c,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:if(r=t.sent,i=r.errors,e){a=s(e);try{for(a.s();!(u=a.n()).done;)c=u.value,(l=T(i,c))?lt(n.errors,c,l):Ut(n.errors,c)}catch(o){a.e(o)}finally{a.f()}}else n.errors=i;return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=a(o().mark((function t(e,i){var a,u,s,c,l,f,d,v=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=v.length>2&&void 0!==v[2]?v[2]:{valid:!0},t.t0=o().keys(e);case 2:if((t.t1=t.t0()).done){t.next=23;break}if(u=t.t1.value,!(s=e[u])){t.next=21;break}if(c=s._f,l=Object(p.a)(s,g),!c){t.next=17;break}return f=y.array.has(c.name),t.next=11,Tt(s,T(h,c.name),I,r.shouldUseNativeValidation,f);case 11:if(!(d=t.sent)[c.name]){t.next=16;break}if(a.valid=!1,!i){t.next=16;break}return t.abrupt("break",23);case 16:!i&&(T(d,c.name)?f?yt(n.errors,d,c.name):lt(n.errors,c.name,d[c.name]):Ut(n.errors,c.name));case 17:if(t.t2=l,!t.t2){t.next=21;break}return t.next=21,H(l,i,a);case 21:t.next=2;break;case 23:return t.abrupt("return",a.valid);case 24:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),V=function(){var t,e=s(y.unMount);try{for(e.s();!(t=e.n()).done;){var r=t.value,n=T(i,r);n&&(n._f.refs?n._f.refs.every((function(t){return!Yt(t)})):!Yt(n._f.ref))&&ht(r)}}catch(o){e.e(o)}finally{e.f()}y.unMount=new Set},$=function(t,e){return t&&e&&lt(h,t,e),!Vt(it(),u)},W=function(t,e,r){var n=Object(f.a)({},d.mount?h:j(e)?u:tt(t)?Object(c.a)({},t,e):e);return et(t,y,n,r)},Y=function(t){return k(T(d.mount?h:u,t,e.shouldUnregister?T(u,t,[]):[]))},X=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=T(i,t),o=e;if(n){var a=n._f;a&&(!a.disabled&&lt(h,t,Zt(e,a)),o=Pt&&$t(a.ref)&&_(e)?"":e,Wt(a.ref)?Object(l.a)(a.ref.options).forEach((function(t){return t.selected=o.includes(t.value)})):a.refs?b(a.ref)?a.refs.length>1?a.refs.forEach((function(t){return!t.disabled&&(t.checked=Array.isArray(o)?!!o.find((function(e){return e===t.value})):o===t.value)})):a.refs[0]&&(a.refs[0].checked=!!o):a.refs.forEach((function(t){return t.checked=t.value===o})):mt(a.ref)?a.ref.value="":(a.ref.value=o,a.ref.type||O.watch.next({name:t})))}(r.shouldDirty||r.shouldTouch)&&U(t,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&ot(t)},J=function t(e,r,n){for(var o in r){var a=r[o],u="".concat(e,".").concat(o),s=T(i,u);!y.array.has(e)&&Ht(a)&&(!s||s._f)||w(a)?X(u,a,n):t(u,a,n)}},Z=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=T(i,t),a=y.array.has(t),s=At(e);lt(h,t,s),a?(O.array.next({name:t,values:h}),(E.isDirty||E.dirtyFields)&&r.shouldDirty&&(n.dirtyFields=Jt(u,h),O.state.next({name:t,dirtyFields:n.dirtyFields,isDirty:$(t,s)}))):!o||o._f||_(s)?X(t,s,r):J(t,s,r),dt(t,y)&&O.state.next({}),O.watch.next({name:t})},nt=function(){var e=a(o().mark((function e(a){var u,s,c,l,p,d,v,g,b,w,_,E,x,k,j;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=a.target,s=u.name,!(c=T(i,s))){e.next=39;break}if(d=u.type?te(c._f):S(a),v=a.type===L||a.type===P,g=!ne(c._f)&&!r.resolver&&!T(n.errors,s)&&!c._f.deps||ie(v,T(n.touchedFields,s),n.isSubmitted,C,A),b=dt(s,y,v),lt(h,s,d),v?(c._f.onBlur&&c._f.onBlur(a),t&&t(0)):c._f.onChange&&c._f.onChange(a),w=U(s,d,v,!1),_=!K(w)||b,!v&&O.watch.next({name:s,type:a.type}),!g){e.next=15;break}return e.abrupt("return",_&&O.state.next(Object(f.a)({name:s},b?{}:w)));case 15:if(!v&&b&&O.state.next({}),m[s]=(m[s],1),O.state.next({isValidating:!0}),!r.resolver){e.next=30;break}return e.next=21,G([s]);case 21:E=e.sent,x=E.errors,k=oe(n.errors,i,s),j=oe(x,i,k.name||s),l=j.error,s=j.name,p=K(x),e.next=37;break;case 30:return e.next=32,Tt(c,T(h,s),I,r.shouldUseNativeValidation);case 32:return e.t0=s,l=e.sent[e.t0],e.next=36,D(!0);case 36:p=e.sent;case 37:c._f.deps&&ot(c._f.deps),z(s,p,l,w);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var t=a(o().mark((function t(e){var u,s,l,h,p,d=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=d.length>1&&void 0!==d[1]?d[1]:{},h=Q(e),O.state.next({isValidating:!0}),!r.resolver){t.next=11;break}return t.next=6,q(j(e)?e:h);case 6:p=t.sent,s=K(p),l=e?!h.some((function(t){return T(p,t)})):s,t.next=21;break;case 11:if(!e){t.next=18;break}return t.next=14,Promise.all(h.map(function(){var t=a(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=T(i,e),t.next=3,H(r&&r._f?Object(c.a)({},e,r):r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 14:((l=t.sent.every(Boolean))||n.isValid)&&D(),t.next=21;break;case 18:return t.next=20,H(i);case 20:l=s=t.sent;case 21:return O.state.next(Object(f.a)(Object(f.a)(Object(f.a)({},!tt(e)||E.isValid&&s!==n.isValid?{}:{name:e}),r.resolver?{isValid:s}:{}),{},{errors:n.errors,isValidating:!1})),u.shouldFocus&&!l&&ft(i,(function(t){return T(n.errors,t)}),e?h:y.mount),t.abrupt("return",l);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),it=function(t){var e=Object(f.a)(Object(f.a)({},u),d.mount?h:{});return j(t)?e:tt(t)?T(e,t):t.map((function(t){return T(e,t)}))},at=function(t,e){return{invalid:!!T((e||n).errors,t),isDirty:!!T((e||n).dirtyFields,t),isTouched:!!T((e||n).touchedFields,t),error:T((e||n).errors,t)}},ut=function(t){t?Q(t).forEach((function(t){return Ut(n.errors,t)})):n.errors={},O.state.next({errors:n.errors})},st=function(t,e,r){var o=(T(i,t,{_f:{}})._f||{}).ref;lt(n.errors,t,Object(f.a)(Object(f.a)({},e),{},{ref:o})),O.state.next({name:t,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&o&&o.focus&&o.focus()},ct=function(t,e){return rt(t)?O.watch.subscribe({next:function(r){return t(W(void 0,e),r)}}):W(t,e,!0)},ht=function(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s(t?Q(t):y.mount);try{for(a.s();!(e=a.n()).done;){var c=e.value;y.mount.delete(c),y.array.delete(c),T(i,c)&&(o.keepValue||(Ut(i,c),Ut(h,c)),!o.keepError&&Ut(n.errors,c),!o.keepDirty&&Ut(n.dirtyFields,c),!o.keepTouched&&Ut(n.touchedFields,c),!r.shouldUnregister&&!o.keepDefaultValue&&Ut(u,c))}}catch(l){a.e(l)}finally{a.f()}O.watch.next({}),O.state.next(Object(f.a)(Object(f.a)({},n),o.keepDirty?{isDirty:$()}:{})),!o.keepIsValid&&D()},pt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=T(i,e),a=vt(n.disabled);return lt(i,e,{_f:Object(f.a)(Object(f.a)({},o&&o._f?o._f:{ref:{name:e}}),{},{name:e,mount:!0},n)}),y.mount.add(e),o?a&&lt(h,e,n.disabled?void 0:T(h,e,te(o._f))):B(e,!0,n.value),Object(f.a)(Object(f.a)(Object(f.a)({},a?{disabled:n.disabled}:{}),r.shouldUseNativeValidation?{required:!!n.required,min:re(n.min),max:re(n.max),minLength:re(n.minLength),maxLength:re(n.maxLength),pattern:re(n.pattern)}:{}),{},{name:e,onChange:nt,onBlur:nt,ref:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(a){if(a){t(e,n),o=T(i,e);var s=j(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,c=Kt(s),h=o._f.refs||[];if(c?h.find((function(t){return t===s})):s===o._f.ref)return;lt(i,e,{_f:Object(f.a)(Object(f.a)({},o._f),c?{refs:[].concat(Object(l.a)(h.filter(Yt)),[s],Object(l.a)(Array.isArray(T(u,e))?[{}]:[])),ref:{type:s.type,name:e}}:{ref:s})}),B(e,!1,void 0,s)}else(o=T(i,e,{}))._f&&(o._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!x(y.array,e)||!d.action)&&y.unMount.add(e)}))})},gt=function(t,e){return function(){var u=a(o().mark((function a(u){var s,c,l,p,d;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),s=!0,c=At(h),O.state.next({isSubmitting:!0}),o.prev=4,!r.resolver){o.next=15;break}return o.next=8,G();case 8:l=o.sent,p=l.errors,d=l.values,n.errors=p,c=d,o.next=17;break;case 15:return o.next=17,H(i);case 17:if(!K(n.errors)){o.next=23;break}return O.state.next({errors:{},isSubmitting:!0}),o.next=21,t(c,u);case 21:o.next=27;break;case 23:if(!e){o.next=26;break}return o.next=26,e(Object(f.a)({},n.errors),u);case 26:r.shouldFocusError&&ft(i,(function(t){return T(n.errors,t)}),y.mount);case 27:o.next=33;break;case 29:throw o.prev=29,o.t0=o.catch(4),s=!1,o.t0;case 33:return o.prev=33,n.isSubmitted=!0,O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:K(n.errors)&&s,submitCount:n.submitCount+1,errors:n.errors}),o.finish(33);case 37:case"end":return o.stop()}}),a,null,[[4,29,33,37]])})));return function(t){return u.apply(this,arguments)}}()},bt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T(i,t)&&(j(e.defaultValue)?Z(t,T(u,t)):(Z(t,e.defaultValue),lt(u,t,e.defaultValue)),e.keepTouched||Ut(n.touchedFields,t),e.keepDirty||(Ut(n.dirtyFields,t),n.isDirty=e.defaultValue?$(t,T(u,t)):$()),e.keepError||(Ut(n.errors,t),E.isValid&&D()),O.state.next(Object(f.a)({},n)))},wt=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t||u,a=At(o),c=t&&!K(t)?a:u;if(r.keepDefaultValues||(u=o),!r.keepValues){if(r.keepDirtyValues){var l,f=s(y.mount);try{for(f.s();!(l=f.n()).done;){var p=l.value;T(n.dirtyFields,p)?lt(c,p,T(h,p)):Z(p,T(c,p))}}catch(_){f.e(_)}finally{f.f()}}else{if(Pt&&j(t)){var v,m=s(y.mount);try{for(m.s();!(v=m.n()).done;){var g=v.value,b=T(i,g);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{if($t(w)){w.closest("form").reset();break}}catch(S){}}}}catch(_){m.e(_)}finally{m.f()}}i={}}h=e.shouldUnregister?r.keepDefaultValues?At(u):{}:a,O.array.next({values:c}),O.watch.next({values:c})}y={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!E.isValid||!!r.keepIsValid,d.watch=!!e.shouldUnregister,O.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:r.keepDirty||r.keepDirtyValues?n.isDirty:!(!r.keepDefaultValues||Vt(t,u)),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:r.keepDirty||r.keepDirtyValues?n.dirtyFields:r.keepDefaultValues&&t?Jt(u,t):{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},_t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=T(i,t)._f,n=r.refs?r.refs[0]:r.ref;n.focus(),e.shouldSelect&&n.select()};return{control:{register:pt,unregister:ht,getFieldState:at,_executeSchema:G,_getWatch:W,_getDirty:$,_updateValid:D,_removeUnmounted:V,_updateFieldArray:F,_getFieldArray:Y,_subjects:O,_proxyFormState:E,get _fields(){return i},get _formValues(){return h},get _stateFlags(){return d},set _stateFlags(t){d=t},get _defaultValues(){return u},get _names(){return y},set _names(t){y=t},get _formState(){return n},set _formState(t){n=t},get _options(){return r},set _options(t){r=Object(f.a)(Object(f.a)({},r),t)}},trigger:ot,register:pt,handleSubmit:gt,watch:ct,setValue:Z,getValues:it,reset:wt,resetField:bt,clearErrors:ut,unregister:ht,setError:st,setFocus:_t,getFieldState:at}}function ce(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=d.useRef(),r=d.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),n=Object(h.a)(r,2),o=n[0],i=n[1];e.current?e.current.control._options=t:e.current=Object(f.a)(Object(f.a)({},se(t)),{},{formState:o});var a=e.current.control,u=d.useCallback((function(t){Y(t,a._proxyFormState,!0)&&(a._formState=Object(f.a)(Object(f.a)({},a._formState),t),i(Object(f.a)({},a._formState)))}),[a]);return J({subject:a._subjects.state,callback:u}),d.useEffect((function(){a._stateFlags.mount||(a._proxyFormState.isValid&&a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()})),e.current.formState=W(o,a._proxyFormState),e.current}},,function(t,e,r){var n,o;!function(i){if(void 0===(o="function"===typeof(n=i)?n.call(e,r,e,t):n)||(t.exports=o),!0,t.exports=i(),!!0){var a=window.Cookies,u=window.Cookies=i();u.noConflict=function(){return window.Cookies=a,u}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(c){}r=n.write?n.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var s in i)i[s]&&(u+="; "+s,!0!==i[s]&&(u+="="+i[s].split(";")[0]));return document.cookie=e+"="+r+u}}function a(t,r){if("undefined"!==typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var u=i[a].split("="),s=u.slice(1).join("=");r||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var c=e(u[0]);if(s=(n.read||n)(s,c)||e(s),r)try{s=JSON.parse(s)}catch(l){}if(o[c]=s,t===c)break}catch(l){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,r){i(e,"",t(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},function(t,e,r){(function(t){var n="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(137),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(31))},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){var n=r(81);t.exports=function(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(32),o=r(18);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,r){var n=r(27)(r(15),"Map");t.exports=n},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,r){var n=r(45),o=r(240),i=r(241),a=r(242),u=r(243),s=r(244);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,e,r){var n=r(245),o=r(252),i=r(254),a=r(255),u=r(256);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(97);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNudgedPopoverRect=e.getNewPopoverRect=e.popoverRectForPosition=e.createContainer=e.rectsAreEqual=e.Constants=void 0,e.Constants={DEFAULT_ALIGN:"center",DEFAULT_POSITIONS:["top","left","right","bottom"],EMPTY_CLIENT_RECT:{top:0,left:0,bottom:0,height:0,right:0,width:0}};e.rectsAreEqual=function(t,e){return t===e||(null===t||void 0===t?void 0:t.bottom)===(null===e||void 0===e?void 0:e.bottom)&&(null===t||void 0===t?void 0:t.height)===(null===e||void 0===e?void 0:e.height)&&(null===t||void 0===t?void 0:t.left)===(null===e||void 0===e?void 0:e.left)&&(null===t||void 0===t?void 0:t.right)===(null===e||void 0===e?void 0:e.right)&&(null===t||void 0===t?void 0:t.top)===(null===e||void 0===e?void 0:e.top)&&(null===t||void 0===t?void 0:t.width)===(null===e||void 0===e?void 0:e.width)};e.createContainer=function(t,e){var r=window.document.createElement("div");return e&&(r.className=e),Object.assign(r.style,t),r};e.popoverRectForPosition=function(t,e,r,n,o){var i,a,u=e.left+e.width/2,s=e.top+e.height/2,c=r.width,l=r.height;switch(t){case"left":i=s-l/2,a=e.left-n-c,"start"===o&&(i=e.top),"end"===o&&(i=e.bottom-l);break;case"bottom":i=e.bottom+n,a=u-c/2,"start"===o&&(a=e.left),"end"===o&&(a=e.right-c);break;case"right":i=s-l/2,a=e.right+n,"start"===o&&(i=e.top),"end"===o&&(i=e.bottom-l);break;default:i=e.top-l-n,a=u-c/2,"start"===o&&(a=e.left),"end"===o&&(a=e.right-c)}return{top:i,left:a,width:c,height:l,right:a+c,bottom:i+l}};e.getNewPopoverRect=function(t,r){var n=t.position,o=t.align,i=t.childRect,a=t.popoverRect,u=t.boundaryRect,s=t.padding,c=t.reposition,l=e.popoverRectForPosition(n,i,a,s,o);return{rect:l,boundaryViolation:c&&("top"===n&&l.top<u.top+r||"left"===n&&l.left<u.left+r||"right"===n&&l.right>u.right-r||"bottom"===n&&l.bottom>u.bottom-r)}};e.getNudgedPopoverRect=function(t,e,r){var n=e.top+r,o=e.left+r,i=e.right-r,a=e.bottom-r,u=t.top<n?n:t.top;u=u+t.height>a?a-t.height:u;var s=t.left<o?o:t.left;return{top:u,left:s=s+t.width>i?i-t.width:s,width:t.width,height:t.height,right:s+t.width,bottom:u+t.height}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNavigator=e.isBrowser=e.off=e.on=e.noop=void 0;e.noop=function(){},e.on=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.addEventListener&&t.addEventListener.apply(t,e)},e.off=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)},e.isBrowser="undefined"!==typeof window,e.isNavigator="undefined"!==typeof navigator},function(t,e,r){var n=r(110),o=r(50);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},function(t,e,r){var n=r(12),o=r(34),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,r){var n=r(103),o=r(86),i=r(29);t.exports=function(t){return i(t)?n(t):o(t)}},function(t,e){t.exports=function(t,e,r,n){var o=r?r.call(n,t,e):void 0;if(void 0!==o)return!!o;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(e),s=0;s<i.length;s++){var c=i[s];if(!u(c))return!1;var l=t[c],f=e[c];if(!1===(o=r?r.call(n,l,f,c):void 0)||void 0===o&&l!==f)return!1}return!0}},function(t,e,r){"use strict";t.exports=r(164)},function(t,e,r){var n=r(199);t.exports=function(t){var e=n(t,"line-height"),r=parseFloat(e,10);if(e===r+""){var o=t.style.lineHeight;t.style.lineHeight=e+"em",e=n(t,"line-height"),r=parseFloat(e,10),o?t.style.lineHeight=o:delete t.style.lineHeight}if(-1!==e.indexOf("pt")?(r*=4,r/=3):-1!==e.indexOf("mm")?(r*=96,r/=25.4):-1!==e.indexOf("cm")?(r*=96,r/=2.54):-1!==e.indexOf("in")?r*=96:-1!==e.indexOf("pc")&&(r*=16),r=Math.round(r),"normal"===e){var i=t.nodeName,a=document.createElement(i);a.innerHTML="&nbsp;","TEXTAREA"===i.toUpperCase()&&a.setAttribute("rows","1");var u=n(t,"font-size");a.style.fontSize=u,a.style.padding="0px",a.style.border="0px";var s=document.body;s.appendChild(a),r=a.offsetHeight,s.removeChild(a)}return r}},function(t,e,r){"use strict";var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(t){var e=Object.create(null);return function(r){return void 0===e[r]&&(e[r]=t(r)),e[r]}}((function(t){return n.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));e.a=o},,,function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(60),o=r(83);function i(e,r,a){return o()?(t.exports=i=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=i=function(t,e,r){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return r&&n(i,r.prototype),i},t.exports.__esModule=!0,t.exports.default=t.exports),i.apply(null,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(39),o=r(171),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){var n=r(172),o=r(62),i=r(179),a=r(180),u=r(181),s=r(32),c=r(90),l="[object Map]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",d="[object DataView]",y=c(n),v=c(o),m=c(i),g=c(a),b=c(u),w=s;(n&&w(new n(new ArrayBuffer(1)))!=d||o&&w(new o)!=l||i&&w(i.resolve())!=f||a&&w(new a)!=h||u&&w(new u)!=p)&&(w=function(t){var e=s(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case y:return d;case v:return l;case m:return f;case g:return h;case b:return p}return e}),t.exports=w},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(31))},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),i=parseInt(o.version.substr(0,o.version.indexOf(".")))>15,a=function(t){return"function"===typeof t};e.default=function(t,e){for(var r=[],u=2;u<arguments.length;u++)r[u-2]=arguments[u];var s=t.render,c=t.children,l=void 0===c?s:c,f=t.component,h=t.comp,p=void 0===h?f:h;return a(l)?l.apply(void 0,n.__spreadArrays([e],r)):p?o.createElement(p,e):l instanceof Array?i?l:o.createElement.apply(void 0,n.__spreadArrays(["div",null],l)):l&&l instanceof Object?"string"===typeof l.type?l:o.cloneElement(l,Object.assign({},l.props,e)):l||null}},function(t,e,r){"use strict";(t.exports={}).forEach=function(t,e){for(var r=0;r<t.length;r++){var n=e(t[r]);if(n)return n}}},function(t,e,r){"use strict";var n=t.exports={};n.isIE=function(t){return!!function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/")}()&&(!t||t===function(){var t=3,e=document.createElement("div"),r=e.getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(r[0]);return t>4?t:undefined}())},n.isLegacyOpera=function(){return!!window.opera}},function(t,e,r){var n=r(232),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},function(t,e,r){var n=r(66),o=r(35);t.exports=function(t,e,r){(void 0!==r&&!o(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},function(t,e,r){var n=r(27),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},function(t,e,r){var n=r(257)();t.exports=n},function(t,e,r){var n=r(15).Uint8Array;t.exports=n},function(t,e,r){var n=r(87)(Object.getPrototypeOf,Object);t.exports=n},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,r){var n=r(103),o=r(271),i=r(29);t.exports=function(t){return i(t)?n(t,!0):o(t)}},function(t,e,r){var n=r(270),o=r(41),i=r(12),a=r(42),u=r(67),s=r(44),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),f=!r&&!l&&a(t),h=!r&&!l&&!f&&s(t),p=r||l||f||h,d=p?n(t.length,String):[],y=d.length;for(var v in t)!e&&!c.call(t,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,y))||d.push(v);return d}},function(t,e,r){"use strict";t.exports=r(285)},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.useArrowContainer=void 0;var o=r(0);e.useArrowContainer=function(t){var e=t.childRect,r=t.popoverRect,i=t.position,a=t.arrowSize,u=t.arrowColor;return{arrowContainerStyle:o.useMemo((function(){return{padding:a}}),[a]),arrowStyle:o.useMemo((function(){return n({position:"absolute"},function(){var t=2*a,n=e.top-r.top+e.height/2-t/2,o=e.left-r.left+e.width/2-t/2,s=a,c=r.width-a,l=r.height-a;switch(o=(o=o<s?s:o)+t>c?c-t:o,n=(n=n<s?s:n)+t>l?l-t:n,n=Number.isNaN(n)?0:n,o=Number.isNaN(o)?0:o,i){case"right":return{borderTop:a+"px solid transparent",borderBottom:a+"px solid transparent",borderRight:a+"px solid "+u,left:0,top:n};case"left":return{borderTop:a+"px solid transparent",borderBottom:a+"px solid transparent",borderLeft:a+"px solid "+u,right:0,top:n};case"bottom":return{borderLeft:a+"px solid transparent",borderRight:a+"px solid transparent",borderBottom:a+"px solid "+u,top:0,left:o};case"top":return{borderLeft:a+"px solid transparent",borderRight:a+"px solid transparent",borderTop:a+"px solid "+u,bottom:0,left:o};default:return{display:"hidden"}}}())}),[u,a,e.height,e.left,e.top,e.width,r.height,r.left,r.top,r.width,i])}}},function(t,e,r){var n=r(40),o=r(107),i=r(12),a=r(34),u=n?n.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},function(t,e,r){var n=r(303),o=r(304),i=r(305);t.exports=function(t,e,r){return e===e?i(t,e,r):n(t,o,r)}},function(t,e,r){var n=r(106);t.exports=function(t){return null==t?"":n(t)}},function(t,e,r){var n=r(12),o=r(71),i=r(313),a=r(109);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e,r){var n=r(319),o=r(28);t.exports=function t(e,r,i,a,u){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!==e&&r!==r:n(e,r,i,a,t,u))}},function(t,e,r){var n=r(320),o=r(323),i=r(324);t.exports=function(t,e,r,a,u,s){var c=1&r,l=t.length,f=e.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(t),p=s.get(e);if(h&&p)return h==e&&p==t;var d=-1,y=!0,v=2&r?new n:void 0;for(s.set(t,e),s.set(e,t);++d<l;){var m=t[d],g=e[d];if(a)var b=c?a(g,m,d,e,t,s):a(m,g,d,t,e,s);if(void 0!==b){if(b)continue;y=!1;break}if(v){if(!o(e,(function(t,e){if(!i(v,e)&&(m===t||u(m,t,r,a,s)))return v.push(e)}))){y=!1;break}}else if(m!==g&&!u(m,g,r,a,s)){y=!1;break}}return s.delete(t),s.delete(e),y}},function(t,e,r){var n=r(18);t.exports=function(t){return t===t&&!n(t)}},function(t,e){t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},function(t,e,r){"use strict";r.r(e),r.d(e,"FormattedDateTimeRange",(function(){return pt})),r.d(e,"FormattedMessage",(function(){return ft})),r.d(e,"FormattedPlural",(function(){return st})),r.d(e,"FormattedRelativeTime",(function(){return at})),r.d(e,"IntlContext",(function(){return u.a})),r.d(e,"IntlProvider",(function(){return J})),r.d(e,"RawIntlProvider",(function(){return u.b})),r.d(e,"createIntl",(function(){return Q})),r.d(e,"injectIntl",(function(){return u.c})),r.d(e,"useIntl",(function(){return c})),r.d(e,"createIntlCache",(function(){return E.c})),r.d(e,"UnsupportedFormatterError",(function(){return v.h})),r.d(e,"InvalidConfigError",(function(){return v.d})),r.d(e,"MissingDataError",(function(){return v.f})),r.d(e,"MessageFormatError",(function(){return v.e})),r.d(e,"MissingTranslationError",(function(){return v.g})),r.d(e,"ReactIntlErrorCode",(function(){return v.b})),r.d(e,"ReactIntlError",(function(){return v.a})),r.d(e,"defineMessages",(function(){return dt})),r.d(e,"defineMessage",(function(){return yt})),r.d(e,"FormattedDate",(function(){return vt})),r.d(e,"FormattedTime",(function(){return mt})),r.d(e,"FormattedNumber",(function(){return gt})),r.d(e,"FormattedList",(function(){return bt})),r.d(e,"FormattedDisplayName",(function(){return wt})),r.d(e,"FormattedDateParts",(function(){return _t})),r.d(e,"FormattedTimeParts",(function(){return Et})),r.d(e,"FormattedNumberParts",(function(){return l})),r.d(e,"FormattedListParts",(function(){return f}));var n,o,i=r(1),a=r(0),u=r(21),s=r(11);function c(){var t=a.useContext(u.a);return Object(s.c)(t),t}!function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"}(n||(n={})),function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"}(o||(o={}));var l=function(t){var e=c(),r=t.value,n=t.children,o=Object(i.__rest)(t,["value","children"]);return n(e.formatNumberToParts(r,o))};l.displayName="FormattedNumberParts";var f=function(t){var e=c(),r=t.value,n=t.children,o=Object(i.__rest)(t,["value","children"]);return n(e.formatListToParts(r,o))};function h(t){var e=function(e){var r=c(),n=e.value,o=e.children,a=Object(i.__rest)(e,["value","children"]),u="string"===typeof n?new Date(n||0):n;return o("formatDate"===t?r.formatDateToParts(u,a):r.formatTimeToParts(u,a))};return e.displayName=o[t],e}function p(t){var e=function(e){var r=c(),n=e.value,o=e.children,u=Object(i.__rest)(e,["value","children"]),s=r[t](n,u);if("function"===typeof o)return o(s);var l=r.textComponent||a.Fragment;return a.createElement(l,null,s)};return e.displayName=n[t],e}l.displayName="FormattedNumberParts";var d=r(361),y=r(36),v=r(4),m=r(10);function g(t,e){return Object.keys(t).reduce((function(r,n){return r[n]=Object(i.__assign)({timeZone:e},t[n]),r}),{})}function b(t,e){return Object.keys(Object(i.__assign)(Object(i.__assign)({},t),e)).reduce((function(r,n){return r[n]=Object(i.__assign)(Object(i.__assign)({},t[n]||{}),e[n]||{}),r}),{})}function w(t,e){if(!e)return t;var r=y.a.formats;return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},r),t),{date:b(g(r.date,e),g(t.date||{},e)),time:b(g(r.time,e),g(t.time||{},e))})}var _=function(t,e,r,n,o){var a=t.locale,u=t.formats,s=t.messages,c=t.defaultLocale,l=t.defaultFormats,f=t.fallbackOnEmptyString,h=t.onError,p=t.timeZone,y=t.defaultRichTextElements;void 0===r&&(r={id:""});var g=r.id,b=r.defaultMessage;Object(d.a)(!!g,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var _=String(g),E=s&&Object.prototype.hasOwnProperty.call(s,_)&&s[_];if(Array.isArray(E)&&1===E.length&&E[0].type===m.a.literal)return E[0].value;if(!n&&E&&"string"===typeof E&&!y)return E.replace(/'\{(.*?)\}'/gi,"{$1}");if(n=Object(i.__assign)(Object(i.__assign)({},y),n||{}),u=w(u,p),l=w(l,p),!E){if(!1===f&&""===E)return E;if((!b||a&&a.toLowerCase()!==c.toLowerCase())&&h(new v.g(r,a)),b)try{return e.getMessageFormat(b,c,l,o).format(n)}catch(O){return h(new v.e('Error formatting default message for: "'.concat(_,'", rendering default message verbatim'),a,r,O)),"string"===typeof b?b:_}return _}try{return e.getMessageFormat(E,a,u,Object(i.__assign)({formatters:e},o||{})).format(n)}catch(O){h(new v.e('Error formatting message: "'.concat(_,'", using ').concat(b?"default message":"id"," as fallback."),a,r,O))}if(b)try{return e.getMessageFormat(b,c,l,o).format(n)}catch(O){h(new v.e('Error formatting the default message for: "'.concat(_,'", rendering message verbatim'),a,r,O))}return"string"===typeof E?E:"string"===typeof b?b:_},E=r(9),O=["style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function S(t,e,r){var n=t.locale,o=t.formats,i=t.onError;void 0===r&&(r={});var a=r.format,u=a&&Object(E.e)(o,"number",a,i)||{};return e(n,Object(E.d)(r,O,u))}function x(t,e,r,n){void 0===n&&(n={});try{return S(t,e,n).format(r)}catch(o){t.onError(new v.a(v.b.FORMAT_ERROR,"Error formatting number.",o))}return String(r)}function k(t,e,r,n){void 0===n&&(n={});try{return S(t,e,n).formatToParts(r)}catch(o){t.onError(new v.a(v.b.FORMAT_ERROR,"Error formatting number.",o))}return[]}var j=r(23),T=["numeric","style"];function L(t,e,r,n,o){void 0===o&&(o={}),n||(n="second"),Intl.RelativeTimeFormat||t.onError(new j.b('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',j.a.MISSING_INTL_API));try{return function(t,e,r){var n=t.locale,o=t.formats,i=t.onError;void 0===r&&(r={});var a=r.format,u=!!a&&Object(E.e)(o,"relative",a,i)||{};return e(n,Object(E.d)(r,T,u))}(t,e,o).format(r,n)}catch(i){t.onError(new v.c("Error formatting relative time.",t.locale,i))}return String(r)}var P=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function A(t,e,r,n){var o=t.locale,a=t.formats,u=t.onError,s=t.timeZone;void 0===n&&(n={});var c=n.format,l=Object(i.__assign)(Object(i.__assign)({},s&&{timeZone:s}),c&&Object(E.e)(a,e,c,u)),f=Object(E.d)(n,P,l);return"time"!==e||f.hour||f.minute||f.second||f.timeStyle||f.dateStyle||(f=Object(i.__assign)(Object(i.__assign)({},f),{hour:"numeric",minute:"numeric"})),r(o,f)}function C(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=r[0],i=r[1],a=void 0===i?{}:i,u="string"===typeof o?new Date(o||0):o;try{return A(t,"date",e,a).format(u)}catch(s){t.onError(new v.a(v.b.FORMAT_ERROR,"Error formatting date.",s))}return String(u)}function I(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=r[0],i=r[1],a=void 0===i?{}:i,u="string"===typeof o?new Date(o||0):o;try{return A(t,"time",e,a).format(u)}catch(s){t.onError(new v.a(v.b.FORMAT_ERROR,"Error formatting time.",s))}return String(u)}function R(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=r[0],i=r[1],a=r[2],u=void 0===a?{}:a,s=t.timeZone,c=t.locale,l=t.onError,f=Object(E.d)(u,P,s?{timeZone:s}:{});try{return e(c,f).formatRange(o,i)}catch(h){l(new v.a(v.b.FORMAT_ERROR,"Error formatting date time range.",h))}return String(o)}function D(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=r[0],i=r[1],a=void 0===i?{}:i,u="string"===typeof o?new Date(o||0):o;try{return A(t,"date",e,a).formatToParts(u)}catch(s){t.onError(new v.a(v.b.FORMAT_ERROR,"Error formatting date.",s))}return[]}function N(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=r[0],i=r[1],a=void 0===i?{}:i,u="string"===typeof o?new Date(o||0):o;try{return A(t,"time",e,a).formatToParts(u)}catch(s){t.onError(new v.a(v.b.FORMAT_ERROR,"Error formatting time.",s))}return[]}var F=["type"];function M(t,e,r,n){var o=t.locale,i=t.onError;void 0===n&&(n={}),Intl.PluralRules||i(new j.b('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',j.a.MISSING_INTL_API));var a=Object(E.d)(n,F);try{return e(o,a).select(r)}catch(u){i(new v.c("Error formatting plural.",o,u))}return"other"}var B=["type","style"],U=Date.now();function z(t,e,r,n){void 0===n&&(n={});var o=G(t,e,r,n).reduce((function(t,e){var r=e.value;return"string"!==typeof r?t.push(r):"string"===typeof t[t.length-1]?t[t.length-1]+=r:t.push(r),t}),[]);return 1===o.length?o[0]:0===o.length?"":o}function G(t,e,r,n){var o=t.locale,a=t.onError;void 0===n&&(n={}),Intl.ListFormat||a(new j.b('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',j.a.MISSING_INTL_API));var u=Object(E.d)(n,B);try{var s={},c=r.map((function(t,e){if("object"===typeof t){var r=function(t){return"".concat(U,"_").concat(t,"_").concat(U)}(e);return s[r]=t,r}return String(t)}));return e(o,u).formatToParts(c).map((function(t){return"literal"===t.type?t:Object(i.__assign)(Object(i.__assign)({},t),{value:s[t.value]||t.value})}))}catch(l){a(new v.a(v.b.FORMAT_ERROR,"Error formatting list.",l))}return r}var q=["style","type","fallback"];function H(t,e,r,n){var o=t.locale,i=t.onError;Intl.DisplayNames||i(new j.b('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',j.a.MISSING_INTL_API));var a=Object(E.d)(n,q);try{return e(o,a).of(r)}catch(u){i(new v.a(v.b.FORMAT_ERROR,"Error formatting display name.",u))}}function V(t){var e;t.onWarn&&t.defaultRichTextElements&&"string"===typeof((e=t.messages||{})?e[Object.keys(e)[0]]:void 0)&&t.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}var $=r(37);function W(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}function K(t){return t?Object.keys(t).reduce((function(e,r){var n=t[r];return e[r]=Object($.c)(n)?Object(s.b)(n):n,e}),{}):t}var Y=function(t,e,r,n){for(var o=[],u=4;u<arguments.length;u++)o[u-4]=arguments[u];var s=K(n),c=_.apply(void 0,Object(i.__spreadArray)([t,e,r,s],o,!1));return Array.isArray(c)?a.Children.toArray(c):c},Q=function(t,e){var r=t.defaultRichTextElements,n=Object(i.__rest)(t,["defaultRichTextElements"]),o=K(r),a=function(t,e){var r=Object(E.b)(e),n=Object(i.__assign)(Object(i.__assign)({},E.a),t),o=n.locale,a=n.defaultLocale,u=n.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&u?u(new v.f('Missing locale data for locale: "'.concat(o,'" in Intl.NumberFormat. Using default locale: "').concat(a,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&u&&u(new v.f('Missing locale data for locale: "'.concat(o,'" in Intl.DateTimeFormat. Using default locale: "').concat(a,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(u&&u(new v.d('"locale" was not configured, using "'.concat(a,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),n.locale=n.defaultLocale||"en"),V(n),Object(i.__assign)(Object(i.__assign)({},n),{formatters:r,formatNumber:x.bind(null,n,r.getNumberFormat),formatNumberToParts:k.bind(null,n,r.getNumberFormat),formatRelativeTime:L.bind(null,n,r.getRelativeTimeFormat),formatDate:C.bind(null,n,r.getDateTimeFormat),formatDateToParts:D.bind(null,n,r.getDateTimeFormat),formatTime:I.bind(null,n,r.getDateTimeFormat),formatDateTimeRange:R.bind(null,n,r.getDateTimeFormat),formatTimeToParts:N.bind(null,n,r.getDateTimeFormat),formatPlural:M.bind(null,n,r.getPluralRules),formatMessage:_.bind(null,n,r),$t:_.bind(null,n,r),formatList:z.bind(null,n,r.getListFormat),formatListToParts:G.bind(null,n,r.getListFormat),formatDisplayName:H.bind(null,n,r.getDisplayNames)})}(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},s.a),n),{defaultRichTextElements:o}),e),u={locale:a.locale,timeZone:a.timeZone,fallbackOnEmptyString:a.fallbackOnEmptyString,formats:a.formats,defaultLocale:a.defaultLocale,defaultFormats:a.defaultFormats,messages:a.messages,onError:a.onError,defaultRichTextElements:o};return Object(i.__assign)(Object(i.__assign)({},a),{formatMessage:Y.bind(null,u,a.formatters),$t:Y.bind(null,u,a.formatters)})},X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache=Object(E.c)(),e.state={cache:e.cache,intl:Q(W(e.props),e.cache),prevConfig:W(e.props)},e}return Object(i.__extends)(e,t),e.getDerivedStateFromProps=function(t,e){var r=e.prevConfig,n=e.cache,o=W(t);return Object(s.d)(r,o)?null:{intl:Q(o,n),prevConfig:o}},e.prototype.render=function(){return Object(s.c)(this.state.intl),a.createElement(u.b,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=s.a,e}(a.PureComponent),J=X,Z=3600;function tt(t){var e=Math.abs(t);return e<60?"second":e<Z?"minute":e<86400?"hour":"day"}function et(t){switch(t){case"second":return 1;case"minute":return 60;case"hour":return Z;default:return 86400}}var rt=["second","minute","hour"];function nt(t){return void 0===t&&(t="second"),rt.indexOf(t)>-1}var ot=function(t){var e=c(),r=e.formatRelativeTime,n=e.textComponent,o=t.children,u=r(t.value||0,t.unit,Object(i.__rest)(t,["children","value","unit"]));return"function"===typeof o?o(u):n?a.createElement(n,null,u):a.createElement(a.Fragment,null,u)},it=function(t){var e=t.value,r=t.unit,n=t.updateIntervalInSeconds,o=Object(i.__rest)(t,["value","unit","updateIntervalInSeconds"]);Object(d.a)(!n||!(!n||!nt(r)),"Cannot schedule update with unit longer than hour");var u,s=a.useState(),c=s[0],l=s[1],f=a.useState(0),h=f[0],p=f[1],y=a.useState(0),v=y[0],m=y[1];r===c&&e===h||(p(e||0),l(r),m(nt(r)?function(t,e){if(!t)return 0;switch(e){case"second":return t;case"minute":return 60*t;default:return t*Z}}(e,r):0)),a.useEffect((function(){function t(){clearTimeout(u)}if(t(),!n||!nt(r))return t;var e=v-n,o=tt(e);if("day"===o)return t;var i=et(o),a=e-e%i,s=a>=v?a-i:a,c=Math.abs(s-v);return v!==s&&(u=setTimeout((function(){return m(s)}),1e3*c)),t}),[v,n,r]);var g=e||0,b=r;if(nt(r)&&"number"===typeof v&&n){var w=et(b=tt(v));g=Math.round(v/w)}return a.createElement(ot,Object(i.__assign)({value:g,unit:b},o))};it.displayName="FormattedRelativeTime",it.defaultProps={value:0,unit:"second"};var at=it,ut=function(t){var e=c(),r=e.formatPlural,n=e.textComponent,o=t.value,i=t.other,u=t.children,s=t[r(o,t)]||i;return"function"===typeof u?u(s):n?a.createElement(n,null,s):s};ut.defaultProps={type:"cardinal"},ut.displayName="FormattedPlural";var st=ut;function ct(t){var e=c(),r=e.formatMessage,n=e.textComponent,o=void 0===n?a.Fragment:n,i=t.id,u=t.description,s=t.defaultMessage,l=t.values,f=t.children,h=t.tagName,p=void 0===h?o:h,d=r({id:i,description:u,defaultMessage:s},l,{ignoreTag:t.ignoreTag});return"function"===typeof f?f(Array.isArray(d)?d:[d]):p?a.createElement(p,null,a.Children.toArray(d)):a.createElement(a.Fragment,null,d)}ct.displayName="FormattedMessage";var lt=a.memo(ct,(function(t,e){var r=t.values,n=Object(i.__rest)(t,["values"]),o=e.values,a=Object(i.__rest)(e,["values"]);return Object(s.d)(o,r)&&Object(s.d)(n,a)}));lt.displayName="MemoizedFormattedMessage";var ft=lt,ht=function(t){var e=c(),r=t.from,n=t.to,o=t.children,u=Object(i.__rest)(t,["from","to","children"]),s=e.formatDateTimeRange(r,n,u);if("function"===typeof o)return o(s);var l=e.textComponent||a.Fragment;return a.createElement(l,null,s)};ht.displayName="FormattedDateTimeRange";var pt=ht;function dt(t){return t}function yt(t){return t}var vt=p("formatDate"),mt=p("formatTime"),gt=p("formatNumber"),bt=p("formatList"),wt=p("formatDisplayName"),_t=h("formatDate"),Et=h("formatTime")},function(t,e,r){"use strict";var n=r(133);e.createRoot=n.createRoot,e.hydrateRoot=n.hydrateRoot},function(t,e,r){"use strict";var n,o=r(0),i=(n=o)&&"object"===typeof n&&"default"in n?n.default:n;function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=!("undefined"===typeof window||!window.document||!window.document.createElement);t.exports=function(t,e,r){if("function"!==typeof t)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof e)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof r&&"function"!==typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(n){if("function"!==typeof n)throw new Error("Expected WrappedComponent to be a React component.");var s,c=[];function l(){s=t(c.map((function(t){return t.props}))),f.canUseDOM?e(s):r&&(s=r(s))}var f=function(t){var e,r;function o(){return t.apply(this,arguments)||this}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,o.peek=function(){return s},o.rewind=function(){if(o.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var t=s;return s=void 0,c=[],t};var a=o.prototype;return a.UNSAFE_componentWillMount=function(){c.push(this),l()},a.componentDidUpdate=function(){l()},a.componentWillUnmount=function(){var t=c.indexOf(this);c.splice(t,1),l()},a.render=function(){return i.createElement(n,this.props)},o}(o.PureComponent);return a(f,"displayName","SideEffect("+function(t){return t.displayName||t.name||"Component"}(n)+")"),a(f,"canUseDOM",u),f}}},function(t,e){var r="undefined"!==typeof Element,n="function"===typeof Map,o="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var u,s,c,l;if(Array.isArray(t)){if((u=t.length)!=e.length)return!1;for(s=u;0!==s--;)if(!a(t[s],e[s]))return!1;return!0}if(n&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(l=t.entries();!(s=l.next()).done;)if(!e.has(s.value[0]))return!1;for(l=t.entries();!(s=l.next()).done;)if(!a(s.value[1],e.get(s.value[0])))return!1;return!0}if(o&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(l=t.entries();!(s=l.next()).done;)if(!e.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if((u=t.length)!=e.length)return!1;for(s=u;0!==s--;)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((u=(c=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(s=u;0!==s--;)if(!Object.prototype.hasOwnProperty.call(e,c[s]))return!1;if(r&&t instanceof Element)return!1;for(s=u;0!==s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!t.$$typeof)&&!a(t[c[s]],e[c[s]]))return!1;return!0}return t!==t&&e!==e}t.exports=function(t,e){try{return a(t,e)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var r,u,s=a(t),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))o.call(r,l)&&(s[l]=r[l]);if(n){u=n(r);for(var f=0;f<u.length;f++)i.call(r,u[f])&&(s[u[f]]=r[u[f]])}}return s}},function(t,e,r){"use strict";e.a=function(t){function e(t,n,s,c,h){for(var p,d,y,v,w,E=0,O=0,S=0,x=0,k=0,C=0,R=y=p=0,N=0,F=0,M=0,B=0,U=s.length,z=U-1,G="",q="",H="",V="";N<U;){if(d=s.charCodeAt(N),N===z&&0!==O+x+S+E&&(0!==O&&(d=47===O?10:47),x=S=E=0,U++,z++),0===O+x+S+E){if(N===z&&(0<F&&(G=G.replace(f,"")),0<G.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:G+=s.charAt(N)}d=59}switch(d){case 123:for(p=(G=G.trim()).charCodeAt(0),y=1,B=++N;N<U;){switch(d=s.charCodeAt(N)){case 123:y++;break;case 125:y--;break;case 47:switch(d=s.charCodeAt(N+1)){case 42:case 47:t:{for(R=N+1;R<z;++R)switch(s.charCodeAt(R)){case 47:if(42===d&&42===s.charCodeAt(R-1)&&N+2!==R){N=R+1;break t}break;case 10:if(47===d){N=R+1;break t}}N=R}}break;case 91:d++;case 40:d++;case 34:case 39:for(;N++<z&&s.charCodeAt(N)!==d;);}if(0===y)break;N++}if(y=s.substring(B,N),0===p&&(p=(G=G.replace(l,"").trim()).charCodeAt(0)),64===p){switch(0<F&&(G=G.replace(f,"")),d=G.charCodeAt(1)){case 100:case 109:case 115:case 45:F=n;break;default:F=A}if(B=(y=e(n,F,y,d,h+1)).length,0<I&&(w=u(3,y,F=r(A,G,M),n,T,j,B,d,h,c),G=F.join(""),void 0!==w&&0===(B=(y=w.trim()).length)&&(d=0,y="")),0<B)switch(d){case 115:G=G.replace(_,a);case 100:case 109:case 45:y=G+"{"+y+"}";break;case 107:y=(G=G.replace(m,"$1 $2"))+"{"+y+"}",y=1===P||2===P&&i("@"+y,3)?"@-webkit-"+y+"@"+y:"@"+y;break;default:y=G+y,112===c&&(q+=y,y="")}else y=""}else y=e(n,r(n,G,M),y,c,h+1);H+=y,y=M=F=R=p=0,G="",d=s.charCodeAt(++N);break;case 125:case 59:if(1<(B=(G=(0<F?G.replace(f,""):G).trim()).length))switch(0===R&&(p=G.charCodeAt(0),45===p||96<p&&123>p)&&(B=(G=G.replace(" ",":")).length),0<I&&void 0!==(w=u(1,G,n,t,T,j,q.length,c,h,c))&&0===(B=(G=w.trim()).length)&&(G="\0\0"),p=G.charCodeAt(0),d=G.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){V+=G+s.charAt(N);break}default:58!==G.charCodeAt(B-1)&&(q+=o(G,p,d,G.charCodeAt(2)))}M=F=R=p=0,G="",d=s.charCodeAt(++N)}}switch(d){case 13:case 10:47===O?O=0:0===1+p&&107!==c&&0<G.length&&(F=1,G+="\0"),0<I*D&&u(0,G,n,t,T,j,q.length,c,h,c),j=1,T++;break;case 59:case 125:if(0===O+x+S+E){j++;break}default:switch(j++,v=s.charAt(N),d){case 9:case 32:if(0===x+E+O)switch(k){case 44:case 58:case 9:case 32:v="";break;default:32!==d&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===x+O+E&&(F=M=1,v="\f"+v);break;case 108:if(0===x+O+E+L&&0<R)switch(N-R){case 2:112===k&&58===s.charCodeAt(N-3)&&(L=k);case 8:111===C&&(L=C)}break;case 58:0===x+O+E&&(R=N);break;case 44:0===O+S+x+E&&(F=1,v+="\r");break;case 34:case 39:0===O&&(x=x===d?0:0===x?d:x);break;case 91:0===x+O+S&&E++;break;case 93:0===x+O+S&&E--;break;case 41:0===x+O+E&&S--;break;case 40:if(0===x+O+E){if(0===p)if(2*k+3*C===533);else p=1;S++}break;case 64:0===O+S+x+E+R+y&&(y=1);break;case 42:case 47:if(!(0<x+E+S))switch(O){case 0:switch(2*d+3*s.charCodeAt(N+1)){case 235:O=47;break;case 220:B=N,O=42}break;case 42:47===d&&42===k&&B+2!==N&&(33===s.charCodeAt(B+2)&&(q+=s.substring(B,N+1)),v="",O=0)}}0===O&&(G+=v)}C=k,k=d,N++}if(0<(B=q.length)){if(F=n,0<I&&(void 0!==(w=u(2,q,F,t,T,j,B,c,h,c))&&0===(q=w).length))return V+q+H;if(q=F.join(",")+"{"+q+"}",0!==P*L){switch(2!==P||i(q,2)||(L=0),L){case 111:q=q.replace(b,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}L=0}}return V+q+H}function r(t,e,r){var o=e.trim().split(y);e=o;var i=o.length,a=t.length;switch(a){case 0:case 1:var u=0;for(t=0===a?"":t[0]+" ";u<i;++u)e[u]=n(t,e[u],r).trim();break;default:var s=u=0;for(e=[];u<i;++u)for(var c=0;c<a;++c)e[s++]=n(t[c]+" ",o[u],r).trim()}return e}function n(t,e,r){var n=e.charCodeAt(0);switch(33>n&&(n=(e=e.trim()).charCodeAt(0)),n){case 38:return e.replace(v,"$1"+t.trim());case 58:return t.trim()+e.replace(v,"$1"+t.trim());default:if(0<1*r&&0<e.indexOf("\f"))return e.replace(v,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function o(t,e,r,n){var a=t+";",u=2*e+3*r+4*n;if(944===u){t=a.indexOf(":",9)+1;var s=a.substring(t,a.length-1).trim();return s=a.substring(0,t).trim()+s+";",1===P||2===P&&i(s,1)?"-webkit-"+s+s:s}if(0===P||2===P&&!i(a,1))return a;switch(u){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(k,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(s=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+s+a;case 1005:return p.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(e=(s=a.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(e)){case 226:s=a.replace(w,"tb");break;case 232:s=a.replace(w,"tb-rl");break;case 220:s=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+s+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,u=(s=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:a=a.replace(s,"-webkit-"+s)+";"+a;break;case 207:case 102:a=a.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+a.replace(s,"-webkit-"+s)+";"+a.replace(s,"-ms-"+s+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return s=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+s+"-ms-flex-"+s+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(O,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(O,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===x.test(t))return 115===(s=t.substring(t.indexOf(":")+1)).charCodeAt(0)?o(t.replace("stretch","fill-available"),e,r,n).replace(":fill-available",":stretch"):a.replace(s,"-webkit-"+s)+a.replace(s,"-moz-"+s.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function i(t,e){var r=t.indexOf(1===e?":":"{"),n=t.substring(0,3!==e?r:10);return r=t.substring(r+1,t.length-1),R(2!==e?n:n.replace(S,"$1"),r,e)}function a(t,e){var r=o(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return r!==e+";"?r.replace(E," or ($1)").substring(4):"("+e+")"}function u(t,e,r,n,o,i,a,u,s,l){for(var f,h=0,p=e;h<I;++h)switch(f=C[h].call(c,t,p,r,n,o,i,a,u,s,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==e)return p}function s(t){return void 0!==(t=t.prefix)&&(R=null,t?"function"!==typeof t?P=1:(P=2,R=t):P=0),s}function c(t,r){var n=t;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<I){var o=u(-1,r,n,n,T,j,0,0,0,0);void 0!==o&&"string"===typeof o&&(r=o)}var i=e(A,n,r,0,0);return 0<I&&(void 0!==(o=u(-2,i,n,n,T,j,i.length,0,0,0))&&(i=o)),"",L=0,j=T=1,i}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,y=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,O=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,j=1,T=1,L=0,P=1,A=[],C=[],I=0,R=null,D=0;return c.use=function t(e){switch(e){case void 0:case null:I=C.length=0;break;default:if("function"===typeof e)C[I++]=e;else if("object"===typeof e)for(var r=0,n=e.length;r<n;++r)t(e[r]);else D=0|!!e}return t},c.set=s,void 0!==t&&s(t),c}},function(t,e,r){"use strict";e.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(t,e,r){"use strict";t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(o=n;0!==o--;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=n;0!==o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!==o--;){var a=i[o];if(("_owner"!==a||!e.$$typeof)&&!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}},function(t,e,r){"use strict";var n=r(187),o={"text/plain":"Text","text/html":"Url",default:"Text"};t.exports=function(t,e){var r,i,a,u,s,c,l=!1;e||(e={}),r=e.debug||!1;try{if(a=n(),u=document.createRange(),s=document.getSelection(),(c=document.createElement("span")).textContent=t,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(n){if(n.stopPropagation(),e.format)if(n.preventDefault(),"undefined"===typeof n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[e.format]||o.default;window.clipboardData.setData(i,t)}else n.clipboardData.clearData(),n.clipboardData.setData(e.format,t);e.onCopy&&(n.preventDefault(),e.onCopy(n.clipboardData))})),document.body.appendChild(c),u.selectNodeContents(c),s.addRange(u),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(f){r&&console.error("unable to copy using execCommand: ",f),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(f){r&&console.error("unable to copy using clipboardData: ",f),r&&console.error("falling back to prompt"),i=function(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,t)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(u):s.removeAllRanges()),c&&document.body.removeChild(c),a()}return l}},function(t,e,r){"use strict";var n=/[A-Z]/g;e.create=function(t){var e=(t=t||{}).assign||Object.assign;var r=e({raw:"",pfx:"_",client:"object"===typeof window,assign:e,stringify:JSON.stringify,kebab:function(t){return t.replace(n,"-$&").toLowerCase()},decl:function(t,e){return(t=r.kebab(t))+":"+e+";"},hash:function(t){return function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return"_"+(e>>>0).toString(36)}(r.stringify(t))},selector:function(t,e){return t+(":"===e[0]?"":" ")+e},putRaw:function(t){r.raw+=t}},t);return r.client&&(r.sh||document.head.appendChild(r.sh=document.createElement("style")),r.putRaw=function(t){var e=r.sh.sheet;try{e.insertRule(t,e.cssRules.length)}catch(n){}}),r.put=function(t,e,n){var o,i,a="",u=[];for(o in e)(i=e[o])instanceof Object&&!(i instanceof Array)?u.push(o):a+=r.decl(o,i,t,n);a&&(a=t+"{"+a+"}",r.putRaw(n?n+"{"+a+"}":a));for(var s=0;s<u.length;s++)"@"===(o=u[s])[0]&&"@font-face"!==o?r.putAt(t,e[o],o):r.put(r.selector(t,o),e[o],n)},r.putAt=r.put,r}},function(t,e,r){"use strict";e.addon=function(t){t.client&&(document.head.appendChild(t.msh=document.createElement("style")),t.createRule=function(e,r){var n=e+"{}";r&&(n=r+"{"+n+"}");var o=r?t.msh.sheet:t.sh.sheet,i=o.insertRule(n,o.cssRules.length),a=(o.cssRules||o.rules)[i];if(a.index=i,r){var u=(a.cssRules||a.rules)[0];a.style=u.style,a.styleMap=u.styleMap}return a})}},function(t,e,r){"use strict";var n=r(188).removeRule;e.addon=function(t){if(t.client){0;var e=t.kebab;r.prototype.diff=function(t){var r,n=this.decl,o=this.rule.style;for(r in n)void 0===t[r]&&o.removeProperty(r);for(r in t)t[r]!==n[r]&&o.setProperty(e(r),t[r]);this.decl=t},r.prototype.del=function(){n(this.rule)},o.prototype.diff=function(t){var e=this.tree;for(var n in e)if(void 0===t[n]){var o=e[n];for(var i in o)o[i].del()}for(var n in t)if(void 0===e[n])for(var i in t[n]){(s=new r(i,n)).diff(t[n][i]),t[n][i]=s}else{var a=e[n],u=t[n];for(var i in a)u[i]||a[i].del();for(var i in u){var s;(s=a[i])?(s.diff(u[i]),u[i]=s):((s=new r(i,n)).diff(u[i]),u[i]=s)}}this.tree=t},t.VRule=r,t.VSheet=o}function r(e,r){this.rule=t.createRule(e,r),this.decl={}}function o(){this.tree={}}}},function(t,e){e.cssToTree=function t(e,r,n,o){var i,a,u={},s=!1;for(i in r)"object"!==typeof(a=r[i])&&(s=!0,u[i]=a);for(i in s&&(e[o]||(e[o]={}),e[o][n]=u),r)if("object"===typeof(a=r[i]))if("@"===i[0])t(e,a,n,i);else{var c=i.indexOf("&")>-1,l=n.split(",");if(c)for(var f=0;f<l.length;f++)l[f]=i.replace(/&/g,l[f]);else for(f=0;f<l.length;f++)l[f]=l[f]+" "+i;t(e,a,l.join(","),o)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hookToRenderProp=e.createEnhancer=e.render=void 0;var n=r(1),o=n.__importDefault(r(92));e.render=o.default;var i=n.__importDefault(r(189));e.createEnhancer=i.default;var a=n.__importDefault(r(192));e.hookToRenderProp=a.default},function(t,e){var r=Object.keys;e.equal=function(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;for(var n=r(t),o=n.length,i=0;i<o;i++)if(!(n[i]in e))return!1;for(i=0;i<o;i++)if(t[n[i]]!==e[n[i]])return!1;return o===r(e).length}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.easing={linear:function(t){return t},quadratic:function(t){return t*(-t*t*t+4*t*t-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){return t*(33*t*t*t*t-106*t*t*t+126*t*t-67*t+15)},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1+--t*t*t*t*t},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},inSine:function(t){return 1-Math.cos(t*(Math.PI/2))},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},inExpo:function(t){return Math.pow(2,10*(t-1))},outExpo:function(t){return 1-Math.pow(2,-10*t)},inOutExpo:function(t){return(t/=.5)<1?Math.pow(2,10*(t-1))/2:(t--,(2-Math.pow(2,-10*t))/2)},inCirc:function(t){return 1-Math.sqrt(1-t*t)},outCirc:function(t){return Math.sqrt(1-(t-=1)*t)},inOutCirc:function(t){return(t/=.5)<1?-(Math.sqrt(1-t*t)-1)/2:(t-=2,(Math.sqrt(1-t*t)+1)/2)}}},function(t,e,r){"use strict";(function(t){var r=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var r=-1;return t.some((function(t,n){return t[0]===e&&(r=n,!0)})),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var r=t(this.__entries__,e),n=this.__entries__[r];return n&&n[1]},e.prototype.set=function(e,r){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=r:this.__entries__.push([e,r])},e.prototype.delete=function(e){var r=this.__entries__,n=t(r,e);~n&&r.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];t.call(e,o[1],o[0])}},e}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),i="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,s=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var r=!1,n=!1,o=0;function a(){r&&(r=!1,t()),n&&s()}function u(){i(a)}function s(){var t=Date.now();if(r){if(t-o<2)return;n=!0}else r=!0,n=!1,setTimeout(u,e);o=t}return s}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,r=void 0===e?"":e;a.some((function(t){return!!~r.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},l=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},f=m(0,0,0,0);function h(t){return parseFloat(t)||0}function p(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce((function(e,r){return e+h(t["border-"+r+"-width"])}),0)}function d(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return f;var n=l(t).getComputedStyle(t),o=function(t){for(var e={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],i=t["padding-"+o];e[o]=h(i)}return e}(n),i=o.left+o.right,a=o.top+o.bottom,u=h(n.width),s=h(n.height);if("border-box"===n.boxSizing&&(Math.round(u+i)!==e&&(u-=p(n,"left","right")+i),Math.round(s+a)!==r&&(s-=p(n,"top","bottom")+a)),!function(t){return t===l(t).document.documentElement}(t)){var c=Math.round(u+i)-e,d=Math.round(s+a)-r;1!==Math.abs(c)&&(u-=c),1!==Math.abs(d)&&(s-=d)}return m(o.left,o.top,u,s)}var y="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof l(t).SVGGraphicsElement}:function(t){return t instanceof l(t).SVGElement&&"function"===typeof t.getBBox};function v(t){return n?y(t)?function(t){var e=t.getBBox();return m(0,0,e.width,e.height)}(t):d(t):f}function m(t,e,r,n){return{x:t,y:e,width:r,height:n}}var g=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=v(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(t,e){var r=function(t){var e=t.x,r=t.y,n=t.width,o=t.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return c(a,{x:e,y:r,width:n,height:o,top:r,right:e+n,bottom:o+r,left:e}),a}(e);c(this,{target:t,contentRect:r})},w=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new g(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new b(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,E=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=s.getInstance(),n=new w(e,r,this);_.set(this,n)};["observe","unobserve","disconnect"].forEach((function(t){E.prototype[t]=function(){var e;return(e=_.get(this))[t].apply(e,arguments)}}));var O="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:E;e.a=O}).call(this,r(31))},function(t,e,r){"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(t,e,r){this.props=t,this.context=e,this.refs=m,this.updater=r||y}function b(){}function w(t,e,r){this.props=t,this.context=e,this.refs=m,this.updater=r||y}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=g.prototype;var _=w.prototype=new b;_.constructor=w,v(_,g.prototype),_.isPureReactComponent=!0;var E=Array.isArray,O=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,r){var o,i={},a=null,u=null;if(null!=e)for(o in void 0!==e.ref&&(u=e.ref),void 0!==e.key&&(a=""+e.key),e)O.call(e,o)&&!x.hasOwnProperty(o)&&(i[o]=e[o]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(o in s=t.defaultProps)void 0===i[o]&&(i[o]=s[o]);return{$$typeof:n,type:t,key:a,ref:u,props:i,_owner:S.current}}function j(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function L(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,r,i,a){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var s=!1;if(null===t)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case n:case o:s=!0}}if(s)return a=a(s=t),t=""===i?"."+L(s,0):i,E(a)?(r="",null!=t&&(r=t.replace(T,"$&/")+"/"),P(a,e,r,"",(function(t){return t}))):null!=a&&(j(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(s=0,i=""===i?".":i+":",E(t))for(var c=0;c<t.length;c++){var l=i+L(u=t[c],c);s+=P(u,e,r,l,a)}else if(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof l)for(t=l.call(t),c=0;!(u=t.next()).done;)s+=P(u=u.value,e,r,l=i+L(u,c++),a);else if("object"===u)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function A(t,e,r){if(null==t)return t;var n=[],o=0;return P(t,n,"","",(function(t){return e.call(r,t,o++)})),n}function C(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var I={current:null},R={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};e.Children={map:A,forEach:function(t,e,r){A(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!j(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=g,e.Fragment=i,e.Profiler=u,e.PureComponent=w,e.StrictMode=a,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=v({},t.props),i=t.key,a=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,u=S.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)O.call(e,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==s?s[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];o.children=s}return{$$typeof:n,type:t.type,key:i,ref:a,props:o,_owner:u}},e.createContext=function(t){return(t={$$typeof:c,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=j,e.lazy=function(t){return{$$typeof:p,_payload:{_status:-1,_result:t},_init:C}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=R.transition;R.transition={};try{t()}finally{R.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return I.current.useCallback(t,e)},e.useContext=function(t){return I.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return I.current.useDeferredValue(t)},e.useEffect=function(t,e){return I.current.useEffect(t,e)},e.useId=function(){return I.current.useId()},e.useImperativeHandle=function(t,e,r){return I.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return I.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return I.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return I.current.useMemo(t,e)},e.useReducer=function(t,e,r){return I.current.useReducer(t,e,r)},e.useRef=function(t){return I.current.useRef(t)},e.useState=function(t){return I.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return I.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return I.current.useTransition()},e.version="18.2.0"},function(t,e,r){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(134)},function(t,e,r){"use strict";var n=r(30),o=r(135);function i(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function s(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(u[t]=e,t=0;t<e.length;t++)a.add(e[t])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},d={};function y(t,e,r,n,o,i,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new y(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new y(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new y(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new y(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new y(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new y(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new y(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new y(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new y(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(t){return t[1].toUpperCase()}function b(t,e,r,n){var o=v.hasOwnProperty(e)?v[e]:null;(null!==o?0!==o.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,r,n){if(null===e||"undefined"===typeof e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,o,n)&&(r=null),n||null===o?function(t){return!!f.call(d,t)||!f.call(p,t)&&(h.test(t)?d[t]=!0:(p[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):o.mustUseProperty?t[o.propertyName]=null===r?3!==o.type&&"":r:(e=o.attributeName,n=o.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,g);v[e]=new y(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,g);v[e]=new y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,g);v[e]=new y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new y(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new y(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=R&&t[R]||t["@@iterator"])?t:null}var N,F=Object.assign;function M(t){if(void 0===N)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);N=e&&e[1]||""}return"\n"+N+t}var B=!1;function U(t,e){if(!t||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=n.stack.split("\n"),a=o.length-1,u=i.length-1;1<=a&&0<=u&&o[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(o[a]!==i[u]){if(1!==a||1!==u)do{if(a--,0>--u||o[a]!==i[u]){var s="\n"+o[a].replace(" at new "," at ");return t.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",t.displayName)),s}}while(1<=a&&0<=u);break}}}finally{B=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?M(t):""}function z(t){switch(t.tag){case 5:return M(t.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case O:return"Fragment";case E:return"Portal";case x:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case j:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(e=t.displayName||null)?e:G(t.type)||"Memo";case C:e=t._payload,t=t._init;try{return G(t(e))}catch(r){}}return null}function q(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function V(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function $(t){t._valueTracker||(t._valueTracker=function(t){var e=V(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){n=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function W(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=V(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var r=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function Q(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=H(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var r=H(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,r):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function tt(t,e,r){"number"===e&&K(t.ownerDocument)===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var et=Array.isArray;function rt(t,e,r,n){if(t=t.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<t.length;r++)o=e.hasOwnProperty("$"+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&n&&(t[r].defaultSelected=!0)}else{for(r=""+H(r),e=null,o=0;o<t.length;o++){if(t[o].value===r)return t[o].selected=!0,void(n&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(i(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ot(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(i(92));if(et(r)){if(1<r.length)throw Error(i(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:H(r)}}function it(t,e){var r=H(e.value),n=H(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ut(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,lt,ft=(lt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return lt(t,e)}))}:lt);function ht(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];function yt(t,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function vt(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=yt(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,o):t[r]=o}}Object.keys(pt).forEach((function(t){dt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var mt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(t,e){if(e){if(mt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(i(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(i(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(i(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,Ot=null,St=null;function xt(t){if(t=wo(t)){if("function"!==typeof Et)throw Error(i(280));var e=t.stateNode;e&&(e=Eo(e),Et(t.stateNode,t.type,e))}}function kt(t){Ot?St?St.push(t):St=[t]:Ot=t}function jt(){if(Ot){var t=Ot,e=St;if(St=Ot=null,xt(t),e)for(t=0;t<e.length;t++)xt(e[t])}}function Tt(t,e){return t(e)}function Lt(){}var Pt=!1;function At(t,e,r){if(Pt)return t(e,r);Pt=!0;try{return Tt(t,e,r)}finally{Pt=!1,(null!==Ot||null!==St)&&(Lt(),jt())}}function Ct(t,e){var r=t.stateNode;if(null===r)return null;var n=Eo(r);if(null===n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!==typeof r)throw Error(i(231,e,typeof r));return r}var It=!1;if(l)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){It=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch(lt){It=!1}function Dt(t,e,r,n,o,i,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(l){this.onError(l)}}var Nt=!1,Ft=null,Mt=!1,Bt=null,Ut={onError:function(t){Nt=!0,Ft=t}};function zt(t,e,r,n,o,i,a,u,s){Nt=!1,Ft=null,Dt.apply(Ut,arguments)}function Gt(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function qt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(Gt(t)!==t)throw Error(i(188))}function Vt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Gt(t)))throw Error(i(188));return e!==t?null:t}for(var r=t,n=e;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(n=o.return)){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Ht(o),t;if(a===n)return Ht(o),e;a=a.sibling}throw Error(i(188))}if(r.return!==n.return)r=o,n=a;else{for(var u=!1,s=o.child;s;){if(s===r){u=!0,r=o,n=a;break}if(s===n){u=!0,n=o,r=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===r){u=!0,r=a,n=o;break}if(s===n){u=!0,n=a,r=o;break}s=s.sibling}if(!u)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?t:e}(t))?$t(t):null}function $t(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=$t(t);if(null!==e)return e;t=t.sibling}return null}var Wt=o.unstable_scheduleCallback,Kt=o.unstable_cancelCallback,Yt=o.unstable_shouldYield,Qt=o.unstable_requestPaint,Xt=o.unstable_now,Jt=o.unstable_getCurrentPriorityLevel,Zt=o.unstable_ImmediatePriority,te=o.unstable_UserBlockingPriority,ee=o.unstable_NormalPriority,re=o.unstable_LowPriority,ne=o.unstable_IdlePriority,oe=null,ie=null;var ae=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(ue(t)/se|0)|0},ue=Math.log,se=Math.LN2;var ce=64,le=4194304;function fe(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function he(t,e){var r=t.pendingLanes;if(0===r)return 0;var n=0,o=t.suspendedLanes,i=t.pingedLanes,a=268435455&r;if(0!==a){var u=a&~o;0!==u?n=fe(u):0!==(i&=a)&&(n=fe(i))}else 0!==(a=r&~o)?n=fe(a):0!==i&&(n=fe(i));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&o)&&((o=n&-n)>=(i=e&-e)||16===o&&0!==(4194240&i)))return e;if(0!==(4&n)&&(n|=16&r),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)o=1<<(r=31-ae(e)),n|=t[r],e&=~o;return n}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function de(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ye(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ve(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function me(t,e,r){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=r}function ge(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ae(r),o=1<<n;o&e|t[n]&e&&(t[n]|=e),r&=~o}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,Ee,Oe,Se,xe,ke=!1,je=[],Te=null,Le=null,Pe=null,Ae=new Map,Ce=new Map,Ie=[],Re="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Le=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Ae.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ce.delete(e.pointerId)}}function Ne(t,e,r,n,o,i){return null===t||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},null!==e&&(null!==(e=wo(e))&&Ee(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==o&&-1===e.indexOf(o)&&e.push(o),t)}function Fe(t){var e=bo(t.target);if(null!==e){var r=Gt(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=qt(r)))return t.blockedOn=e,void xe(t.priority,(function(){Oe(r)}))}else if(3===e&&r.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function Me(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r)return null!==(e=wo(r))&&Ee(e),t.blockedOn=r,!1;var n=new(r=t.nativeEvent).constructor(r.type,r);wt=n,r.target.dispatchEvent(n),wt=null,e.shift()}return!0}function Be(t,e,r){Me(t)&&r.delete(e)}function Ue(){ke=!1,null!==Te&&Me(Te)&&(Te=null),null!==Le&&Me(Le)&&(Le=null),null!==Pe&&Me(Pe)&&(Pe=null),Ae.forEach(Be),Ce.forEach(Be)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,ke||(ke=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ue)))}function Ge(t){function e(e){return ze(e,t)}if(0<je.length){ze(je[0],t);for(var r=1;r<je.length;r++){var n=je[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Te&&ze(Te,t),null!==Le&&ze(Le,t),null!==Pe&&ze(Pe,t),Ae.forEach(e),Ce.forEach(e),r=0;r<Ie.length;r++)(n=Ie[r]).blockedOn===t&&(n.blockedOn=null);for(;0<Ie.length&&null===(r=Ie[0]).blockedOn;)Fe(r),null===r.blockedOn&&Ie.shift()}var qe=w.ReactCurrentBatchConfig,He=!0;function Ve(t,e,r,n){var o=be,i=qe.transition;qe.transition=null;try{be=1,We(t,e,r,n)}finally{be=o,qe.transition=i}}function $e(t,e,r,n){var o=be,i=qe.transition;qe.transition=null;try{be=4,We(t,e,r,n)}finally{be=o,qe.transition=i}}function We(t,e,r,n){if(He){var o=Ye(t,e,r,n);if(null===o)Hn(t,e,n,Ke,r),De(t,n);else if(function(t,e,r,n,o){switch(e){case"focusin":return Te=Ne(Te,t,e,r,n,o),!0;case"dragenter":return Le=Ne(Le,t,e,r,n,o),!0;case"mouseover":return Pe=Ne(Pe,t,e,r,n,o),!0;case"pointerover":var i=o.pointerId;return Ae.set(i,Ne(Ae.get(i)||null,t,e,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Ce.set(i,Ne(Ce.get(i)||null,t,e,r,n,o)),!0}return!1}(o,t,e,r,n))n.stopPropagation();else if(De(t,n),4&e&&-1<Re.indexOf(t)){for(;null!==o;){var i=wo(o);if(null!==i&&_e(i),null===(i=Ye(t,e,r,n))&&Hn(t,e,n,Ke,r),i===o)break;o=i}null!==o&&n.stopPropagation()}else Hn(t,e,n,null,r)}}var Ke=null;function Ye(t,e,r,n){if(Ke=null,null!==(t=bo(t=_t(n))))if(null===(e=Gt(t)))t=null;else if(13===(r=e.tag)){if(null!==(t=qt(e)))return t;t=null}else if(3===r){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case re:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tr(){if(Ze)return Ze;var t,e,r=Je,n=r.length,o="value"in Xe?Xe.value:Xe.textContent,i=o.length;for(t=0;t<n&&r[t]===o[t];t++);var a=n-t;for(e=1;e<=a&&r[n-e]===o[i-e];e++);return Ze=o.slice(t,1<e?1-e:void 0)}function er(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rr(){return!0}function nr(){return!1}function or(t){function e(e,r,n,o,i){for(var a in this._reactName=e,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),e}var ir,ar,ur,sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=or(sr),lr=F({},sr,{view:0,detail:0}),fr=or(lr),hr=F({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&"mousemove"===t.type?(ir=t.screenX-ur.screenX,ar=t.screenY-ur.screenY):ar=ir=0,ur=t),ir)},movementY:function(t){return"movementY"in t?t.movementY:ar}}),pr=or(hr),dr=or(F({},hr,{dataTransfer:0})),yr=or(F({},lr,{relatedTarget:0})),vr=or(F({},sr,{animationName:0,elapsedTime:0,pseudoElement:0})),mr=F({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gr=or(mr),br=or(F({},sr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Er[t])&&!!e[t]}function Sr(){return Or}var xr=F({},lr,{key:function(t){if(t.key){var e=wr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=er(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_r[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return"keypress"===t.type?er(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?er(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),kr=or(xr),jr=or(F({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tr=or(F({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Lr=or(F({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=F({},hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=or(Pr),Cr=[9,13,27,32],Ir=l&&"CompositionEvent"in window,Rr=null;l&&"documentMode"in document&&(Rr=document.documentMode);var Dr=l&&"TextEvent"in window&&!Rr,Nr=l&&(!Ir||Rr&&8<Rr&&11>=Rr),Fr=String.fromCharCode(32),Mr=!1;function Br(t,e){switch(t){case"keyup":return-1!==Cr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var zr=!1;var Gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Gr[t.type]:"textarea"===e}function Hr(t,e,r,n){kt(n),0<(e=$n(e,"onChange")).length&&(r=new cr("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vr=null,$r=null;function Wr(t){Mn(t,0)}function Kr(t){if(W(_o(t)))return t}function Yr(t,e){if("change"===t)return e}var Qr=!1;if(l){var Xr;if(l){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Xr=Jr}else Xr=!1;Qr=Xr&&(!document.documentMode||9<document.documentMode)}function tn(){Vr&&(Vr.detachEvent("onpropertychange",en),$r=Vr=null)}function en(t){if("value"===t.propertyName&&Kr($r)){var e=[];Hr(e,$r,t,_t(t)),At(Wr,e)}}function rn(t,e,r){"focusin"===t?(tn(),$r=r,(Vr=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function nn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Kr($r)}function on(t,e){if("click"===t)return Kr(e)}function an(t,e){if("input"===t||"change"===t)return Kr(e)}var un="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function sn(t,e){if(un(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!f.call(e,o)||!un(t[o],e[o]))return!1}return!0}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ln(t,e){var r,n=cn(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=cn(n)}}function fn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hn(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=K((t=e.contentWindow).document)}return e}function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function dn(t){var e=hn(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&fn(r.ownerDocument.documentElement,r)){if(null!==n&&pn(r))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if((t=(e=r.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=void 0===n.end?i:Math.min(n.end,o),!t.extend&&i>n&&(o=n,n=i,i=o),o=ln(r,i);var a=ln(r,n);o&&a&&(1!==t.rangeCount||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=r;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<e.length;r++)(t=e[r]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yn=l&&"documentMode"in document&&11>=document.documentMode,vn=null,mn=null,gn=null,bn=!1;function wn(t,e,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==vn||vn!==K(n)||("selectionStart"in(n=vn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},gn&&sn(gn,n)||(gn=n,0<(n=$n(mn,"onSelect")).length&&(e=new cr("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vn)))}function _n(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var En={animationend:_n("Animation","AnimationEnd"),animationiteration:_n("Animation","AnimationIteration"),animationstart:_n("Animation","AnimationStart"),transitionend:_n("Transition","TransitionEnd")},On={},Sn={};function xn(t){if(On[t])return On[t];if(!En[t])return t;var e,r=En[t];for(e in r)if(r.hasOwnProperty(e)&&e in Sn)return On[t]=r[e];return t}l&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var kn=xn("animationend"),jn=xn("animationiteration"),Tn=xn("animationstart"),Ln=xn("transitionend"),Pn=new Map,An="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(t,e){Pn.set(t,e),s(e,[t])}for(var In=0;In<An.length;In++){var Rn=An[In];Cn(Rn.toLowerCase(),"on"+(Rn[0].toUpperCase()+Rn.slice(1)))}Cn(kn,"onAnimationEnd"),Cn(jn,"onAnimationIteration"),Cn(Tn,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Ln,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Fn(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,function(t,e,r,n,o,a,u,s,c){if(zt.apply(this,arguments),Nt){if(!Nt)throw Error(i(198));var l=Ft;Nt=!1,Ft=null,Mt||(Mt=!0,Bt=l)}}(n,e,void 0,t),t.currentTarget=null}function Mn(t,e){e=0!==(4&e);for(var r=0;r<t.length;r++){var n=t[r],o=n.event;n=n.listeners;t:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var u=n[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&o.isPropagationStopped())break t;Fn(o,u,c),i=s}else for(a=0;a<n.length;a++){if(s=(u=n[a]).instance,c=u.currentTarget,u=u.listener,s!==i&&o.isPropagationStopped())break t;Fn(o,u,c),i=s}}}if(Mt)throw t=Bt,Mt=!1,Bt=null,t}function Bn(t,e){var r=e[vo];void 0===r&&(r=e[vo]=new Set);var n=t+"__bubble";r.has(n)||(qn(e,t,2,!1),r.add(n))}function Un(t,e,r){var n=0;e&&(n|=4),qn(r,t,n,e)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Gn(t){if(!t[zn]){t[zn]=!0,a.forEach((function(e){"selectionchange"!==e&&(Nn.has(e)||Un(e,!1,t),Un(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zn]||(e[zn]=!0,Un("selectionchange",!1,e))}}function qn(t,e,r,n){switch(Qe(e)){case 1:var o=Ve;break;case 4:o=$e;break;default:o=We}r=o.bind(null,e,r,t),o=void 0,!It||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(o=!0),n?void 0!==o?t.addEventListener(e,r,{capture:!0,passive:o}):t.addEventListener(e,r,!0):void 0!==o?t.addEventListener(e,r,{passive:o}):t.addEventListener(e,r,!1)}function Hn(t,e,r,n,o){var i=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var u=n.stateNode.containerInfo;if(u===o||8===u.nodeType&&u.parentNode===o)break;if(4===a)for(a=n.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;a=a.return}for(;null!==u;){if(null===(a=bo(u)))return;if(5===(s=a.tag)||6===s){n=i=a;continue t}u=u.parentNode}}n=n.return}At((function(){var n=i,o=_t(r),a=[];t:{var u=Pn.get(t);if(void 0!==u){var s=cr,c=t;switch(t){case"keypress":if(0===er(r))break t;case"keydown":case"keyup":s=kr;break;case"focusin":c="focus",s=yr;break;case"focusout":c="blur",s=yr;break;case"beforeblur":case"afterblur":s=yr;break;case"click":if(2===r.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tr;break;case kn:case jn:case Tn:s=vr;break;case Ln:s=Lr;break;case"scroll":s=fr;break;case"wheel":s=Ar;break;case"copy":case"cut":case"paste":s=gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=jr}var l=0!==(4&e),f=!l&&"scroll"===t,h=l?null!==u?u+"Capture":null:u;l=[];for(var p,d=n;null!==d;){var y=(p=d).stateNode;if(5===p.tag&&null!==y&&(p=y,null!==h&&(null!=(y=Ct(d,h))&&l.push(Vn(d,y,p)))),f)break;d=d.return}0<l.length&&(u=new s(u,c,null,r,o),a.push({event:u,listeners:l}))}}if(0===(7&e)){if(s="mouseout"===t||"pointerout"===t,(!(u="mouseover"===t||"pointerover"===t)||r===wt||!(c=r.relatedTarget||r.fromElement)||!bo(c)&&!c[yo])&&(s||u)&&(u=o.window===o?o:(u=o.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=n,null!==(c=(c=r.relatedTarget||r.toElement)?bo(c):null)&&(c!==(f=Gt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=n),s!==c)){if(l=pr,y="onMouseLeave",h="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=jr,y="onPointerLeave",h="onPointerEnter",d="pointer"),f=null==s?u:_o(s),p=null==c?u:_o(c),(u=new l(y,d+"leave",s,r,o)).target=f,u.relatedTarget=p,y=null,bo(o)===n&&((l=new l(h,d+"enter",c,r,o)).target=p,l.relatedTarget=f,y=l),f=y,s&&c)t:{for(h=c,d=0,p=l=s;p;p=Wn(p))d++;for(p=0,y=h;y;y=Wn(y))p++;for(;0<d-p;)l=Wn(l),d--;for(;0<p-d;)h=Wn(h),p--;for(;d--;){if(l===h||null!==h&&l===h.alternate)break t;l=Wn(l),h=Wn(h)}l=null}else l=null;null!==s&&Kn(a,u,s,l,!1),null!==c&&null!==f&&Kn(a,f,c,l,!0)}if("select"===(s=(u=n?_o(n):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var v=Yr;else if(qr(u))if(Qr)v=an;else{v=nn;var m=rn}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(v=on);switch(v&&(v=v(t,n))?Hr(a,v,r,o):(m&&m(t,u,n),"focusout"===t&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&tt(u,"number",u.value)),m=n?_o(n):window,t){case"focusin":(qr(m)||"true"===m.contentEditable)&&(vn=m,mn=n,gn=null);break;case"focusout":gn=mn=vn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(a,r,o);break;case"selectionchange":if(yn)break;case"keydown":case"keyup":wn(a,r,o)}var g;if(Ir)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else zr?Br(t,r)&&(b="onCompositionEnd"):"keydown"===t&&229===r.keyCode&&(b="onCompositionStart");b&&(Nr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==b?"onCompositionEnd"===b&&zr&&(g=tr()):(Je="value"in(Xe=o)?Xe.value:Xe.textContent,zr=!0)),0<(m=$n(n,b)).length&&(b=new br(b,t,null,r,o),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=Ur(r))&&(b.data=g))),(g=Dr?function(t,e){switch(t){case"compositionend":return Ur(e);case"keypress":return 32!==e.which?null:(Mr=!0,Fr);case"textInput":return(t=e.data)===Fr&&Mr?null:t;default:return null}}(t,r):function(t,e){if(zr)return"compositionend"===t||!Ir&&Br(t,e)?(t=tr(),Ze=Je=Xe=null,zr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nr&&"ko"!==e.locale?null:e.data}}(t,r))&&(0<(n=$n(n,"onBeforeInput")).length&&(o=new br("onBeforeInput","beforeinput",null,r,o),a.push({event:o,listeners:n}),o.data=g))}Mn(a,e)}))}function Vn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function $n(t,e){for(var r=e+"Capture",n=[];null!==t;){var o=t,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ct(t,r))&&n.unshift(Vn(t,i,o)),null!=(i=Ct(t,e))&&n.push(Vn(t,i,o))),t=t.return}return n}function Wn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kn(t,e,r,n,o){for(var i=e._reactName,a=[];null!==r&&r!==n;){var u=r,s=u.alternate,c=u.stateNode;if(null!==s&&s===n)break;5===u.tag&&null!==c&&(u=c,o?null!=(s=Ct(r,i))&&a.unshift(Vn(r,s,u)):o||null!=(s=Ct(r,i))&&a.push(Vn(r,s,u))),r=r.return}0!==a.length&&t.push({event:e,listeners:a})}var Yn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Xn(t){return("string"===typeof t?t:""+t).replace(Yn,"\n").replace(Qn,"")}function Jn(t,e,r){if(e=Xn(e),Xn(t)!==e&&r)throw Error(i(425))}function Zn(){}var to=null,eo=null;function ro(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(t){return io.resolve(null).then(t).catch(uo)}:no;function uo(t){setTimeout((function(){throw t}))}function so(t,e){var r=e,n=0;do{var o=r.nextSibling;if(t.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0===n)return t.removeChild(o),void Ge(e);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=o}while(r);Ge(e)}function co(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function lo(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var fo=Math.random().toString(36).slice(2),ho="__reactFiber$"+fo,po="__reactProps$"+fo,yo="__reactContainer$"+fo,vo="__reactEvents$"+fo,mo="__reactListeners$"+fo,go="__reactHandles$"+fo;function bo(t){var e=t[ho];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yo]||r[ho]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=lo(t);null!==t;){if(r=t[ho])return r;t=lo(t)}return e}r=(t=r).parentNode}return null}function wo(t){return!(t=t[ho]||t[yo])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _o(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(i(33))}function Eo(t){return t[po]||null}var Oo=[],So=-1;function xo(t){return{current:t}}function ko(t){0>So||(t.current=Oo[So],Oo[So]=null,So--)}function jo(t,e){So++,Oo[So]=t.current,t.current=e}var To={},Lo=xo(To),Po=xo(!1),Ao=To;function Co(t,e){var r=t.type.contextTypes;if(!r)return To;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=e[o];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Io(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ro(){ko(Po),ko(Lo)}function Do(t,e,r){if(Lo.current!==To)throw Error(i(168));jo(Lo,e),jo(Po,r)}function No(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(i(108,q(t)||"Unknown",o));return F({},r,n)}function Fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||To,Ao=Lo.current,jo(Lo,t),jo(Po,Po.current),!0}function Mo(t,e,r){var n=t.stateNode;if(!n)throw Error(i(169));r?(t=No(t,e,Ao),n.__reactInternalMemoizedMergedChildContext=t,ko(Po),ko(Lo),jo(Lo,t)):ko(Po),jo(Po,r)}var Bo=null,Uo=!1,zo=!1;function Go(t){null===Bo?Bo=[t]:Bo.push(t)}function qo(){if(!zo&&null!==Bo){zo=!0;var t=0,e=be;try{var r=Bo;for(be=1;t<r.length;t++){var n=r[t];do{n=n(!0)}while(null!==n)}Bo=null,Uo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(t+1)),Wt(Zt,qo),o}finally{be=e,zo=!1}}return null}var Ho=[],Vo=0,$o=null,Wo=0,Ko=[],Yo=0,Qo=null,Xo=1,Jo="";function Zo(t,e){Ho[Vo++]=Wo,Ho[Vo++]=$o,$o=t,Wo=e}function ti(t,e,r){Ko[Yo++]=Xo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Qo=t;var n=Xo;t=Jo;var o=32-ae(n)-1;n&=~(1<<o),r+=1;var i=32-ae(e)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,Xo=1<<32-ae(e)+o|r<<o|n,Jo=i+t}else Xo=1<<i|r<<o|n,Jo=t}function ei(t){null!==t.return&&(Zo(t,1),ti(t,1,0))}function ri(t){for(;t===$o;)$o=Ho[--Vo],Ho[Vo]=null,Wo=Ho[--Vo],Ho[Vo]=null;for(;t===Qo;)Qo=Ko[--Yo],Ko[Yo]=null,Jo=Ko[--Yo],Ko[Yo]=null,Xo=Ko[--Yo],Ko[Yo]=null}var ni=null,oi=null,ii=!1,ai=null;function ui(t,e){var r=Ac(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,null===(e=t.deletions)?(t.deletions=[r],t.flags|=16):e.push(r)}function si(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ni=t,oi=co(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ni=t,oi=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(r=null!==Qo?{id:Xo,overflow:Jo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},(r=Ac(18,null,null,0)).stateNode=e,r.return=t,t.child=r,ni=t,oi=null,!0);default:return!1}}function ci(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function li(t){if(ii){var e=oi;if(e){var r=e;if(!si(t,e)){if(ci(t))throw Error(i(418));e=co(r.nextSibling);var n=ni;e&&si(t,e)?ui(n,r):(t.flags=-4097&t.flags|2,ii=!1,ni=t)}}else{if(ci(t))throw Error(i(418));t.flags=-4097&t.flags|2,ii=!1,ni=t}}}function fi(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ni=t}function hi(t){if(t!==ni)return!1;if(!ii)return fi(t),ii=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ro(t.type,t.memoizedProps)),e&&(e=oi)){if(ci(t))throw pi(),Error(i(418));for(;e;)ui(t,e),e=co(e.nextSibling)}if(fi(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(i(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){oi=co(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}oi=null}}else oi=ni?co(t.stateNode.nextSibling):null;return!0}function pi(){for(var t=oi;t;)t=co(t.nextSibling)}function di(){oi=ni=null,ii=!1}function yi(t){null===ai?ai=[t]:ai.push(t)}var vi=w.ReactCurrentBatchConfig;function mi(t,e){if(t&&t.defaultProps){for(var r in e=F({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}var gi=xo(null),bi=null,wi=null,_i=null;function Ei(){_i=wi=bi=null}function Oi(t){var e=gi.current;ko(gi),t._currentValue=e}function Si(t,e,r){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function xi(t,e){bi=t,_i=wi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(wu=!0),t.firstContext=null)}function ki(t){var e=t._currentValue;if(_i!==t)if(t={context:t,memoizedValue:e,next:null},null===wi){if(null===bi)throw Error(i(308));wi=t,bi.dependencies={lanes:0,firstContext:t}}else wi=wi.next=t;return e}var ji=null;function Ti(t){null===ji?ji=[t]:ji.push(t)}function Li(t,e,r,n){var o=e.interleaved;return null===o?(r.next=r,Ti(e)):(r.next=o.next,o.next=r),e.interleaved=r,Pi(t,n)}function Pi(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}var Ai=!1;function Ci(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ii(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Di(t,e,r){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ts)){var o=n.pending;return null===o?e.next=e:(e.next=o.next,o.next=e),n.pending=e,Pi(t,r)}return null===(o=n.interleaved)?(e.next=e,Ti(n)):(e.next=o.next,o.next=e),n.interleaved=e,Pi(t,r)}function Ni(t,e,r){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&r))){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ge(t,r)}}function Fi(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?o=i=a:i=i.next=a,r=r.next}while(null!==r);null===i?o=i=e:i=i.next=e}else o=i=e;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Mi(t,e,r,n){var o=t.updateQueue;Ai=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var s=u,c=s.next;s.next=null,null===a?i=c:a.next=c,a=s;var l=t.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==i){var f=o.baseState;for(a=0,l=c=s=null,u=i;;){var h=u.lane,p=u.eventTime;if((n&h)===h){null!==l&&(l=l.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var d=t,y=u;switch(h=e,p=r,y.tag){case 1:if("function"===typeof(d=y.payload)){f=d.call(p,f,h);break t}f=d;break t;case 3:d.flags=-65537&d.flags|128;case 0:if(null===(h="function"===typeof(d=y.payload)?d.call(p,f,h):d)||void 0===h)break t;f=F({},f,h);break t;case 2:Ai=!0}}null!==u.callback&&0!==u.lane&&(t.flags|=64,null===(h=o.effects)?o.effects=[u]:h.push(u))}else p={eventTime:p,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=p,s=f):l=l.next=p,a|=h;if(null===(u=u.next)){if(null===(u=o.shared.pending))break;u=(h=u).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===l&&(s=f),o.baseState=s,o.firstBaseUpdate=c,o.lastBaseUpdate=l,null!==(e=o.shared.interleaved)){o=e;do{a|=o.lane,o=o.next}while(o!==e)}else null===i&&(o.shared.lanes=0);Ns|=a,t.lanes=a,t.memoizedState=f}}function Bi(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!==typeof o)throw Error(i(191,o));o.call(n)}}}var Ui=(new n.Component).refs;function zi(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:F({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var Gi={isMounted:function(t){return!!(t=t._reactInternals)&&Gt(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=tc(),o=ec(t),i=Ri(n,o);i.payload=e,void 0!==r&&null!==r&&(i.callback=r),null!==(e=Di(t,i,o))&&(rc(e,t,o,n),Ni(e,t,o))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=tc(),o=ec(t),i=Ri(n,o);i.tag=1,i.payload=e,void 0!==r&&null!==r&&(i.callback=r),null!==(e=Di(t,i,o))&&(rc(e,t,o,n),Ni(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=tc(),n=ec(t),o=Ri(r,n);o.tag=2,void 0!==e&&null!==e&&(o.callback=e),null!==(e=Di(t,o,n))&&(rc(e,t,n,r),Ni(e,t,n))}};function qi(t,e,r,n,o,i,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,i,a):!e.prototype||!e.prototype.isPureReactComponent||(!sn(r,n)||!sn(o,i))}function Hi(t,e,r){var n=!1,o=To,i=e.contextType;return"object"===typeof i&&null!==i?i=ki(i):(o=Io(e)?Ao:Lo.current,i=(n=null!==(n=e.contextTypes)&&void 0!==n)?Co(t,o):To),e=new e(r,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Gi,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vi(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gi.enqueueReplaceState(e,e.state,null)}function $i(t,e,r,n){var o=t.stateNode;o.props=r,o.state=t.memoizedState,o.refs=Ui,Ci(t);var i=e.contextType;"object"===typeof i&&null!==i?o.context=ki(i):(i=Io(e)?Ao:Lo.current,o.context=Co(t,i)),o.state=t.memoizedState,"function"===typeof(i=e.getDerivedStateFromProps)&&(zi(t,e,i,r),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&Gi.enqueueReplaceState(o,o.state,null),Mi(t,r,o,n),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308)}function Wi(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,t));var o=n,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=o.refs;e===Ui&&(e=o.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(i(284));if(!r._owner)throw Error(i(290,t))}return t}function Ki(t,e){throw t=Object.prototype.toString.call(e),Error(i(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yi(t){return(0,t._init)(t._payload)}function Qi(t){function e(e,r){if(t){var n=e.deletions;null===n?(e.deletions=[r],e.flags|=16):n.push(r)}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=Ic(t,e)).index=0,t.sibling=null,t}function a(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags|=2,r):n:(e.flags|=2,r):(e.flags|=1048576,r)}function u(e){return t&&null===e.alternate&&(e.flags|=2),e}function s(t,e,r,n){return null===e||6!==e.tag?((e=Fc(r,t.mode,n)).return=t,e):((e=o(e,r)).return=t,e)}function c(t,e,r,n){var i=r.type;return i===O?f(t,e,r.props.children,n,r.key):null!==e&&(e.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&Yi(i)===e.type)?((n=o(e,r.props)).ref=Wi(t,e,r),n.return=t,n):((n=Rc(r.type,r.key,r.props,null,t.mode,n)).ref=Wi(t,e,r),n.return=t,n)}function l(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Mc(r,t.mode,n)).return=t,e):((e=o(e,r.children||[])).return=t,e)}function f(t,e,r,n,i){return null===e||7!==e.tag?((e=Dc(r,t.mode,n,i)).return=t,e):((e=o(e,r)).return=t,e)}function h(t,e,r){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fc(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(r=Rc(e.type,e.key,e.props,null,t.mode,r)).ref=Wi(t,null,e),r.return=t,r;case E:return(e=Mc(e,t.mode,r)).return=t,e;case C:return h(t,(0,e._init)(e._payload),r)}if(et(e)||D(e))return(e=Dc(e,t.mode,r,null)).return=t,e;Ki(t,e)}return null}function p(t,e,r,n){var o=null!==e?e.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==o?null:s(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return r.key===o?c(t,e,r,n):null;case E:return r.key===o?l(t,e,r,n):null;case C:return p(t,e,(o=r._init)(r._payload),n)}if(et(r)||D(r))return null!==o?null:f(t,e,r,n,null);Ki(t,r)}return null}function d(t,e,r,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return s(e,t=t.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return c(e,t=t.get(null===n.key?r:n.key)||null,n,o);case E:return l(e,t=t.get(null===n.key?r:n.key)||null,n,o);case C:return d(t,e,r,(0,n._init)(n._payload),o)}if(et(n)||D(n))return f(e,t=t.get(r)||null,n,o,null);Ki(e,n)}return null}function y(o,i,u,s){for(var c=null,l=null,f=i,y=i=0,v=null;null!==f&&y<u.length;y++){f.index>y?(v=f,f=null):v=f.sibling;var m=p(o,f,u[y],s);if(null===m){null===f&&(f=v);break}t&&f&&null===m.alternate&&e(o,f),i=a(m,i,y),null===l?c=m:l.sibling=m,l=m,f=v}if(y===u.length)return r(o,f),ii&&Zo(o,y),c;if(null===f){for(;y<u.length;y++)null!==(f=h(o,u[y],s))&&(i=a(f,i,y),null===l?c=f:l.sibling=f,l=f);return ii&&Zo(o,y),c}for(f=n(o,f);y<u.length;y++)null!==(v=d(f,o,y,u[y],s))&&(t&&null!==v.alternate&&f.delete(null===v.key?y:v.key),i=a(v,i,y),null===l?c=v:l.sibling=v,l=v);return t&&f.forEach((function(t){return e(o,t)})),ii&&Zo(o,y),c}function v(o,u,s,c){var l=D(s);if("function"!==typeof l)throw Error(i(150));if(null==(s=l.call(s)))throw Error(i(151));for(var f=l=null,y=u,v=u=0,m=null,g=s.next();null!==y&&!g.done;v++,g=s.next()){y.index>v?(m=y,y=null):m=y.sibling;var b=p(o,y,g.value,c);if(null===b){null===y&&(y=m);break}t&&y&&null===b.alternate&&e(o,y),u=a(b,u,v),null===f?l=b:f.sibling=b,f=b,y=m}if(g.done)return r(o,y),ii&&Zo(o,v),l;if(null===y){for(;!g.done;v++,g=s.next())null!==(g=h(o,g.value,c))&&(u=a(g,u,v),null===f?l=g:f.sibling=g,f=g);return ii&&Zo(o,v),l}for(y=n(o,y);!g.done;v++,g=s.next())null!==(g=d(y,o,v,g.value,c))&&(t&&null!==g.alternate&&y.delete(null===g.key?v:g.key),u=a(g,u,v),null===f?l=g:f.sibling=g,f=g);return t&&y.forEach((function(t){return e(o,t)})),ii&&Zo(o,v),l}return function t(n,i,a,s){if("object"===typeof a&&null!==a&&a.type===O&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:t:{for(var c=a.key,l=i;null!==l;){if(l.key===c){if((c=a.type)===O){if(7===l.tag){r(n,l.sibling),(i=o(l,a.props.children)).return=n,n=i;break t}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===C&&Yi(c)===l.type){r(n,l.sibling),(i=o(l,a.props)).ref=Wi(n,l,a),i.return=n,n=i;break t}r(n,l);break}e(n,l),l=l.sibling}a.type===O?((i=Dc(a.props.children,n.mode,s,a.key)).return=n,n=i):((s=Rc(a.type,a.key,a.props,null,n.mode,s)).ref=Wi(n,i,a),s.return=n,n=s)}return u(n);case E:t:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){r(n,i.sibling),(i=o(i,a.children||[])).return=n,n=i;break t}r(n,i);break}e(n,i),i=i.sibling}(i=Mc(a,n.mode,s)).return=n,n=i}return u(n);case C:return t(n,i,(l=a._init)(a._payload),s)}if(et(a))return y(n,i,a,s);if(D(a))return v(n,i,a,s);Ki(n,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(r(n,i.sibling),(i=o(i,a)).return=n,n=i):(r(n,i),(i=Fc(a,n.mode,s)).return=n,n=i),u(n)):r(n,i)}}var Xi=Qi(!0),Ji=Qi(!1),Zi={},ta=xo(Zi),ea=xo(Zi),ra=xo(Zi);function na(t){if(t===Zi)throw Error(i(174));return t}function oa(t,e){switch(jo(ra,e),jo(ea,t),jo(ta,Zi),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:st(null,"");break;default:e=st(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ko(ta),jo(ta,e)}function ia(){ko(ta),ko(ea),ko(ra)}function aa(t){na(ra.current);var e=na(ta.current),r=st(e,t.type);e!==r&&(jo(ea,t),jo(ta,r))}function ua(t){ea.current===t&&(ko(ta),ko(ea))}var sa=xo(0);function ca(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var la=[];function fa(){for(var t=0;t<la.length;t++)la[t]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,pa=w.ReactCurrentBatchConfig,da=0,ya=null,va=null,ma=null,ga=!1,ba=!1,wa=0,_a=0;function Ea(){throw Error(i(321))}function Oa(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!un(t[r],e[r]))return!1;return!0}function Sa(t,e,r,n,o,a){if(da=a,ya=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ha.current=null===t||null===t.memoizedState?uu:su,t=r(n,o),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(i(301));a+=1,ma=va=null,e.updateQueue=null,ha.current=cu,t=r(n,o)}while(ba)}if(ha.current=au,e=null!==va&&null!==va.next,da=0,ma=va=ya=null,ga=!1,e)throw Error(i(300));return t}function xa(){var t=0!==wa;return wa=0,t}function ka(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ya.memoizedState=ma=t:ma=ma.next=t,ma}function ja(){if(null===va){var t=ya.alternate;t=null!==t?t.memoizedState:null}else t=va.next;var e=null===ma?ya.memoizedState:ma.next;if(null!==e)ma=e,va=t;else{if(null===t)throw Error(i(310));t={memoizedState:(va=t).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?ya.memoizedState=ma=t:ma=ma.next=t}return ma}function Ta(t,e){return"function"===typeof e?e(t):e}function La(t){var e=ja(),r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=t;var n=va,o=n.baseQueue,a=r.pending;if(null!==a){if(null!==o){var u=o.next;o.next=a.next,a.next=u}n.baseQueue=o=a,r.pending=null}if(null!==o){a=o.next,n=n.baseState;var s=u=null,c=null,l=a;do{var f=l.lane;if((da&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=n):c=c.next=h,ya.lanes|=f,Ns|=f}l=l.next}while(null!==l&&l!==a);null===c?u=n:c.next=s,un(n,e.memoizedState)||(wu=!0),e.memoizedState=n,e.baseState=u,e.baseQueue=c,r.lastRenderedState=n}if(null!==(t=r.interleaved)){o=t;do{a=o.lane,ya.lanes|=a,Ns|=a,o=o.next}while(o!==t)}else null===o&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Pa(t){var e=ja(),r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=t;var n=r.dispatch,o=r.pending,a=e.memoizedState;if(null!==o){r.pending=null;var u=o=o.next;do{a=t(a,u.action),u=u.next}while(u!==o);un(a,e.memoizedState)||(wu=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Aa(){}function Ca(t,e){var r=ya,n=ja(),o=e(),a=!un(n.memoizedState,o);if(a&&(n.memoizedState=o,wu=!0),n=n.queue,Ha(Da.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||null!==ma&&1&ma.memoizedState.tag){if(r.flags|=2048,Ba(9,Ra.bind(null,r,n,o,e),void 0,null),null===Ls)throw Error(i(349));0!==(30&da)||Ia(r,e,o)}return o}function Ia(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},null===(e=ya.updateQueue)?(e={lastEffect:null,stores:null},ya.updateQueue=e,e.stores=[t]):null===(r=e.stores)?e.stores=[t]:r.push(t)}function Ra(t,e,r,n){e.value=r,e.getSnapshot=n,Na(e)&&Fa(t)}function Da(t,e,r){return r((function(){Na(e)&&Fa(t)}))}function Na(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!un(t,r)}catch(n){return!0}}function Fa(t){var e=Pi(t,1);null!==e&&rc(e,t,1,-1)}function Ma(t){var e=ka();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},e.queue=t,t=t.dispatch=ru.bind(null,ya,t),[e.memoizedState,t]}function Ba(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=ya.updateQueue)?(e={lastEffect:null,stores:null},ya.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Ua(){return ja().memoizedState}function za(t,e,r,n){var o=ka();ya.flags|=t,o.memoizedState=Ba(1|e,r,void 0,void 0===n?null:n)}function Ga(t,e,r,n){var o=ja();n=void 0===n?null:n;var i=void 0;if(null!==va){var a=va.memoizedState;if(i=a.destroy,null!==n&&Oa(n,a.deps))return void(o.memoizedState=Ba(e,r,i,n))}ya.flags|=t,o.memoizedState=Ba(1|e,r,i,n)}function qa(t,e){return za(8390656,8,t,e)}function Ha(t,e){return Ga(2048,8,t,e)}function Va(t,e){return Ga(4,2,t,e)}function $a(t,e){return Ga(4,4,t,e)}function Wa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ka(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,Ga(4,4,Wa.bind(null,e,t),r)}function Ya(){}function Qa(t,e){var r=ja();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Oa(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Xa(t,e){var r=ja();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Oa(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ja(t,e,r){return 0===(21&da)?(t.baseState&&(t.baseState=!1,wu=!0),t.memoizedState=r):(un(r,e)||(r=ye(),ya.lanes|=r,Ns|=r,t.baseState=!0),e)}function Za(t,e){var r=be;be=0!==r&&4>r?r:4,t(!0);var n=pa.transition;pa.transition={};try{t(!1),e()}finally{be=r,pa.transition=n}}function tu(){return ja().memoizedState}function eu(t,e,r){var n=ec(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nu(t))ou(e,r);else if(null!==(r=Li(t,e,r,n))){rc(r,t,n,tc()),iu(r,e,n)}}function ru(t,e,r){var n=ec(t),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nu(t))ou(e,o);else{var i=t.alternate;if(0===t.lanes&&(null===i||0===i.lanes)&&null!==(i=e.lastRenderedReducer))try{var a=e.lastRenderedState,u=i(a,r);if(o.hasEagerState=!0,o.eagerState=u,un(u,a)){var s=e.interleaved;return null===s?(o.next=o,Ti(e)):(o.next=s.next,s.next=o),void(e.interleaved=o)}}catch(c){}null!==(r=Li(t,e,o,n))&&(rc(r,t,n,o=tc()),iu(r,e,n))}}function nu(t){var e=t.alternate;return t===ya||null!==e&&e===ya}function ou(t,e){ba=ga=!0;var r=t.pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function iu(t,e,r){if(0!==(4194240&r)){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ge(t,r)}}var au={readContext:ki,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},uu={readContext:ki,useCallback:function(t,e){return ka().memoizedState=[t,void 0===e?null:e],t},useContext:ki,useEffect:qa,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,za(4194308,4,Wa.bind(null,e,t),r)},useLayoutEffect:function(t,e){return za(4194308,4,t,e)},useInsertionEffect:function(t,e){return za(4,2,t,e)},useMemo:function(t,e){var r=ka();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ka();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=eu.bind(null,ya,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},ka().memoizedState=t},useState:Ma,useDebugValue:Ya,useDeferredValue:function(t){return ka().memoizedState=t},useTransition:function(){var t=Ma(!1),e=t[0];return t=Za.bind(null,t[1]),ka().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ya,o=ka();if(ii){if(void 0===r)throw Error(i(407));r=r()}else{if(r=e(),null===Ls)throw Error(i(349));0!==(30&da)||Ia(n,e,r)}o.memoizedState=r;var a={value:r,getSnapshot:e};return o.queue=a,qa(Da.bind(null,n,a,t),[t]),n.flags|=2048,Ba(9,Ra.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ka(),e=Ls.identifierPrefix;if(ii){var r=Jo;e=":"+e+"R"+(r=(Xo&~(1<<32-ae(Xo)-1)).toString(32)+r),0<(r=wa++)&&(e+="H"+r.toString(32)),e+=":"}else e=":"+e+"r"+(r=_a++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},su={readContext:ki,useCallback:Qa,useContext:ki,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:Va,useLayoutEffect:$a,useMemo:Xa,useReducer:La,useRef:Ua,useState:function(){return La(Ta)},useDebugValue:Ya,useDeferredValue:function(t){return Ja(ja(),va.memoizedState,t)},useTransition:function(){return[La(Ta)[0],ja().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ca,useId:tu,unstable_isNewReconciler:!1},cu={readContext:ki,useCallback:Qa,useContext:ki,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:Va,useLayoutEffect:$a,useMemo:Xa,useReducer:Pa,useRef:Ua,useState:function(){return Pa(Ta)},useDebugValue:Ya,useDeferredValue:function(t){var e=ja();return null===va?e.memoizedState=t:Ja(e,va.memoizedState,t)},useTransition:function(){return[Pa(Ta)[0],ja().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ca,useId:tu,unstable_isNewReconciler:!1};function lu(t,e){try{var r="",n=e;do{r+=z(n),n=n.return}while(n);var o=r}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:t,source:e,stack:o,digest:null}}function fu(t,e,r){return{value:t,source:null,stack:null!=r?r:null,digest:null!=e?e:null}}function hu(t,e){try{console.error(e.value)}catch(r){setTimeout((function(){throw r}))}}var pu="function"===typeof WeakMap?WeakMap:Map;function du(t,e,r){(r=Ri(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hs||(Hs=!0,Vs=n),hu(0,e)},r}function yu(t,e,r){(r=Ri(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var o=e.value;r.payload=function(){return n(o)},r.callback=function(){hu(0,e)}}var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){hu(0,e),"function"!==typeof n&&(null===$s?$s=new Set([this]):$s.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}function vu(t,e,r){var n=t.pingCache;if(null===n){n=t.pingCache=new pu;var o=new Set;n.set(e,o)}else void 0===(o=n.get(e))&&(o=new Set,n.set(e,o));o.has(r)||(o.add(r),t=xc.bind(null,t,e,r),e.then(t,t))}function mu(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function gu(t,e,r,n,o){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((e=Ri(-1,1)).tag=2,Di(r,e,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=o,t)}var bu=w.ReactCurrentOwner,wu=!1;function _u(t,e,r,n){e.child=null===t?Ji(e,null,r,n):Xi(e,t.child,r,n)}function Eu(t,e,r,n,o){r=r.render;var i=e.ref;return xi(e,o),n=Sa(t,e,r,n,i,o),r=xa(),null===t||wu?(ii&&r&&ei(e),e.flags|=1,_u(t,e,n,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Hu(t,e,o))}function Ou(t,e,r,n,o){if(null===t){var i=r.type;return"function"!==typeof i||Cc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Rc(r.type,null,n,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=i,Su(t,e,i,n,o))}if(i=t.child,0===(t.lanes&o)){var a=i.memoizedProps;if((r=null!==(r=r.compare)?r:sn)(a,n)&&t.ref===e.ref)return Hu(t,e,o)}return e.flags|=1,(t=Ic(i,n)).ref=e.ref,t.return=e,e.child=t}function Su(t,e,r,n,o){if(null!==t){var i=t.memoizedProps;if(sn(i,n)&&t.ref===e.ref){if(wu=!1,e.pendingProps=n=i,0===(t.lanes&o))return e.lanes=t.lanes,Hu(t,e,o);0!==(131072&t.flags)&&(wu=!0)}}return ju(t,e,r,n,o)}function xu(t,e,r){var n=e.pendingProps,o=n.children,i=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jo(Is,Cs),Cs|=r;else{if(0===(1073741824&r))return t=null!==i?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jo(Is,Cs),Cs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,jo(Is,Cs),Cs|=n}else null!==i?(n=i.baseLanes|r,e.memoizedState=null):n=r,jo(Is,Cs),Cs|=n;return _u(t,e,o,r),e.child}function ku(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ju(t,e,r,n,o){var i=Io(r)?Ao:Lo.current;return i=Co(e,i),xi(e,o),r=Sa(t,e,r,n,i,o),n=xa(),null===t||wu?(ii&&n&&ei(e),e.flags|=1,_u(t,e,r,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Hu(t,e,o))}function Tu(t,e,r,n,o){if(Io(r)){var i=!0;Fo(e)}else i=!1;if(xi(e,o),null===e.stateNode)qu(t,e),Hi(e,r,n),$i(e,r,n,o),n=!0;else if(null===t){var a=e.stateNode,u=e.memoizedProps;a.props=u;var s=a.context,c=r.contextType;"object"===typeof c&&null!==c?c=ki(c):c=Co(e,c=Io(r)?Ao:Lo.current);var l=r.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==n||s!==c)&&Vi(e,a,n,c),Ai=!1;var h=e.memoizedState;a.state=h,Mi(e,n,a,o),s=e.memoizedState,u!==n||h!==s||Po.current||Ai?("function"===typeof l&&(zi(e,r,l,n),s=e.memoizedState),(u=Ai||qi(e,r,u,n,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=s),a.props=n,a.state=s,a.context=c,n=u):("function"===typeof a.componentDidMount&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ii(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:mi(e.type,u),a.props=c,f=e.pendingProps,h=a.context,"object"===typeof(s=r.contextType)&&null!==s?s=ki(s):s=Co(e,s=Io(r)?Ao:Lo.current);var p=r.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&Vi(e,a,n,s),Ai=!1,h=e.memoizedState,a.state=h,Mi(e,n,a,o);var d=e.memoizedState;u!==f||h!==d||Po.current||Ai?("function"===typeof p&&(zi(e,r,p,n),d=e.memoizedState),(c=Ai||qi(e,r,c,n,h,d,s)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,s)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=d),a.props=n,a.state=d,a.context=s,n=c):("function"!==typeof a.componentDidUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Lu(t,e,r,n,i,o)}function Lu(t,e,r,n,o,i){ku(t,e);var a=0!==(128&e.flags);if(!n&&!a)return o&&Mo(e,r,!1),Hu(t,e,i);n=e.stateNode,bu.current=e;var u=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&a?(e.child=Xi(e,t.child,null,i),e.child=Xi(e,null,u,i)):_u(t,e,u,i),e.memoizedState=n.state,o&&Mo(e,r,!0),e.child}function Pu(t){var e=t.stateNode;e.pendingContext?Do(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Do(0,e.context,!1),oa(t,e.containerInfo)}function Au(t,e,r,n,o){return di(),yi(o),e.flags|=256,_u(t,e,r,n),e.child}var Cu,Iu,Ru,Du={dehydrated:null,treeContext:null,retryLane:0};function Nu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fu(t,e,r){var n,o=e.pendingProps,a=sa.current,u=!1,s=0!==(128&e.flags);if((n=s)||(n=(null===t||null!==t.memoizedState)&&0!==(2&a)),n?(u=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),jo(sa,1&a),null===t)return li(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(s=o.children,t=o.fallback,u?(o=e.mode,u=e.child,s={mode:"hidden",children:s},0===(1&o)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Nc(s,o,0,null),t=Dc(t,o,r,null),u.return=e,t.return=e,u.sibling=t,e.child=u,e.child.memoizedState=Nu(r),e.memoizedState=Du,t):Mu(e,s));if(null!==(a=t.memoizedState)&&null!==(n=a.dehydrated))return function(t,e,r,n,o,a,u){if(r)return 256&e.flags?(e.flags&=-257,Bu(t,e,u,n=fu(Error(i(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=n.fallback,o=e.mode,n=Nc({mode:"visible",children:n.children},o,0,null),(a=Dc(a,o,u,null)).flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,0!==(1&e.mode)&&Xi(e,t.child,null,u),e.child.memoizedState=Nu(u),e.memoizedState=Du,a);if(0===(1&e.mode))return Bu(t,e,u,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var s=n.dgst;return n=s,Bu(t,e,u,n=fu(a=Error(i(419)),n,void 0))}if(s=0!==(u&t.childLanes),wu||s){if(null!==(n=Ls)){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|u))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Pi(t,o),rc(n,t,o,-1))}return yc(),Bu(t,e,u,n=fu(Error(i(421))))}return"$?"===o.data?(e.flags|=128,e.child=t.child,e=jc.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,oi=co(o.nextSibling),ni=e,ii=!0,ai=null,null!==t&&(Ko[Yo++]=Xo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Xo=t.id,Jo=t.overflow,Qo=e),(e=Mu(e,n.children)).flags|=4096,e)}(t,e,s,o,n,a,r);if(u){u=o.fallback,s=e.mode,n=(a=t.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&s)&&e.child!==a?((o=e.child).childLanes=0,o.pendingProps=c,e.deletions=null):(o=Ic(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==n?u=Ic(n,u):(u=Dc(u,s,r,null)).flags|=2,u.return=e,o.return=e,o.sibling=u,e.child=o,o=u,u=e.child,s=null===(s=t.child.memoizedState)?Nu(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=t.childLanes&~r,e.memoizedState=Du,o}return t=(u=t.child).sibling,o=Ic(u,{mode:"visible",children:o.children}),0===(1&e.mode)&&(o.lanes=r),o.return=e,o.sibling=null,null!==t&&(null===(r=e.deletions)?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=o,e.memoizedState=null,o}function Mu(t,e){return(e=Nc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Bu(t,e,r,n){return null!==n&&yi(n),Xi(e,t.child,null,r),(t=Mu(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Uu(t,e,r){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Si(t.return,e,r)}function zu(t,e,r,n,o){var i=t.memoizedState;null===i?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function Gu(t,e,r){var n=e.pendingProps,o=n.revealOrder,i=n.tail;if(_u(t,e,n.children,r),0!==(2&(n=sa.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Uu(t,r,e);else if(19===t.tag)Uu(t,r,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(jo(sa,n),0===(1&e.mode))e.memoizedState=null;else switch(o){case"forwards":for(r=e.child,o=null;null!==r;)null!==(t=r.alternate)&&null===ca(t)&&(o=r),r=r.sibling;null===(r=o)?(o=e.child,e.child=null):(o=r.sibling,r.sibling=null),zu(e,!1,o,r,i);break;case"backwards":for(r=null,o=e.child,e.child=null;null!==o;){if(null!==(t=o.alternate)&&null===ca(t)){e.child=o;break}t=o.sibling,o.sibling=r,r=o,o=t}zu(e,!0,r,null,i);break;case"together":zu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qu(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hu(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),Ns|=e.lanes,0===(r&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(i(153));if(null!==e.child){for(r=Ic(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Ic(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function Vu(t,e){if(!ii)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function $u(t){var e=null!==t.alternate&&t.alternate.child===t.child,r=0,n=0;if(e)for(var o=t.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=t,o=o.sibling;else for(o=t.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Wu(t,e,r){var n=e.pendingProps;switch(ri(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $u(e),null;case 1:case 17:return Io(e.type)&&Ro(),$u(e),null;case 3:return n=e.stateNode,ia(),ko(Po),ko(Lo),fa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(hi(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ai&&(ac(ai),ai=null))),$u(e),null;case 5:ua(e);var o=na(ra.current);if(r=e.type,null!==t&&null!=e.stateNode)Iu(t,e,r,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(i(166));return $u(e),null}if(t=na(ta.current),hi(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ho]=e,n[po]=a,t=0!==(1&e.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(o=0;o<Dn.length;o++)Bn(Dn[o],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":Q(n,a),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Bn("invalid",n);break;case"textarea":ot(n,a),Bn("invalid",n)}for(var s in gt(r,a),o=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?n.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jn(n.textContent,c,t),o=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jn(n.textContent,c,t),o=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Bn("scroll",n)}switch(r){case"input":$(n),Z(n,a,!0);break;case"textarea":$(n),at(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=Zn)}n=o,e.updateQueue=n,null!==n&&(e.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ut(r)),"http://www.w3.org/1999/xhtml"===t?"script"===r?((t=s.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),"select"===r&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[ho]=e,t[po]=n,Cu(t,e),e.stateNode=t;t:{switch(s=bt(r,n),r){case"dialog":Bn("cancel",t),Bn("close",t),o=n;break;case"iframe":case"object":case"embed":Bn("load",t),o=n;break;case"video":case"audio":for(o=0;o<Dn.length;o++)Bn(Dn[o],t);o=n;break;case"source":Bn("error",t),o=n;break;case"img":case"image":case"link":Bn("error",t),Bn("load",t),o=n;break;case"details":Bn("toggle",t),o=n;break;case"input":Q(t,n),o=Y(t,n),Bn("invalid",t);break;case"option":default:o=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},o=F({},n,{value:void 0}),Bn("invalid",t);break;case"textarea":ot(t,n),o=nt(t,n),Bn("invalid",t)}for(a in gt(r,o),c=o)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?vt(t,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&ft(t,l):"children"===a?"string"===typeof l?("textarea"!==r||""!==l)&&ht(t,l):"number"===typeof l&&ht(t,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Bn("scroll",t):null!=l&&b(t,a,l,s))}switch(r){case"input":$(t),Z(t,n,!1);break;case"textarea":$(t),at(t);break;case"option":null!=n.value&&t.setAttribute("value",""+H(n.value));break;case"select":t.multiple=!!n.multiple,null!=(a=n.value)?rt(t,!!n.multiple,a,!1):null!=n.defaultValue&&rt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return $u(e),null;case 6:if(t&&null!=e.stateNode)Ru(0,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(i(166));if(r=na(ra.current),na(ta.current),hi(e)){if(n=e.stateNode,r=e.memoizedProps,n[ho]=e,(a=n.nodeValue!==r)&&null!==(t=ni))switch(t.tag){case 3:Jn(n.nodeValue,r,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&t.mode))}a&&(e.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ho]=e,e.stateNode=n}return $u(e),null;case 13:if(ko(sa),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&e.mode)&&0===(128&e.flags))pi(),di(),e.flags|=98560,a=!1;else if(a=hi(e),null!==n&&null!==n.dehydrated){if(null===t){if(!a)throw Error(i(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ho]=e}else di(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;$u(e),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=r,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&sa.current)?0===Rs&&(Rs=3):yc())),null!==e.updateQueue&&(e.flags|=4),$u(e),null);case 4:return ia(),null===t&&Gn(e.stateNode.containerInfo),$u(e),null;case 10:return Oi(e.type._context),$u(e),null;case 19:if(ko(sa),null===(a=e.memoizedState))return $u(e),null;if(n=0!==(128&e.flags),null===(s=a.rendering))if(n)Vu(a,!1);else{if(0!==Rs||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(s=ca(t))){for(e.flags|=128,Vu(a,!1),null!==(n=s.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;null!==r;)t=n,(a=r).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return jo(sa,1&sa.current|2),e.child}t=t.sibling}null!==a.tail&&Xt()>Gs&&(e.flags|=128,n=!0,Vu(a,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=ca(s))){if(e.flags|=128,n=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.flags|=4),Vu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!ii)return $u(e),null}else 2*Xt()-a.renderingStartTime>Gs&&1073741824!==r&&(e.flags|=128,n=!0,Vu(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(null!==(r=a.last)?r.sibling=s:e.child=s,a.last=s)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Xt(),e.sibling=null,r=sa.current,jo(sa,n?1&r|2:1&r),e):($u(e),null);case 22:case 23:return fc(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Cs)&&($u(e),6&e.subtreeFlags&&(e.flags|=8192)):$u(e),null;case 24:case 25:return null}throw Error(i(156,e.tag))}function Ku(t,e){switch(ri(e),e.tag){case 1:return Io(e.type)&&Ro(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ia(),ko(Po),ko(Lo),fa(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return ua(e),null;case 13:if(ko(sa),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(i(340));di()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return ko(sa),null;case 4:return ia(),null;case 10:return Oi(e.type._context),null;case 22:case 23:return fc(),null;default:return null}}Cu=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Iu=function(t,e,r,n){var o=t.memoizedProps;if(o!==n){t=e.stateNode,na(ta.current);var i,a=null;switch(r){case"input":o=Y(t,o),n=Y(t,n),a=[];break;case"select":o=F({},o,{value:void 0}),n=F({},n,{value:void 0}),a=[];break;case"textarea":o=nt(t,o),n=nt(t,n),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(t.onclick=Zn)}for(l in gt(r,n),r=null,o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l){var s=o[l];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=null!=o?o[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(i in s)!s.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&s[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(l,r)),r=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Bn("scroll",t),a||s===c||(a=[])):(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}},Ru=function(t,e,r,n){r!==n&&(e.flags|=4)};var Yu=!1,Qu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(t,e){var r=t.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Sc(t,e,n)}else r.current=null}function ts(t,e,r){try{r()}catch(n){Sc(t,e,n)}}var es=!1;function rs(t,e,r){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,void 0!==i&&ts(e,r,i)}o=o.next}while(o!==n)}}function ns(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function os(t){var e=t.ref;if(null!==e){var r=t.stateNode;t.tag,t=r,"function"===typeof e?e(t):e.current=t}}function is(t){var e=t.alternate;null!==e&&(t.alternate=null,is(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ho],delete e[po],delete e[vo],delete e[mo],delete e[go])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function as(t){return 5===t.tag||3===t.tag||4===t.tag}function us(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||as(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ss(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==e.onclick||(e.onclick=Zn));else if(4!==n&&null!==(t=t.child))for(ss(t,e,r),t=t.sibling;null!==t;)ss(t,e,r),t=t.sibling}function cs(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==n&&null!==(t=t.child))for(cs(t,e,r),t=t.sibling;null!==t;)cs(t,e,r),t=t.sibling}var ls=null,fs=!1;function hs(t,e,r){for(r=r.child;null!==r;)ps(t,e,r),r=r.sibling}function ps(t,e,r){if(ie&&"function"===typeof ie.onCommitFiberUnmount)try{ie.onCommitFiberUnmount(oe,r)}catch(u){}switch(r.tag){case 5:Qu||Zu(r,e);case 6:var n=ls,o=fs;ls=null,hs(t,e,r),fs=o,null!==(ls=n)&&(fs?(t=ls,r=r.stateNode,8===t.nodeType?t.parentNode.removeChild(r):t.removeChild(r)):ls.removeChild(r.stateNode));break;case 18:null!==ls&&(fs?(t=ls,r=r.stateNode,8===t.nodeType?so(t.parentNode,r):1===t.nodeType&&so(t,r),Ge(t)):so(ls,r.stateNode));break;case 4:n=ls,o=fs,ls=r.stateNode.containerInfo,fs=!0,hs(t,e,r),ls=n,fs=o;break;case 0:case 11:case 14:case 15:if(!Qu&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&ts(r,e,a),o=o.next}while(o!==n)}hs(t,e,r);break;case 1:if(!Qu&&(Zu(r,e),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){Sc(r,e,u)}hs(t,e,r);break;case 21:hs(t,e,r);break;case 22:1&r.mode?(Qu=(n=Qu)||null!==r.memoizedState,hs(t,e,r),Qu=n):hs(t,e,r);break;default:hs(t,e,r)}}function ds(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new Xu),e.forEach((function(e){var n=Tc.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}function ys(t,e){var r=e.deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var a=t,u=e,s=u;t:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break t;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break t}s=s.return}if(null===ls)throw Error(i(160));ps(a,u,o),ls=null,fs=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(l){Sc(o,e,l)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vs(e,t),e=e.sibling}function vs(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ys(e,t),ms(t),4&n){try{rs(3,t,t.return),ns(3,t)}catch(v){Sc(t,t.return,v)}try{rs(5,t,t.return)}catch(v){Sc(t,t.return,v)}}break;case 1:ys(e,t),ms(t),512&n&&null!==r&&Zu(r,r.return);break;case 5:if(ys(e,t),ms(t),512&n&&null!==r&&Zu(r,r.return),32&t.flags){var o=t.stateNode;try{ht(o,"")}catch(v){Sc(t,t.return,v)}}if(4&n&&null!=(o=t.stateNode)){var a=t.memoizedProps,u=null!==r?r.memoizedProps:a,s=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===s&&"radio"===a.type&&null!=a.name&&X(o,a),bt(s,u);var l=bt(s,a);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?vt(o,h):"dangerouslySetInnerHTML"===f?ft(o,h):"children"===f?ht(o,h):b(o,f,h,l)}switch(s){case"input":J(o,a);break;case"textarea":it(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var d=a.value;null!=d?rt(o,!!a.multiple,d,!1):p!==!!a.multiple&&(null!=a.defaultValue?rt(o,!!a.multiple,a.defaultValue,!0):rt(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(v){Sc(t,t.return,v)}}break;case 6:if(ys(e,t),ms(t),4&n){if(null===t.stateNode)throw Error(i(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(v){Sc(t,t.return,v)}}break;case 3:if(ys(e,t),ms(t),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ge(e.containerInfo)}catch(v){Sc(t,t.return,v)}break;case 4:default:ys(e,t),ms(t);break;case 13:ys(e,t),ms(t),8192&(o=t.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(zs=Xt())),4&n&&ds(t);break;case 22:if(f=null!==r&&null!==r.memoizedState,1&t.mode?(Qu=(l=Qu)||f,ys(e,t),Qu=l):ys(e,t),ms(t),8192&n){if(l=null!==t.memoizedState,(t.stateNode.isHidden=l)&&!f&&0!==(1&t.mode))for(Ju=t,f=t.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(d=(p=Ju).child,p.tag){case 0:case 11:case 14:case 15:rs(4,p,p.return);break;case 1:Zu(p,p.return);var y=p.stateNode;if("function"===typeof y.componentWillUnmount){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Sc(n,r,v)}}break;case 5:Zu(p,p.return);break;case 22:if(null!==p.memoizedState){_s(h);continue}}null!==d?(d.return=p,Ju=d):_s(h)}f=f.sibling}t:for(f=null,h=t;;){if(5===h.tag){if(null===f){f=h;try{o=h.stateNode,l?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=yt("display",u))}catch(v){Sc(t,t.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(v){Sc(t,t.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;null===h.sibling;){if(null===h.return||h.return===t)break t;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ys(e,t),ms(t),4&n&&ds(t);case 21:}}function ms(t){var e=t.flags;if(2&e){try{t:{for(var r=t.return;null!==r;){if(as(r)){var n=r;break t}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(ht(o,""),n.flags&=-33),cs(t,us(t),o);break;case 3:case 4:var a=n.stateNode.containerInfo;ss(t,us(t),a);break;default:throw Error(i(161))}}catch(u){Sc(t,t.return,u)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function gs(t,e,r){Ju=t,bs(t,e,r)}function bs(t,e,r){for(var n=0!==(1&t.mode);null!==Ju;){var o=Ju,i=o.child;if(22===o.tag&&n){var a=null!==o.memoizedState||Yu;if(!a){var u=o.alternate,s=null!==u&&null!==u.memoizedState||Qu;u=Yu;var c=Qu;if(Yu=a,(Qu=s)&&!c)for(Ju=o;null!==Ju;)s=(a=Ju).child,22===a.tag&&null!==a.memoizedState?Es(o):null!==s?(s.return=a,Ju=s):Es(o);for(;null!==i;)Ju=i,bs(i,e,r),i=i.sibling;Ju=o,Yu=u,Qu=c}ws(t)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ju=i):ws(t)}}function ws(t){for(;null!==Ju;){var e=Ju;if(0!==(8772&e.flags)){var r=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qu||ns(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Qu)if(null===r)n.componentDidMount();else{var o=e.elementType===e.type?r.memoizedProps:mi(e.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Bi(e,a,n);break;case 3:var u=e.updateQueue;if(null!==u){if(r=null,null!==e.child)switch(e.child.tag){case 5:case 1:r=e.child.stateNode}Bi(e,u,r)}break;case 5:var s=e.stateNode;if(null===r&&4&e.flags){r=s;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var l=e.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ge(h)}}}break;default:throw Error(i(163))}Qu||512&e.flags&&os(e)}catch(p){Sc(e,e.return,p)}}if(e===t){Ju=null;break}if(null!==(r=e.sibling)){r.return=e.return,Ju=r;break}Ju=e.return}}function _s(t){for(;null!==Ju;){var e=Ju;if(e===t){Ju=null;break}var r=e.sibling;if(null!==r){r.return=e.return,Ju=r;break}Ju=e.return}}function Es(t){for(;null!==Ju;){var e=Ju;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ns(4,e)}catch(s){Sc(e,r,s)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var o=e.return;try{n.componentDidMount()}catch(s){Sc(e,o,s)}}var i=e.return;try{os(e)}catch(s){Sc(e,i,s)}break;case 5:var a=e.return;try{os(e)}catch(s){Sc(e,a,s)}}}catch(s){Sc(e,e.return,s)}if(e===t){Ju=null;break}var u=e.sibling;if(null!==u){u.return=e.return,Ju=u;break}Ju=e.return}}var Os,Ss=Math.ceil,xs=w.ReactCurrentDispatcher,ks=w.ReactCurrentOwner,js=w.ReactCurrentBatchConfig,Ts=0,Ls=null,Ps=null,As=0,Cs=0,Is=xo(0),Rs=0,Ds=null,Ns=0,Fs=0,Ms=0,Bs=null,Us=null,zs=0,Gs=1/0,qs=null,Hs=!1,Vs=null,$s=null,Ws=!1,Ks=null,Ys=0,Qs=0,Xs=null,Js=-1,Zs=0;function tc(){return 0!==(6&Ts)?Xt():-1!==Js?Js:Js=Xt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Ts)&&0!==As?As&-As:null!==vi.transition?(0===Zs&&(Zs=ye()),Zs):0!==(t=be)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function rc(t,e,r,n){if(50<Qs)throw Qs=0,Xs=null,Error(i(185));me(t,r,n),0!==(2&Ts)&&t===Ls||(t===Ls&&(0===(2&Ts)&&(Fs|=r),4===Rs&&uc(t,As)),nc(t,n),1===r&&0===Ts&&0===(1&e.mode)&&(Gs=Xt()+500,Uo&&qo()))}function nc(t,e){var r=t.callbackNode;!function(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ae(i),u=1<<a,s=o[a];-1===s?0!==(u&r)&&0===(u&n)||(o[a]=pe(u,e)):s<=e&&(t.expiredLanes|=u),i&=~u}}(t,e);var n=he(t,t===Ls?As:0);if(0===n)null!==r&&Kt(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=r&&Kt(r),1===e)0===t.tag?function(t){Uo=!0,Go(t)}(sc.bind(null,t)):Go(sc.bind(null,t)),ao((function(){0===(6&Ts)&&qo()})),r=null;else{switch(we(n)){case 1:r=Zt;break;case 4:r=te;break;case 16:default:r=ee;break;case 536870912:r=ne}r=Lc(r,oc.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function oc(t,e){if(Js=-1,Zs=0,0!==(6&Ts))throw Error(i(327));var r=t.callbackNode;if(Ec()&&t.callbackNode!==r)return null;var n=he(t,t===Ls?As:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=vc(t,n);else{e=n;var o=Ts;Ts|=2;var a=dc();for(Ls===t&&As===e||(qs=null,Gs=Xt()+500,hc(t,e));;)try{gc();break}catch(s){pc(t,s)}Ei(),xs.current=a,Ts=o,null!==Ps?e=0:(Ls=null,As=0,e=Rs)}if(0!==e){if(2===e&&(0!==(o=de(t))&&(n=o,e=ic(t,o))),1===e)throw r=Ds,hc(t,0),uc(t,n),nc(t,Xt()),r;if(6===e)uc(t,n);else{if(o=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var r=e.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!un(i(),o))return!1}catch(u){return!1}}}if(r=e.child,16384&e.subtreeFlags&&null!==r)r.return=e,e=r;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(o)&&(2===(e=vc(t,n))&&(0!==(a=de(t))&&(n=a,e=ic(t,a))),1===e))throw r=Ds,hc(t,0),uc(t,n),nc(t,Xt()),r;switch(t.finishedWork=o,t.finishedLanes=n,e){case 0:case 1:throw Error(i(345));case 2:case 5:_c(t,Us,qs);break;case 3:if(uc(t,n),(130023424&n)===n&&10<(e=zs+500-Xt())){if(0!==he(t,0))break;if(((o=t.suspendedLanes)&n)!==n){tc(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=no(_c.bind(null,t,Us,qs),e);break}_c(t,Us,qs);break;case 4:if(uc(t,n),(4194240&n)===n)break;for(e=t.eventTimes,o=-1;0<n;){var u=31-ae(n);a=1<<u,(u=e[u])>o&&(o=u),n&=~a}if(n=o,10<(n=(120>(n=Xt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ss(n/1960))-n)){t.timeoutHandle=no(_c.bind(null,t,Us,qs),n);break}_c(t,Us,qs);break;default:throw Error(i(329))}}}return nc(t,Xt()),t.callbackNode===r?oc.bind(null,t):null}function ic(t,e){var r=Bs;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Us,Us=r,null!==e&&ac(e)),t}function ac(t){null===Us?Us=t:Us.push.apply(Us,t)}function uc(t,e){for(e&=~Ms,e&=~Fs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ae(e),n=1<<r;t[r]=-1,e&=~n}}function sc(t){if(0!==(6&Ts))throw Error(i(327));Ec();var e=he(t,0);if(0===(1&e))return nc(t,Xt()),null;var r=vc(t,e);if(0!==t.tag&&2===r){var n=de(t);0!==n&&(e=n,r=ic(t,n))}if(1===r)throw r=Ds,hc(t,0),uc(t,e),nc(t,Xt()),r;if(6===r)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_c(t,Us,qs),nc(t,Xt()),null}function cc(t,e){var r=Ts;Ts|=1;try{return t(e)}finally{0===(Ts=r)&&(Gs=Xt()+500,Uo&&qo())}}function lc(t){null!==Ks&&0===Ks.tag&&0===(6&Ts)&&Ec();var e=Ts;Ts|=1;var r=js.transition,n=be;try{if(js.transition=null,be=1,t)return t()}finally{be=n,js.transition=r,0===(6&(Ts=e))&&qo()}}function fc(){Cs=Is.current,ko(Is)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,oo(r)),null!==Ps)for(r=Ps.return;null!==r;){var n=r;switch(ri(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ro();break;case 3:ia(),ko(Po),ko(Lo),fa();break;case 5:ua(n);break;case 4:ia();break;case 13:case 19:ko(sa);break;case 10:Oi(n.type._context);break;case 22:case 23:fc()}r=r.return}if(Ls=t,Ps=t=Ic(t.current,null),As=Cs=e,Rs=0,Ds=null,Ms=Fs=Ns=0,Us=Bs=null,null!==ji){for(e=0;e<ji.length;e++)if(null!==(n=(r=ji[e]).interleaved)){r.interleaved=null;var o=n.next,i=r.pending;if(null!==i){var a=i.next;i.next=o,n.next=a}r.pending=n}ji=null}return t}function pc(t,e){for(;;){var r=Ps;try{if(Ei(),ha.current=au,ga){for(var n=ya.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ga=!1}if(da=0,ma=va=ya=null,ba=!1,wa=0,ks.current=null,null===r||null===r.return){Rs=1,Ds=e,Ps=null;break}t:{var a=t,u=r.return,s=r,c=e;if(e=As,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=mu(u);if(null!==d){d.flags&=-257,gu(d,u,s,0,e),1&d.mode&&vu(a,l,e),c=l;var y=(e=d).updateQueue;if(null===y){var v=new Set;v.add(c),e.updateQueue=v}else y.add(c);break t}if(0===(1&e)){vu(a,l,e),yc();break t}c=Error(i(426))}else if(ii&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,e),yi(lu(c,s));break t}}a=c=lu(c,s),4!==Rs&&(Rs=2),null===Bs?Bs=[a]:Bs.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Fi(a,du(0,c,e));break t;case 1:s=c;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===$s||!$s.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Fi(a,yu(a,s,e));break t}}a=a.return}while(null!==a)}wc(r)}catch(w){e=w,Ps===r&&null!==r&&(Ps=r=r.return);continue}break}}function dc(){var t=xs.current;return xs.current=au,null===t?au:t}function yc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ls||0===(268435455&Ns)&&0===(268435455&Fs)||uc(Ls,As)}function vc(t,e){var r=Ts;Ts|=2;var n=dc();for(Ls===t&&As===e||(qs=null,hc(t,e));;)try{mc();break}catch(o){pc(t,o)}if(Ei(),Ts=r,xs.current=n,null!==Ps)throw Error(i(261));return Ls=null,As=0,Rs}function mc(){for(;null!==Ps;)bc(Ps)}function gc(){for(;null!==Ps&&!Yt();)bc(Ps)}function bc(t){var e=Os(t.alternate,t,Cs);t.memoizedProps=t.pendingProps,null===e?wc(t):Ps=e,ks.current=null}function wc(t){var e=t;do{var r=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(r=Wu(r,e,Cs)))return void(Ps=r)}else{if(null!==(r=Ku(r,e)))return r.flags&=32767,void(Ps=r);if(null===t)return Rs=6,void(Ps=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ps=e);Ps=e=t}while(null!==e);0===Rs&&(Rs=5)}function _c(t,e,r){var n=be,o=js.transition;try{js.transition=null,be=1,function(t,e,r,n){do{Ec()}while(null!==Ks);if(0!==(6&Ts))throw Error(i(327));r=t.finishedWork;var o=t.finishedLanes;if(null===r)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var o=31-ae(r),i=1<<o;e[o]=0,n[o]=-1,t[o]=-1,r&=~i}}(t,a),t===Ls&&(Ps=Ls=null,As=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ws||(Ws=!0,Lc(ee,(function(){return Ec(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=js.transition,js.transition=null;var u=be;be=1;var s=Ts;Ts|=4,ks.current=null,function(t,e){if(to=He,pn(t=hn())){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(r=(r=t.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(_){r=null;break t}var u=0,s=-1,c=-1,l=0,f=0,h=t,p=null;e:for(;;){for(var d;h!==r||0!==o&&3!==h.nodeType||(s=u+o),h!==a||0!==n&&3!==h.nodeType||(c=u+n),3===h.nodeType&&(u+=h.nodeValue.length),null!==(d=h.firstChild);)p=h,h=d;for(;;){if(h===t)break e;if(p===r&&++l===o&&(s=u),p===a&&++f===n&&(c=u),null!==(d=h.nextSibling))break;p=(h=p).parentNode}h=d}r=-1===s||-1===c?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(eo={focusedElem:t,selectionRange:r},He=!1,Ju=e;null!==Ju;)if(t=(e=Ju).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ju=t;else for(;null!==Ju;){e=Ju;try{var y=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var v=y.memoizedProps,m=y.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:mi(e.type,v),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(_){Sc(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,Ju=t;break}Ju=e.return}y=es,es=!1}(t,r),vs(r,t),dn(eo),He=!!to,eo=to=null,t.current=r,gs(r,t,o),Qt(),Ts=s,be=u,js.transition=a}else t.current=r;if(Ws&&(Ws=!1,Ks=t,Ys=o),0===(a=t.pendingLanes)&&($s=null),function(t){if(ie&&"function"===typeof ie.onCommitFiberRoot)try{ie.onCommitFiberRoot(oe,t,void 0,128===(128&t.current.flags))}catch(e){}}(r.stateNode),nc(t,Xt()),null!==e)for(n=t.onRecoverableError,r=0;r<e.length;r++)n((o=e[r]).value,{componentStack:o.stack,digest:o.digest});if(Hs)throw Hs=!1,t=Vs,Vs=null,t;0!==(1&Ys)&&0!==t.tag&&Ec(),0!==(1&(a=t.pendingLanes))?t===Xs?Qs++:(Qs=0,Xs=t):Qs=0,qo()}(t,e,r,n)}finally{js.transition=o,be=n}return null}function Ec(){if(null!==Ks){var t=we(Ys),e=js.transition,r=be;try{if(js.transition=null,be=16>t?16:t,null===Ks)var n=!1;else{if(t=Ks,Ks=null,Ys=0,0!==(6&Ts))throw Error(i(331));var o=Ts;for(Ts|=4,Ju=t.current;null!==Ju;){var a=Ju,u=a.child;if(0!==(16&Ju.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,a)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var p=(f=Ju).sibling,d=f.return;if(is(f),f===l){Ju=null;break}if(null!==p){p.return=d,Ju=p;break}Ju=d}}}var y=a.alternate;if(null!==y){var v=y.child;if(null!==v){y.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Ju=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,Ju=u;else t:for(;null!==Ju;){if(0!==(2048&(a=Ju).flags))switch(a.tag){case 0:case 11:case 15:rs(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Ju=g;break t}Ju=a.return}}var b=t.current;for(Ju=b;null!==Ju;){var w=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Ju=w;else t:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:ns(9,s)}}catch(E){Sc(s,s.return,E)}if(s===u){Ju=null;break t}var _=s.sibling;if(null!==_){_.return=s.return,Ju=_;break t}Ju=s.return}}if(Ts=o,qo(),ie&&"function"===typeof ie.onPostCommitFiberRoot)try{ie.onPostCommitFiberRoot(oe,t)}catch(E){}n=!0}return n}finally{be=r,js.transition=e}}return!1}function Oc(t,e,r){t=Di(t,e=du(0,e=lu(r,e),1),1),e=tc(),null!==t&&(me(t,1,e),nc(t,e))}function Sc(t,e,r){if(3===t.tag)Oc(t,t,r);else for(;null!==e;){if(3===e.tag){Oc(e,t,r);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===$s||!$s.has(n))){e=Di(e,t=yu(e,t=lu(r,t),1),1),t=tc(),null!==e&&(me(e,1,t),nc(e,t));break}}e=e.return}}function xc(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&r,Ls===t&&(As&r)===r&&(4===Rs||3===Rs&&(130023424&As)===As&&500>Xt()-zs?hc(t,0):Ms|=r),nc(t,e)}function kc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=le,0===(130023424&(le<<=1))&&(le=4194304)));var r=tc();null!==(t=Pi(t,e))&&(me(t,e,r),nc(t,r))}function jc(t){var e=t.memoizedState,r=0;null!==e&&(r=e.retryLane),kc(t,r)}function Tc(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,o=t.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(e),kc(t,r)}function Lc(t,e){return Wt(t,e)}function Pc(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(t,e,r,n){return new Pc(t,e,r,n)}function Cc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ic(t,e){var r=t.alternate;return null===r?((r=Ac(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&t.flags,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Rc(t,e,r,n,o,a){var u=2;if(n=t,"function"===typeof t)Cc(t)&&(u=1);else if("string"===typeof t)u=5;else t:switch(t){case O:return Dc(r.children,o,a,e);case S:u=8,o|=8;break;case x:return(t=Ac(12,r,e,2|o)).elementType=x,t.lanes=a,t;case L:return(t=Ac(13,r,e,o)).elementType=L,t.lanes=a,t;case P:return(t=Ac(19,r,e,o)).elementType=P,t.lanes=a,t;case I:return Nc(r,o,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:u=10;break t;case j:u=9;break t;case T:u=11;break t;case A:u=14;break t;case C:u=16,n=null;break t}throw Error(i(130,null==t?t:typeof t,""))}return(e=Ac(u,r,e,o)).elementType=t,e.type=n,e.lanes=a,e}function Dc(t,e,r,n){return(t=Ac(7,t,n,e)).lanes=r,t}function Nc(t,e,r,n){return(t=Ac(22,t,n,e)).elementType=I,t.lanes=r,t.stateNode={isHidden:!1},t}function Fc(t,e,r){return(t=Ac(6,t,null,e)).lanes=r,t}function Mc(t,e,r){return(e=Ac(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bc(t,e,r,n,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ve(0),this.expirationTimes=ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(t,e,r,n,o,i,a,u,s){return t=new Bc(t,e,r,u,s),1===e?(e=1,!0===i&&(e|=8)):e=0,i=Ac(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ci(i),t}function zc(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}function Gc(t){if(!t)return To;t:{if(Gt(t=t._reactInternals)!==t||1!==t.tag)throw Error(i(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Io(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(i(171))}if(1===t.tag){var r=t.type;if(Io(r))return No(t,r,e)}return e}function qc(t,e,r,n,o,i,a,u,s){return(t=Uc(r,n,!0,t,0,i,0,u,s)).context=Gc(null),r=t.current,(i=Ri(n=tc(),o=ec(r))).callback=void 0!==e&&null!==e?e:null,Di(r,i,o),t.current.lanes=o,me(t,o,n),nc(t,n),t}function Hc(t,e,r,n){var o=e.current,i=tc(),a=ec(o);return r=Gc(r),null===e.context?e.context=r:e.pendingContext=r,(e=Ri(i,a)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Di(o,e,a))&&(rc(t,o,a,i),Ni(t,o,a)),a}function Vc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $c(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function Wc(t,e){$c(t,e),(t=t.alternate)&&$c(t,e)}Os=function(t,e,r){if(null!==t)if(t.memoizedProps!==e.pendingProps||Po.current)wu=!0;else{if(0===(t.lanes&r)&&0===(128&e.flags))return wu=!1,function(t,e,r){switch(e.tag){case 3:Pu(e),di();break;case 5:aa(e);break;case 1:Io(e.type)&&Fo(e);break;case 4:oa(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,o=e.memoizedProps.value;jo(gi,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(jo(sa,1&sa.current),e.flags|=128,null):0!==(r&e.child.childLanes)?Fu(t,e,r):(jo(sa,1&sa.current),null!==(t=Hu(t,e,r))?t.sibling:null);jo(sa,1&sa.current);break;case 19:if(n=0!==(r&e.childLanes),0!==(128&t.flags)){if(n)return Gu(t,e,r);e.flags|=128}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),jo(sa,sa.current),n)break;return null;case 22:case 23:return e.lanes=0,xu(t,e,r)}return Hu(t,e,r)}(t,e,r);wu=0!==(131072&t.flags)}else wu=!1,ii&&0!==(1048576&e.flags)&&ti(e,Wo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qu(t,e),t=e.pendingProps;var o=Co(e,Lo.current);xi(e,r),o=Sa(null,e,n,t,o,r);var a=xa();return e.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Io(n)?(a=!0,Fo(e)):a=!1,e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ci(e),o.updater=Gi,e.stateNode=o,o._reactInternals=e,$i(e,n,t,r),e=Lu(null,e,n,!0,a,r)):(e.tag=0,ii&&a&&ei(e),_u(null,e,o,r),e=e.child),e;case 16:n=e.elementType;t:{switch(qu(t,e),t=e.pendingProps,n=(o=n._init)(n._payload),e.type=n,o=e.tag=function(t){if("function"===typeof t)return Cc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===A)return 14}return 2}(n),t=mi(n,t),o){case 0:e=ju(null,e,n,t,r);break t;case 1:e=Tu(null,e,n,t,r);break t;case 11:e=Eu(null,e,n,t,r);break t;case 14:e=Ou(null,e,n,mi(n.type,t),r);break t}throw Error(i(306,n,""))}return e;case 0:return n=e.type,o=e.pendingProps,ju(t,e,n,o=e.elementType===n?o:mi(n,o),r);case 1:return n=e.type,o=e.pendingProps,Tu(t,e,n,o=e.elementType===n?o:mi(n,o),r);case 3:t:{if(Pu(e),null===t)throw Error(i(387));n=e.pendingProps,o=(a=e.memoizedState).element,Ii(t,e),Mi(e,n,null,r);var u=e.memoizedState;if(n=u.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Au(t,e,n,r,o=lu(Error(i(423)),e));break t}if(n!==o){e=Au(t,e,n,r,o=lu(Error(i(424)),e));break t}for(oi=co(e.stateNode.containerInfo.firstChild),ni=e,ii=!0,ai=null,r=Ji(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(di(),n===o){e=Hu(t,e,r);break t}_u(t,e,n,r)}e=e.child}return e;case 5:return aa(e),null===t&&li(e),n=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,u=o.children,ro(n,o)?u=null:null!==a&&ro(n,a)&&(e.flags|=32),ku(t,e),_u(t,e,u,r),e.child;case 6:return null===t&&li(e),null;case 13:return Fu(t,e,r);case 4:return oa(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Xi(e,null,n,r):_u(t,e,n,r),e.child;case 11:return n=e.type,o=e.pendingProps,Eu(t,e,n,o=e.elementType===n?o:mi(n,o),r);case 7:return _u(t,e,e.pendingProps,r),e.child;case 8:case 12:return _u(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(n=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,jo(gi,n._currentValue),n._currentValue=u,null!==a)if(un(a.value,u)){if(a.children===o.children&&!Po.current){e=Hu(t,e,r);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var c=s.firstContext;null!==c;){if(c.context===n){if(1===a.tag){(c=Ri(-1,r&-r)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=r,null!==(c=a.alternate)&&(c.lanes|=r),Si(a.return,r,e),s.lanes|=r;break}c=c.next}}else if(10===a.tag)u=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(i(341));u.lanes|=r,null!==(s=u.alternate)&&(s.lanes|=r),Si(u,r,e),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===e){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}_u(t,e,o.children,r),e=e.child}return e;case 9:return o=e.type,n=e.pendingProps.children,xi(e,r),n=n(o=ki(o)),e.flags|=1,_u(t,e,n,r),e.child;case 14:return o=mi(n=e.type,e.pendingProps),Ou(t,e,n,o=mi(n.type,o),r);case 15:return Su(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:mi(n,o),qu(t,e),e.tag=1,Io(n)?(t=!0,Fo(e)):t=!1,xi(e,r),Hi(e,n,o),$i(e,n,o,r),Lu(null,e,n,!0,t,r);case 19:return Gu(t,e,r);case 22:return xu(t,e,r)}throw Error(i(156,e.tag))};var Kc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function Qc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tl(t,e,r,n,o){var i=r._reactRootContainer;if(i){var a=i;if("function"===typeof o){var u=o;o=function(){var t=Vc(a);u.call(t)}}Hc(e,a,t,o)}else a=function(t,e,r,n,o){if(o){if("function"===typeof n){var i=n;n=function(){var t=Vc(a);i.call(t)}}var a=qc(e,n,t,0,null,!1,0,"",Zc);return t._reactRootContainer=a,t[yo]=a.current,Gn(8===t.nodeType?t.parentNode:t),lc(),a}for(;o=t.lastChild;)t.removeChild(o);if("function"===typeof n){var u=n;n=function(){var t=Vc(s);u.call(t)}}var s=Uc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=s,t[yo]=s.current,Gn(8===t.nodeType?t.parentNode:t),lc((function(){Hc(e,s,r,n)})),s}(r,e,t,o,n);return Vc(a)}Qc.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(i(409));Hc(t,e,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;lc((function(){Hc(null,t,null,null)})),e[yo]=null}},Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ie.length&&0!==e&&e<Ie[r].priority;r++);Ie.splice(r,0,t),0===r&&Fe(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fe(e.pendingLanes);0!==r&&(ge(e,1|r),nc(e,Xt()),0===(6&Ts)&&(Gs=Xt()+500,qo()))}break;case 13:lc((function(){var e=Pi(t,1);if(null!==e){var r=tc();rc(e,t,1,r)}})),Wc(t,1)}},Ee=function(t){if(13===t.tag){var e=Pi(t,134217728);if(null!==e)rc(e,t,134217728,tc());Wc(t,134217728)}},Oe=function(t){if(13===t.tag){var e=ec(t),r=Pi(t,e);if(null!==r)rc(r,t,e,tc());Wc(t,e)}},Se=function(){return be},xe=function(t,e){var r=be;try{return be=t,e()}finally{be=r}},Et=function(t,e,r){switch(e){case"input":if(J(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var o=Eo(n);if(!o)throw Error(i(90));W(n),J(n,o)}}}break;case"textarea":it(t,r);break;case"select":null!=(e=r.value)&&rt(t,!!r.multiple,e,!1)}},Tt=cc,Lt=lc;var el={usingClientEntryPoint:!1,Events:[wo,_o,Eo,kt,jt,cc]},rl={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nl={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Vt(t))?null:t.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{oe=ol.inject(nl),ie=ol}catch(lt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,e.createPortal=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(i(200));return zc(t,e,null,r)},e.createRoot=function(t,e){if(!Xc(t))throw Error(i(299));var r=!1,n="",o=Kc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(r=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(o=e.onRecoverableError)),e=Uc(t,1,!1,null,0,r,0,n,o),t[yo]=e.current,Gn(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(i(188));throw t=Object.keys(t).join(","),Error(i(268,t))}return t=null===(t=Vt(e))?null:t.stateNode},e.flushSync=function(t){return lc(t)},e.hydrate=function(t,e,r){if(!Jc(e))throw Error(i(200));return tl(null,t,e,!0,r)},e.hydrateRoot=function(t,e,r){if(!Xc(t))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,o=!1,a="",u=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(u=r.onRecoverableError)),e=qc(e,null,t,1,null!=r?r:null,o,0,a,u),t[yo]=e.current,Gn(t),n)for(t=0;t<n.length;t++)o=(o=(r=n[t])._getVersion)(r._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[r,o]:e.mutableSourceEagerHydrationData.push(r,o);return new Qc(e)},e.render=function(t,e,r){if(!Jc(e))throw Error(i(200));return tl(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(i(40));return!!t._reactRootContainer&&(lc((function(){tl(null,null,t,!1,(function(){t._reactRootContainer=null,t[yo]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Jc(r))throw Error(i(200));if(null==t||void 0===t._reactInternals)throw Error(i(38));return tl(t,e,r,!1,n)},e.version="18.2.0-next-9e3b772b8-20220608"},function(t,e,r){"use strict";t.exports=r(136)},function(t,e,r){"use strict";(function(t){function r(t,e){var r=t.length;t.push(e);t:for(;0<r;){var n=r-1>>>1,o=t[n];if(!(0<i(o,e)))break t;t[n]=e,t[r]=o,r=n}}function n(t){return 0===t.length?null:t[0]}function o(t){if(0===t.length)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,o=t.length,a=o>>>1;n<a;){var u=2*(n+1)-1,s=t[u],c=u+1,l=t[c];if(0>i(s,r))c<o&&0>i(l,s)?(t[n]=l,t[c]=r,n=c):(t[n]=s,t[u]=r,n=u);else{if(!(c<o&&0>i(l,r)))break t;t[n]=l,t[c]=r,n=c}}}return e}function i(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();e.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,p=3,d=!1,y=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof t?t:null;function w(t){for(var e=n(l);null!==e;){if(null===e.callback)o(l);else{if(!(e.startTime<=t))break;o(l),e.sortIndex=e.expirationTime,r(c,e)}e=n(l)}}function _(t){if(v=!1,w(t),!y)if(null!==n(c))y=!0,I(E);else{var e=n(l);null!==e&&R(_,e.startTime-t)}}function E(t,r){y=!1,v&&(v=!1,g(k),k=-1),d=!0;var i=p;try{for(w(r),h=n(c);null!==h&&(!(h.expirationTime>r)||t&&!L());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var u=a(h.expirationTime<=r);r=e.unstable_now(),"function"===typeof u?h.callback=u:h===n(c)&&o(c),w(r)}else o(c);h=n(c)}if(null!==h)var s=!0;else{var f=n(l);null!==f&&R(_,f.startTime-r),s=!1}return s}finally{h=null,p=i,d=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,S=!1,x=null,k=-1,j=5,T=-1;function L(){return!(e.unstable_now()-T<j)}function P(){if(null!==x){var t=e.unstable_now();T=t;var r=!0;try{r=x(!0,t)}finally{r?O():(S=!1,x=null)}}else S=!1}if("function"===typeof b)O=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,C=A.port2;A.port1.onmessage=P,O=function(){C.postMessage(null)}}else O=function(){m(P,0)};function I(t){x=t,S||(S=!0,O())}function R(t,r){k=m((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){y||d||(y=!0,I(E))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var r=p;p=e;try{return t()}finally{p=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=p;p=t;try{return e()}finally{p=r}},e.unstable_scheduleCallback=function(t,o,i){var a=e.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:f++,callback:o,priorityLevel:t,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>a?(t.sortIndex=i,r(l,t),null===n(c)&&t===n(l)&&(v?(g(k),k=-1):v=!0,R(_,i-a))):(t.sortIndex=u,r(c,t),y||d||(y=!0,I(E))),t},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(t){var e=p;return function(){var r=p;p=e;try{return t.apply(this,arguments)}finally{p=r}}}}).call(this,r(57).setImmediate)},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,o=1,i={},a=!1,u=t.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(t);s=s&&s.setTimeout?s:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){l(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"===typeof r.data&&0===r.data.indexOf(e)&&l(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),n=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},n=function(e){t.port2.postMessage(e)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var t=u.documentElement;n=function(e){var r=u.createElement("script");r.onreadystatechange=function(){l(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():n=function(t){setTimeout(l,0,t)},s.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var a={callback:t,args:e};return i[o]=a,n(o),o++},s.clearImmediate=c}function c(t){delete i[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=i[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{c(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,r(31),r(58))},,function(t,e,r){"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(t,e,r){this.props=t,this.context=e,this.refs=m,this.updater=r||y}function b(){}function w(t,e,r){this.props=t,this.context=e,this.refs=m,this.updater=r||y}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=g.prototype;var _=w.prototype=new b;_.constructor=w,v(_,g.prototype),_.isPureReactComponent=!0;var E=Array.isArray,O=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,r){var o,i={},a=null,u=null;if(null!=e)for(o in void 0!==e.ref&&(u=e.ref),void 0!==e.key&&(a=""+e.key),e)O.call(e,o)&&!x.hasOwnProperty(o)&&(i[o]=e[o]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(o in s=t.defaultProps)void 0===i[o]&&(i[o]=s[o]);return{$$typeof:n,type:t,key:a,ref:u,props:i,_owner:S.current}}function j(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function L(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,r,i,a){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var s=!1;if(null===t)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case n:case o:s=!0}}if(s)return a=a(s=t),t=""===i?"."+L(s,0):i,E(a)?(r="",null!=t&&(r=t.replace(T,"$&/")+"/"),P(a,e,r,"",(function(t){return t}))):null!=a&&(j(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(s=0,i=""===i?".":i+":",E(t))for(var c=0;c<t.length;c++){var l=i+L(u=t[c],c);s+=P(u,e,r,l,a)}else if(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof l)for(t=l.call(t),c=0;!(u=t.next()).done;)s+=P(u=u.value,e,r,l=i+L(u,c++),a);else if("object"===u)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function A(t,e,r){if(null==t)return t;var n=[],o=0;return P(t,n,"","",(function(t){return e.call(r,t,o++)})),n}function C(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var I={current:null},R={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};e.Children={map:A,forEach:function(t,e,r){A(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!j(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=g,e.Fragment=i,e.Profiler=u,e.PureComponent=w,e.StrictMode=a,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=v({},t.props),i=t.key,a=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,u=S.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)O.call(e,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==s?s[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];o.children=s}return{$$typeof:n,type:t.type,key:i,ref:a,props:o,_owner:u}},e.createContext=function(t){return(t={$$typeof:c,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=j,e.lazy=function(t){return{$$typeof:p,_payload:{_status:-1,_result:t},_init:C}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=R.transition;R.transition={};try{t()}finally{R.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return I.current.useCallback(t,e)},e.useContext=function(t){return I.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return I.current.useDeferredValue(t)},e.useEffect=function(t,e){return I.current.useEffect(t,e)},e.useId=function(){return I.current.useId()},e.useImperativeHandle=function(t,e,r){return I.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return I.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return I.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return I.current.useMemo(t,e)},e.useReducer=function(t,e,r){return I.current.useReducer(t,e,r)},e.useRef=function(t){return I.current.useRef(t)},e.useState=function(t){return I.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return I.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return I.current.useTransition()},e.version="18.2.0"},function(t,e,r){"use strict";var n=r(141);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,r,o,i,a){if(a!==n){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"Helmet",(function(){return ft}));var n=r(2),o=r.n(n),i=r(117),a=r.n(i),u=r(118),s=r.n(u),c=r(0),l=r.n(c),f=r(119),h=r.n(f),p="bodyAttributes",d="htmlAttributes",y="titleAttributes",v={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},m=(Object.keys(v).map((function(t){return v[t]})),"charset"),g="cssText",b="href",w="http-equiv",_="innerHTML",E="itemprop",O="name",S="property",x="rel",k="src",j="target",T={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},L="defaultTitle",P="defer",A="encodeSpecialCharacters",C="onChangeClientState",I="titleTemplate",R=Object.keys(T).reduce((function(t,e){return t[T[e]]=e,t}),{}),D=[v.NOSCRIPT,v.SCRIPT,v.STYLE],N="data-react-helmet",F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},B=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},G=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},q=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===e?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},H=function(t){var e=Y(t,v.TITLE),r=Y(t,I);if(r&&e)return r.replace(/%s/g,(function(){return Array.isArray(e)?e.join(""):e}));var n=Y(t,L);return e||n||void 0},V=function(t){return Y(t,C)||function(){}},$=function(t,e){return e.filter((function(e){return"undefined"!==typeof e[t]})).map((function(e){return e[t]})).reduce((function(t,e){return U({},t,e)}),{})},W=function(t,e){return e.filter((function(t){return"undefined"!==typeof t[v.BASE]})).map((function(t){return t[v.BASE]})).reverse().reduce((function(e,r){if(!e.length)for(var n=Object.keys(r),o=0;o<n.length;o++){var i=n[o].toLowerCase();if(-1!==t.indexOf(i)&&r[i])return e.concat(r)}return e}),[])},K=function(t,e,r){var n={};return r.filter((function(e){return!!Array.isArray(e[t])||("undefined"!==typeof e[t]&&tt("Helmet: "+t+' should be of type "Array". Instead found type "'+F(e[t])+'"'),!1)})).map((function(e){return e[t]})).reverse().reduce((function(t,r){var o={};r.filter((function(t){for(var r=void 0,i=Object.keys(t),a=0;a<i.length;a++){var u=i[a],s=u.toLowerCase();-1===e.indexOf(s)||r===x&&"canonical"===t[r].toLowerCase()||s===x&&"stylesheet"===t[s].toLowerCase()||(r=s),-1===e.indexOf(u)||u!==_&&u!==g&&u!==E||(r=u)}if(!r||!t[r])return!1;var c=t[r].toLowerCase();return n[r]||(n[r]={}),o[r]||(o[r]={}),!n[r][c]&&(o[r][c]=!0,!0)})).reverse().forEach((function(e){return t.push(e)}));for(var i=Object.keys(o),a=0;a<i.length;a++){var u=i[a],s=h()({},n[u],o[u]);n[u]=s}return t}),[]).reverse()},Y=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.hasOwnProperty(e))return n[e]}return null},Q=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout((function(){Q(e)}),0)}}(),X=function(t){return clearTimeout(t)},J="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Q:t.requestAnimationFrame||Q,Z="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||X:t.cancelAnimationFrame||X,tt=function(t){return console&&"function"===typeof console.warn&&console.warn(t)},et=null,rt=function(t,e){var r=t.baseTag,n=t.bodyAttributes,o=t.htmlAttributes,i=t.linkTags,a=t.metaTags,u=t.noscriptTags,s=t.onChangeClientState,c=t.scriptTags,l=t.styleTags,f=t.title,h=t.titleAttributes;it(v.BODY,n),it(v.HTML,o),ot(f,h);var p={baseTag:at(v.BASE,r),linkTags:at(v.LINK,i),metaTags:at(v.META,a),noscriptTags:at(v.NOSCRIPT,u),scriptTags:at(v.SCRIPT,c),styleTags:at(v.STYLE,l)},d={},y={};Object.keys(p).forEach((function(t){var e=p[t],r=e.newTags,n=e.oldTags;r.length&&(d[t]=r),n.length&&(y[t]=p[t].oldTags)})),e&&e(),s(t,d,y)},nt=function(t){return Array.isArray(t)?t.join(""):t},ot=function(t,e){"undefined"!==typeof t&&document.title!==t&&(document.title=nt(t)),it(v.TITLE,e)},it=function(t,e){var r=document.getElementsByTagName(t)[0];if(r){for(var n=r.getAttribute(N),o=n?n.split(","):[],i=[].concat(o),a=Object.keys(e),u=0;u<a.length;u++){var s=a[u],c=e[s]||"";r.getAttribute(s)!==c&&r.setAttribute(s,c),-1===o.indexOf(s)&&o.push(s);var l=i.indexOf(s);-1!==l&&i.splice(l,1)}for(var f=i.length-1;f>=0;f--)r.removeAttribute(i[f]);o.length===i.length?r.removeAttribute(N):r.getAttribute(N)!==a.join(",")&&r.setAttribute(N,a.join(","))}},at=function(t,e){var r=document.head||document.querySelector(v.HEAD),n=r.querySelectorAll(t+"["+"data-react-helmet]"),o=Array.prototype.slice.call(n),i=[],a=void 0;return e&&e.length&&e.forEach((function(e){var r=document.createElement(t);for(var n in e)if(e.hasOwnProperty(n))if(n===_)r.innerHTML=e.innerHTML;else if(n===g)r.styleSheet?r.styleSheet.cssText=e.cssText:r.appendChild(document.createTextNode(e.cssText));else{var u="undefined"===typeof e[n]?"":e[n];r.setAttribute(n,u)}r.setAttribute(N,"true"),o.some((function(t,e){return a=e,r.isEqualNode(t)}))?o.splice(a,1):i.push(r)})),o.forEach((function(t){return t.parentNode.removeChild(t)})),i.forEach((function(t){return r.appendChild(t)})),{oldTags:o,newTags:i}},ut=function(t){return Object.keys(t).reduce((function(e,r){var n="undefined"!==typeof t[r]?r+'="'+t[r]+'"':""+r;return e?e+" "+n:n}),"")},st=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,r){return e[T[r]||r]=t[r],e}),e)},ct=function(t,e,r){switch(t){case v.TITLE:return{toComponent:function(){return function(t,e,r){var n,o=((n={key:e})[N]=!0,n),i=st(r,o);return[l.a.createElement(v.TITLE,i,e)]}(0,e.title,e.titleAttributes)},toString:function(){return function(t,e,r,n){var o=ut(r),i=nt(e);return o?"<"+t+' data-react-helmet="true" '+o+">"+q(i,n)+"</"+t+">":"<"+t+' data-react-helmet="true">'+q(i,n)+"</"+t+">"}(t,e.title,e.titleAttributes,r)}};case p:case d:return{toComponent:function(){return st(e)},toString:function(){return ut(e)}};default:return{toComponent:function(){return function(t,e){return e.map((function(e,r){var n,o=((n={key:r})[N]=!0,n);return Object.keys(e).forEach((function(t){var r=T[t]||t;if(r===_||r===g){var n=e.innerHTML||e.cssText;o.dangerouslySetInnerHTML={__html:n}}else o[r]=e[t]})),l.a.createElement(t,o)}))}(t,e)},toString:function(){return function(t,e,r){return e.reduce((function(e,n){var o=Object.keys(n).filter((function(t){return!(t===_||t===g)})).reduce((function(t,e){var o="undefined"===typeof n[e]?e:e+'="'+q(n[e],r)+'"';return t?t+" "+o:o}),""),i=n.innerHTML||n.cssText||"",a=-1===D.indexOf(t);return e+"<"+t+' data-react-helmet="true" '+o+(a?"/>":">"+i+"</"+t+">")}),"")}(t,e,r)}}}},lt=function(t){var e=t.baseTag,r=t.bodyAttributes,n=t.encode,o=t.htmlAttributes,i=t.linkTags,a=t.metaTags,u=t.noscriptTags,s=t.scriptTags,c=t.styleTags,l=t.title,f=void 0===l?"":l,h=t.titleAttributes;return{base:ct(v.BASE,e,n),bodyAttributes:ct(p,r,n),htmlAttributes:ct(d,o,n),link:ct(v.LINK,i,n),meta:ct(v.META,a,n),noscript:ct(v.NOSCRIPT,u,n),script:ct(v.SCRIPT,s,n),style:ct(v.STYLE,c,n),title:ct(v.TITLE,{title:f,titleAttributes:h},n)}},ft=function(t){var e,r;return r=e=function(e){function r(){return M(this,r),G(this,e.apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,e),r.prototype.shouldComponentUpdate=function(t){return!s()(this.props,t)},r.prototype.mapNestedChildrenToProps=function(t,e){if(!e)return null;switch(t.type){case v.SCRIPT:case v.NOSCRIPT:return{innerHTML:e};case v.STYLE:return{cssText:e}}throw new Error("<"+t.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(t){var e,r=t.child,n=t.arrayTypeChildren,o=t.newChildProps,i=t.nestedChildren;return U({},n,((e={})[r.type]=[].concat(n[r.type]||[],[U({},o,this.mapNestedChildrenToProps(r,i))]),e))},r.prototype.mapObjectTypeChildren=function(t){var e,r,n=t.child,o=t.newProps,i=t.newChildProps,a=t.nestedChildren;switch(n.type){case v.TITLE:return U({},o,((e={})[n.type]=a,e.titleAttributes=U({},i),e));case v.BODY:return U({},o,{bodyAttributes:U({},i)});case v.HTML:return U({},o,{htmlAttributes:U({},i)})}return U({},o,((r={})[n.type]=U({},i),r))},r.prototype.mapArrayTypeChildrenToProps=function(t,e){var r=U({},e);return Object.keys(t).forEach((function(e){var n;r=U({},r,((n={})[e]=t[e],n))})),r},r.prototype.warnOnInvalidChildren=function(t,e){return!0},r.prototype.mapChildrenToProps=function(t,e){var r=this,n={};return l.a.Children.forEach(t,(function(t){if(t&&t.props){var o=t.props,i=o.children,a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,r){return e[R[r]||r]=t[r],e}),e)}(z(o,["children"]));switch(r.warnOnInvalidChildren(t,i),t.type){case v.LINK:case v.META:case v.NOSCRIPT:case v.SCRIPT:case v.STYLE:n=r.flattenArrayTypeChildren({child:t,arrayTypeChildren:n,newChildProps:a,nestedChildren:i});break;default:e=r.mapObjectTypeChildren({child:t,newProps:e,newChildProps:a,nestedChildren:i})}}})),e=this.mapArrayTypeChildrenToProps(n,e)},r.prototype.render=function(){var e=this.props,r=e.children,n=z(e,["children"]),o=U({},n);return r&&(o=this.mapChildrenToProps(r,o)),l.a.createElement(t,o)},B(r,null,[{key:"canUseDOM",set:function(e){t.canUseDOM=e}}]),r}(l.a.Component),e.propTypes={base:o.a.object,bodyAttributes:o.a.object,children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]),defaultTitle:o.a.string,defer:o.a.bool,encodeSpecialCharacters:o.a.bool,htmlAttributes:o.a.object,link:o.a.arrayOf(o.a.object),meta:o.a.arrayOf(o.a.object),noscript:o.a.arrayOf(o.a.object),onChangeClientState:o.a.func,script:o.a.arrayOf(o.a.object),style:o.a.arrayOf(o.a.object),title:o.a.string,titleAttributes:o.a.object,titleTemplate:o.a.string},e.defaultProps={defer:!0,encodeSpecialCharacters:!0},e.peek=t.peek,e.rewind=function(){var e=t.rewind();return e||(e=lt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},r}(a()((function(t){return{baseTag:W([b,j],t),bodyAttributes:$(p,t),defer:Y(t,P),encode:Y(t,A),htmlAttributes:$(d,t),linkTags:K(v.LINK,[x,b],t),metaTags:K(v.META,[O,m,w,S,E],t),noscriptTags:K(v.NOSCRIPT,[_],t),onChangeClientState:V(t),scriptTags:K(v.SCRIPT,[k,_],t),styleTags:K(v.STYLE,[g],t),title:H(t),titleAttributes:$(y,t)}}),(function(t){et&&Z(et),t.defer?et=J((function(){rt(t,(function(){et=null}))})):(rt(t),et=null)}),lt)((function(){return null})));ft.renderStatic=ft.rewind,e.default=ft}.call(this,r(31))},function(t,e,r){(function(e){var n=r(144).default,o=r(145).default,i=r(146).default,a=r(147).default,u=r(82).default,s=r(151).default,c=r(79).default,l=r(153).default,f=r(154).default,h=r(158).default,p=r(159).default,d=r(85).default,y=r(160).default,v=r(161).default;"undefined"!=typeof self&&self,t.exports=function(){var t={540:function(t){function e(){}t.exports=function(t,r,n){var o=!1;return n=n||e,i.count=t,0===t?r():i;function i(t,e){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(o=!0,r(t),r=n):0!==i.count||o||r(null,e)}}},696:function(t){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(r-e),a=e,u=0;a<r;a++,u++)i[u]=o[a];return i.buffer}},1696:function(t,e,r){"use strict";var n=r(4406);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i,a,u=r(7515).codes,s=u.ERR_AMBIGUOUS_ARGUMENT,c=u.ERR_INVALID_ARG_TYPE,l=u.ERR_INVALID_ARG_VALUE,f=u.ERR_INVALID_RETURN_VALUE,h=u.ERR_MISSING_ARGS,p=r(4082),d=r(3335).inspect,y=r(3335).types,v=y.isPromise,m=y.isRegExp,g=Object.assign?Object.assign:r(4956).assign,b=Object.is?Object.is:r(4679);function w(){var t=r(6796);i=t.isDeepEqual,a=t.isDeepStrictEqual}new Map;var _=!1,E=t.exports=k,O={};function S(t){if(t.message instanceof Error)throw t.message;throw new p(t)}function x(t,e,r,n){if(!r){var o=!1;if(0===e)o=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var i=new p({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw i.generatedMessage=o,i}}function k(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];x.apply(void 0,[k,e.length].concat(e))}E.fail=function t(e,r,o,i,a){var u,s=arguments.length;if(0===s?u="Failed":1===s?(o=e,e=void 0):(!1===_&&(_=!0,(n.emitWarning?n.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===s&&(i="!=")),o instanceof Error)throw o;var c={actual:e,expected:r,operator:void 0===i?"fail":i,stackStartFn:a||t};void 0!==o&&(c.message=o);var l=new p(c);throw u&&(l.message=u,l.generatedMessage=!0),l},E.AssertionError=p,E.ok=k,E.equal=function t(e,r,n){if(arguments.length<2)throw new h("actual","expected");e!=r&&S({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},E.notEqual=function t(e,r,n){if(arguments.length<2)throw new h("actual","expected");e==r&&S({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},E.deepEqual=function t(e,r,n){if(arguments.length<2)throw new h("actual","expected");void 0===i&&w(),i(e,r)||S({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},E.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new h("actual","expected");void 0===i&&w(),i(e,r)&&S({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},E.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new h("actual","expected");void 0===i&&w(),a(e,r)||S({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},E.notDeepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new h("actual","expected");void 0===i&&w(),a(e,r)&&S({actual:e,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:t})},E.strictEqual=function t(e,r,n){if(arguments.length<2)throw new h("actual","expected");b(e,r)||S({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},E.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new h("actual","expected");b(e,r)&&S({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var j=function t(e,r,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.forEach((function(t){t in e&&(void 0!==n&&"string"==typeof n[t]&&m(e[t])&&e[t].test(n[t])?o[t]=n[t]:o[t]=e[t])}))};function T(t,e,r,n,o,i){if(!(r in t)||!a(t[r],e[r])){if(!n){var u=new j(t,o),s=new j(e,o,t),c=new p({actual:u,expected:s,operator:"deepStrictEqual",stackStartFn:i});throw c.actual=t,c.expected=e,c.operator=i.name,c}S({actual:t,expected:e,message:n,operator:i.name,stackStartFn:i})}}function L(t,e,r,n){if("function"!=typeof e){if(m(e))return e.test(t);if(2===arguments.length)throw new c("expected",["Function","RegExp"],e);if("object"!==o(t)||null===t){var a=new p({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw a.operator=n.name,a}var u=Object.keys(e);if(e instanceof Error)u.push("name","message");else if(0===u.length)throw new l("error",e,"may not be an empty object");return void 0===i&&w(),u.forEach((function(o){"string"==typeof t[o]&&m(e[o])&&e[o].test(t[o])||T(t,e,o,r,u,n)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function P(t){if("function"!=typeof t)throw new c("fn","Function",t);try{t()}catch(t){return t}return O}function A(t){return v(t)||null!==t&&"object"===o(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function C(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!A(e=t()))throw new f("instance of Promise","promiseFn",e)}else{if(!A(t))throw new c("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return O})).catch((function(t){return t}))}))}function I(t,e,r,n){if("string"==typeof r){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],r);if("object"===o(e)&&null!==e){if(e.message===r)throw new s("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new s("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==o(r)&&"function"!=typeof r)throw new c("error",["Object","Error","Function","RegExp"],r);if(e===O){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var a="rejects"===t.name?"rejection":"exception";S({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(a).concat(i),stackStartFn:t})}if(r&&!L(e,r,n,t))throw e}function R(t,e,r,n){if(e!==O){if("string"==typeof r&&(n=r,r=void 0),!r||L(e,r)){var o=n?": ".concat(n):".",i="doesNotReject"===t.name?"rejection":"exception";S({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(i).concat(o,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function D(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];x.apply(void 0,[D,e.length].concat(e))}E.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];I.apply(void 0,[t,P(e)].concat(n))},E.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return C(e).then((function(e){return I.apply(void 0,[t,e].concat(n))}))},E.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];R.apply(void 0,[t,P(e)].concat(n))},E.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return C(e).then((function(e){return R.apply(void 0,[t,e].concat(n))}))},E.ifError=function t(e){if(null!=e){var r="ifError got unwanted exception: ";"object"===o(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?r+=e.constructor.name:r+=e.message:r+=d(e);var n=new p({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if("string"==typeof i){var a=i.split("\n");a.shift();for(var u=n.stack.split("\n"),s=0;s<a.length;s++){var c=u.indexOf(a[s]);if(-1!==c){u=u.slice(0,c);break}}n.stack="".concat(u.join("\n"),"\n").concat(a.join("\n"))}throw n}},E.strict=g(D,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},4082:function(t,e,r){"use strict";var n=r(4406);function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){var e="function"==typeof Map?new Map:void 0;return s=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return l(t,arguments,h(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,t)},s(t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,r){return l=c()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&f(o,r.prototype),o},l.apply(null,arguments)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}var d=r(3335).inspect,y=r(7515).codes.ERR_INVALID_ARG_TYPE;function v(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}var m="",g="",b="",w="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function E(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){r[e]=t[e]})),Object.defineProperty(r,"message",{value:t.message}),r}function O(t){return d(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var S=function(t){function e(t){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==p(t)||null===t)throw new y("options","Object",t);var o=t.message,i=t.operator,s=t.stackStartFn,c=t.actual,l=t.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=o)r=a(this,h(e).call(this,String(o)));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(m="\x1b[34m",g="\x1b[32m",w="\x1b[39m",b="\x1b[31m"):(m="",g="",w="",b="")),"object"===p(c)&&null!==c&&"object"===p(l)&&null!==l&&"stack"in c&&c instanceof Error&&"stack"in l&&l instanceof Error&&(c=E(c),l=E(l)),"deepStrictEqual"===i||"strictEqual"===i)r=a(this,h(e).call(this,function(t,e,r){var o="",i="",a=0,u="",s=!1,c=O(t),l=c.split("\n"),f=O(e).split("\n"),h=0,d="";if("strictEqual"===r&&"object"===p(t)&&"object"===p(e)&&null!==t&&null!==e&&(r="strictEqualObject"),1===l.length&&1===f.length&&l[0]!==f[0]){var y=l[0].length+f[0].length;if(y<=10){if(!("object"===p(t)&&null!==t||"object"===p(e)&&null!==e||0===t&&0===e))return"".concat(_[r],"\n\n")+"".concat(l[0]," !== ").concat(f[0],"\n")}else if("strictEqualObject"!==r&&y<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;l[0][h]===f[0][h];)h++;h>2&&(d="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,r-t.length)}(" ",h),"^"),h=0)}}for(var E=l[l.length-1],S=f[f.length-1];E===S&&(h++<2?u="\n  ".concat(E).concat(u):o=E,l.pop(),f.pop(),0!==l.length&&0!==f.length);)E=l[l.length-1],S=f[f.length-1];var x=Math.max(l.length,f.length);if(0===x){var k=c.split("\n");if(k.length>30)for(k[26]="".concat(m,"...").concat(w);k.length>27;)k.pop();return"".concat(_.notIdentical,"\n\n").concat(k.join("\n"),"\n")}h>3&&(u="\n".concat(m,"...").concat(w).concat(u),s=!0),""!==o&&(u="\n  ".concat(o).concat(u),o="");var j=0,T=_[r]+"\n".concat(g,"+ actual").concat(w," ").concat(b,"- expected").concat(w),L=" ".concat(m,"...").concat(w," Lines skipped");for(h=0;h<x;h++){var P=h-a;if(l.length<h+1)P>1&&h>2&&(P>4?(i+="\n".concat(m,"...").concat(w),s=!0):P>3&&(i+="\n  ".concat(f[h-2]),j++),i+="\n  ".concat(f[h-1]),j++),a=h,o+="\n".concat(b,"-").concat(w," ").concat(f[h]),j++;else if(f.length<h+1)P>1&&h>2&&(P>4?(i+="\n".concat(m,"...").concat(w),s=!0):P>3&&(i+="\n  ".concat(l[h-2]),j++),i+="\n  ".concat(l[h-1]),j++),a=h,i+="\n".concat(g,"+").concat(w," ").concat(l[h]),j++;else{var A=f[h],C=l[h],I=C!==A&&(!v(C,",")||C.slice(0,-1)!==A);I&&v(A,",")&&A.slice(0,-1)===C&&(I=!1,C+=","),I?(P>1&&h>2&&(P>4?(i+="\n".concat(m,"...").concat(w),s=!0):P>3&&(i+="\n  ".concat(l[h-2]),j++),i+="\n  ".concat(l[h-1]),j++),a=h,i+="\n".concat(g,"+").concat(w," ").concat(C),o+="\n".concat(b,"-").concat(w," ").concat(A),j+=2):(i+=o,o="",1!==P&&0!==h||(i+="\n  ".concat(C),j++))}if(j>20&&h<x-2)return"".concat(T).concat(L,"\n").concat(i,"\n").concat(m,"...").concat(w).concat(o,"\n")+"".concat(m,"...").concat(w)}return"".concat(T).concat(s?L:"","\n").concat(i).concat(o).concat(u).concat(d)}(c,l,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var d=_[i],S=O(c).split("\n");if("notStrictEqual"===i&&"object"===p(c)&&null!==c&&(d=_.notStrictEqualObject),S.length>30)for(S[26]="".concat(m,"...").concat(w);S.length>27;)S.pop();r=1===S.length?a(this,h(e).call(this,"".concat(d," ").concat(S[0]))):a(this,h(e).call(this,"".concat(d,"\n\n").concat(S.join("\n"),"\n")))}else{var x=O(c),k="",j=_[i];"notDeepEqual"===i||"notEqual"===i?(x="".concat(_[i],"\n\n").concat(x)).length>1024&&(x="".concat(x.slice(0,1021),"...")):(k="".concat(O(l)),x.length>512&&(x="".concat(x.slice(0,509),"...")),k.length>512&&(k="".concat(k.slice(0,509),"...")),"deepEqual"===i||"equal"===i?x="".concat(j,"\n\n").concat(x,"\n\nshould equal\n\n"):k=" ".concat(i," ").concat(k)),r=a(this,h(e).call(this,"".concat(x).concat(k)))}return Error.stackTraceLimit=f,r.generatedMessage=!o,Object.defineProperty(u(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=c,r.expected=l,r.operator=i,Error.captureStackTrace&&Error.captureStackTrace(u(r),s),r.stack,r.name="AssertionError",a(r)}var r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),r=e,s=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(t,e){return d(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){o(t,e,r[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}],s&&i(r.prototype,s),e}(s(Error));t.exports=S},7515:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}var a,u,s={};function c(t,e,r){r||(r=Error);var a=function(r){function a(r,i,u){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),s=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(a).call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,i,u))),s.code=t,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(a,r),a}(r);s[t]=a}function l(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",(function(t,e,o){var i,u,s,c,f;if(void 0===a&&(a=r(1696)),a("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(u="not ",e.substr(0,u.length)===u)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(l(e,"type"));else{var h=("number"!=typeof f&&(f=0),f+".".length>(c=t).length||-1===c.indexOf(".",f)?"argument":"property");s='The "'.concat(t,'" ').concat(h," ").concat(i," ").concat(l(e,"type"))}return s+". Received type ".concat(n(o))}),TypeError),c("ERR_INVALID_ARG_VALUE",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===u&&(u=r(3335));var o=u.inspect(e);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(n,". Received ").concat(o)}),TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",(function(t,e,r){var o;return o=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(o,".")}),TypeError),c("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];void 0===a&&(a=r(1696)),a(e.length>0,"At least one arg needs to be specified");var o="The ",i=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),i){case 1:o+="".concat(e[0]," argument");break;case 2:o+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:o+=e.slice(0,i-1).join(", "),o+=", and ".concat(e[i-1]," arguments")}return"".concat(o," must be specified")}),TypeError),t.exports.codes=s},6796:function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i=void 0!==/a/g.flags,a=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},u=function(t){var e=[];return t.forEach((function(t,r){return e.push([r,t])})),e},s=Object.is?Object.is:r(4679),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:r(4782);function f(t){return t.call.bind(t)}var h=f(Object.prototype.hasOwnProperty),p=f(Object.prototype.propertyIsEnumerable),d=f(Object.prototype.toString),y=r(3335).types,v=y.isAnyArrayBuffer,m=y.isArrayBufferView,g=y.isDate,b=y.isMap,w=y.isRegExp,_=y.isSet,E=y.isNativeError,O=y.isBoxedPrimitive,S=y.isNumberObject,x=y.isStringObject,k=y.isBooleanObject,j=y.isBigIntObject,T=y.isSymbolObject,L=y.isFloat32Array,P=y.isFloat64Array;function A(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function C(t){return Object.keys(t).filter(A).concat(c(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function I(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}function R(t,e,r,n){if(t===e)return 0!==t||!r||s(t,e);if(r){if("object"!==o(t))return"number"==typeof t&&l(t)&&l(e);if("object"!==o(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==o(t))return(null===e||"object"!==o(e))&&t==e;if(null===e||"object"!==o(e))return!1}var a,u,c,f,h=d(t);if(h!==d(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var p=C(t),y=C(e);return p.length===y.length&&N(t,e,r,n,1,p)}if("[object Object]"===h&&(!b(t)&&b(e)||!_(t)&&_(e)))return!1;if(g(t)){if(!g(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(w(t)){if(!w(e)||(c=t,f=e,!(i?c.source===f.source&&c.flags===f.flags:RegExp.prototype.toString.call(c)===RegExp.prototype.toString.call(f))))return!1}else if(E(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(m(t)){if(r||!L(t)&&!P(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===I(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}(t,e))return!1;var A=C(t),R=C(e);return A.length===R.length&&N(t,e,r,n,0,A)}if(_(t))return!(!_(e)||t.size!==e.size)&&N(t,e,r,n,2);if(b(t))return!(!b(e)||t.size!==e.size)&&N(t,e,r,n,3);if(v(t)){if(u=e,(a=t).byteLength!==u.byteLength||0!==I(new Uint8Array(a),new Uint8Array(u)))return!1}else if(O(t)&&!function(t,e){return S(t)?S(e)&&s(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):x(t)?x(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):k(t)?k(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):j(t)?j(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):T(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return N(t,e,r,n,0)}function D(t,e){return e.filter((function(e){return p(t,e)}))}function N(t,e,r,n,o,i){if(5===arguments.length){i=Object.keys(t);var a=Object.keys(e);if(i.length!==a.length)return!1}for(var u=0;u<i.length;u++)if(!h(e,i[u]))return!1;if(r&&5===arguments.length){var s=c(t);if(0!==s.length){var l=0;for(u=0;u<s.length;u++){var f=s[u];if(p(t,f)){if(!p(e,f))return!1;i.push(f),l++}else if(p(e,f))return!1}var d=c(e);if(s.length!==d.length&&D(e,d).length!==l)return!1}else{var y=c(e);if(0!==y.length&&0!==D(e,y).length)return!1}}if(0===i.length&&(0===o||1===o&&0===t.length||0===t.size))return!0;if(void 0===n)n={val1:new Map,val2:new Map,position:0};else{var v=n.val1.get(t);if(void 0!==v){var m=n.val2.get(e);if(void 0!==m)return v===m}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var g=G(t,e,r,i,n,o);return n.val1.delete(t),n.val2.delete(e),g}function F(t,e,r,n){for(var o=a(t),i=0;i<o.length;i++){var u=o[i];if(R(e,u,r,n))return t.delete(u),!0}return!1}function M(t){switch(o(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(l(t))return!1}return!0}function B(t,e,r){var n=M(r);return null!=n?n:e.has(n)&&!t.has(n)}function U(t,e,r,n,o){var i=M(r);if(null!=i)return i;var a=e.get(i);return!(void 0===a&&!e.has(i)||!R(n,a,!1,o))&&!t.has(i)&&R(n,a,!1,o)}function z(t,e,r,n,o,i){for(var u=a(t),s=0;s<u.length;s++){var c=u[s];if(R(r,c,o,i)&&R(n,e.get(c),o,i))return t.delete(c),!0}return!1}function G(t,e,r,i,s,c){var l=0;if(2===c){if(!function(t,e,r,n){for(var i=null,u=a(t),s=0;s<u.length;s++){var c=u[s];if("object"===o(c)&&null!==c)null===i&&(i=new Set),i.add(c);else if(!e.has(c)){if(r)return!1;if(!B(t,e,c))return!1;null===i&&(i=new Set),i.add(c)}}if(null!==i){for(var l=a(e),f=0;f<l.length;f++){var h=l[f];if("object"===o(h)&&null!==h){if(!F(i,h,r,n))return!1}else if(!r&&!t.has(h)&&!F(i,h,r,n))return!1}return 0===i.size}return!0}(t,e,r,s))return!1}else if(3===c){if(!function(t,e,r,i){for(var a=null,s=u(t),c=0;c<s.length;c++){var l=n(s[c],2),f=l[0],h=l[1];if("object"===o(f)&&null!==f)null===a&&(a=new Set),a.add(f);else{var p=e.get(f);if(void 0===p&&!e.has(f)||!R(h,p,r,i)){if(r)return!1;if(!U(t,e,f,h,i))return!1;null===a&&(a=new Set),a.add(f)}}}if(null!==a){for(var d=u(e),y=0;y<d.length;y++){var v=n(d[y],2),m=(f=v[0],v[1]);if("object"===o(f)&&null!==f){if(!z(a,t,f,m,r,i))return!1}else if(!(r||t.has(f)&&R(t.get(f),m,!1,i)||z(a,t,f,m,!1,i)))return!1}return 0===a.size}return!0}(t,e,r,s))return!1}else if(1===c)for(;l<t.length;l++){if(!h(t,l)){if(h(e,l))return!1;for(var f=Object.keys(t);l<f.length;l++){var p=f[l];if(!h(e,p)||!R(t[p],e[p],r,s))return!1}return f.length===Object.keys(e).length}if(!h(e,l)||!R(t[l],e[l],r,s))return!1}for(l=0;l<i.length;l++){var d=i[l];if(!R(t[d],e[d],r,s))return!1}return!0}t.exports={isDeepEqual:function(t,e){return R(t,e,!1)},isDeepStrictEqual:function(t,e){return R(t,e,!0)}}},7911:function(t){function e(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=e,e.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},e.prototype.reset=function(){this.attempts=0},e.prototype.setMin=function(t){this.ms=t},e.prototype.setMax=function(t){this.max=t},e.prototype.setJitter=function(t){this.jitter=t}},8328:function(t,e){!function(t){"use strict";e.encode=function(e){var r,n=new Uint8Array(e),o=n.length,i="";for(r=0;r<o;r+=3)i+=t[n[r]>>2],i+=t[(3&n[r])<<4|n[r+1]>>4],i+=t[(15&n[r+1])<<2|n[r+2]>>6],i+=t[63&n[r+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(e){var r,n,o,i,a,u=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(u--,"="===e[e.length-2]&&u--);var l=new ArrayBuffer(u),f=new Uint8Array(l);for(r=0;r<s;r+=4)n=t.indexOf(e[r]),o=t.indexOf(e[r+1]),i=t.indexOf(e[r+2]),a=t.indexOf(e[r+3]),f[c++]=n<<2|o>>4,f[c++]=(15&o)<<4|i>>2,f[c++]=(3&i)<<6|63&a;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},5766:function(t,e){"use strict";e.byteLength=function(t){var e=s(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,i=s(t),a=i[0],u=i[1],c=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,u)),l=0,f=u>0?a-4:a;for(r=0;r<f;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[l++]=255&e),1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=16383,u=0,s=n-o;u<s;u+=a)i.push(c(t,u,u+a>s?s:u+a));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=i.length;a<u;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var o,i,a=[],u=e;u<n;u+=3)o=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},6888:function(t,e,r){"use strict";var n=r(2353).Buffer,o=Symbol.for("BufferList");function i(t){if(!(this instanceof i))return new i(t);i._init.call(this,t)}i._init=function(t){Object.defineProperty(this,o,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},i.prototype._new=function(t){return new i(t)},i.prototype._offset=function(t){if(0===t)return[0,0];for(var e=0,r=0;r<this._bufs.length;r++){var n=e+this._bufs[r].length;if(t<n||r===this._bufs.length-1)return[r,t-e];e=n}},i.prototype._reverseOffset=function(t){for(var e=t[0],r=t[1],n=0;n<e;n++)r+=this._bufs[n].length;return r},i.prototype.get=function(t){if(!(t>this.length||t<0)){var e=this._offset(t);return this._bufs[e[0]][e[1]]}},i.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},i.prototype.copy=function(t,e,r,o){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof o||o>this.length)&&(o=this.length),r>=this.length)return t||n.alloc(0);if(o<=0)return t||n.alloc(0);var i=!!t,a=this._offset(r),u=o-r,s=u,c=i&&e||0,l=a[1];if(0===r&&o===this.length){if(!i)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(var f=0;f<this._bufs.length;f++)this._bufs[f].copy(t,c),c+=this._bufs[f].length;return t}if(s<=this._bufs[a[0]].length-l)return i?this._bufs[a[0]].copy(t,e,l,l+s):this._bufs[a[0]].slice(l,l+s);i||(t=n.allocUnsafe(u));for(var h=a[0];h<this._bufs.length;h++){var p=this._bufs[h].length-l;if(!(s>p)){this._bufs[h].copy(t,c,l,l+s),c+=p;break}this._bufs[h].copy(t,c,l),c+=p,s-=p,l&&(l=0)}return t.length>c?t.slice(0,c):t},i.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return this._new();var r=this._offset(t),n=this._offset(e),o=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,n[1]),0!==r[1]&&(o[0]=o[0].slice(r[1])),this._new(o)},i.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},i.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){for(var t=this._new(),e=0;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},i.prototype.append=function(t){if(null==t)return this;if(t.buffer)this._appendBuffer(n.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(var e=0;e<t.length;e++)this.append(t[e]);else if(this._isBufferList(t))for(var r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else"number"==typeof t&&(t=t.toString()),this._appendBuffer(n.from(t));return this},i.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},i.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"==typeof e&&(r=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=n.from([t]):"string"==typeof t?t=n.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=n.from(t.buffer,t.byteOffset,t.byteLength):n.isBuffer(t)||(t=n.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;for(var o=this._offset(e),i=o[0],a=o[1];i<this._bufs.length;i++){for(var u=this._bufs[i];a<u.length;)if(u.length-a>=t.length){var s=u.indexOf(t,a);if(-1!==s)return this._reverseOffset([i,s]);a=u.length-t.length+1}else{var c=this._reverseOffset([i,a]);if(this._match(c,t))return c;a++}a=0}return-1},i.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(var r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var e in t)!function(e){i.prototype[e]=null===t[e]?function(t,r){return this.slice(t,t+r)[e](0,r)}:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(r,r+t[e])[e](0)}}(e)}(),i.prototype._isBufferList=function(t){return t instanceof i||i.isBufferList(t)},i.isBufferList=function(t){return null!=t&&t[o]},t.exports=i},9050:function(t,e,r){"use strict";var n=r(7525).Duplex,o=r(1285),i=r(6888);function a(t){if(!(this instanceof a))return new a(t);if("function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)})),t=null}i._init.call(this,t),n.call(this)}o(a,n),Object.assign(a.prototype,i.prototype),a.prototype._new=function(t){return new a(t)},a.prototype._write=function(t,e,r){this._appendBuffer(t),"function"==typeof r&&r()},a.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},a.prototype.end=function(t){n.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(t,e){this._bufs.length=0,this.length=0,e(t)},a.prototype._isBufferList=function(t){return t instanceof a||t instanceof i||a.isBufferList(t)},a.isBufferList=i.isBufferList,t.exports=a,t.exports.BufferListStream=a,t.exports.BufferList=i},2353:function(t,e,r){"use strict";var n=r(5766),o=r(2333),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},e.INSPECT_MAX_BYTES=50;var a=2147483647;function u(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|y(t,e),n=u(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(z(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(z(t,ArrayBuffer)||t&&z(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(z(t,SharedArrayBuffer)||t&&z(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return s.from(n,e,r);var o=function(t){if(s.isBuffer(t)){var e=0|d(t.length),r=u(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||G(t.length)?u(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return l(t),u(t<0?0:0|d(t))}function h(t){for(var e=t.length<0?0:0|d(t.length),r=u(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,s.prototype),n}function d(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function y(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(t).length;default:if(o)return n?-1:M(t).length;e=(""+e).toLowerCase(),o=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return L(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),G(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,o){var i,a=1,u=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=r;i<u;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===s)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+s>u&&(r=u-s),i=r;i>=0;i--){for(var f=!0,h=0;h<s;h++)if(c(t,i+h)!==c(e,h)){f=!1;break}if(f)return i}return-1}function w(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;n>i/2&&(n=i/2);for(var a=0;a<n;++a){var u=parseInt(e.substr(2*a,2),16);if(G(u))return a;t[r+a]=u}return a}function _(t,e,r,n){return U(M(e,t.length-r),t,r,n)}function E(t,e,r,n){return U(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function O(t,e,r,n){return U(B(e),t,r,n)}function S(t,e,r,n){return U(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,u,s,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(s=(31&c)<<6|63&i)>127&&(l=s);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(s=(15&c)<<12|(63&i)<<6|63&a)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:i=t[o+1],a=t[o+2],u=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(l=s)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(t){var e=t.length;if(e<=j)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=j));return r}(n)}e.kMaxLength=a,s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?u(t):void 0!==e?"string"==typeof r?u(t).fill(e,r):u(t).fill(e):u(t)}(t,e,r)},s.allocUnsafe=function(t){return f(t)},s.allocUnsafeSlow=function(t){return f(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(z(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=s.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(z(i,Uint8Array))o+i.length>n.length?s.from(i).copy(n,o):Uint8Array.prototype.set.call(n,i,o);else{if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o)}o+=i.length}return n},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):v.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(t,e,r,n,o){if(z(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(i,a),c=this.slice(n,o),l=t.slice(e,r),f=0;f<u;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function T(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function L(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function P(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=q[t[i]];return o}function A(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function C(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,r,n,o,i){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function R(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,i){return e=+e,r>>>=0,i||R(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function N(t,e,r,n,i){return e=+e,r>>>=0,i||R(t,0,r,8),o.write(t,e,r,n,52,8),r+8}s.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||C(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||C(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},s.prototype.readUint8=s.prototype.readUInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||C(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||C(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},s.prototype.readInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||C(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){t>>>=0,e||C(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||C(t,4,this.length),o.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||C(t,4,this.length),o.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||C(t,8,this.length),o.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||C(t,8,this.length),o.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||I(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||I(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);I(this,t,e,r,o-1,-o)}var i=0,a=1,u=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);I(this,t,e,r,o-1,-o)}var i=r-1,a=1,u=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return N(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return N(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var o=t.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=s.isBuffer(t)?t:s.from(t,n),u=a.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=a[i%u]}return this};var F=/[^+/0-9A-Za-z-_]/g;function M(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function B(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}var q=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)e[n+o]=t[r]+t[o];return e}()},3055:function(t){var e=void 0!==e?e:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),n=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=e&&e.prototype.append&&e.prototype.getBlob;function i(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var r=new Uint8Array(t.byteLength);r.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=r.buffer}return e}return t}))}function a(t,r){r=r||{};var n=new e;return i(t).forEach((function(t){n.append(t)})),r.type?n.getBlob(r.type):n.getBlob()}function u(t,e){return new Blob(i(t),e||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,u.prototype=Blob.prototype),t.exports=r?n?Blob:u:o?a:void 0},8834:function(t,e,r){"use strict";var n=r(5766),o=r(2333),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},e.INSPECT_MAX_BYTES=50;var a=2147483647;function u(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|w(t,e),n=u(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(tt(t,Uint8Array)){var e=new Uint8Array(t);return g(e.buffer,e.byteOffset,e.byteLength)}return m(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(tt(t,ArrayBuffer)||t&&tt(t.buffer,ArrayBuffer))return g(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(tt(t,SharedArrayBuffer)||t&&tt(t.buffer,SharedArrayBuffer)))return g(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return s.from(n,e,r);var o=function(t){if(s.isBuffer(t)){var e=0|b(t.length),r=u(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||et(t.length)?u(0):m(t):"Buffer"===t.type&&Array.isArray(t.data)?m(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return l(t),u(t<0?0:0|b(t))}function m(t){for(var e=t.length<0?0:0|b(t.length),r=u(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function g(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,s.prototype),n}function b(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function w(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||tt(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(t).length;default:if(o)return n?-1:X(t).length;e=(""+e).toLowerCase(),o=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return P(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function E(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function O(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),et(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:S(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):S(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function S(t,e,r,n,o){var i,a=1,u=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=r;i<u;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===s)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+s>u&&(r=u-s),i=r;i>=0;i--){for(var f=!0,h=0;h<s;h++)if(c(t,i+h)!==c(e,h)){f=!1;break}if(f)return i}return-1}function x(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i,a=e.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){var u=parseInt(e.substr(2*i,2),16);if(et(u))return i;t[r+i]=u}return i}function k(t,e,r,n){return Z(X(e,t.length-r),t,r,n)}function j(t,e,r,n){return Z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function T(t,e,r,n){return Z(J(e),t,r,n)}function L(t,e,r,n){return Z(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function P(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i=t[o],a=null,u=i>239?4:i>223?3:i>191?2:1;if(o+u<=r){var s=void 0,c=void 0,l=void 0,f=void 0;switch(u){case 1:i<128&&(a=i);break;case 2:128==(192&(s=t[o+1]))&&(f=(31&i)<<6|63&s)>127&&(a=f);break;case 3:s=t[o+1],c=t[o+2],128==(192&s)&&128==(192&c)&&(f=(15&i)<<12|(63&s)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:s=t[o+1],c=t[o+2],l=t[o+3],128==(192&s)&&128==(192&c)&&128==(192&l)&&(f=(15&i)<<18|(63&s)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=u}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=C));return r}(n)}e.kMaxLength=a,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(e,r),42===e.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?u(t):void 0!==e?"string"==typeof r?u(t).fill(e,r):u(t).fill(e):u(t)}(t,e,r)},s.allocUnsafe=function(t){return f(t)},s.allocUnsafeSlow=function(t){return f(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(tt(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),tt(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=s.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(tt(i,Uint8Array))o+i.length>n.length?(s.isBuffer(i)||(i=s.from(i)),i.copy(n,o)):Uint8Array.prototype.set.call(n,i,o);else{if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o)}o+=i.length}return n},s.byteLength=w,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)E(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)E(this,e,e+3),E(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)E(this,e,e+7),E(this,e+1,e+6),E(this,e+2,e+5),E(this,e+3,e+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):_.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(t,e,r,n,o){if(tt(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(i,a),c=this.slice(n,o),l=t.slice(e,r),f=0;f<u;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return O(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return O(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return x(this,t,e,r);case"utf8":case"utf-8":return k(this,t,e,r);case"ascii":case"latin1":case"binary":return j(this,t,e,r);case"base64":return T(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function I(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function D(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=rt[t[i]];return o}function N(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function F(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,r,n,o,i){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n,o){W(e,n,o,t,r,7);var i=Number(e&BigInt(4294967295));t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i;var a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,r}function U(t,e,r,n,o){W(e,n,o,t,r,7);var i=Number(e&BigInt(4294967295));t[r+7]=i,i>>=8,t[r+6]=i,i>>=8,t[r+5]=i,i>>=8,t[r+4]=i;var a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a>>=8,t[r+2]=a,a>>=8,t[r+1]=a,a>>=8,t[r]=a,r+8}function z(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function G(t,e,r,n,i){return e=+e,r>>>=0,i||z(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function q(t,e,r,n,i){return e=+e,r>>>=0,i||z(t,0,r,8),o.write(t,e,r,n,52,8),r+8}s.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},s.prototype.readUint8=s.prototype.readUInt8=function(t,e){return t>>>=0,e||F(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||F(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||F(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readBigUInt64LE=nt((function(t){K(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||Y(t,this.length-8);var n=e+256*this[++t]+65536*this[++t]+this[++t]*Math.pow(2,24),o=this[++t]+256*this[++t]+65536*this[++t]+r*Math.pow(2,24);return BigInt(n)+(BigInt(o)<<BigInt(32))})),s.prototype.readBigUInt64BE=nt((function(t){K(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||Y(t,this.length-8);var n=e*Math.pow(2,24)+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*Math.pow(2,24)+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),s.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},s.prototype.readInt8=function(t,e){return t>>>=0,e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||F(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){t>>>=0,e||F(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readBigInt64LE=nt((function(t){K(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||Y(t,this.length-8);var n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*Math.pow(2,24))})),s.prototype.readBigInt64BE=nt((function(t){K(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||Y(t,this.length-8);var n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*Math.pow(2,24)+65536*this[++t]+256*this[++t]+r)})),s.prototype.readFloatLE=function(t,e){return t>>>=0,e||F(t,4,this.length),o.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||F(t,4,this.length),o.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||F(t,8,this.length),o.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||F(t,8,this.length),o.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigUInt64LE=nt((function(t){return B(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=nt((function(t){return U(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);M(this,t,e,r,o-1,-o)}var i=0,a=1,u=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);M(this,t,e,r,o-1,-o)}var i=r-1,a=1,u=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigInt64LE=nt((function(t){return B(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=nt((function(t){return U(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(t,e,r){return G(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return G(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return q(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return q(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var o=t.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=s.isBuffer(t)?t:s.from(t,n),u=a.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=a[i%u]}return this};var H={};function V(t,e,r){H[t]=function(r){y(o,r);var n=v(o);function o(){var r;return h(this,o),r=n.call(this),Object.defineProperty(d(r),"message",{value:e.apply(d(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return p(o,[{key:"code",get:function(){return t},set:function(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)}}]),o}(r)}function $(t){for(var e="",r=t.length,n="-"===t[0]?1:0;r>=n+4;r-=3)e="_".concat(t.slice(r-3,r)).concat(e);return"".concat(t.slice(0,r)).concat(e)}function W(t,e,r,n,o,i){if(t>r||t<e){var a,u="bigint"==typeof e?"n":"";throw a=i>3?0===e||e===BigInt(0)?">= 0".concat(u," and < 2").concat(u," ** ").concat(8*(i+1)).concat(u):">= -(2".concat(u," ** ").concat(8*(i+1)-1).concat(u,") and < 2 ** ").concat(8*(i+1)-1).concat(u):">= ".concat(e).concat(u," and <= ").concat(r).concat(u),new H.ERR_OUT_OF_RANGE("value",a,t)}!function(t,e,r){K(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||Y(e,t.length-(r+1))}(n,o,i)}function K(t,e){if("number"!=typeof t)throw new H.ERR_INVALID_ARG_TYPE(e,"number",t)}function Y(t,e,r){if(Math.floor(t)!==t)throw K(t,r),new H.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(e),t)}V("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),V("ERR_INVALID_ARG_TYPE",(function(t,e){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(typeof e)}),TypeError),V("ERR_OUT_OF_RANGE",(function(t,e,r){var n='The value of "'.concat(t,'" is out of range.'),o=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?o=$(String(r)):"bigint"==typeof r&&(o=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(o=$(o)),o+="n"),n+=" It must be ".concat(e,". Received ").concat(o)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function X(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function J(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,r,n){var o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function tt(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function et(t){return t!=t}var rt=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)e[n+o]=t[r]+t[o];return e}();function nt(t){return"undefined"==typeof BigInt?ot:t}function ot(){throw new Error("BigInt not supported")}},2680:function(t,e,r){"use strict";var n=r(7286),o=r(9429),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?o(r):r}},9429:function(t,e,r){"use strict";var n=r(4090),o=r(7286),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||n.call(a,i),s=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=u(n,a,arguments);return s&&c&&s(e,"length").configurable&&c(e,"length",{value:1+l(0,t.length-(arguments.length-1))}),e};var f=function(){return u(n,i,arguments)};c?c(t.exports,"apply",{value:f}):t.exports.apply=f},2150:function(t){var e=[].slice;t.exports=function(t,r){if("string"==typeof r&&(r=t[r]),"function"!=typeof r)throw new Error("bind() requires a function");var n=e.call(arguments,2);return function(){return r.apply(t,n.concat(e.call(arguments)))}}},7582:function(t){function e(t){if(t)return function(t){for(var r in e.prototype)t[r]=e.prototype[r];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){n=0;for(var o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},9238:function(t){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},5881:function(t){var e=1e3,r=60*e,n=60*r,o=24*n;function i(t,e,r,n){var o=e>=1.5*r;return Math.round(t/r)+" "+n+(o?"s":"")}t.exports=function(t,a){a=a||{};var u,s,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===c&&isFinite(t))return a.long?(u=t,(s=Math.abs(u))>=o?i(u,s,o,"day"):s>=n?i(u,s,n,"hour"):s>=r?i(u,s,r,"minute"):s>=e?i(u,s,e,"second"):u+" ms"):function(t){var i=Math.abs(t);return i>=o?Math.round(t/o)+"d":i>=n?Math.round(t/n)+"h":i>=r?Math.round(t/r)+"m":i>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},5130:function(t,e,r){var n=r(4406);e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))})),e.splice(o,0,r)}},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=function(){var t=!1;return function(){t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||function(){},t.exports=r(7123)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},7123:function(t,e,r){t.exports=function(t){function e(t){var r,o,i,a=null;function u(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(u.enabled){var i=u,a=Number(new Date),s=a-(r||a);i.diff=s,i.prev=r,i.curr=a,r=a,n[0]=e.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var c=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return"%";c++;var o=e.formatters[r];if("function"==typeof o){var a=n[c];t=o.call(i,a),n.splice(c,1),c--}return t})),e.formatArgs.call(i,n),(i.log||e.log).apply(i,n)}}return u.namespace=t,u.useColors=e.useColors(),u.color=e.selectColor(t),u.extend=n,u.destroy=e.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(o!==e.namespaces&&(o=e.namespaces,i=e.enabled(t)),i)},set:function(t){a=t}}),"function"==typeof e.init&&e.init(u),u}function n(t,r){var n=e(this.namespace+(void 0===r?":":r)+t);return n.log=this.log,n}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){var t=[].concat(f(e.names.map(o)),f(e.skips.map(o).map((function(t){return"-"+t})))).join(",");return e.enable(""),t},e.enable=function(t){var r;e.save(t),e.namespaces=t,e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(5881),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((function(r){e[r]=t[r]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}},4926:function(t,e,r){"use strict";var n=r(3464),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,u=Object.defineProperty,s=r(1181)(),c=u&&s,l=function(t,e,r,n){var o;(!(e in t)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(c?u(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},f=function(t,e){var r=arguments.length>2?arguments[2]:{},i=n(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var u=0;u<i.length;u+=1)l(t,i[u],e[i[u]],r[i[u]])};f.supportsDescriptors=!!c,t.exports=f},2640:function(t,e,r){var n=r(8834).Buffer,o=r(4406),i=r(7525),a=r(8797),u=r(1285),s=r(9146),c=n.from&&n.from!==Uint8Array.from?n.from([0]):new n([0]),l=function(t,e){t._corked?t.once("uncork",e):e()},f=function(t,e){return function(r){r?function(t,e){t._autoDestroy&&t.destroy(e)}(t,"premature close"===r.message?null:r):e&&!t._ended&&t.end()}},h=function(){},p=function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);i.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!n||!1!==n.autoDestroy,this._forwardDestroy=!n||!1!==n.destroy,this._forwardEnd=!n||!1!==n.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),r&&this.setReadable(r)};u(p,i.Duplex),p.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new p(t,e,r)},p.prototype.cork=function(){1==++this._corked&&this.emit("cork")},p.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},p.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var e=this,r=a(t,{writable:!0,readable:!1},f(this,this._forwardEnd)),n=function(){var t=e._ondrain;e._ondrain=null,t&&t()};this._unwrite&&o.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=function(){e._writable.removeListener("drain",n),r()},this.uncork()}else this.end()},p.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var e,r=this,n=a(t,{writable:!1,readable:!0},f(this)),o=function(){r._forward()},u=function(){r.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:(e=t,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(e)),this._readable2.on("readable",o),this._readable2.on("end",u),this._unread=function(){r._readable2.removeListener("readable",o),r._readable2.removeListener("end",u),n()},this._forward()}},p.prototype._read=function(){this._drained=!0,this._forward()},p.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;for(this._forwarding=!0;this._drained&&null!==(t=s(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},p.prototype.destroy=function(t,e){if(e||(e=h),this.destroyed)return e(null);this.destroyed=!0;var r=this;o.nextTick((function(){r._destroy(t),e(null)}))},p.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},p.prototype._write=function(t,e,r){if(!this.destroyed)return this._corked?l(this,this._write.bind(this,t,e,r)):t===c?this._finish(r):this._writable?void(!1===this._writable.write(t)?this._ondrain=r:this.destroyed||r()):r()},p.prototype._finish=function(t){var e=this;this.emit("preend"),l(this,(function(){var r,n;n=function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),l(e,t)},(r=e._forwardEnd&&e._writable)?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},p.prototype.end=function(t,e,r){return"function"==typeof t?this.end(null,null,t):"function"==typeof e?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this._writableState.destroyed||this.write(c),i.Writable.prototype.end.call(this,r))},t.exports=p},2982:function(t,e,r){var n;"undefined"!=typeof self&&self,t.exports=(n=r(3818),function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=20)}([function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}t.exports=r},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,r){var n=r(10);function o(e,r,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,r){var o=n(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(r):i.value}},o(e,r,i||e)}t.exports=o},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},function(t,e,r){var n=r(11);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,r){var n=r(12),o=r(13);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?o(t):e}},function(t,e){t.exports=n},function(t,e,r){t.exports.Dispatcher=r(14)},function(t,e,r){var n=r(16),o=r(17),i=r(18),a=r(19);t.exports=function(t){return n(t)||o(t)||i(t)||a()}},function(t,e,r){var n=r(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}},function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(e,n)}t.exports=r},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(15),i=function(){function t(){n(this,"_callbacks",void 0),n(this,"_isDispatching",void 0),n(this,"_isHandled",void 0),n(this,"_isPending",void 0),n(this,"_lastID",void 0),n(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var e=t.prototype;return e.register=function(t){var e="ID_"+this._lastID++;return this._callbacks[e]=t,e},e.unregister=function(t){this._callbacks[t]||o(!1),delete this._callbacks[t]},e.waitFor=function(t){this._isDispatching||o(!1);for(var e=0;e<t.length;e++){var r=t[e];this._isPending[r]?this._isHandled[r]||o(!1):(this._callbacks[r]||o(!1),this._invokeCallback(r))}},e.dispatch=function(t){this._isDispatching&&o(!1),this._startDispatching(t);try{for(var e in this._callbacks)this._isPending[e]||this._invokeCallback(e)}finally{this._stopDispatching()}},e.isDispatching=function(){return this._isDispatching},e._invokeCallback=function(t){this._isPending[t]=!0,this._callbacks[t](this._pendingPayload),this._isHandled[t]=!0},e._startDispatching=function(t){for(var e in this._callbacks)this._isPending[e]=!1,this._isHandled[e]=!1;this._pendingPayload=t,this._isDispatching=!0},e._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},t}();t.exports=i},function(t,e,r){"use strict";t.exports=function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];if(!t){var i;if(void 0===e)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(i=new Error(e.replace(/%s/g,(function(){return String(n[a++])})))).name="Invariant Violation"}throw i.framesToPop=1,i}}},function(t,e,r){var n=r(4);t.exports=function(t){if(Array.isArray(t))return n(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,r){var n=r(4);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,r){"use strict";r.r(e),r.d(e,"StateStore",(function(){return w})),r.d(e,"dispatcher",(function(){return S})),r.d(e,"dispatch",(function(){return j})),r.d(e,"reducer",(function(){return x})),r.d(e,"effect",(function(){return k})),r.d(e,"waitFor",(function(){return T}));var n=r(1),o=r.n(n),i=r(2),a=r.n(i),u=r(3),s=r.n(u),c=r(5),l=r.n(c),f=r(6),h=r.n(f),p=r(0),d=r.n(p),y=r(7),v=r(8),m=r(9),g=r.n(m),b=function(t){var e=[],r=t;do{e.push.apply(e,g()(Object.getOwnPropertyNames(r)))}while(r=Object.getPrototypeOf(r));return e.sort().filter((function(t,e,r){return r.indexOf(t)===e})).filter((function(e){return"function"==typeof t[e]}))},w=function(){function t(e){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o()(this,t),this._name=void 0,this._reducers=new Map,this._effects=new Map,this.dispatchToken=void 0,this._name=e||this.constructor.name;var i=b(this);i.map((function(t){return r[t]._reducer})).filter(Boolean).forEach((function(t){var e=t.key,n=t.fn;return r._reducers.set(e.includes(".")?e:"".concat(r._name,".").concat(e),n.bind(r))})),i.map((function(t){return r[t]._effect})).filter(Boolean).forEach((function(t){var e=t.key,n=t.fn;return r._effects.set(e,n.bind(r))})),this.dispatchToken=S.register(this,n)}return a()(t,[{key:"reduce",value:function(t){var e=t.type,r=t.payload;if(!e)throw new Error("Action dispatched without a type");if(this._reducers.has(e)){var n=this._reducers.get(e);return n?n.apply(this,r):void 0}}}]),t}(),_={},E=function(t){return new Proxy(t,{get:function(t,e){return e in t?t[e]:(t!==_&&console.warn("[eko-flobx] ".concat(e," doesn't exist in ").concat(t._name," store")),function(){})}})},O=function(t){l()(r,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d()(t);if(e){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h()(this,r)}}(r);function r(){var t;o()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i)))._storeNames=new Set,t}return a()(r,[{key:"register",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._addStore(t,e),s()(d()(r.prototype),"register",this).call(this,(function(e){return t.reduce(e)}))}},{key:"dispatch",value:function(t){var e=this;Object(y.runInAction)((function(){return s()(d()(r.prototype),"dispatch",e).call(e,t)}))}},{key:"_addStore",value:function(t,e){var r=this;if(this._storeNames.has(t._name))throw new Error("[eko-flobx] A store named ".concat(t._name," already exists"));t._name in this||(e&&this._storeNames.add(t._name),this[t._name]=E({_name:t._name})),t._reducers.forEach((function(e,n){r._addReducer(t._name,n)})),t._effects.forEach((function(e,n){r._addEffect(t._name,n,e)}))}},{key:"_addReducer",value:function(t,e){var r=this;if(e.startsWith("".concat(t,"."))){var n=e.replace("".concat(t,"."),"");this[t][n]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r._dispatch("".concat(e),n)}}}},{key:"_addEffect",value:function(t,e,r){this[t][e]=r}},{key:"_dispatch",value:function(t,e){this.dispatch({type:t,payload:e})}}]),r}(v.Dispatcher),S=new Proxy(new O,{get:function(t,e){return e in t?t[e]:(t!==_&&console.warn("[eko-flobx] ".concat(e," store isn't loaded.")),E(_))}});function x(t,e,r){var n=r.value;return r.value=function(){throw new Error("A reducer method should not be called directly, use dispatcher shortcut")},r.value._reducer={key:e.replace("_",""),fn:n},r}function k(t,e,r){var n=r.value;return r.value=function(){throw new Error("An effect method should not be called directly, use dispatcher shortcut")},r.value._effect={key:e,fn:n},r}var j=S.dispatch.bind(S),T=S.waitFor.bind(S)}]))},8797:function(t,e,r){var n=r(4406),o=r(9928),i=function(){},a=function t(e,r,a){if("function"==typeof r)return t(e,null,r);r||(r={}),a=o(a||i);var u=e._writableState,s=e._readableState,c=r.readable||!1!==r.readable&&e.readable,l=r.writable||!1!==r.writable&&e.writable,f=!1,h=function(){e.writable||p()},p=function(){l=!1,c||a.call(e)},d=function(){c=!1,l||a.call(e)},y=function(t){a.call(e,t?new Error("exited with error code: "+t):null)},v=function(t){a.call(e,t)},m=function(){n.nextTick(g)},g=function(){if(!f)return(!c||s&&s.ended&&!s.destroyed)&&(!l||u&&u.ended&&!u.destroyed)?void 0:a.call(e,new Error("premature close"))},b=function(){e.req.on("finish",p)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",p),e.on("abort",m),e.req?b():e.on("request",b)):l&&!u&&(e.on("end",h),e.on("close",h)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(e)&&e.on("exit",y),e.on("end",d),e.on("finish",p),!1!==r.error&&e.on("error",v),e.on("close",m),function(){f=!0,e.removeListener("complete",p),e.removeListener("abort",m),e.removeListener("request",b),e.req&&e.req.removeListener("finish",p),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("exit",y),e.removeListener("end",d),e.removeListener("error",v),e.removeListener("close",m)}};t.exports=a},1438:function(t){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},4065:function(t,e,r){t.exports=r(4980),t.exports.parser=r(820)},4980:function(t,e,r){var n=r(8113),o=r(7582),i=r(6406)("engine.io-client:socket"),a=r(2543),u=r(820),s=r(4243),c=r(4355);function l(t,e){if(!(this instanceof l))return new l(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=s(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=s(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||void 0,this.key=e.key||void 0,this.passphrase=e.passphrase||void 0,this.cert=e.cert||void 0,this.ca=e.ca||void 0,this.ciphers=e.ciphers||void 0,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=l,l.priorWebsocketSuccess=!1,o(l.prototype),l.protocol=u.protocol,l.Socket=l,l.Transport=r(5344),l.transports=r(8113),l.parser=r(820),l.prototype.createTransport=function(t){i('creating transport "%s"',t);var e=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(this.query);e.EIO=u.protocol,e.transport=t;var r=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new n[t]({query:e,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var t;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},l.prototype.setTransport=function(t){i("setting transport %s",t.name);var e=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},l.prototype.probe=function(t){i('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),r=!1,n=this;function o(){if(n.onlyBinaryUpgrades){var o=!this.supportsBinary&&n.transport.supportsBinary;r=r||o}r||(i('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(o){if(!r)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',t),n.upgrading=!0,n.emit("upgrading",e),!e)return;l.priorWebsocketSuccess="websocket"===e.name,i('pausing current transport "%s"',n.transport.name),n.transport.pause((function(){r||"closed"!==n.readyState&&(i("changing transport and sending upgrade packet"),h(),n.setTransport(e),e.send([{type:"upgrade"}]),n.emit("upgrade",e),e=null,n.upgrading=!1,n.flush())}))}else{i('probe transport "%s" failed',t);var a=new Error("probe error");a.transport=e.name,n.emit("upgradeError",a)}})))}function a(){r||(r=!0,h(),e.close(),e=null)}function u(r){var o=new Error("probe error: "+r);o.transport=e.name,a(),i('probe transport "%s" failed because of error: %s',t,r),n.emit("upgradeError",o)}function s(){u("transport closed")}function c(){u("socket closed")}function f(t){e&&t.name!==e.name&&(i('"%s" works - aborting "%s"',t.name,e.name),a())}function h(){e.removeListener("open",o),e.removeListener("error",u),e.removeListener("close",s),n.removeListener("close",c),n.removeListener("upgrading",f)}l.priorWebsocketSuccess=!1,e.once("open",o),e.once("error",u),e.once("close",s),this.once("close",c),this.once("upgrading",f),e.open()},l.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},l.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else i('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},l.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},l.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},l.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var o={type:t,data:e,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():e()})):this.upgrading?n():e()}function e(){t.onClose("forced close"),i("socket closing - telling transport to close"),t.transport.close()}function r(){t.removeListener("upgrade",r),t.removeListener("upgradeError",r),e()}function n(){t.once("upgrade",r),t.once("upgradeError",r)}return this},l.prototype.onError=function(t){i("socket error %j",t),l.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},l.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(i('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},l.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~a(this.transports,t[r])&&e.push(t[r]);return e}},5344:function(t,e,r){var n=r(820),o=r(7582);function i(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=i,o(i.prototype),i.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(t){var e=n.decodePacket(t,this.socket.binaryType);this.onPacket(e)},i.prototype.onPacket=function(t){this.emit("packet",t)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},8113:function(t,e,r){var n=r(6891),o=r(1962),i=r(8320),a=r(8479);e.polling=function(t){var e=!1,r=!1,a=!1!==t.jsonp;if("undefined"!=typeof location){var u="https:"===location.protocol,s=location.port;s||(s=u?443:80),e=t.hostname!==location.hostname||s!==t.port,r=t.secure!==u}if(t.xdomain=e,t.xscheme=r,"open"in new n(t)&&!t.forceJSONP)return new o(t);if(!a)throw new Error("JSONP disabled");return new i(t)},e.websocket=a},8320:function(t,e,r){var n=r(5869),o=r(9238),i=r(1438);t.exports=l;var a,u=/\n/g,s=/\\n/g;function c(){}function l(t){n.call(this,t),this.query=this.query||{},a||(a=i.___eio=i.___eio||[]),this.index=a.length;var e=this;a.push((function(t){e.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){e.script&&(e.script.onerror=c)}),!1)}o(l,n),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},l.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},l.prototype.doWrite=function(t,e){var r=this;if(!this.form){var n,o=document.createElement("form"),i=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=a,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function c(){l(),e()}function l(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(t)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),l(),t=t.replace(s,"\\\n"),this.area.value=t.replace(u,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&c()}:this.iframe.onload=c}},1962:function(t,e,r){var n=r(6891),o=r(5869),i=r(7582),a=r(9238),u=r(6406)("engine.io-client:polling-xhr"),s=r(1438);function c(){}function l(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,r=location.port;r||(r=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==e}}function f(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function h(){for(var t in f.requests)f.requests.hasOwnProperty(t)&&f.requests[t].abort()}t.exports=l,t.exports.Request=f,a(l,o),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new f(t)},l.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),o=this;n.on("success",e),n.on("error",(function(t){o.onError("xhr post error",t)})),this.sendXhr=n},l.prototype.doPoll=function(){u("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},i(f.prototype),f.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new n(t),r=this;try{u("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(r.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?r.onLoad():setTimeout((function(){r.onError("number"==typeof e.status?e.status:0)}),0))},u("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((function(){r.onError(t)}),0)}"undefined"!=typeof document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},f.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},f.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},f.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},f.requestsCount=0,f.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",h):"function"==typeof addEventListener&&addEventListener("onpagehide"in s?"pagehide":"unload",h,!1))},5869:function(t,e,r){var n=r(5344),o=r(4355),i=r(820),a=r(9238),u=r(4973),s=r(6406)("engine.io-client:polling");t.exports=l;var c=null!=new(r(6891))({xdomain:!1}).responseType;function l(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),n.call(this,t)}a(l,n),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(t){var e=this;function r(){s("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(s("we are currently polling - waiting to pause"),n++,this.once("pollComplete",(function(){s("pre-pause polling complete"),--n||r()}))),this.writable||(s("we are currently writing - waiting to pause"),n++,this.once("drain",(function(){s("pre-pause writing complete"),--n||r()})))}else r()},l.prototype.poll=function(){s("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(t){var e=this;s("polling got data %s",t),i.decodePayload(t,this.socket.binaryType,(function(t,r,n){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():s('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var t=this;function e(){s("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(s("transport open - closing"),e()):(s("transport not open - deferring close"),this.once("open",e))},l.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};i.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,r)}))},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+t}},8479:function(t,e,r){var n,o,i=r(8834).Buffer,a=r(5344),u=r(820),s=r(4355),c=r(9238),l=r(4973),f=r(6406)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{o=r(8864)}catch(t){}var h=n||o;function p(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=n&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=o),a.call(this,t)}t.exports=p,c(p,a),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(t,e):new h(t):new h(t,e,r)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},p.prototype.write=function(t){var e=this;this.writable=!1;for(var r=t.length,n=0,o=r;n<o;n++)!function(t){u.encodePacket(t,e.supportsBinary,(function(n){if(!e.usingBrowserWebSocket){var o={};t.options&&(o.compress=t.options.compress),e.perMessageDeflate&&("string"==typeof n?i.byteLength(n):n.length)<e.perMessageDeflate.threshold&&(o.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(n):e.ws.send(n,o)}catch(t){f("websocket closed before onclose event")}--r||(e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0))}))}(t[n])},p.prototype.onClose=function(){a.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+t},p.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===p.prototype.name)}},6891:function(t,e,r){var n=r(9166),o=r(1438);t.exports=function(t){var e=t.xdomain,r=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!r&&i)return new XDomainRequest}catch(t){}if(!e)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},6406:function(t,e,r){var n=r(4406);function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(2691)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),r){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),t.splice(i,0,n)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())},2691:function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,o=+new Date,i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var s=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;s++;var o=e.formatters[n];if("function"==typeof o){var i=a[s];r=o.call(t,i),a.splice(s,1),s--}return r})),e.formatArgs.call(t,a),(n.log||e.log||console.log.bind(console)).apply(t,a)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=o,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var i=e.instances[r];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(6607),e.instances=[],e.names=[],e.skips=[],e.formatters={}},6607:function(t){var e=1e3,r=60*e,n=60*r,o=24*n;function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,a){a=a||{};var u,s=typeof t;if("string"===s&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===s&&!1===isNaN(t))return a.long?i(u=t,o,"day")||i(u,n,"hour")||i(u,r,"minute")||i(u,e,"second")||u+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=r?Math.round(t/r)+"m":t>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},820:function(t,e,r){var n,o=r(2298),i=r(4632),a=r(696),u=r(540),s=r(8544);"undefined"!=typeof ArrayBuffer&&(n=r(8328));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),f=c||l;e.protocol=3;var h=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=o(h),d={type:"error",data:"parser error"},y=r(3055);function v(t,e,r){for(var n=new Array(t.length),o=u(t.length,r),i=function(t,r,o){e(r,(function(e,r){n[t]=r,o(e,n)}))},a=0;a<t.length;a++)i(a,t[a],o)}e.encodePacket=function(t,r,n,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof n&&(o=n,n=null);var i=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=t.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=h[t.type];for(var u=0;u<i.length;u++)a[u+1]=i[u];return n(a.buffer)}(t,r,o);if(void 0!==y&&i instanceof y)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(f)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){e.encodePacket({type:t.type,data:o.result},r,!0,n)},o.readAsArrayBuffer(t.data)}(t,r,n);var o=new Uint8Array(1);return o[0]=h[t.type],n(new y([o.buffer,t.data]))}(t,r,o);if(i&&i.base64)return function(t,r){return r("b"+e.packets[t.type]+t.data.data)}(t,o);var a=h[t.type];return void 0!==t.data&&(a+=n?s.encode(String(t.data),{strict:!1}):String(t.data)),o(""+a)},e.encodeBase64Packet=function(t,r){var n,o="b"+e.packets[t.type];if(void 0!==y&&t.data instanceof y){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];r(o+t)},i.readAsDataURL(t.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var a=new Uint8Array(t.data),u=new Array(a.length),s=0;s<a.length;s++)u[s]=a[s];n=String.fromCharCode.apply(null,u)}return o+=btoa(n),r(o)},e.decodePacket=function(t,r,n){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&!1===(t=function(t){try{t=s.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var o=t.charAt(0);return Number(o)==o&&p[o]?t.length>1?{type:p[o],data:t.substring(1)}:{type:p[o]}:d}o=new Uint8Array(t)[0];var i=a(t,1);return y&&"blob"===r&&(i=new y([i])),{type:p[o],data:i}},e.decodeBase64Packet=function(t,e){var r=p[t.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:t.substr(1)}};var o=n.decode(t.substr(1));return"blob"===e&&y&&(o=new y([o])),{type:r,data:o}},e.encodePayload=function(t,r,n){"function"==typeof r&&(n=r,r=null);var o=i(t);return r&&o?y&&!f?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void v(t,(function(t,n){e.encodePacket(t,!!o&&r,!1,(function(t){n(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return n(e.join(""))})):n("0:")},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);var o;if("function"==typeof r&&(n=r,r=null),""===t)return n(d,0,1);for(var i,a,u="",s=0,c=t.length;s<c;s++){var l=t.charAt(s);if(":"===l){if(""===u||u!=(i=Number(u)))return n(d,0,1);if(u!=(a=t.substr(s+1,i)).length)return n(d,0,1);if(a.length){if(o=e.decodePacket(a,r,!1),d.type===o.type&&d.data===o.data)return n(d,0,1);if(!1===n(o,s+i,c))return}s+=i,u=""}else u+=l}return""!==u?n(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){if(!t.length)return r(new ArrayBuffer(0));v(t,(function(t,r){e.encodePacket(t,!0,!0,(function(t){return r(null,t)}))}),(function(t,e){var n=e.reduce((function(t,e){var r;return t+(r="string"==typeof e?e.length:e.byteLength).toString().length+r+2}),0),o=new Uint8Array(n),i=0;return e.forEach((function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),a=0;a<t.length;a++)n[a]=t.charCodeAt(a);r=n.buffer}o[i++]=e?0:1;var u=r.byteLength.toString();for(a=0;a<u.length;a++)o[i++]=parseInt(u[a]);for(o[i++]=255,n=new Uint8Array(r),a=0;a<n.length;a++)o[i++]=n[a]})),r(o.buffer)}))},e.encodePayloadAsBlob=function(t,r){v(t,(function(t,r){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}var i=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),a=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,y){var u=new y([e.buffer,a.buffer,t]);r(null,u)}}))}),(function(t,e){return r(new y(e))}))},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var o=t,i=[];o.byteLength>0;){for(var u=new Uint8Array(o),s=0===u[0],c="",l=1;255!==u[l];l++){if(c.length>310)return n(d,0,1);c+=u[l]}o=a(o,2+c.length),c=parseInt(c);var f=a(o,0,c);if(s)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(t){var h=new Uint8Array(f);for(f="",l=0;l<h.length;l++)f+=String.fromCharCode(h[l])}i.push(f),o=a(o,c)}var p=i.length;i.forEach((function(t,o){n(e.decodePacket(t,r,!0),o,p)}))}},2298:function(t){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},8544:function(t){var e,r,n,o=String.fromCharCode;function i(t){for(var e,r,n=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(t,e){return o(t>>e&63|128)}function s(t,e){if(0==(4294967168&t))return o(t);var r="";return 0==(4294965248&t)?r=o(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),r=o(t>>12&15|224),r+=u(t,6)):0==(4292870144&t)&&(r=o(t>>18&7|240),r+=u(t,12),r+=u(t,6)),r+o(63&t|128)}function c(){if(n>=r)throw Error("Invalid byte index");var t=255&e[n];if(n++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(t){var o,i;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(o=255&e[n],n++,0==(128&o))return o;if(192==(224&o)){if((i=(31&o)<<6|c())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&o)){if((i=(15&o)<<12|c()<<6|c())>=2048)return a(i,t)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&o)&&(i=(7&o)<<18|c()<<12|c()<<6|c())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var r=!1!==(e=e||{}).strict,n=i(t),o=n.length,a=-1,u="";++a<o;)u+=s(n[a],r);return u},decode:function(t,a){var u=!1!==(a=a||{}).strict;e=i(t),r=e.length,n=0;for(var s,c=[];!1!==(s=l(u));)c.push(s);return function(t){for(var e,r=t.length,n=-1,i="";++n<r;)(e=t[n])>65535&&(i+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=o(e);return i}(c)}}},4956:function(t){"use strict";function e(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var i=Object.keys(Object(o)),a=0,u=i.length;a<u;a++){var s=i[a],c=Object.getOwnPropertyDescriptor(o,s);void 0!==c&&c.enumerable&&(r[s]=o[s])}}return r}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},1355:function(t,r,n){var o,i=n(4406);!function(a){var u=Object.hasOwnProperty,s=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},c="object"==typeof i&&"function"==typeof i.nextTick,l="function"==typeof Symbol,f="object"==typeof Reflect,h="function"==typeof e?e:setTimeout,p=l?f&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(t){var e=Object.getOwnPropertyNames(t);return e.push.apply(e,Object.getOwnPropertySymbols(t)),e}:Object.keys;function d(){this._events={},this._conf&&y.call(this,this._conf)}function y(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners!==a&&(this._maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this._newListener=t.newListener),t.removeListener&&(this._removeListener=t.removeListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),t.ignoreErrors&&(this.ignoreErrors=t.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function v(t,e){var r="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+e+"."),void 0!==i&&i.emitWarning){var n=new Error(r);n.name="MaxListenersExceededWarning",n.emitter=this,n.count=t,i.emitWarning(n)}else console.error(r),console.trace&&console.trace()}var m=function(t,e,r){var n=arguments.length;switch(n){case 0:return[];case 1:return[t];case 2:return[t,e];case 3:return[t,e,r];default:for(var o=new Array(n);n--;)o[n]=arguments[n];return o}};function g(t,e){for(var r={},n=t.length,o=e?e.length:0,i=0;i<n;i++)r[t[i]]=i<o?e[i]:a;return r}function b(t,e,r){var n,o;if(this._emitter=t,this._target=e,this._listeners={},this._listenersCount=0,(r.on||r.off)&&(n=r.on,o=r.off),e.addEventListener?(n=e.addEventListener,o=e.removeEventListener):e.addListener?(n=e.addListener,o=e.removeListener):e.on&&(n=e.on,o=e.off),!n&&!o)throw Error("target does not implement any known event API");if("function"!=typeof n)throw TypeError("on method must be a function");if("function"!=typeof o)throw TypeError("off method must be a function");this._on=n,this._off=o;var i=t._observers;i?i.push(this):t._observers=[this]}function w(t,e,r,n){var o=Object.assign({},e);if(!t)return o;if("object"!=typeof t)throw TypeError("options must be an object");var i,s,c,l=Object.keys(t),f=l.length;function h(t){throw Error('Invalid "'+i+'" option value'+(t?". Reason: "+t:""))}for(var p=0;p<f;p++){if(i=l[p],!n&&!u.call(e,i))throw Error('Unknown "'+i+'" option');(s=t[i])!==a&&(c=r[i],o[i]=c?c(s,h):s)}return o}function _(t,e){return"function"==typeof t&&t.hasOwnProperty("prototype")||e("value must be a constructor"),t}function E(t){var e="value must be type of "+t.join("|"),r=t.length,n=t[0],o=t[1];return 1===r?function(t,r){if(typeof t===n)return t;r(e)}:2===r?function(t,r){var i=typeof t;if(i===n||i===o)return t;r(e)}:function(n,o){for(var i=typeof n,a=r;a-- >0;)if(i===t[a])return n;o(e)}}Object.assign(b.prototype,{subscribe:function(t,e,r){var n=this,o=this._target,i=this._emitter,a=this._listeners,u=function(){var n=m.apply(null,arguments),a={data:n,name:e,original:t};if(r){var u=r.call(o,a);!1!==u&&i.emit.apply(i,[a.name].concat(n))}else i.emit.apply(i,[e].concat(n))};if(a[t])throw Error("Event '"+t+"' is already listening");this._listenersCount++,i._newListener&&i._removeListener&&!n._onNewListener?(this._onNewListener=function(r){r===e&&null===a[t]&&(a[t]=u,n._on.call(o,t,u))},i.on("newListener",this._onNewListener),this._onRemoveListener=function(r){r===e&&!i.hasListeners(r)&&a[t]&&(a[t]=null,n._off.call(o,t,u))},a[t]=null,i.on("removeListener",this._onRemoveListener)):(a[t]=u,n._on.call(o,t,u))},unsubscribe:function(t){var e,r,n,o=this,i=this._listeners,a=this._emitter,u=this._off,s=this._target;if(t&&"string"!=typeof t)throw TypeError("event must be a string");function c(){o._onNewListener&&(a.off("newListener",o._onNewListener),a.off("removeListener",o._onRemoveListener),o._onNewListener=null,o._onRemoveListener=null);var t=k.call(a,o);a._observers.splice(t,1)}if(t){if(!(e=i[t]))return;u.call(s,t,e),delete i[t],--this._listenersCount||c()}else{for(n=(r=p(i)).length;n-- >0;)t=r[n],u.call(s,t,i[t]);this._listeners={},this._listenersCount=0,c()}}});var O=E(["function"]),S=E(["object","function"]);function x(t,e,r){var n,o,i,a=0,u=new t((function(s,c,l){function f(){o&&(o=null),a&&(clearTimeout(a),a=0)}r=w(r,{timeout:0,overload:!1},{timeout:function(t,e){return("number"!=typeof(t*=1)||t<0||!Number.isFinite(t))&&e("timeout must be a positive number"),t}}),n=!r.overload&&"function"==typeof t.prototype.cancel&&"function"==typeof l;var h=function(t){f(),s(t)},p=function(t){f(),c(t)};n?e(h,p,l):(o=[function(t){p(t||Error("canceled"))}],e(h,p,(function(t){if(i)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof t)throw TypeError("onCancel callback must be a function");o.push(t)})),i=!0),r.timeout>0&&(a=setTimeout((function(){var t=Error("timeout");t.code="ETIMEDOUT",a=0,u.cancel(t),c(t)}),r.timeout))}));return n||(u.cancel=function(t){if(o){for(var e=o.length,r=1;r<e;r++)o[r](t);o[0](t),o=null}}),u}function k(t){var e=this._observers;if(!e)return-1;for(var r=e.length,n=0;n<r;n++)if(e[n]._target===t)return n;return-1}function j(t,e,r,n,o){if(!r)return null;if(0===n){var i=typeof e;if("string"===i){var a,u,s=0,c=0,l=this.delimiter,f=l.length;if(-1!==(u=e.indexOf(l))){a=new Array(5);do{a[s++]=e.slice(c,u),c=u+f}while(-1!==(u=e.indexOf(l,c)));a[s++]=e.slice(c),e=a,o=s}else e=[e],o=1}else"object"===i?o=e.length:(e=[e],o=1)}var h,d,y,v,m,g,b,w=null,_=e[n],E=e[n+1];if(n===o)r._listeners&&("function"==typeof r._listeners?(t&&t.push(r._listeners),w=[r]):(t&&t.push.apply(t,r._listeners),w=[r]));else{if("*"===_){for(u=(g=p(r)).length;u-- >0;)"_listeners"!==(h=g[u])&&(b=j(t,e,r[h],n+1,o))&&(w?w.push.apply(w,b):w=b);return w}if("**"===_){for((m=n+1===o||n+2===o&&"*"===E)&&r._listeners&&(w=j(t,e,r,o,o)),u=(g=p(r)).length;u-- >0;)"_listeners"!==(h=g[u])&&("*"===h||"**"===h?(r[h]._listeners&&!m&&(b=j(t,e,r[h],o,o))&&(w?w.push.apply(w,b):w=b),b=j(t,e,r[h],n,o)):b=j(t,e,r[h],h===E?n+2:n,o),b&&(w?w.push.apply(w,b):w=b));return w}r[_]&&(w=j(t,e,r[_],n+1,o))}if((d=r["*"])&&j(t,e,d,n+1,o),y=r["**"])if(n<o)for(y._listeners&&j(t,e,y,o,o),u=(g=p(y)).length;u-- >0;)"_listeners"!==(h=g[u])&&(h===E?j(t,e,y[h],n+2,o):h===_?j(t,e,y[h],n+1,o):((v={})[h]=y[h],j(t,e,{"**":v},n+1,o)));else y._listeners?j(t,e,y,o,o):y["*"]&&y["*"]._listeners&&j(t,e,y["*"],o,o);return w}function T(t,e,r){var n,o,i=0,a=0,u=this.delimiter,s=u.length;if("string"==typeof t)if(-1!==(n=t.indexOf(u))){o=new Array(5);do{o[i++]=t.slice(a,n),a=n+s}while(-1!==(n=t.indexOf(u,a)));o[i++]=t.slice(a)}else o=[t],i=1;else o=t,i=t.length;if(i>1)for(n=0;n+1<i;n++)if("**"===o[n]&&"**"===o[n+1])return;var c,l=this.listenerTree;for(n=0;n<i;n++)if(l=l[c=o[n]]||(l[c]={}),n===i-1)return l._listeners?("function"==typeof l._listeners&&(l._listeners=[l._listeners]),r?l._listeners.unshift(e):l._listeners.push(e),!l._listeners.warned&&this._maxListeners>0&&l._listeners.length>this._maxListeners&&(l._listeners.warned=!0,v.call(this,l._listeners.length,c))):l._listeners=e,!0;return!0}function L(t,e,r,n){for(var o,i,a,u,s=p(t),c=s.length,l=t._listeners;c-- >0;)o=t[i=s[c]],a="_listeners"===i?r:r?r.concat(i):[i],u=n||"symbol"==typeof i,l&&e.push(u?a:a.join(this.delimiter)),"object"==typeof o&&L.call(this,o,e,a,u);return e}function P(t){for(var e,r,n,o=p(t),i=o.length;i-- >0;)(e=t[r=o[i]])&&(n=!0,"_listeners"===r||P(e)||delete t[r]);return n}function A(t,e,r){this.emitter=t,this.event=e,this.listener=r}function C(t,e,r){if(!0===r)o=!0;else if(!1===r)n=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var n=r.async,o=r.promisify,u=r.nextTick,s=r.objectify}if(n||u||o){var l=e,f=e._origin||e;if(u&&!c)throw Error("process.nextTick is not supported");o===a&&(o="AsyncFunction"===e.constructor.name),e=function(){var t=arguments,e=this,r=this.event;return o?u?Promise.resolve():new Promise((function(t){h(t)})).then((function(){return e.event=r,l.apply(e,t)})):(u?i.nextTick:h)((function(){e.event=r,l.apply(e,t)}))},e._async=!0,e._origin=f}return[e,s?new A(this,t,e):this]}function I(t){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,y.call(this,t)}A.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},I.EventEmitter2=I,I.prototype.listenTo=function(t,e,r){if("object"!=typeof t)throw TypeError("target musts be an object");var n=this;function o(e){if("object"!=typeof e)throw TypeError("events must be an object");var o,i=r.reducers,a=k.call(n,t);o=-1===a?new b(n,t,r):n._observers[a];for(var u,s=p(e),c=s.length,l="function"==typeof i,f=0;f<c;f++)u=s[f],o.subscribe(u,e[u]||u,l?i:i&&i[u])}return r=w(r,{on:a,off:a,reducers:a},{on:O,off:O,reducers:S}),s(e)?o(g(e)):o("string"==typeof e?g(e.split(/\s+/)):e),this},I.prototype.stopListeningTo=function(t,e){var r=this._observers;if(!r)return!1;var n,o=r.length,i=!1;if(t&&"object"!=typeof t)throw TypeError("target should be an object");for(;o-- >0;)n=r[o],t&&n._target!==t||(n.unsubscribe(e),i=!0);return i},I.prototype.delimiter=".",I.prototype.setMaxListeners=function(t){t!==a&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},I.prototype.getMaxListeners=function(){return this._maxListeners},I.prototype.event="",I.prototype.once=function(t,e,r){return this._once(t,e,!1,r)},I.prototype.prependOnceListener=function(t,e,r){return this._once(t,e,!0,r)},I.prototype._once=function(t,e,r,n){return this._many(t,1,e,r,n)},I.prototype.many=function(t,e,r,n){return this._many(t,e,r,!1,n)},I.prototype.prependMany=function(t,e,r,n){return this._many(t,e,r,!0,n)},I.prototype._many=function(t,e,r,n,o){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function a(){return 0==--e&&i.off(t,a),r.apply(this,arguments)}return a._origin=r,this._on(t,a,n,o)},I.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var t,e,r,n,o,i,a=arguments[0],u=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return!1;if(u&&(t=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(r=a.length,l)for(n=0;n<r;n++)if("symbol"==typeof a[n]){i=!0;break}i||(a=a.join(this.delimiter))}var s,c=arguments.length;if(this._all&&this._all.length)for(n=0,r=(s=this._all.slice()).length;n<r;n++)switch(this.event=a,c){case 1:s[n].call(this,a);break;case 2:s[n].call(this,a,arguments[1]);break;case 3:s[n].call(this,a,arguments[1],arguments[2]);break;default:s[n].apply(this,arguments)}if(u)s=[],j.call(this,s,t,this.listenerTree,0,r);else{if("function"==typeof(s=this._events[a])){switch(this.event=a,c){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(c-1),o=1;o<c;o++)e[o-1]=arguments[o];s.apply(this,e)}return!0}s&&(s=s.slice())}if(s&&s.length){if(c>3)for(e=new Array(c-1),o=1;o<c;o++)e[o-1]=arguments[o];for(n=0,r=s.length;n<r;n++)switch(this.event=a,c){case 1:s[n].call(this);break;case 2:s[n].call(this,arguments[1]);break;case 3:s[n].call(this,arguments[1],arguments[2]);break;default:s[n].apply(this,e)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===a)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},I.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var t,e,r,n,o,i,a=arguments[0],u=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(u&&(t=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(n=a.length,l)for(o=0;o<n;o++)if("symbol"==typeof a[o]){e=!0;break}e||(a=a.join(this.delimiter))}var s,c=[],f=arguments.length;if(this._all)for(o=0,n=this._all.length;o<n;o++)switch(this.event=a,f){case 1:c.push(this._all[o].call(this,a));break;case 2:c.push(this._all[o].call(this,a,arguments[1]));break;case 3:c.push(this._all[o].call(this,a,arguments[1],arguments[2]));break;default:c.push(this._all[o].apply(this,arguments))}if(u?(s=[],j.call(this,s,t,this.listenerTree,0)):s=this._events[a],"function"==typeof s)switch(this.event=a,f){case 1:c.push(s.call(this));break;case 2:c.push(s.call(this,arguments[1]));break;case 3:c.push(s.call(this,arguments[1],arguments[2]));break;default:for(r=new Array(f-1),i=1;i<f;i++)r[i-1]=arguments[i];c.push(s.apply(this,r))}else if(s&&s.length){if(s=s.slice(),f>3)for(r=new Array(f-1),i=1;i<f;i++)r[i-1]=arguments[i];for(o=0,n=s.length;o<n;o++)switch(this.event=a,f){case 1:c.push(s[o].call(this));break;case 2:c.push(s[o].call(this,arguments[1]));break;case 3:c.push(s[o].call(this,arguments[1],arguments[2]));break;default:c.push(s[o].apply(this,r))}}else if(!this.ignoreErrors&&!this._all&&"error"===a)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(c)},I.prototype.on=function(t,e,r){return this._on(t,e,!1,r)},I.prototype.prependListener=function(t,e,r){return this._on(t,e,!0,r)},I.prototype.onAny=function(t){return this._onAny(t,!1)},I.prototype.prependAny=function(t){return this._onAny(t,!0)},I.prototype.addListener=I.prototype.on,I.prototype._onAny=function(t,e){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},I.prototype._on=function(t,e,r,n){if("function"==typeof t)return this._onAny(t,e),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");this._events||d.call(this);var o,i=this;return n!==a&&(e=(o=C.call(this,t,e,n))[0],i=o[1]),this._newListener&&this.emit("newListener",t,e),this.wildcard?(T.call(this,t,e,r),i):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),r?this._events[t].unshift(e):this._events[t].push(e),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,v.call(this,this._events[t].length,t))):this._events[t]=e,i)},I.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var o="string"==typeof t?t.split(this.delimiter):t.slice();if(!(n=j.call(this,null,o,this.listenerTree,0)))return this}else{if(!this._events[t])return this;r=this._events[t],n.push({_listeners:r})}for(var i=0;i<n.length;i++){var a=n[i];if(r=a._listeners,s(r)){for(var u=-1,c=0,l=r.length;c<l;c++)if(r[c]===e||r[c].listener&&r[c].listener===e||r[c]._origin&&r[c]._origin===e){u=c;break}if(u<0)continue;return this.wildcard?a._listeners.splice(u,1):this._events[t].splice(u,1),0===r.length&&(this.wildcard?delete a._listeners:delete this._events[t]),this._removeListener&&this.emit("removeListener",t,e),this}(r===e||r.listener&&r.listener===e||r._origin&&r._origin===e)&&(this.wildcard?delete a._listeners:delete this._events[t],this._removeListener&&this.emit("removeListener",t,e))}return this.listenerTree&&P(this.listenerTree),this},I.prototype.offAny=function(t){var e,r=0,n=0;if(t&&this._all&&this._all.length>0){for(r=0,n=(e=this._all).length;r<n;r++)if(t===e[r])return e.splice(r,1),this._removeListener&&this.emit("removeListenerAny",t),this}else{if(e=this._all,this._removeListener)for(r=0,n=e.length;r<n;r++)this.emit("removeListenerAny",e[r]);this._all=[]}return this},I.prototype.removeListener=I.prototype.off,I.prototype.removeAllListeners=function(t){if(t===a)return!this._events||d.call(this),this;if(this.wildcard){var e,r=j.call(this,null,t,this.listenerTree,0);if(!r)return this;for(e=0;e<r.length;e++)r[e]._listeners=null;this.listenerTree&&P(this.listenerTree)}else this._events&&(this._events[t]=null);return this},I.prototype.listeners=function(t){var e,r,n,o,i,u=this._events;if(t===a){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!u)return[];for(o=(e=p(u)).length,n=[];o-- >0;)"function"==typeof(r=u[e[o]])?n.push(r):n.push.apply(n,r);return n}if(this.wildcard){if(!(i=this.listenerTree))return[];var s=[],c="string"==typeof t?t.split(this.delimiter):t.slice();return j.call(this,s,c,i,0),s}return u&&(r=u[t])?"function"==typeof r?[r]:r:[]},I.prototype.eventNames=function(t){var e=this._events;return this.wildcard?L.call(this,this.listenerTree,[],null,t):e?p(e):[]},I.prototype.listenerCount=function(t){return this.listeners(t).length},I.prototype.hasListeners=function(t){if(this.wildcard){var e=[],r="string"==typeof t?t.split(this.delimiter):t.slice();return j.call(this,e,r,this.listenerTree,0),e.length>0}var n=this._events,o=this._all;return!!(o&&o.length||n&&(t===a?p(n).length:n[t]))},I.prototype.listenersAny=function(){return this._all?this._all:[]},I.prototype.waitFor=function(t,e){var r=this,n=typeof e;return"number"===n?e={timeout:e}:"function"===n&&(e={filter:e}),x((e=w(e,{timeout:0,filter:a,handleError:!1,Promise:Promise,overload:!1},{filter:O,Promise:_})).Promise,(function(n,o,i){function a(){var i=e.filter;if(!i||i.apply(r,arguments))if(r.off(t,a),e.handleError){var u=arguments[0];u?o(u):n(m.apply(null,arguments).slice(1))}else n(m.apply(null,arguments))}i((function(){r.off(t,a)})),r._on(t,a,!1)}),{timeout:e.timeout,overload:e.overload})};var R=I.prototype;Object.defineProperties(I,{defaultMaxListeners:{get:function(){return R._maxListeners},set:function(t){if("number"!=typeof t||t<0||Number.isNaN(t))throw TypeError("n must be a non-negative number");R._maxListeners=t},enumerable:!0},once:{value:function(t,e,r){return x((r=w(r,{Promise:Promise,timeout:0,overload:!1},{Promise:_})).Promise,(function(r,n,o){var i;if("function"==typeof t.addEventListener)return i=function(){r(m.apply(null,arguments))},o((function(){t.removeEventListener(e,i)})),void t.addEventListener(e,i,{once:!0});var a,u=function(){a&&t.removeListener("error",a),r(m.apply(null,arguments))};"error"!==e&&(a=function(r){t.removeListener(e,u),n(r)},t.once("error",a)),o((function(){a&&t.removeListener("error",a),t.removeListener(e,u)})),t.once(e,u)}),{timeout:r.timeout,overload:r.overload})},writable:!0,configurable:!0}}),Object.defineProperties(R,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),(o=function(){return I}.call(r,n,r,t))===a||(t.exports=o)}()},2699:function(t){"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(r,n){function o(r){t.removeListener(e,i),n(r)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),r([].slice.call(arguments))}y(t,e,i,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&y(t,"error",e,{once:!0})}(t,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function s(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var o,i,a,c;if(u(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),void 0===a)a=i[e]=r,++t._eventsCount;else if("function"==typeof a?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=s(t))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=l.bind(n);return o.listener=r,n.wrapFn=o,o}function h(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):d(o,o.length)}function p(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function y(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){n.once&&t.removeEventListener(e,o),r(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return s(this)},i.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var u=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw u.context=a,u}var s=i[t];if(void 0===s)return!1;if("function"==typeof s)n(s,this,e);else{var c=s.length,l=d(s,c);for(r=0;r<c;++r)n(l[r],this,e)}return!0},i.prototype.addListener=function(t,e){return c(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return c(this,t,e,!0)},i.prototype.once=function(t,e){return u(e),this.on(t,f(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,f(this,t,e)),this},i.prototype.removeListener=function(t,e){var r,n,o,i,a;if(u(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},i.prototype.listeners=function(t){return h(this,t,!0)},i.prototype.rawListeners=function(t){return h(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},7847:function(t){t.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var e="[...]",r="[Circular]",n=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(t,e,r,a){var u;void 0===a&&(a=i()),s(t,"",0,[],void 0,0,a);try{u=0===o.length?JSON.stringify(t,e,r):JSON.stringify(t,h(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var c=n.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return u}function u(t,e,r,i){var a=Object.getOwnPropertyDescriptor(i,r);void 0!==a.get?a.configurable?(Object.defineProperty(i,r,{value:t}),n.push([i,r,e,a])):o.push([e,r,t]):(i[r]=t,n.push([i,r,e]))}function s(t,n,o,i,a,c,l){var f;if(c+=1,"object"==typeof t&&null!==t){for(f=0;f<i.length;f++)if(i[f]===t)return void u(r,t,n,a);if(void 0!==l.depthLimit&&c>l.depthLimit)return void u(e,t,n,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void u(e,t,n,a);if(i.push(t),Array.isArray(t))for(f=0;f<t.length;f++)s(t[f],f,f,i,t,c,l);else{var h=Object.keys(t);for(f=0;f<h.length;f++){var p=h[f];s(t[p],p,f,i,t,c,l)}}i.pop()}}function c(t,e){return t<e?-1:t>e?1:0}function l(t,e,r,a){void 0===a&&(a=i());var u,s=f(t,"",0,[],void 0,0,a)||t;try{u=0===o.length?JSON.stringify(s,e,r):JSON.stringify(s,h(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var c=n.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return u}function f(t,o,i,a,s,l,h){var p;if(l+=1,"object"==typeof t&&null!==t){for(p=0;p<a.length;p++)if(a[p]===t)return void u(r,t,o,s);try{if("function"==typeof t.toJSON)return}catch(t){return}if(void 0!==h.depthLimit&&l>h.depthLimit)return void u(e,t,o,s);if(void 0!==h.edgesLimit&&i+1>h.edgesLimit)return void u(e,t,o,s);if(a.push(t),Array.isArray(t))for(p=0;p<t.length;p++)f(t[p],p,p,a,t,l,h);else{var d={},y=Object.keys(t).sort(c);for(p=0;p<y.length;p++){var v=y[p];f(t[v],v,p,a,t,l,h),d[v]=t[v]}if(void 0===s)return d;n.push([s,o,t]),s[o]=d}a.pop()}}function h(t){return t=void 0!==t?t:function(t,e){return e},function(e,r){if(o.length>0)for(var n=0;n<o.length;n++){var i=o[n];if(i[1]===e&&i[0]===r){r=i[2],o.splice(n,1);break}}return t.call(this,e,r)}}},3243:function(t,e,r){"use strict";var n=r(9680),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=function(t,e,r){for(var n=0,o=t.length;n<o;n++)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},u=function(t,e,r){for(var n=0,o=t.length;n<o;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)},s=function(t,e,r){for(var n in t)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))};t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),"[object Array]"===o.call(t)?a(t,e,i):"string"==typeof t?u(t,e,i):s(t,e,i)}},7795:function(t){"use strict";var e="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";t.exports=function(t){var i=this;if("function"!=typeof i||n.call(i)!==o)throw new TypeError(e+i);for(var a,u=r.call(arguments,1),s=function(){if(this instanceof a){var e=i.apply(this,u.concat(r.call(arguments)));return Object(e)===e?e:this}return i.apply(t,u.concat(r.call(arguments)))},c=Math.max(0,i.length-u.length),l=[],f=0;f<c;f++)l.push("$"+f);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),i.prototype){var h=function(){};h.prototype=i.prototype,a.prototype=new h,h.prototype=null}return a}},4090:function(t,e,r){"use strict";var n=r(7795);t.exports=Function.prototype.bind||n},7286:function(t,e,r){"use strict";var n,o=SyntaxError,i=Function,a=TypeError,u=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}var c=function(){throw new a},l=s?function(){try{return c}catch(t){try{return s(arguments,"callee").get}catch(t){return c}}}():c,f=r(2636)(),h=Object.getPrototypeOf||function(t){return t.__proto__},p={},d="undefined"==typeof Uint8Array?n:h(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},v=function t(e){var r;if("%AsyncFunction%"===e)r=u("async function () {}");else if("%GeneratorFunction%"===e)r=u("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=u("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=h(o.prototype))}return y[e]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(4090),b=r(3198),w=g.call(Function.call,Array.prototype.concat),_=g.call(Function.apply,Array.prototype.splice),E=g.call(Function.call,String.prototype.replace),O=g.call(Function.call,String.prototype.slice),S=g.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,j=function(t){var e=O(t,0,1),r=O(t,-1);if("%"===e&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return E(t,x,(function(t,e,r,o){n[n.length]=r?E(o,k,"$1"):e||t})),n},T=function(t,e){var r,n=t;if(b(m,n)&&(n="%"+(r=m[n])[0]+"%"),b(y,n)){var i=y[n];if(i===p&&(i=v(n)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/g,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=j(t),n=r.length>0?r[0]:"",i=T("%"+n+"%",e),u=i.name,c=i.value,l=!1,f=i.alias;f&&(n=f[0],_(r,w([0,1],f)));for(var h=1,p=!0;h<r.length;h+=1){var d=r[h],v=O(d,0,1),m=O(d,-1);if(('"'===v||"'"===v||"`"===v||'"'===m||"'"===m||"`"===m)&&v!==m)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&p||(l=!0),b(y,u="%"+(n+="."+d)+"%"))c=y[u];else if(null!=c){if(!(d in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(s&&h+1>=r.length){var g=s(c,d);c=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[d]}else p=b(c,d),c=c[d];p&&!l&&(y[u]=c)}}return c}},4632:function(t,e,r){var n=r(8834).Buffer,o=r(7906),i=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),u="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(o(e)){for(var r=0,i=e.length;r<i;r++)if(t(e[r]))return!0;return!1}if("function"==typeof n&&n.isBuffer&&n.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||a&&e instanceof Blob||u&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0;return!1}},9166:function(t){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){t.exports=!1}},1181:function(t,e,r){"use strict";var n=r(7286)("%Object.defineProperty%",!0),o=function(){if(n)try{return n({},"a",{value:1}),!0}catch(t){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},2636:function(t,e,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(6679);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},6679:function(t){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},7226:function(t,e,r){"use strict";var n=r(6679);t.exports=function(){return n()&&!!Symbol.toStringTag}},3198:function(t,e,r){"use strict";var n=r(4090);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2333:function(t,e){e.read=function(t,e,r,n,o){var i,a,u=8*o-n-1,s=(1<<u)-1,c=s>>1,l=-7,f=r?o-1:0,h=r?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=u;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=c}return(p?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,u,s,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+f>=1?h/s:h*Math.pow(2,1-f))*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(e*s-1)*Math.pow(2,o),a+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[r+p]=255&u,p+=d,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[r+p]=255&a,p+=d,a/=256,c-=8);t[r+p-d]|=128*y}},2543:function(t){var e=[].indexOf;t.exports=function(t,r){if(e)return t.indexOf(r);for(var n=0;n<t.length;++n)if(t[n]===r)return n;return-1}},1285:function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},2635:function(t,e,r){"use strict";var n=r(7226)(),o=r(2680)("Object.prototype.toString"),i=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},a=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},u=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=u?i:a},9680:function(t){"use strict";var e,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,e)}catch(t){t!==r&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(t){try{var e=n.call(t);return i.test(e)}catch(t){return!1}},u=Object.prototype.toString,s="function"==typeof Symbol&&!!Symbol.toStringTag,c="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};t.exports=o?function(t){if(t===c)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;try{o(t,null,e)}catch(t){if(t!==r)return!1}return!a(t)}:function(t){if(t===c)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(s)return function(t){try{return!a(t)&&(n.call(t),!0)}catch(t){return!1}}(t);if(a(t))return!1;var e=u.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},3138:function(t,e,r){"use strict";var n,o=Object.prototype.toString,i=Function.prototype.toString,a=/^\s*(?:function)?\*/,u=r(7226)(),s=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(a.test(i.call(t)))return!0;if(!u)return"[object GeneratorFunction]"===o.call(t);if(!s)return!1;if(void 0===n){var e=function(){if(!u)return!1;try{return Function("return function*() {}")()}catch(t){}}();n=!!e&&s(e)}return s(t)===n}},7053:function(t){"use strict";t.exports=function(t){return t!=t}},4782:function(t,e,r){"use strict";var n=r(9429),o=r(4926),i=r(7053),a=r(755),u=r(5346),s=n(a(),Number);o(s,{getPolyfill:a,implementation:i,shim:u}),t.exports=s},755:function(t,e,r){"use strict";var n=r(7053);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},5346:function(t,e,r){"use strict";var n=r(4926),o=r(755);t.exports=function(){var t=o();return n(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},198:function(t,e,r){"use strict";var n=r(3243),o=r(2191),i=r(2680),a=i("Object.prototype.toString"),u=r(7226)(),s="undefined"==typeof globalThis?r.g:globalThis,c=o(),l=i("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},f=i("String.prototype.slice"),h={},p=r(9765),d=Object.getPrototypeOf;u&&p&&d&&n(c,(function(t){var e=new s[t];if(Symbol.toStringTag in e){var r=d(e),n=p(r,Symbol.toStringTag);if(!n){var o=d(r);n=p(o,Symbol.toStringTag)}h[t]=n.get}})),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!u||!(Symbol.toStringTag in t)){var e=f(a(t),8,-1);return l(c,e)>-1}return!!p&&function(t){var e=!1;return n(h,(function(r,n){if(!e)try{e=r.call(t)===n}catch(t){}})),e}(t)}},7906:function(t){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},3982:function(t,e,r){"use strict";var n=r(1696);t.exports=function(t,e){return n(t&&t.object,"you must pass Joi as an argument"),e&&"string"==typeof e||(e="valid mongo id"),function(){return t.alternatives(t.string().regex(/^[0-9a-fA-F]{24}$/,e),t.object().keys({id:t.any(),_bsontype:t.allow("ObjectId")}))}}},2903:function(t){var e,r;self,t.exports=(e={1238:function(t){"use strict";t.exports={version:"17.6.0"}},7629:function(t,e,r){"use strict";var n=r(375),o=r(8571),i=r(9474),a=r(1687),u=r(8652),s=r(8160),d=r(3292),y=r(6354),v=r(8901),m=r(9708),g=r(6914),b=r(2294),w=r(6133),_=r(1152),E=r(8863),O=r(2036),S={Base:function(){function t(e){h(this,t),this.type=e,this.$_root=null,this._definition={},this._reset()}return p(t,[{key:"_reset",value:function(){this._ids=new b.Ids,this._preferences=null,this._refs=new w.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}},{key:"describe",value:function(){return n("function"==typeof m.describe,"Manifest functionality disabled"),m.describe(this)}},{key:"allow",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return s.verifyFlat(e,"allow"),this._values(e,"_valids")}},{key:"alter",value:function(t){n(t&&"object"==typeof t&&!Array.isArray(t),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");var e=this.clone();for(var r in e.$_terms.alterations=e.$_terms.alterations||[],t){var o=t[r];n("function"==typeof o,"Alteration adjuster for",r,"must be a function"),e.$_terms.alterations.push({target:r,adjuster:o})}return e.$_temp.ruleset=!1,e}},{key:"artifact",value:function(t){return n(void 0!==t,"Artifact cannot be undefined"),n(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",t)}},{key:"cast",value:function(t){return n(!1===t||"string"==typeof t,"Invalid to value"),n(!1===t||this._definition.cast[t],"Type",this.type,"does not support casting to",t),this.$_setFlag("cast",!1===t?void 0:t)}},{key:"default",value:function(t,e){return this._default("default",t,e)}},{key:"description",value:function(t){return n(t&&"string"==typeof t,"Description must be a non-empty string"),this.$_setFlag("description",t)}},{key:"empty",value:function(t){var e=this.clone();return void 0!==t&&(t=e.$_compile(t,{override:!1})),e.$_setFlag("empty",t,{clone:!1})}},{key:"error",value:function(t){return n(t,"Missing error"),n(t instanceof Error||"function"==typeof t,"Must provide a valid Error object or a function"),this.$_setFlag("error",t)}},{key:"example",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(void 0!==t,"Missing example"),s.assertOptions(e,["override"]),this._inner("examples",t,{single:!0,override:e.override})}},{key:"external",value:function(t,e){return"object"==typeof t&&(n(!e,"Cannot combine options with description"),e=t.description,t=t.method),n("function"==typeof t,"Method must be a function"),n(void 0===e||e&&"string"==typeof e,"Description must be a non-empty string"),this._inner("externals",{method:t,description:e},{single:!0})}},{key:"failover",value:function(t,e){return this._default("failover",t,e)}},{key:"forbidden",value:function(){return this.presence("forbidden")}},{key:"id",value:function(t){return t?(n("string"==typeof t,"id must be a non-empty string"),n(/^[^\.]+$/.test(t),"id cannot contain period character"),this.$_setFlag("id",t)):this.$_setFlag("id",void 0)}},{key:"invalid",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._values(e,"_invalids")}},{key:"label",value:function(t){return n(t&&"string"==typeof t,"Label name must be a non-empty string"),this.$_setFlag("label",t)}},{key:"meta",value:function(t){return n(void 0!==t,"Meta cannot be undefined"),this._inner("metas",t,{single:!0})}},{key:"note",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n(e.length,"Missing notes");for(var o=0,i=e;o<i.length;o++){var a=i[o];n(a&&"string"==typeof a,"Notes must be non-empty strings")}return this._inner("notes",e)}},{key:"only",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof t,"Invalid mode:",t),this.$_setFlag("only",t)}},{key:"optional",value:function(){return this.presence("optional")}},{key:"prefs",value:function(t){n(t,"Missing preferences"),n(void 0===t.context,"Cannot override context"),n(void 0===t.externals,"Cannot override externals"),n(void 0===t.warnings,"Cannot override warnings"),n(void 0===t.debug,"Cannot override debug"),s.checkPreferences(t);var e=this.clone();return e._preferences=s.preferences(e._preferences,t),e}},{key:"presence",value:function(t){return n(["optional","required","forbidden"].includes(t),"Unknown presence mode",t),this.$_setFlag("presence",t)}},{key:"raw",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",t?"raw":void 0)}},{key:"result",value:function(t){return n(["raw","strip"].includes(t),"Unknown result mode",t),this.$_setFlag("result",t)}},{key:"required",value:function(){return this.presence("required")}},{key:"strict",value:function(t){var e=this.clone(),r=void 0!==t&&!t;return e._preferences=s.preferences(e._preferences,{convert:r}),e}},{key:"strip",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",t?"strip":void 0)}},{key:"tag",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n(e.length,"Missing tags");for(var o=0,i=e;o<i.length;o++){var a=i[o];n(a&&"string"==typeof a,"Tags must be non-empty strings")}return this._inner("tags",e)}},{key:"unit",value:function(t){return n(t&&"string"==typeof t,"Unit name must be a non-empty string"),this.$_setFlag("unit",t)}},{key:"valid",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];s.verifyFlat(e,"valid");var n=this.allow.apply(this,e);return n.$_setFlag("only",!!n._valids,{clone:!1}),n}},{key:"when",value:function(t,e){var r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);var o=d.when(r,t,e);if(!["any","link"].includes(r.type)){var i,a=o.is?[o]:o.switch,u=l(a);try{for(u.s();!(i=u.n()).done;){var s=i.value;n(!s.then||"any"===s.then.type||s.then.type===r.type,"Cannot combine",r.type,"with",s.then&&s.then.type),n(!s.otherwise||"any"===s.otherwise.type||s.otherwise.type===r.type,"Cannot combine",r.type,"with",s.otherwise&&s.otherwise.type)}}catch(c){u.e(c)}finally{u.f()}}return r.$_terms.whens.push(o),r.$_mutateRebuild()}},{key:"cache",value:function(t){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache"),n(void 0===this._flags.artifact,"Cannot cache a rule with an artifact");var e=this.clone();return e._cache=t||u.provider.provision(),e.$_temp.ruleset=!1,e}},{key:"clone",value:function(){var t=Object.create(Object.getPrototypeOf(this));return this._assign(t)}},{key:"concat",value:function(t){n(s.isSchema(t),"Invalid schema object"),n("any"===this.type||"any"===t.type||t.type===this.type,"Cannot merge type",this.type,"with another type:",t.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!t._inRuleset(),"Cannot concatenate a schema with open ruleset");var e=this.clone();if("any"===this.type&&"any"!==t.type){for(var r=t.clone(),o=0,i=Object.keys(e);o<i.length;o++){var u=i[o];"type"!==u&&(r[u]=e[u])}e=r}e._ids.concat(t._ids),e._refs.register(t,w.toSibling),e._preferences=e._preferences?s.preferences(e._preferences,t._preferences):t._preferences,e._valids=O.merge(e._valids,t._valids,t._invalids),e._invalids=O.merge(e._invalids,t._invalids,t._valids);var c,f=l(t._singleRules.keys());try{var h=function(){var t=c.value;e._singleRules.has(t)&&(e._rules=e._rules.filter((function(e){return e.keep||e.name!==t})),e._singleRules.delete(t))};for(f.s();!(c=f.n()).done;)h()}catch(_){f.e(_)}finally{f.f()}var p,d=l(t._rules);try{for(d.s();!(p=d.n()).done;){var y=p.value;t._definition.rules[y.method].multi||e._singleRules.set(y.name,y),e._rules.push(y)}}catch(_){d.e(_)}finally{d.f()}if(e._flags.empty&&t._flags.empty){e._flags.empty=e._flags.empty.concat(t._flags.empty);var v=Object.assign({},t._flags);delete v.empty,a(e._flags,v)}else if(t._flags.empty){e._flags.empty=t._flags.empty;var m=Object.assign({},t._flags);delete m.empty,a(e._flags,m)}else a(e._flags,t._flags);for(var g in t.$_terms){var b=t.$_terms[g];b?e.$_terms[g]?e.$_terms[g]=e.$_terms[g].concat(b):e.$_terms[g]=b.slice():e.$_terms[g]||(e.$_terms[g]=b)}return this.$_root._tracer&&this.$_root._tracer._combine(e,[this,t]),e.$_mutateRebuild()}},{key:"extend",value:function(t){return n(!t.base,"Cannot extend type with another base"),v.type(this,t)}},{key:"extract",value:function(t){return t=Array.isArray(t)?t:t.split("."),this._ids.reach(t)}},{key:"fork",value:function(t,e){n(!this._inRuleset(),"Cannot fork inside a ruleset");var r,o=this,i=l([].concat(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;a=Array.isArray(a)?a:a.split("."),o=o._ids.fork(a,e,o)}}catch(u){i.e(u)}finally{i.f()}return o.$_temp.ruleset=!1,o}},{key:"rule",value:function(t){var e=this._definition;s.assertOptions(t,Object.keys(e.modifiers)),n(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var r=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;n(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");for(var i=this.clone(),a=r;a<i._rules.length;++a){var u=i._rules[a],c=o(u);for(var l in t)e.modifiers[l](c,t[l]),n(c.name===u.name,"Cannot change rule name");i._rules[a]=c,i._singleRules.get(c.name)===u&&i._singleRules.set(c.name,c)}return i.$_temp.ruleset=!1,i.$_mutateRebuild()}},{key:"ruleset",get:function(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");var t=this.clone();return t.$_temp.ruleset=t._rules.length,t}},{key:"$",get:function(){return this.ruleset}},{key:"tailor",value:function(t){t=[].concat(t),n(!this._inRuleset(),"Cannot tailor inside a ruleset");var e=this;if(this.$_terms.alterations){var r,o=l(this.$_terms.alterations);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.target,u=i.adjuster;t.includes(a)&&(e=u(e),n(s.isSchema(e),"Alteration adjuster for",a,"failed to return a schema object"))}}catch(c){o.e(c)}finally{o.f()}}return(e=e.$_modify({each:function(e){return e.tailor(t)},ref:!1})).$_temp.ruleset=!1,e.$_mutateRebuild()}},{key:"tracer",value:function(){return _.location?_.location(this):this}},{key:"validate",value:function(t,e){return E.entry(t,this,e)}},{key:"validateAsync",value:function(t,e){return E.entryAsync(t,this,e)}},{key:"$_addRule",value:function(t){for(var e in"string"==typeof t&&(t={name:t}),n(t&&"object"==typeof t,"Invalid options"),n(t.name&&"string"==typeof t.name,"Invalid rule name"),t)n("_"!==e[0],"Cannot set private rule properties");var r=Object.assign({},t);r._resolve=[],r.method=r.method||r.name;var o=this._definition.rules[r.method],i=r.args;n(o,"Unknown rule",r.method);var a=this.clone();if(i)for(var u in n(1===Object.keys(i).length||Object.keys(i).length===this._definition.rules[r.name].args.length,"Invalid rule definition for",this.type,r.name),i){var c=i[u];if(void 0!==c){if(o.argsByName){var l=o.argsByName.get(u);if(l.ref&&s.isResolvable(c))r._resolve.push(u),a.$_mutateRegister(c);else if(l.normalize&&(c=l.normalize(c),i[u]=c),l.assert){var f=s.validateArg(c,u,l);n(!f,f,"or reference")}}i[u]=c}else delete i[u]}return o.multi||(a._ruleRemove(r.name,{clone:!1}),a._singleRules.set(r.name,r)),!1===a.$_temp.ruleset&&(a.$_temp.ruleset=null),o.priority?a._rules.unshift(r):a._rules.push(r),a}},{key:"$_compile",value:function(t,e){return d.schema(this.$_root,t,e)}},{key:"$_createError",value:function(t,e,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=!1!==i.flags?this._flags:{},u=i.messages?g.merge(this._definition.messages,i.messages):this._definition.messages;return new y.Report(t,e,r,a,u,n,o)}},{key:"$_getFlag",value:function(t){return this._flags[t]}},{key:"$_getRule",value:function(t){return this._singleRules.get(t)}},{key:"$_mapLabels",value:function(t){return t=Array.isArray(t)?t:t.split("."),this._ids.labels(t)}},{key:"$_match",value:function(t,e,r,n){(r=Object.assign({},r)).abortEarly=!0,r._externals=!1,e.snapshot();var o=!E.validate(t,this,e,r,n).errors;return e.restore(),o}},{key:"$_modify",value:function(t){return s.assertOptions(t,["each","once","ref","schema"]),b.schema(this,t)||this}},{key:"$_mutateRebuild",value:function(){var t=this;return n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:function(e,r){var n=r.source,o=r.name,i=(r.path,r.key),a=t._definition[n][o]&&t._definition[n][o].register;!1!==a&&t.$_mutateRegister(e,{family:a,key:i})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}},{key:"$_mutateRegister",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.family,n=e.key;this._refs.register(t,r),this._ids.register(t,{key:n})}},{key:"$_property",value:function(t){return this._definition.properties[t]}},{key:"$_reach",value:function(t){return this._ids.reach(t)}},{key:"$_rootReferences",value:function(){return this._refs.roots()}},{key:"$_setFlag",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n("_"===t[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");var o=this._definition.flags[t]||{};if(i(e,o.default)&&(e=void 0),i(e,this._flags[t]))return this;var a=!1!==r.clone?this.clone():this;return void 0!==e?(a._flags[t]=e,a.$_mutateRegister(e)):delete a._flags[t],"_"!==t[0]&&(a.$_temp.ruleset=!1),a}},{key:"$_parent",value:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return(e=this[t][s.symbols.parent]).call.apply(e,[this].concat(n))}},{key:"$_validate",value:function(t,e,r){return E.validate(t,this,e,r)}},{key:"_assign",value:function(t){for(var e in t.type=this.type,t.$_root=this.$_root,t.$_temp=Object.assign({},this.$_temp),t.$_temp.whens={},t._ids=this._ids.clone(),t._preferences=this._preferences,t._valids=this._valids&&this._valids.clone(),t._invalids=this._invalids&&this._invalids.clone(),t._rules=this._rules.slice(),t._singleRules=o(this._singleRules,{shallow:!0}),t._refs=this._refs.clone(),t._flags=Object.assign({},this._flags),t._cache=null,t.$_terms={},this.$_terms)t.$_terms[e]=this.$_terms[e]?this.$_terms[e].slice():null;for(var r in t.$_super={},this.$_super)t.$_super[r]=this._super[r].bind(t);return t}},{key:"_bare",value:function(){var t=this.clone();t._reset();var e=t._definition.terms;for(var r in e){var n=e[r];t.$_terms[r]=n.init}return t.$_mutateRebuild()}},{key:"_default",value:function(t,e){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.assertOptions(o,"literal"),n(void 0!==e,"Missing",t,"value"),n("function"==typeof e||!o.literal,"Only function value supports literal option"),"function"==typeof e&&o.literal&&(c(r={},s.symbols.literal,!0),c(r,"literal",e),e=r),this.$_setFlag(t,e)}},{key:"_generate",value:function(t,e,r){if(!this.$_terms.whens)return{schema:this};for(var n=[],o=[],i=0;i<this.$_terms.whens.length;++i){var a=this.$_terms.whens[i];if(a.concat)n.push(a.concat),o.push("".concat(i,".concat"));else{for(var u=a.ref?a.ref.resolve(t,e,r):t,s=a.is?[a]:a.switch,c=o.length,l=0;l<s.length;++l){var h=s[l],p=h.is,d=h.then,y=h.otherwise,v="".concat(i).concat(a.switch?"."+l:"");if(p.$_match(u,e.nest(p,"".concat(v,".is")),r)){if(d){var m=e.localize([].concat(f(e.path),["".concat(v,".then")]),e.ancestors,e.schemas),g=d._generate(t,m,r),b=g.schema,w=g.id;n.push(b),o.push("".concat(v,".then").concat(w?"(".concat(w,")"):""));break}}else if(y){var _=e.localize([].concat(f(e.path),["".concat(v,".otherwise")]),e.ancestors,e.schemas),E=y._generate(t,_,r),O=E.schema,S=E.id;n.push(O),o.push("".concat(v,".otherwise").concat(S?"(".concat(S,")"):""));break}}if(a.break&&o.length>c)break}}var x=o.join(", ");if(e.mainstay.tracer.debug(e,"rule","when",x),!x)return{schema:this};if(!e.mainstay.tracer.active&&this.$_temp.whens[x])return{schema:this.$_temp.whens[x],id:x};var k=this;this._definition.generate&&(k=this._definition.generate(this,t,e,r));for(var j=0,T=n;j<T.length;j++){var L=T[j];k=k.concat(L)}return this.$_root._tracer&&this.$_root._tracer._combine(k,[this].concat(n)),this.$_temp.whens[x]=k,{schema:k,id:x}}},{key:"_inner",value:function(t,e){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(!this._inRuleset(),"Cannot set ".concat(t," inside a ruleset"));var i=this.clone();return i.$_terms[t]&&!o.override||(i.$_terms[t]=[]),o.single?i.$_terms[t].push(e):(r=i.$_terms[t]).push.apply(r,f(e)),i.$_temp.ruleset=!1,i}},{key:"_inRuleset",value:function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}},{key:"_ruleRemove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._singleRules.has(t))return this;var r=!1!==e.clone?this.clone():this;r._singleRules.delete(t);for(var n=[],o=0;o<r._rules.length;++o){var i=r._rules[o];i.name!==t||i.keep?n.push(i):r._inRuleset()&&o<r.$_temp.ruleset&&--r.$_temp.ruleset}return r._rules=n,r}},{key:"_values",value:function(t,e){s.verifyFlat(t,e.slice(1,-1));var r=this.clone(),o=t[0]===s.symbols.override;if(o&&(t=t.slice(1)),!r[e]&&t.length?r[e]=new O:o&&(r[e]=t.length?new O:null,r.$_mutateRebuild()),!r[e])return r;o&&r[e].override();var i,a=l(t);try{for(a.s();!(i=a.n()).done;){var u=i.value;n(void 0!==u,"Cannot call allow/valid/invalid with undefined"),n(u!==s.symbols.override,"Override must be the first value");var c="_invalids"===e?"_valids":"_invalids";r[c]&&(r[c].remove(u),r[c].length||(n("_valids"===e||!r._flags.only,"Setting invalid value",u,"leaves schema rejecting all values due to previous valid rule"),r[c]=null)),r[e].add(u,r._refs)}}catch(f){a.e(f)}finally{a.f()}return r}}]),t}()};S.Base.prototype[s.symbols.any]={version:s.version,compile:d.compile,root:"$_root"},S.Base.prototype.isImmutable=!0,S.Base.prototype.deny=S.Base.prototype.invalid,S.Base.prototype.disallow=S.Base.prototype.invalid,S.Base.prototype.equal=S.Base.prototype.valid,S.Base.prototype.exist=S.Base.prototype.required,S.Base.prototype.not=S.Base.prototype.invalid,S.Base.prototype.options=S.Base.prototype.prefs,S.Base.prototype.preferences=S.Base.prototype.prefs,t.exports=new S.Base},8652:function(t,e,r){"use strict";var n=r(375),o=r(8571),i=r(8160),a={max:1e3,supported:new Set(["undefined","boolean","number","string"])};e.provider={provision:function(t){return new a.Cache(t)}},a.Cache=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,t),i.assertOptions(e,["max"]),n(void 0===e.max||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||a.max,this._map=new Map,this._list=new a.List}return p(t,[{key:"length",get:function(){return this._map.size}},{key:"set",value:function(t,e){if(null===t||a.supported.has(typeof t)){var r=this._map.get(t);if(r)return r.value=e,void this._list.first(r);r=this._list.unshift({key:t,value:e}),this._map.set(t,r),this._compact()}}},{key:"get",value:function(t){var e=this._map.get(t);if(e)return this._list.first(e),o(e.value)}},{key:"_compact",value:function(){if(this._map.size>this._max){var t=this._list.pop();this._map.delete(t.key)}}}]),t}(),a.List=function(){function t(){h(this,t),this.tail=null,this.head=null}return p(t,[{key:"unshift",value:function(t){return t.next=null,t.prev=this.head,this.head&&(this.head.next=t),this.head=t,this.tail||(this.tail=t),t}},{key:"first",value:function(t){t!==this.head&&(this._remove(t),this.unshift(t))}},{key:"pop",value:function(){return this._remove(this.tail)}},{key:"_remove",value:function(t){var e=t.next,r=t.prev;return e.prev=r,r&&(r.next=e),t===this.tail&&(this.tail=e),t.prev=null,t.next=null,t}}]),t}()},8160:function(t,e,r){"use strict";var n,o,i=r(375),a=r(7916),u=r(1238),s={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};e.version=u.version,e.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},e.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},e.assertOptions=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Options";i(t&&"object"==typeof t&&!Array.isArray(t),"Options must be of type object");var n=Object.keys(t).filter((function(t){return!e.includes(t)}));i(0===n.length,"".concat(r," contain unknown keys: ").concat(n))},e.checkPreferences=function(t){var e=(o=o||r(3378)).preferences.validate(t);if(e.error)throw new a([e.error.details[0].message])},e.compare=function(t,e,r){switch(r){case"=":return t===e;case">":return t>e;case"<":return t<e;case">=":return t>=e;case"<=":return t<=e}},e.default=function(t,e){return void 0===t?e:t},e.isIsoDate=function(t){return s.isoDate.test(t)},e.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},e.isResolvable=function(t){return!!t&&(t[e.symbols.ref]||t[e.symbols.template])},e.isSchema=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t&&t[e.symbols.any];return!!n&&(i(r.legacy||n.version===e.version,"Cannot mix different versions of joi schemas"),!0)},e.isValues=function(t){return t[e.symbols.values]},e.limit=function(t){return Number.isSafeInteger(t)&&t>=0},e.preferences=function(t,o){n=n||r(6914),t=t||{},o=o||{};var i=Object.assign({},t,o);return o.errors&&t.errors&&(i.errors=Object.assign({},t.errors,o.errors),i.errors.wrap=Object.assign({},t.errors.wrap,o.errors.wrap)),o.messages&&(i.messages=n.compile(o.messages,t.messages)),delete i[e.symbols.prefs],i},e.tryWithPath=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return t()}catch(t){throw void 0!==t.path?t.path=e+"."+t.path:t.path=e,r.append&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},e.validateArg=function(t,r,n){var o=n.assert,i=n.message;if(e.isSchema(o)){var a=o.validate(t);if(!a.error)return;return a.error.message}if(!o(t))return r?"".concat(r," ").concat(i):i},e.verifyFlat=function(t,e){var r,n=l(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;i(!Array.isArray(o),"Method no longer accepts array arguments:",e)}}catch(a){n.e(a)}finally{n.f()}}},3292:function(t,e,r){"use strict";var n=r(375),o=r(8160),i=r(6133),a={};e.schema=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.assertOptions(r,["appendPath","override"]);try{return a.schema(t,e,r)}catch(t){throw r.appendPath&&void 0!==t.path&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},a.schema=function(t,e,r){n(void 0!==e,"Invalid undefined schema"),Array.isArray(e)&&(n(e.length,"Invalid empty array schema"),1===e.length&&(e=e[0]));var i=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return!1!==r.override?e.valid.apply(e,[t.override].concat(o)):e.valid.apply(e,o)};if(a.simple(e))return i(t,e);if("function"==typeof e)return t.custom(e);if(n("object"==typeof e,"Invalid schema content:",typeof e),o.isResolvable(e))return i(t,e);if(o.isSchema(e))return e;if(Array.isArray(e)){var u,s=l(e);try{for(s.s();!(u=s.n()).done;){var c,h=u.value;if(!a.simple(h))return(c=t.alternatives()).try.apply(c,f(e))}}catch(p){s.e(p)}finally{s.f()}return i.apply(void 0,[t].concat(f(e)))}return e instanceof RegExp?t.string().regex(e):e instanceof Date?i(t.date(),e):(n(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),t.object().keys(e))},e.ref=function(t,e){return i.isRef(t)?t:i.create(t,e)},e.compile=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.assertOptions(i,["legacy"]);var u=r&&r[o.symbols.any];if(u)return n(i.legacy||u.version===o.version,"Cannot mix different versions of joi schemas:",u.version,o.version),r;if("object"!=typeof r||!i.legacy)return e.schema(t,r,{appendPath:!0});var s=a.walk(r);return s?s.compile(s.root,r):e.schema(t,r,{appendPath:!0})},a.walk=function(t){if("object"!=typeof t)return null;if(Array.isArray(t)){var e,r=l(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,u=a.walk(i);if(u)return u}}catch(h){r.e(h)}finally{r.f()}return null}var s=t[o.symbols.any];if(s)return{root:t[s.root],compile:s.compile};for(var c in n(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),t){var f=a.walk(t[c]);if(f)return f}return null},a.simple=function(t){return null===t||["boolean","string","number"].includes(typeof t)},e.when=function(t,r,u){if(void 0===u&&(n(r&&"object"==typeof r,"Missing options"),u=r,r=i.create(".")),Array.isArray(u)&&(u={switch:u}),o.assertOptions(u,["is","not","then","otherwise","switch","break"]),o.isSchema(r))return n(void 0===u.is,'"is" can not be used with a schema condition'),n(void 0===u.not,'"not" can not be used with a schema condition'),n(void 0===u.switch,'"switch" can not be used with a schema condition'),a.condition(t,{is:r,then:u.then,otherwise:u.otherwise,break:u.break});if(n(i.isRef(r)||"string"==typeof r,"Invalid condition:",r),n(void 0===u.not||void 0===u.is,'Cannot combine "is" with "not"'),void 0===u.switch){var s=u;void 0!==u.not&&(s={is:u.not,then:u.otherwise,otherwise:u.then,break:u.break});var c=void 0!==s.is?t.$_compile(s.is):t.$_root.invalid(null,!1,0,"").required();return n(void 0!==s.then||void 0!==s.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),n(void 0===s.break||void 0===s.then||void 0===s.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===u.is||i.isRef(u.is)||o.isSchema(u.is)||(c=c.required()),a.condition(t,{ref:e.ref(r),is:c,then:s.then,otherwise:s.otherwise,break:s.break})}n(Array.isArray(u.switch),'"switch" must be an array'),n(void 0===u.is,'Cannot combine "switch" with "is"'),n(void 0===u.not,'Cannot combine "switch" with "not"'),n(void 0===u.then,'Cannot combine "switch" with "then"');for(var l={ref:e.ref(r),switch:[],break:u.break},f=0;f<u.switch.length;++f){var h=u.switch[f],p=f===u.switch.length-1;o.assertOptions(h,p?["is","then","otherwise"]:["is","then"]),n(void 0!==h.is,'Switch statement missing "is"'),n(void 0!==h.then,'Switch statement missing "then"');var d={is:t.$_compile(h.is),then:t.$_compile(h.then)};if(i.isRef(h.is)||o.isSchema(h.is)||(d.is=d.is.required()),p){n(void 0===u.otherwise||void 0===h.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var y=void 0!==u.otherwise?u.otherwise:h.otherwise;void 0!==y&&(n(void 0===l.break,"Cannot specify both otherwise and break"),d.otherwise=t.$_compile(y))}l.switch.push(d)}return l},a.condition=function(t,e){for(var r=0,n=["then","otherwise"];r<n.length;r++){var o=n[r];void 0===e[o]?delete e[o]:e[o]=t.$_compile(e[o])}return e}},6354:function(t,e,r){"use strict";var n=r(5688),o=r(8160),i=r(3328);e.Report=function(){function t(r,n,o,i,a,u,s){if(h(this,t),this.code=r,this.flags=i,this.messages=a,this.path=u.path,this.prefs=s,this.state=u,this.value=n,this.message=null,this.template=null,this.local=o||{},this.local.label=e.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var c=this.path[this.path.length-1];"object"!=typeof c&&(this.local.key=c)}}return p(t,[{key:"_setTemplate",value:function(t){if(this.template=t,!this.flags.label&&0===this.path.length){var e=this._template(this.template,"root");e&&(this.local.label=e)}}},{key:"toString",value:function(){if(this.message)return this.message;var t=this.code;if(!this.prefs.errors.render)return this.code;var e=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===e?'Error code "'.concat(t,'" is not defined, your custom type is missing the correct messages definition'):(this.message=e.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}},{key:"_template",value:function(t,r){return e.template(this.value,t,r||this.code,this.state,this.prefs)}}]),t}(),e.path=function(t){var e,r="",n=l(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;"object"!=typeof o&&("string"==typeof o?(r&&(r+="."),r+=o):r+="[".concat(o,"]"))}}catch(i){n.e(i)}finally{n.f()}return r},e.template=function(t,e,r,n,a){if(e){if(i.isTemplate(e))return"root"!==r?e:null;var u=a.errors.language;if(o.isResolvable(u)&&(u=u.resolve(t,n,a)),u&&e[u]){if(void 0!==e[u][r])return e[u][r];if(void 0!==e[u]["*"])return e[u]["*"]}return e[r]?e[r]:e["*"]}},e.label=function(t,r,n,o){if(t.label)return t.label;if(!n.errors.label)return"";var i=r.path;return"key"===n.errors.label&&r.path.length>1&&(i=r.path.slice(-1)),e.path(i)||e.template(null,n.messages,"root",r,n)||o&&e.template(null,o,"root",r,n)||"value"},e.process=function(t,r,n){if(!t)return null;var o=e.details(t),i=o.override,a=o.message,u=o.details;if(i)return i;if(n.errors.stack)return new e.ValidationError(a,u,r);var s=Error.stackTraceLimit;Error.stackTraceLimit=0;var c=new e.ValidationError(a,u,r);return Error.stackTraceLimit=s,c},e.details=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=[],i=l(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;if(a instanceof Error){if(!1!==r.override)return{override:a};var u=a.toString();n.push(u),o.push({message:u,type:"override",context:{error:a}})}else{var s=a.toString();n.push(s),o.push({message:s,path:a.path.filter((function(t){return"object"!=typeof t})),type:a.code,context:a.local})}}}catch(c){i.e(c)}finally{i.f()}return n.length>1&&(n=f(new Set(n))),{message:n.join(". "),details:o}},e.ValidationError=function(t){y(n,t);var r=v(n);function n(t,e,o){var i;return h(this,n),(i=r.call(this,t))._original=o,i.details=e,i}return p(n,null,[{key:"isError",value:function(t){return t instanceof e.ValidationError}}]),n}(s(Error)),e.ValidationError.prototype.isJoi=!0,e.ValidationError.prototype.name="ValidationError",e.ValidationError.prototype.annotate=n.error},8901:function(t,e,r){"use strict";var n=r(375),o=r(8571),i=r(8160),a=r(6914),u={};e.type=function(t,e){var r=Object.getPrototypeOf(t),s=o(r),f=t._assign(Object.create(s)),h=Object.assign({},e);delete h.base,s._definition=h;var p=r._definition||{};h.messages=a.merge(p.messages,h.messages),h.properties=Object.assign({},p.properties,h.properties),f.type=h.type,h.flags=Object.assign({},p.flags,h.flags);var d=Object.assign({},p.terms);if(h.terms)for(var y in h.terms){var v=h.terms[y];n(void 0===f.$_terms[y],"Invalid term override for",h.type,y),f.$_terms[y]=v.init,d[y]=v}h.terms=d,h.args||(h.args=p.args),h.prepare=u.prepare(h.prepare,p.prepare),h.coerce&&("function"==typeof h.coerce&&(h.coerce={method:h.coerce}),h.coerce.from&&!Array.isArray(h.coerce.from)&&(h.coerce={method:h.coerce.method,from:[].concat(h.coerce.from)})),h.coerce=u.coerce(h.coerce,p.coerce),h.validate=u.validate(h.validate,p.validate);var m=Object.assign({},p.rules);if(h.rules){var g=function(t){var e=h.rules[t];n("object"==typeof e,"Invalid rule definition for",h.type,t);var r=e.method;if(void 0===r&&(r=function(){return this.$_addRule(t)}),r&&(n(!s[t],"Rule conflict in",h.type,t),s[t]=r),n(!m[t],"Rule conflict in",h.type,t),m[t]=e,e.alias){var o,a=[].concat(e.alias),u=l(a);try{for(u.s();!(o=u.n()).done;){var c=o.value;s[c]=e.method}}catch(f){u.e(f)}finally{u.f()}}e.args&&(e.argsByName=new Map,e.args=e.args.map((function(t){return"string"==typeof t&&(t={name:t}),n(!e.argsByName.has(t.name),"Duplicated argument name",t.name),i.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),e.argsByName.set(t.name,t),t})))};for(var b in h.rules)g(b)}h.rules=m;var w=Object.assign({},p.modifiers);if(h.modifiers){var _=function(t){n(!s[t],"Rule conflict in",h.type,t);var e=h.modifiers[t];n("function"==typeof e,"Invalid modifier definition for",h.type,t);var r=function(e){return this.rule(c({},t,e))};s[t]=r,w[t]=e};for(var E in h.modifiers)_(E)}if(h.modifiers=w,h.overrides){for(var O in s._super=r,f.$_super={},h.overrides)n(r[O],"Cannot override missing",O),h.overrides[O][i.symbols.parent]=r[O],f.$_super[O]=r[O].bind(f);Object.assign(s,h.overrides)}h.cast=Object.assign({},p.cast,h.cast);var S=Object.assign({},p.manifest,h.manifest);return S.build=u.build(h.manifest&&h.manifest.build,p.manifest&&p.manifest.build),h.manifest=S,h.rebuild=u.rebuild(h.rebuild,p.rebuild),f},u.build=function(t,e){return t&&e?function(r,n){return e(t(r,n),n)}:t||e},u.coerce=function(t,e){return t&&e?{from:t.from&&e.from?f(new Set([].concat(f(t.from),f(e.from)))):null,method:function(r,n){var o;if((!e.from||e.from.includes(typeof r))&&(o=e.method(r,n))){if(o.errors||void 0===o.value)return o;r=o.value}if(!t.from||t.from.includes(typeof r)){var i=t.method(r,n);if(i)return i}return o}}:t||e},u.prepare=function(t,e){return t&&e?function(r,n){var o=t(r,n);if(o){if(o.errors||void 0===o.value)return o;r=o.value}return e(r,n)||o}:t||e},u.rebuild=function(t,e){return t&&e?function(r){e(r),t(r)}:t||e},u.validate=function(t,e){return t&&e?function(r,n){var o=e(r,n);if(o){if(o.errors&&(!Array.isArray(o.errors)||o.errors.length))return o;r=o.value}return t(r,n)||o}:t||e}},5107:function(t,e,r){"use strict";var n,o=r(375),i=r(8571),a=r(8652),s=r(8160),c=r(3292),h=r(6354),p=r(8901),d=r(9708),y=r(6133),v=r(3328),m=r(1152),g={types:{alternatives:r(4946),any:r(8068),array:r(546),boolean:r(4937),date:r(7500),function:r(390),link:r(8785),number:r(3832),object:r(8966),string:r(7417),symbol:r(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){var t,e={_types:new Set(Object.keys(g.types))},r=l(e._types);try{var n=function(){var r=t.value;e[r]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(!e.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),g.generate(this,g.types[r],e)}};for(r.s();!(t=r.n()).done;)n()}catch(f){r.e(f)}finally{r.f()}for(var i=function(){var t=u[a];e[t]=function(){var e;return(e=this.any())[t].apply(e,arguments)}},a=0,u=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];a<u.length;a++)i();for(var s in Object.assign(e,g.methods),g.aliases){var c=g.aliases[s];e[s]=e[c]}return e.x=e.expression,m.setup&&m.setup(e),e}};g.methods={ValidationError:h.ValidationError,version:s.version,cache:a.provider,assert:function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];g.assert(t,e,!0,n)},attempt:function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return g.assert(t,e,!1,n)},build:function(t){return o("function"==typeof d.build,"Manifest functionality disabled"),d.build(this,t)},checkPreferences:function(t){s.checkPreferences(t)},compile:function(t,e){return c.compile(this,t,e)},defaults:function(t){o("function"==typeof t,"modifier must be a function");var e,r=Object.assign({},this),n=l(r._types);try{var i=function(){var n=e.value,i=t(r[n]());o(s.isSchema(i),"modifier must return a valid schema object"),r[n]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return g.generate(this,i,e)}};for(n.s();!(e=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}return r},expression:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return u(v,e)},extend:function(){for(var t=this,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];s.verifyFlat(i,"extend"),n=n||r(3378),o(i.length,"You need to provide at least one extension"),this.assert(i,n.extensions);var u=Object.assign({},this);u._types=new Set(u._types);for(var c=0,f=i;c<f.length;c++){var h=f[c];"function"==typeof h&&(h=h(u)),this.assert(h,n.extension);var d,y=g.expandExtension(h,u),v=l(y);try{var m=function(){var e=d.value;o(void 0===u[e.type]||u._types.has(e.type),"Cannot override name",e.type);var r=e.base||t.any(),n=p.type(r,e);u._types.add(e.type),u[e.type]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return g.generate(this,n,e)}};for(v.s();!(d=v.n()).done;)m()}catch(b){v.e(b)}finally{v.f()}}return u},isError:h.ValidationError.isError,isExpression:v.isTemplate,isRef:y.isRef,isSchema:s.isSchema,in:function(){return y.in.apply(y,arguments)},override:s.symbols.override,ref:function(){return y.create.apply(y,arguments)},types:function(){var t,e={},r=l(this._types);try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n]=this[n]()}}catch(i){r.e(i)}finally{r.f()}for(var o in g.aliases)e[o]=this[o]();return e}},g.assert=function(t,e,r,n){var o=n[0]instanceof Error||"string"==typeof n[0]?n[0]:null,a=o?n[1]:n[0],u=e.validate(t,s.preferences({errors:{stack:!0}},a||{})),c=u.error;if(!c)return u.value;if(o instanceof Error)throw o;var l=r&&"function"==typeof c.annotate?c.annotate():c.message;throw c instanceof h.ValidationError==0&&(c=i(c)),c.message=o?"".concat(o," ").concat(l):l,c},g.generate=function(t,e,r){var n;return o(t,"Must be invoked on a Joi instance."),e.$_root=t,e._definition.args&&r.length?(n=e._definition).args.apply(n,[e].concat(f(r))):e},g.expandExtension=function(t,e){if("string"==typeof t.type)return[t];var r,n=[],o=l(e._types);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(t.type.test(i)){var a=Object.assign({},t);a.type=i,a.base=e[i](),n.push(a)}}}catch(u){o.e(u)}finally{o.f()}return n},t.exports=g.root()},6914:function(t,e,r){"use strict";var n=r(375),o=r(8571),i=r(3328);e.compile=function(t,e){if("string"==typeof t)return n(!e,"Cannot set single message string"),new i(t);if(i.isTemplate(t))return n(!e,"Cannot set single message template"),t;for(var r in n("object"==typeof t&&!Array.isArray(t),"Invalid message options"),e=e?o(e):{},t){var a=t[r];if("root"===r||i.isTemplate(a))e[r]=a;else if("string"!=typeof a){n("object"==typeof a&&!Array.isArray(a),"Invalid message for",r);var u=r;for(r in e[u]=e[u]||{},a){var s=a[r];"root"===r||i.isTemplate(s)?e[u][r]=s:(n("string"==typeof s,"Invalid message for",r,"in",u),e[u][r]=new i(s))}}else e[r]=new i(a)}return e},e.decompile=function(t){var e={};for(var r in t){var n=t[r];if("root"!==r)if(i.isTemplate(n))e[r]=n.describe({compact:!0});else{var o=r;for(r in e[o]={},n){var a=n[r];"root"!==r?e[o][r]=a.describe({compact:!0}):e[o].root=a}}else e.root=n}return e},e.merge=function(t,r){if(!t)return e.compile(r);if(!r)return t;if("string"==typeof r)return new i(r);if(i.isTemplate(r))return r;var a=o(t);for(var u in r){var s=r[u];if("root"===u||i.isTemplate(s))a[u]=s;else if("string"!=typeof s){n("object"==typeof s&&!Array.isArray(s),"Invalid message for",u);var c=u;for(u in a[c]=a[c]||{},s){var l=s[u];"root"===u||i.isTemplate(l)?a[c][u]=l:(n("string"==typeof l,"Invalid message for",u,"in",c),a[c][u]=new i(l))}}else a[u]=new i(s)}return a}},2294:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=r(375),s=r(8160),c=r(6133),d={};e.Ids=d.Ids=function(){function t(){h(this,t),this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}return p(t,[{key:"clone",value:function(){var t=new d.Ids;return t._byId=new Map(this._byId),t._byKey=new Map(this._byKey),t._schemaChain=this._schemaChain,t}},{key:"concat",value:function(t){t._schemaChain&&(this._schemaChain=!0);var e,r=l(t._byId.entries());try{for(r.s();!(e=r.n()).done;){var n=a(e.value,2),o=n[0],i=n[1];u(!this._byKey.has(o),"Schema id conflicts with existing key:",o),this._byId.set(o,i)}}catch(d){r.e(d)}finally{r.f()}var s,c=l(t._byKey.entries());try{for(c.s();!(s=c.n()).done;){var f=a(s.value,2),h=f[0],p=f[1];u(!this._byId.has(h),"Schema key conflicts with existing id:",h),this._byKey.set(h,p)}}catch(d){c.e(d)}finally{c.f()}}},{key:"fork",value:function(t,e,r){var n=this._collect(t);n.push({schema:r});var o=n.shift(),i={id:o.id,schema:e(o.schema)};u(s.isSchema(i.schema),"adjuster function failed to return a joi schema type");var a,c=l(n);try{for(c.s();!(a=c.n()).done;){var f=a.value;i={id:f.id,schema:d.fork(f.schema,i.id,i.schema)}}}catch(h){c.e(h)}finally{c.f()}return i.schema}},{key:"labels",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t[0],n=this._get(r);if(!n)return[].concat(f(e),f(t)).join(".");var o=t.slice(1);return e=[].concat(f(e),[n.schema._flags.label||r]),o.length?n.schema._ids.labels(o,e):e.join(".")}},{key:"reach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t[0],n=this._get(r);u(n,"Schema does not contain path",[].concat(f(e),f(t)).join("."));var o=t.slice(1);return o.length?n.schema._ids.reach(o,[].concat(f(e),[r])):n.schema}},{key:"register",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).key;if(t&&s.isSchema(t)){(t.$_property("schemaChain")||t._ids._schemaChain)&&(this._schemaChain=!0);var r=t._flags.id;if(r){var n=this._byId.get(r);u(!n||n.schema===t,"Cannot add different schemas with the same id:",r),u(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:t,id:r})}e&&(u(!this._byKey.has(e),"Schema already contains key:",e),u(!this._byId.has(e),"Schema key conflicts with existing id:",e),this._byKey.set(e,{schema:t,id:e}))}}},{key:"reset",value:function(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}},{key:"_collect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=t[0],o=this._get(n);u(o,"Schema does not contain path",[].concat(f(e),f(t)).join(".")),r=[o].concat(f(r));var i=t.slice(1);return i.length?o.schema._ids._collect(i,[].concat(f(e),[n]),r):r}},{key:"_get",value:function(t){return this._byId.get(t)||this._byKey.get(t)}}]),t}(),d.fork=function(t,r,n){var o=e.schema(t,{each:function(t,e){var o=e.key;if(r===(t._flags.id||o))return n},ref:!1});return o?o.$_mutateRebuild():t},e.schema=function(t,e){var r;for(var n in t._flags)if("_"!==n[0]){var o=d.scan(t._flags[n],{source:"flags",name:n},e);void 0!==o&&((r=r||t.clone())._flags[n]=o)}for(var i=0;i<t._rules.length;++i){var a=t._rules[i],u=d.scan(a.args,{source:"rules",name:a.name},e);if(void 0!==u){r=r||t.clone();var s=Object.assign({},a);s.args=u,r._rules[i]=s,r._singleRules.get(a.name)===a&&r._singleRules.set(a.name,s)}}for(var c in t.$_terms)if("_"!==c[0]){var l=d.scan(t.$_terms[c],{source:"terms",name:c},e);void 0!==l&&((r=r||t.clone()).$_terms[c]=l)}return r},d.scan=function(t,e,r,n,i){var a=n||[];if(null!==t&&"object"==typeof t){var u;if(Array.isArray(t)){for(var l=0;l<t.length;++l){var h="terms"===e.source&&"keys"===e.name&&t[l].key,p=d.scan(t[l],e,r,[l].concat(f(a)),h);void 0!==p&&((u=u||t.slice())[l]=p)}return u}if(!1!==r.schema&&s.isSchema(t)||!1!==r.ref&&c.isRef(t)){var y=r.each(t,o(o({},e),{},{path:a,key:i}));if(y===t)return;return y}for(var v in t)if("_"!==v[0]){var m=d.scan(t[v],e,r,[v].concat(f(a)),i);void 0!==m&&((u=u||Object.assign({},t))[v]=m)}return u}}},6133:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u,s=r(375),c=r(8571),d=r(9621),y=r(8160),v={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};e.create=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s("string"==typeof t,"Invalid reference key:",t),y.assertOptions(e,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),s(!e.prefix||"object"==typeof e.prefix,"options.prefix must be of type object");var r=Object.assign({},v.defaults,e);delete r.prefix;var n=r.separator,o=v.context(t,n,e.prefix);if(r.type=o.type,t=o.key,"value"===r.type)if(o.root&&(s(!n||t[0]!==n,"Cannot specify relative path with root prefix"),r.ancestor="root",t||(t=null)),n&&n===t)t=null,r.ancestor=0;else if(void 0!==r.ancestor)s(!n||!t||t[0]!==n,"Cannot combine prefix with ancestor option");else{var i=v.ancestor(t,n),u=a(i,2),c=u[0],l=u[1];l&&""===(t=t.slice(l))&&(t=null),r.ancestor=c}return r.path=n?null===t?[]:t.split(n):[t],new v.Ref(r)},e.in=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.create(t,o(o({},r),{},{in:!0}))},e.isRef=function(t){return!!t&&!!t[y.symbols.ref]},v.Ref=function(){function t(e){h(this,t),s("object"==typeof e,"Invalid reference construction"),y.assertOptions(e,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),s([!1,void 0].includes(e.separator)||"string"==typeof e.separator&&1===e.separator.length,"Invalid separator"),s(!e.adjust||"function"==typeof e.adjust,"options.adjust must be a function"),s(!e.map||Array.isArray(e.map),"options.map must be an array"),s(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,v.defaults,e),s("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}return p(t,[{key:"resolve",value:function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return s(!this.in||o.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(r.context,e,o):"local"===this.type?this._resolve(n,e,o):this.ancestor?"root"===this.ancestor?this._resolve(e.ancestors[e.ancestors.length-1],e,o):(s(this.ancestor<=e.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(e.ancestors[this.ancestor-1],e,o)):this._resolve(t,e,o)}},{key:"_resolve",value:function(t,e,r){var n;if("value"===this.type&&e.mainstay.shadow&&!1!==r.shadow&&(n=e.mainstay.shadow.get(this.absolute(e))),void 0===n&&(n=d(t,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){var o=this.map.get(n);void 0!==o&&(n=o)}return e.mainstay&&e.mainstay.tracer.resolve(e,this,n),n}},{key:"toString",value:function(){return this.display}},{key:"absolute",value:function(t){return[].concat(f(t.path.slice(0,-this.ancestor)),f(this.path))}},{key:"clone",value:function(){return new v.Ref(this)}},{key:"describe",value:function(){var t={path:this.path};"value"!==this.type&&(t.type=this.type),"."!==this.separator&&(t.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(t.ancestor=this.ancestor),this.map&&(t.map=f(this.map));for(var e=0,r=["adjust","iterables","render"];e<r.length;e++){var n=r[e];null!==this[n]&&void 0!==this[n]&&(t[n]=this[n])}return!1!==this.in&&(t.in=!0),{ref:t}}},{key:"updateDisplay",value:function(){var t=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var e=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(e).concat(t||"")}else this.display="ref:".concat(t||"..");else this.display="ref:root:".concat(t);else this.display="ref:".concat(this.separator).concat(t);else this.display="ref:".concat(t);else this.display="ref:".concat(this.type,":").concat(t)}}]),t}(),v.Ref.prototype[y.symbols.ref]=!0,e.build=function(t){return"value"===(t=Object.assign({},v.defaults,t)).type&&void 0===t.ancestor&&(t.ancestor=1),new v.Ref(t)},v.context=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t=t.trim(),r){var n=void 0===r.global?"$":r.global;if(n!==e&&t.startsWith(n))return{key:t.slice(n.length),type:"global"};var o=void 0===r.local?"#":r.local;if(o!==e&&t.startsWith(o))return{key:t.slice(o.length),type:"local"};var i=void 0===r.root?"/":r.root;if(i!==e&&t.startsWith(i))return{key:t.slice(i.length),type:"value",root:!0}}return{key:t,type:"value"}},v.ancestor=function(t,e){if(!e)return[1,0];if(t[0]!==e)return[1,0];if(t[1]!==e)return[0,1];for(var r=2;t[r]===e;)++r;return[r-1,r]},e.toSibling=0,e.toParent=1,e.Manager=function(){function t(){h(this,t),this.refs=[]}return p(t,[{key:"register",value:function(t,n){if(t)if(n=void 0===n?e.toParent:n,Array.isArray(t)){var o,i=l(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.register(a,n)}}catch(h){i.e(h)}finally{i.f()}}else if(y.isSchema(t)){var s,c=l(t._refs.refs);try{for(c.s();!(s=c.n()).done;){var f=s.value;f.ancestor-n>=0&&this.refs.push({ancestor:f.ancestor-n,root:f.root})}}catch(h){c.e(h)}finally{c.f()}}else e.isRef(t)&&"value"===t.type&&t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root}),(u=u||r(3328)).isTemplate(t)&&this.register(t.refs(),n)}},{key:"length",get:function(){return this.refs.length}},{key:"clone",value:function(){var t=new e.Manager;return t.refs=c(this.refs),t}},{key:"reset",value:function(){this.refs=[]}},{key:"roots",value:function(){return this.refs.filter((function(t){return!t.ancestor})).map((function(t){return t.root}))}}]),t}()},3378:function(t,e,r){"use strict";var n=r(5107),o={};o.wrap=n.string().min(1).max(2).allow(!1),e.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrap:{label:o.wrap,array:o.wrap,string:o.wrap}},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),o.nameRx=/^[a-zA-Z0-9]\w*$/,o.rule=n.object({alias:n.array().items(n.string().pattern(o.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(o.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),e.extension=n.object({type:n.alternatives([n.string(),n.object().regex()]).required(),args:n.function(),cast:n.object().pattern(o.nameRx,n.object({from:n.function().maxArity(1).required(),to:n.function().minArity(1).maxArity(2).required()})),base:n.object().schema().when("type",{is:n.object().regex(),then:n.forbidden()}),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(o.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(o.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(o.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(o.nameRx,o.rule),terms:n.object().pattern(o.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),e.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),o.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean(),render:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},o.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),o.desc.buffer,o.desc.func,o.desc.ref,o.desc.regex,o.desc.special,o.desc.template,o.desc.value,n.link("/")]),o.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),o.desc.buffer,o.desc.func,o.desc.override,o.desc.ref,o.desc.regex,o.desc.template,o.desc.value),o.desc.messages=n.object().pattern(/.+/,[n.string(),o.desc.template,n.object().pattern(/.+/,[n.string(),o.desc.template])]),e.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:o.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),o.desc.ref],wrap:{label:o.wrap,array:o.wrap}},externals:n.boolean(),messages:o.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:o.desc.values,invalid:o.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),o.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:o.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},493:function(t,e,r){"use strict";var n=r(8571),o=r(9621),i=r(8160),a={value:Symbol("value")};t.exports=a.State=function(){function t(e,r,n){h(this,t),this.path=e,this.ancestors=r,this.mainstay=n.mainstay,this.schemas=n.schemas,this.debug=null}return p(t,[{key:"localize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new a.State(t,e,this);return r&&n.schemas&&(n.schemas=[a.schemas(r)].concat(f(n.schemas))),n}},{key:"nest",value:function(t,e){var r=new a.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[a.schemas(t)].concat(f(r.schemas)),r.debug=e,r}},{key:"shadow",value:function(t,e){this.mainstay.shadow=this.mainstay.shadow||new a.Shadow,this.mainstay.shadow.set(this.path,t,e)}},{key:"snapshot",value:function(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path)))}},{key:"restore",value:function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}}]),t}(),a.schemas=function(t){return i.isSchema(t)?{schema:t}:t},a.Shadow=function(){function t(){h(this,t),this._values=null}return p(t,[{key:"set",value:function(t,e,r){if(t.length&&("strip"!==r||"number"!=typeof t[t.length-1])){this._values=this._values||new Map;for(var n=this._values,o=0;o<t.length;++o){var i=t[o],u=n.get(i);u||(u=new Map,n.set(i,u)),n=u}n[a.value]=e}}},{key:"get",value:function(t){var e=this.node(t);if(e)return e[a.value]}},{key:"node",value:function(t){if(this._values)return o(this._values,t,{iterables:!0})}},{key:"override",value:function(t,e){if(this._values){var r=t.slice(0,-1),n=t[t.length-1],i=o(this._values,r,{iterables:!0});e?i.set(n,e):i&&i.delete(n)}}}]),t}()},3328:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=r(375),s=r(8571),c=r(5277),d=r(1447),y=r(8160),v=r(6354),m=r(6133),g={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};t.exports=g.Template=function(){function t(e,r){h(this,t),u("string"==typeof e,"Template source must be a string"),u(!e.includes("\0")&&!e.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,this._settings=s(r),this._parse()}return p(t,[{key:"_parse",value:function(){if(this.source.includes("{")){var t=g.encode(this.source),e=g.split(t),r=!1,n=[],o=e.shift();o&&n.push(o);var i,a=l(e);try{for(a.s();!(i=a.n()).done;){var u=i.value,s="{"!==u[0],c=s?"}":"}}",f=u.indexOf(c);if(-1!==f&&"{"!==u[1]){var h=u.slice(s?0:1,f),p=":"===h[0];p&&(h=h.slice(1));var d=this._ref(g.decode(h),{raw:s,wrapped:p});n.push(d),"string"!=typeof d&&(r=!0);var y=u.slice(f+c.length);y&&n.push(g.decode(y))}else n.push("{".concat(g.decode(u)))}}catch(v){a.e(v)}finally{a.f()}r?this._template=n:this.rendered=n.join("")}}},{key:"describe",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._settings&&t.compact)return this.source;var e={template:this.source};return this._settings&&(e.options=this._settings),e}},{key:"isDynamic",value:function(){return!!this._template}},{key:"refs",value:function(){if(this._template){var t,e=[],r=l(this._template);try{for(r.s();!(t=r.n()).done;){var n=t.value;"string"!=typeof n&&e.push.apply(e,f(n.refs))}}catch(o){r.e(o)}finally{r.f()}return e}}},{key:"resolve",value:function(t,e,r,n){return this._template&&1===this._template.length?this._part(this._template[0],t,e,r,n,{}):this.render(t,e,r,n)}},{key:"_part",value:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return t.ref?(e=t.ref).resolve.apply(e,n):t.formula.evaluate(n)}},{key:"render",value:function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.isDynamic())return this.rendered;var i,a=[],u=l(this._template);try{for(u.s();!(i=u.n()).done;){var s=i.value;if("string"==typeof s)a.push(s);else{var f=this._part(s,t,e,r,n,o),h=g.stringify(f,t,e,r,n,o);if(void 0!==h){var p=s.raw||!1===(o.errors&&o.errors.escapeHtml)?h:c(h);a.push(g.wrap(p,s.wrapped&&r.errors.wrap.label))}}}}catch(d){u.e(d)}finally{u.f()}return a.join("")}},{key:"_ref",value:function(t,e){var r=this,n=e.raw,o=e.wrapped,i=[],a=function(t){var e=m.create(t,r._settings);return i.push(e),function(t){return e.resolve.apply(e,f(t))}};try{var u=new d.Parser(t,{reference:a,functions:g.functions,constants:g.constants})}catch(n){throw n.message='Invalid template variable "'.concat(t,'" fails due to: ').concat(n.message),n}if(u.single){if("reference"===u.single.type){var s=i[0];return{ref:s,raw:n,refs:i,wrapped:o||"local"===s.type&&"label"===s.key}}return g.stringify(u.single.value)}return{formula:u,raw:n,refs:i}}},{key:"toString",value:function(){return this.source}}],[{key:"date",value:function(t,e){return g.dateFormat[e.dateFormat].call(t)}},{key:"build",value:function(t){return new g.Template(t.template,t.options)}},{key:"isTemplate",value:function(t){return!!t&&!!t[y.symbols.template]}}]),t}(),g.Template.prototype[y.symbols.template]=!0,g.Template.prototype.isImmutable=!0,g.encode=function(t){return t.replace(/\\(\{+)/g,(function(t,e){return g.opens.slice(0,e.length)})).replace(/\\(\}+)/g,(function(t,e){return g.closes.slice(0,e.length)}))},g.decode=function(t){return t.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},g.split=function(t){for(var e=[],r="",n=0;n<t.length;++n){var o=t[n];if("{"===o){for(var i="";n+1<t.length&&"{"===t[n+1];)i+="{",++n;e.push(r),r=i}else r+=o}return e.push(r),e},g.wrap=function(t,e){return e?1===e.length?"".concat(e).concat(t).concat(e):"".concat(e[0]).concat(t).concat(e[1]):t},g.stringify=function(t,e,r,n,i){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=typeof t,c=n&&n.errors&&n.errors.wrap||{},f=!1;if(m.isRef(t)&&t.render&&(f=t.in,t=t.resolve(e,r,n,i,o({in:t.in},u))),null===t)return"null";if("string"===s)return g.wrap(t,u.arrayItems&&c.string);if("number"===s||"function"===s||"symbol"===s)return t.toString();if("object"!==s)return JSON.stringify(t);if(t instanceof Date)return g.Template.date(t,n);if(t instanceof Map){var h,p=[],d=l(t.entries());try{for(d.s();!(h=d.n()).done;){var y=a(h.value,2),v=y[0],b=y[1];p.push("".concat(v.toString()," -> ").concat(b.toString()))}}catch(S){d.e(S)}finally{d.f()}t=p}if(!Array.isArray(t))return t.toString();var w,_=[],E=l(t);try{for(E.s();!(w=E.n()).done;){var O=w.value;_.push(g.stringify(O,e,r,n,i,o({arrayItems:!0},u)))}}catch(S){E.e(S)}finally{E.f()}return g.wrap(_.join(", "),!f&&c.array)},g.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},g.functions={if:function(t,e,r){return t?e:r},length:function(t){return"string"==typeof t?t.length:t&&"object"==typeof t?Array.isArray(t)?t.length:Object.keys(t).length:null},msg:function(t){var e=a(this,5),r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],s=u.messages;if(!s)return"";var c=v.template(r,s[0],t,n,o)||v.template(r,s[1],t,n,o);return c?c.render(r,n,o,i,u):""},number:function(t){return"number"==typeof t?t:"string"==typeof t?parseFloat(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null}}},4946:function(t,e,r){"use strict";var n=r(375),o=r(1687),i=r(8068),u=r(8160),s=r(3292),c=r(6354),h=r(6133),p={};t.exports=i.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:h.toSibling}},args:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return 1===r.length&&Array.isArray(r[0])?t.try.apply(t,f(r[0])):t.try.apply(t,r)},validate:function(t,e){var r=e.schema,n=e.error,i=e.state,a=e.prefs;if(r._flags.match){for(var u=[],s=[],l=0;l<r.$_terms.matches.length;++l){var f=r.$_terms.matches[l],h=i.nest(f.schema,"match.".concat(l));h.snapshot();var d=f.schema.$_validate(t,h,a);d.errors?(s.push(d.errors),h.restore()):u.push(d.value)}if(0===u.length)return{errors:n("alternatives.any",{details:s.map((function(t){return c.details(t,{override:!1})}))})};if("one"===r._flags.match)return 1===u.length?{value:u[0]}:{errors:n("alternatives.one")};if(u.length!==r.$_terms.matches.length)return{errors:n("alternatives.all",{details:s.map((function(t){return c.details(t,{override:!1})}))})};var y=function t(e){return e.$_terms.matches.some((function(e){return"object"===e.schema.type||"alternatives"===e.schema.type&&t(e.schema)}))};return y(r)?{value:u.reduce((function(t,e){return o(t,e,{mergeArrays:!1})}))}:{value:u[u.length-1]}}for(var v=[],m=0;m<r.$_terms.matches.length;++m){var g=r.$_terms.matches[m];if(g.schema){var b=i.nest(g.schema,"match.".concat(m));b.snapshot();var w=g.schema.$_validate(t,b,a);if(!w.errors)return w;b.restore(),v.push({schema:g.schema,reports:w.errors})}else for(var _=g.ref?g.ref.resolve(t,i,a):t,E=g.is?[g]:g.switch,O=0;O<E.length;++O){var S=E[O],x=S.is,k=S.then,j=S.otherwise,T="match.".concat(m).concat(g.switch?"."+O:"");if(x.$_match(_,i.nest(x,"".concat(T,".is")),a)){if(k)return k.$_validate(t,i.nest(k,"".concat(T,".then")),a)}else if(j)return j.$_validate(t,i.nest(j,"".concat(T,".otherwise")),a)}}return p.errors(v,e)},rules:{conditional:{method:function(t,e){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(void 0===e.break,"Cannot use break option with alternatives conditional");var r,o=this.clone(),i=s.when(o,t,e),a=i.is?[i]:i.switch,u=l(a);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(c.then&&c.otherwise){o.$_setFlag("_endedSwitch",!0,{clone:!1});break}}}catch(f){u.e(f)}finally{u.f()}return o.$_terms.matches.push(i),o.$_mutateRebuild()}},match:{method:function(t){if(n(["any","one","all"].includes(t),"Invalid alternatives match mode",t),"any"!==t){var e,r=l(this.$_terms.matches);try{for(r.s();!(e=r.n()).done;){var o=e.value;n(o.schema,"Cannot combine match mode",t,"with conditional rules")}}catch(i){r.e(i)}finally{r.f()}}return this.$_setFlag("match",t)}},try:{method:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n(e.length,"Missing alternative schemas"),u.verifyFlat(e,"try"),n(!this._flags._endedSwitch,"Unreachable condition");for(var o=this.clone(),i=0,a=e;i<a.length;i++){var s=a[i];o.$_terms.matches.push({schema:o.$_compile(s)})}return o.$_mutateRebuild()}}},overrides:{label:function(t){return this.$_parent("label",t).$_modify({each:function(e,r){return"is"!==r.path[0]?e.label(t):void 0},ref:!1})}},rebuild:function(t){t.$_modify({each:function(e){u.isSchema(e)&&"array"===e.type&&t.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build:function(t,e){if(e.matches){var r,n=l(e.matches);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=o.schema,a=o.ref,u=o.is,s=o.not,c=o.then,f=o.otherwise;t=i?t.try(i):a?t.conditional(a,{is:u,then:c,not:s,otherwise:f,switch:o.switch}):t.conditional(u,{then:c,otherwise:f})}}catch(h){n.e(h)}finally{n.f()}}return t}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),p.errors=function(t,e){var r=e.error,n=e.state;if(!t.length)return{errors:r("alternatives.any")};if(1===t.length)return{errors:t[0].reports};var o,i=new Set,u=[],s=l(t);try{for(s.s();!(o=s.n()).done;){var h=o.value,d=h.reports,y=h.schema;if(d.length>1)return p.unmatched(t,r);var v=d[0];if(v instanceof c.Report==0)return p.unmatched(t,r);if(v.state.path.length===n.path.length)if("any.only"!==v.code){var m=v.code.split("."),g=a(m,2),b=g[0];"base"===g[1]?i.add(b):u.push({type:y.type,report:v})}else{var w,_=l(v.local.valids);try{for(_.s();!(w=_.n()).done;){var E=w.value;i.add(E)}}catch(O){_.e(O)}finally{_.f()}}else u.push({type:y.type,report:v})}}catch(O){s.e(O)}finally{s.f()}return u.length?1===u.length?{errors:u[0].report}:p.unmatched(t,r):{errors:r("alternatives.types",{types:f(i)})}},p.unmatched=function(t,e){var r,n=[],o=l(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.push.apply(n,f(i.reports))}}catch(a){o.e(a)}finally{o.f()}return{errors:e("alternatives.match",c.details(n,{override:!1}))}}},8068:function(t,e,r){"use strict";var n=r(375),o=r(7629),i=r(8160),a=r(6914);t.exports=o.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(t,e){return n("function"==typeof t,"Method must be a function"),n(void 0===e||e&&"string"==typeof e,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:t,description:e}})},validate:function(t,e,r){var n=r.method;try{return n(t,e)}catch(t){return e.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method:function(t){return this.prefs({messages:t})}},shared:{method:function(t){n(i.isSchema(t)&&t._flags.id,"Schema must be a schema with an id");var e=this.clone();return e.$_terms.shared=e.$_terms.shared||[],e.$_terms.shared.push(t),e.$_mutateRegister(t),e}},warning:{method:function(t,e){return n(t&&"string"==typeof t,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:t,local:e},warn:!0})},validate:function(t,e,r){var n=r.code,o=r.local;return e.error(n,o)},args:["code","local"],multi:!0}},modifiers:{keep:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.keep=e},message:function(t,e){t.message=a.compile(e)},warn:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.warn=e}},manifest:{build:function(t,e){for(var r in e){var n=e[r];if(["examples","externals","metas","notes","tags"].includes(r)){var o,i=l(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;t=t[r.slice(0,-1)](a)}}catch(k){i.e(k)}finally{i.f()}}else if("alterations"!==r)if("whens"!==r){if("shared"===r){var u,s=l(n);try{for(s.s();!(u=s.n()).done;){var c=u.value;t=t.shared(c)}}catch(k){s.e(k)}finally{s.f()}}}else{var f,h=l(n);try{for(h.s();!(f=h.n()).done;){var p=f.value,d=p.ref,y=p.is,v=p.not,m=p.then,g=p.otherwise,b=p.concat;t=b?t.concat(b):d?t.when(d,{is:y,not:v,then:m,otherwise:g,switch:p.switch,break:p.break}):t.when(y,{then:m,otherwise:g,break:p.break})}}catch(k){h.e(k)}finally{h.f()}}else{var w,_={},E=l(n);try{for(E.s();!(w=E.n()).done;){var O=w.value,S=O.target,x=O.adjuster;_[S]=x}}catch(k){E.e(k)}finally{E.f()}t=t.alter(_)}}return t}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(t,e,r){"use strict";var n=r(375),o=r(9474),i=r(9621),a=r(8068),u=r(8160),s=r(3292),c={};t.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method:function(t,e){var r=e.schema,n=e.state,o=e.prefs;if(Array.isArray(t)){var i=r.$_getRule("sort");return i?c.sort(r,t,i.args.options,n,o):void 0}}},validate:function(t,e){var r=e.schema,n=e.error;if(!Array.isArray(t)){if(r._flags.single){var o=[t];return o[u.symbols.arraySingle]=!0,{value:o}}return{errors:n("array.base")}}if(r.$_getRule("items")||r.$_terms.externals)return{value:t.slice()}},rules:{has:{method:function(t){t=this.$_compile(t,{appendPath:!0});var e=this.$_addRule({name:"has",args:{schema:t}});return e.$_mutateRegister(t),e},validate:function(t,e,r){for(var n=e.state,o=e.prefs,i=e.error,a=r.schema,u=[t].concat(f(n.ancestors)),s=0;s<t.length;++s){var c=n.localize([].concat(f(n.path),[s]),u,a);if(a.$_match(t[s],c,o))return t}var l=a._flags.label;return l?i("array.hasKnown",{patternLabel:l}):i("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];u.verifyFlat(r,"items");for(var o=this.$_addRule("items"),i=function(e){var n=u.tryWithPath((function(){return t.$_compile(r[e])}),e,{append:!0});o.$_terms.items.push(n)},a=0;a<r.length;++a)i(a);return o.$_mutateRebuild()},validate:function(t,e){var r=e.schema,n=e.error,o=e.state,i=e.prefs,a=e.errorsArray,s=r.$_terms._requireds.slice(),h=r.$_terms.ordered.slice(),p=[].concat(f(r.$_terms._inclusions),f(s)),d=!t[u.symbols.arraySingle];delete t[u.symbols.arraySingle];for(var y=a(),v=t.length,m=0;m<v;++m){var g=t[m],b=!1,w=!1,_=d?m:new Number(m),E=[].concat(f(o.path),[_]);if(r._flags.sparse||void 0!==g){var O,S=[t].concat(f(o.ancestors)),x=l(r.$_terms._exclusions);try{for(x.s();!(O=x.n()).done;){var k=O.value;if(k.$_match(g,o.localize(E,S,k),i,{presence:"ignore"})){if(y.push(n("array.excludes",{pos:m,value:g},o.localize(E))),i.abortEarly)return y;b=!0,h.shift();break}}}catch(z){x.e(z)}finally{x.f()}if(!b){if(r.$_terms.ordered.length){if(h.length){var j=h.shift(),T=j.$_validate(g,o.localize(E,S,j),i);if(T.errors){if(y.push.apply(y,f(T.errors)),i.abortEarly)return y}else if("strip"===j._flags.result)c.fastSplice(t,m),--m,--v;else{if(!r._flags.sparse&&void 0===T.value){if(y.push(n("array.sparse",{key:_,path:E,pos:m,value:void 0},o.localize(E))),i.abortEarly)return y;continue}t[m]=T.value}continue}if(!r.$_terms.items.length){if(y.push(n("array.orderedLength",{pos:m,limit:r.$_terms.ordered.length})),i.abortEarly)return y;break}}for(var L=[],P=s.length,A=0;A<P;++A){var C=o.localize(E,S,s[A]);C.snapshot();var I=s[A].$_validate(g,C,i);if(L[A]=I,!I.errors){if(t[m]=I.value,w=!0,c.fastSplice(s,A),--A,--P,!r._flags.sparse&&void 0===I.value&&(y.push(n("array.sparse",{key:_,path:E,pos:m,value:void 0},o.localize(E))),i.abortEarly))return y;break}C.restore()}if(!w){var R=i.stripUnknown&&!!i.stripUnknown.arrays||!1;P=p.length;var D,N=l(p);try{for(N.s();!(D=N.n()).done;){var F=D.value,M=void 0,B=s.indexOf(F);if(-1!==B)M=L[B];else{var U=o.localize(E,S,F);if(U.snapshot(),!(M=F.$_validate(g,U,i)).errors){"strip"===F._flags.result?(c.fastSplice(t,m),--m,--v):r._flags.sparse||void 0!==M.value?t[m]=M.value:(y.push(n("array.sparse",{key:_,path:E,pos:m,value:void 0},o.localize(E))),b=!0),w=!0;break}U.restore()}if(1===P){if(R){c.fastSplice(t,m),--m,--v,w=!0;break}if(y.push.apply(y,f(M.errors)),i.abortEarly)return y;b=!0;break}}}catch(z){N.e(z)}finally{N.f()}if(!b&&(r.$_terms._inclusions.length||r.$_terms._requireds.length)&&!w){if(R){c.fastSplice(t,m),--m,--v;continue}if(y.push(n("array.includes",{pos:m,value:g},o.localize(E))),i.abortEarly)return y}}}}else{if(y.push(n("array.sparse",{key:_,path:E,pos:m,value:void 0},o.localize(E))),i.abortEarly)return y;h.shift()}}return s.length&&c.fillMissedErrors(r,y,s,t,o,i),h.length&&(c.fillOrderedErrors(r,y,h,t,o,i),y.length||c.fillDefault(h,t,o,i)),y.length?y:t},priority:!0,manifest:!1},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,e,r,n){var o=r.limit,i=n.name,a=n.operator,s=n.args;return u.compare(t.length,o,a)?t:e.error("array."+i,{limit:s.limit,value:t})},args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];u.verifyFlat(r,"ordered");for(var o=this.$_addRule("items"),i=function(e){var n=u.tryWithPath((function(){return t.$_compile(r[e])}),e,{append:!0});c.validateSingle(n,o),o.$_mutateRegister(n),o.$_terms.ordered.push(n)},a=0;a<r.length;++a)i(a);return o.$_mutateRebuild()}},single:{method:function(t){var e=void 0===t||!!t;return n(!e||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",e)}},sort:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.assertOptions(t,["by","order"]);var e={order:t.order||"ascending"};return t.by&&(e.by=s.ref(t.by,{ancestor:0}),n(!e.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:e}})},validate:function(t,e,r){var n=e.error,o=e.state,i=e.prefs,a=e.schema,u=r.options,s=c.sort(a,t,u,o,i),l=s.value,f=s.errors;if(f)return f;for(var h=0;h<t.length;++h)if(t[h]!==l[h])return n("array.sort",{order:u.order,by:u.by?u.by.key:"value"});return t},convert:!0},sparse:{method:function(t){var e=void 0===t||!!t;return this._flags.sparse===e?this:(e?this.clone():this.$_addRule("items")).$_setFlag("sparse",e,{clone:!1})}},unique:{method:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(!t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),u.assertOptions(e,["ignoreUndefined","separator"]);var r={name:"unique",args:{options:e,comparator:t}};if(t)if("string"==typeof t){var o=u.default(e.separator,".");r.path=o?t.split(o):[t]}else r.comparator=t;return this.$_addRule(r)},validate:function(t,e,r,a){for(var u=e.state,s=e.error,c=(e.schema,r.comparator),l=r.options,h=a.comparator,p=a.path,d={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},y=h||o,v=l.ignoreUndefined,m=0;m<t.length;++m){var g=p?i(t[m],p):t[m],b=h?d.custom:d[typeof g];if(n(b,"Failed to find unique map container for type",typeof g),b instanceof Map){for(var w=b.entries(),_=void 0;!(_=w.next()).done;)if(y(_.value[0],g)){var E=u.localize([].concat(f(u.path),[m]),[t].concat(f(u.ancestors))),O={pos:m,value:t[m],dupePos:_.value[1],dupeValue:t[_.value[1]]};return p&&(O.path=c),s("array.unique",O,E)}b.set(g,m)}else{if((!v||void 0!==g)&&void 0!==b[g]){var S={pos:m,value:t[m],dupePos:b[g],dupeValue:t[b[g]]};return p&&(S.path=c),s("array.unique",S,u.localize([].concat(f(u.path),[m]),[t].concat(f(u.ancestors))))}b[g]=m}}return t},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(t,e){return new Set(t)}}},rebuild:function(t){t.$_terms._inclusions=[],t.$_terms._exclusions=[],t.$_terms._requireds=[];var e,r=l(t.$_terms.items);try{for(r.s();!(e=r.n()).done;){var n=e.value;c.validateSingle(n,t),"required"===n._flags.presence?t.$_terms._requireds.push(n):"forbidden"===n._flags.presence?t.$_terms._exclusions.push(n):t.$_terms._inclusions.push(n)}}catch(u){r.e(u)}finally{r.f()}var o,i=l(t.$_terms.ordered);try{for(i.s();!(o=i.n()).done;){var a=o.value;c.validateSingle(a,t)}}catch(u){i.e(u)}finally{i.f()}},manifest:{build:function(t,e){var r,n;return e.items&&(t=(r=t).items.apply(r,f(e.items))),e.ordered&&(t=(n=t).ordered.apply(n,f(e.ordered))),t}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),c.fillMissedErrors=function(t,e,r,n,o,i){var a,u=[],s=0,c=l(r);try{for(c.s();!(a=c.n()).done;){var f=a.value._flags.label;f?u.push(f):++s}}catch(h){c.e(h)}finally{c.f()}u.length?s?e.push(t.$_createError("array.includesRequiredBoth",n,{knownMisses:u,unknownMisses:s},o,i)):e.push(t.$_createError("array.includesRequiredKnowns",n,{knownMisses:u},o,i)):e.push(t.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:s},o,i))},c.fillOrderedErrors=function(t,e,r,n,o,i){var a,u=[],s=l(r);try{for(s.s();!(a=s.n()).done;){var f=a.value;"required"===f._flags.presence&&u.push(f)}}catch(h){s.e(h)}finally{s.f()}u.length&&c.fillMissedErrors(t,e,u,n,o,i)},c.fillDefault=function(t,e,r,n){for(var o=[],i=!0,a=t.length-1;a>=0;--a){var u=t[a],s=[e].concat(f(r.ancestors)),c=u.$_validate(void 0,r.localize(r.path,s,u),n).value;if(i){if(void 0===c)continue;i=!1}o.unshift(c)}o.length&&e.push.apply(e,o)},c.fastSplice=function(t,e){for(var r=e;r<t.length;)t[r++]=t[r];--t.length},c.validateSingle=function(t,e){("array"===t.type||t._flags._arrayItems)&&(n(!e._flags.single,"Cannot specify array item with single rule enabled"),e.$_setFlag("_arrayItems",!0,{clone:!1}))},c.sort=function(t,e,r,n,o){var i="ascending"===r.order?1:-1,a=-1*i,u=i,s=function(s,l){var f=c.compare(s,l,a,u);if(null!==f)return f;if(r.by&&(s=r.by.resolve(s,n,o),l=r.by.resolve(l,n,o)),null!==(f=c.compare(s,l,a,u)))return f;var h=typeof s;if(h!==typeof l)throw t.$_createError("array.sort.mismatching",e,null,n,o);if("number"!==h&&"string"!==h)throw t.$_createError("array.sort.unsupported",e,{type:h},n,o);return"number"===h?(s-l)*i:s<l?a:u};try{return{value:e.slice().sort(s)}}catch(t){return{errors:t}}},c.compare=function(t,e,r,n){return t===e?0:void 0===t?1:void 0===e?-1:null===t?n:null===e?r:null}},4937:function(t,e,r){"use strict";var n=r(375),o=r(8068),i=r(8160),a=r(2036),u={isBool:function(t){return"boolean"==typeof t}};t.exports=o.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(t,e){var r=e.schema;if("boolean"!=typeof t){if("string"==typeof t){var n=r._flags.sensitive?t:t.toLowerCase();t="true"===n||"false"!==n&&t}return"boolean"!=typeof t&&(t=r.$_terms.truthy&&r.$_terms.truthy.has(t,null,null,!r._flags.sensitive)||(!r.$_terms.falsy||!r.$_terms.falsy.has(t,null,null,!r._flags.sensitive))&&t),{value:t}}},validate:function(t,e){var r=e.error;if("boolean"!=typeof t)return{value:t,errors:r("boolean.base")}},rules:{truthy:{method:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.verifyFlat(e,"truthy");var o=this.clone();o.$_terms.truthy=o.$_terms.truthy||new a;for(var u=0;u<e.length;++u){var s=e[u];n(void 0!==s,"Cannot call truthy with undefined"),o.$_terms.truthy.add(s)}return o}},falsy:{method:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.verifyFlat(e,"falsy");var o=this.clone();o.$_terms.falsy=o.$_terms.falsy||new a;for(var u=0;u<e.length;++u){var s=e[u];n(void 0!==s,"Cannot call falsy with undefined"),o.$_terms.falsy.add(s)}return o}},sensitive:{method:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("sensitive",t)}}},cast:{number:{from:u.isBool,to:function(t,e){return t?1:0}},string:{from:u.isBool,to:function(t,e){return t?"true":"false"}}},manifest:{build:function(t,e){var r,n;return e.truthy&&(t=(r=t).truthy.apply(r,f(e.truthy))),e.falsy&&(t=(n=t).falsy.apply(n,f(e.falsy))),t}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(t,e,r){"use strict";var n=r(375),o=r(8068),i=r(8160),a=r(3328),u={isDate:function(t){return t instanceof Date}};t.exports=o.extend({type:"date",coerce:{from:["number","string"],method:function(t,e){var r=e.schema;return{value:u.parse(t,r._flags.format)||t}}},validate:function(t,e){var r=e.schema,n=e.error,o=e.prefs;if(!(t instanceof Date)||isNaN(t.getTime())){var i=r._flags.format;return o.convert&&i&&"string"==typeof t?{value:t,errors:n("date.format",{format:i})}:{value:t,errors:n("date.base")}}},rules:{compare:{method:!1,validate:function(t,e,r,n){var o=r.date,a=n.name,u=n.operator,s=n.args,c="now"===o?Date.now():o.getTime();return i.compare(t.getTime(),c,u)?t:e.error("date."+a,{limit:s.date,value:t})},args:[{name:"date",ref:!0,normalize:function(t){return"now"===t?t:u.parse(t)},assert:function(t){return null!==t},message:"must have a valid date format"}]},format:{method:function(t){return n(["iso","javascript","unix"].includes(t),"Unknown date format",t),this.$_setFlag("format",t)}},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{date:t},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{date:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{date:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{date:t},operator:">="})}},timestamp:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";return n(["javascript","unix"].includes(t),'"type" must be one of "javascript, unix"'),this.format(t)}}},cast:{number:{from:u.isDate,to:function(t,e){return t.getTime()}},string:{from:u.isDate,to:function(t,e){var r=e.prefs;return a.date(t,r)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),u.parse=function(t,e){if(t instanceof Date)return t;if("string"!=typeof t&&(isNaN(t)||!isFinite(t)))return null;if(/^\s*$/.test(t))return null;if("iso"===e)return i.isIsoDate(t)?u.date(t.toString()):null;var r=t;if("string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=parseFloat(t)),e){if("javascript"===e)return u.date(1*t);if("unix"===e)return u.date(1e3*t);if("string"==typeof r)return null}return u.date(t)},u.date=function(t){var e=new Date(t);return isNaN(e.getTime())?null:e}},390:function(t,e,r){"use strict";var n=r(375),o=r(7824);t.exports=o.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(t){return n(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:t}})},validate:function(t,e,r){var n=r.n;return t.length===n?t:e.error("function.arity",{n:n})}},class:{method:function(){return this.$_addRule("class")},validate:function(t,e){return/^\s*class\s/.test(t.toString())?t:e.error("function.class",{value:t})}},minArity:{method:function(t){return n(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:t}})},validate:function(t,e,r){var n=r.n;return t.length>=n?t:e.error("function.minArity",{n:n})}},maxArity:{method:function(t){return n(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:t}})},validate:function(t,e,r){var n=r.n;return t.length<=n?t:e.error("function.maxArity",{n:n})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(t,e,r){"use strict";var n=r(978),o=r(375),i=r(8571),a=r(3652),d=r(8068),m=r(8160),g=r(3292),b=r(6354),w=r(6133),_=r(3328),E={renameDefaults:{alias:!1,multiple:!1,override:!1}};t.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(t,e){return t.keys(e)},validate:function(t,e){var r=e.schema,n=e.error,o=e.state,i=e.prefs;if(!t||typeof t!==r.$_property("typeof")||Array.isArray(t))return{value:t,errors:n("object.base",{type:r.$_property("typeof")})};if(r.$_terms.renames||r.$_terms.dependencies||r.$_terms.keys||r.$_terms.patterns||r.$_terms.externals){t=E.clone(t,i);var a=[];if(r.$_terms.renames&&!E.rename(r,t,o,i,a))return{value:t,errors:a};if(!r.$_terms.keys&&!r.$_terms.patterns&&!r.$_terms.dependencies)return{value:t,errors:a};var u=new Set(Object.keys(t));if(r.$_terms.keys){var s,c=[t].concat(f(o.ancestors)),h=l(r.$_terms.keys);try{for(h.s();!(s=h.n()).done;){var p=s.value,d=p.key,y=t[d];u.delete(d);var v=o.localize([].concat(f(o.path),[d]),c,p),m=p.schema.$_validate(y,v,i);if(m.errors){if(i.abortEarly)return{value:t,errors:m.errors};void 0!==m.value&&(t[d]=m.value),a.push.apply(a,f(m.errors))}else"strip"===p.schema._flags.result||void 0===m.value&&void 0!==y?delete t[d]:void 0!==m.value&&(t[d]=m.value)}}catch(x){h.e(x)}finally{h.f()}}if(u.size||r._flags._hasPatternMatch){var g=E.unknown(r,t,u,a,o,i);if(g)return g}if(r.$_terms.dependencies){var b,w=l(r.$_terms.dependencies);try{for(w.s();!(b=w.n()).done;){var _=b.value;if(!_.key||void 0!==_.key.resolve(t,o,i,null,{shadow:!1})){var O=E.dependencies[_.rel](r,_,t,o,i);if(O){var S=r.$_createError(O.code,t,O.context,o,i);if(i.abortEarly)return{value:t,errors:S};a.push(S)}}}}catch(x){w.e(x)}finally{w.f()}}return{value:t,errors:a}}},rules:{and:{method:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return m.verifyFlat(e,"and"),E.dependency(this,"and",null,e)}},append:{method:function(t){return null==t||0===Object.keys(t).length?this:this.keys(t)}},assert:{method:function(t,e,r){_.isTemplate(t)||(t=g.ref(t)),o(void 0===r||"string"==typeof r,"Message must be a string"),e=this.$_compile(e,{appendPath:!0});var n=this.$_addRule({name:"assert",args:{subject:t,schema:e,message:r}});return n.$_mutateRegister(t),n.$_mutateRegister(e),n},validate:function(t,e,r){var n=e.error,o=e.prefs,i=e.state,a=r.subject,u=r.schema,s=r.message,c=a.resolve(t,i,o),l=w.isRef(a)?a.absolute(i):[];return u.$_match(c,i.localize(l,[t].concat(f(i.ancestors)),u),o)?t:n("object.assert",{subject:a,message:s})},args:["subject","schema","message"],multi:!0},instance:{method:function(t,e){return o("function"==typeof t,"constructor must be a function"),e=e||t.name,this.$_addRule({name:"instance",args:{constructor:t,name:e}})},validate:function(t,e,r){var n=r.constructor,o=r.name;return t instanceof n?t:e.error("object.instance",{type:o,value:t})},args:["constructor","name"]},keys:{method:function(t){var e=this;o(void 0===t||"object"==typeof t,"Object schema must be a valid object"),o(!m.isSchema(t),"Object schema cannot be a joi schema");var r=this.clone();if(t)if(Object.keys(t).length){r.$_terms.keys=r.$_terms.keys?r.$_terms.keys.filter((function(e){return!t.hasOwnProperty(e.key)})):new E.Keys;var n=function(n){m.tryWithPath((function(){return r.$_terms.keys.push({key:n,schema:e.$_compile(t[n])})}),n)};for(var i in t)n(i)}else r.$_terms.keys=new E.Keys;else r.$_terms.keys=null;return r.$_mutateRebuild()}},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,e,r,n){var o=r.limit,i=n.name,a=n.operator,u=n.args;return m.compare(Object.keys(t).length,o,a)?t:e.error("object."+i,{limit:u.limit,value:t})},args:[{name:"limit",ref:!0,assert:m.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},nand:{method:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return m.verifyFlat(e,"nand"),E.dependency(this,"nand",null,e)}},or:{method:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return m.verifyFlat(e,"or"),E.dependency(this,"or",null,e)}},oxor:{method:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return E.dependency(this,"oxor",null,e)}},pattern:{method:function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t instanceof RegExp;i||(t=this.$_compile(t,{appendPath:!0})),o(void 0!==e,"Invalid rule"),m.assertOptions(n,["fallthrough","matches"]),i&&o(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode"),e=this.$_compile(e,{appendPath:!0});var a=this.clone();a.$_terms.patterns=a.$_terms.patterns||[];var u=(c(r={},i?"regex":"schema",t),c(r,"rule",e),r);return n.matches&&(u.matches=this.$_compile(n.matches),"array"!==u.matches.type&&(u.matches=u.matches.$_root.array().items(u.matches)),a.$_mutateRegister(u.matches),a.$_setFlag("_hasPatternMatch",!0,{clone:!1})),n.fallthrough&&(u.fallthrough=!0),a.$_terms.patterns.push(u),a.$_mutateRegister(e),a}},ref:{method:function(){return this.$_addRule("ref")},validate:function(t,e){return w.isRef(t)?t:e.error("object.refType",{value:t})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(t,e){return t instanceof RegExp?t:e.error("object.regex",{value:t})}},rename:{method:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),o("string"==typeof e||e instanceof _,"Invalid rename to argument"),o(e!==t,"Cannot rename key to same name:",t),m.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);var i=this.clone();i.$_terms.renames=i.$_terms.renames||[];var a,u=l(i.$_terms.renames);try{for(u.s();!(a=u.n()).done;){var s=a.value;o(s.from!==t,"Cannot rename the same key multiple times")}}catch(c){u.e(c)}finally{u.f()}return e instanceof _&&i.$_mutateRegister(e),i.$_terms.renames.push({from:t,to:e,options:n(E.renameDefaults,r)}),i}},schema:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:t}})},validate:function(t,e,r){var n=r.type;return!m.isSchema(t)||"any"!==n&&t.type!==n?e.error("object.schema",{type:n}):t}},unknown:{method:function(t){return this.$_setFlag("unknown",!1!==t)}},with:{method:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return E.dependency(this,"with",t,e,r)}},without:{method:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return E.dependency(this,"without",t,e,r)}},xor:{method:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return m.verifyFlat(e,"xor"),E.dependency(this,"xor",null,e)}}},overrides:{default:function(t,e){return void 0===t&&(t=m.symbols.deepDefault),this.$_parent("default",t,e)}},rebuild:function(t){t.$_terms.keys&&function(){var e,r=new a.Sorter,n=l(t.$_terms.keys);try{var o=function(){var t=e.value;m.tryWithPath((function(){return r.add(t,{after:t.schema.$_rootReferences(),group:t.key})}),t.key)};for(n.s();!(e=n.n()).done;)o()}catch(i){n.e(i)}finally{n.f()}t.$_terms.keys=u(E.Keys,f(r.nodes))}()},manifest:{build:function(t,e){if(e.keys&&(t=t.keys(e.keys)),e.dependencies){var r,n=l(e.dependencies);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=o.rel,a=o.key,u=void 0===a?null:a,s=o.peers,c=o.options;t=E.dependency(t,i,u,s,c)}}catch(k){n.e(k)}finally{n.f()}}if(e.patterns){var f,h=l(e.patterns);try{for(h.s();!(f=h.n()).done;){var p=f.value,d=p.regex,y=p.schema,v=p.rule,m=p.fallthrough,g=p.matches;t=t.pattern(d||y,v,{fallthrough:m,matches:g})}}catch(k){h.e(k)}finally{h.f()}}if(e.renames){var b,w=l(e.renames);try{for(w.s();!(b=w.n()).done;){var _=b.value,O=_.from,S=_.to,x=_.options;t=t.rename(O,S,x)}}catch(k){w.e(k)}finally{w.f()}}return t}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),E.clone=function(t,e){if("object"==typeof t){if(e.nonEnumerables)return i(t,{shallow:!0});var r=Object.create(Object.getPrototypeOf(t));return Object.assign(r,t),r}var n=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r)};return n.prototype=i(t.prototype),Object.defineProperty(n,"name",{value:t.name,writable:!1}),Object.defineProperty(n,"length",{value:t.length,writable:!1}),Object.assign(n,t),n},E.dependency=function(t,e,r,n,i){o(null===r||"string"==typeof r,e,"key must be a strings"),i||(i=n.length>1&&"object"==typeof n[n.length-1]?n.pop():{}),m.assertOptions(i,["separator"]),n=[].concat(n);var a,u=m.default(i.separator,"."),s=[],c=l(n);try{for(c.s();!(a=c.n()).done;){var f=a.value;o("string"==typeof f,e,"peers must be strings"),s.push(g.ref(f,{separator:u,ancestor:0,prefix:!1}))}}catch(p){c.e(p)}finally{c.f()}null!==r&&(r=g.ref(r,{separator:u,ancestor:0,prefix:!1}));var h=t.clone();return h.$_terms.dependencies=h.$_terms.dependencies||[],h.$_terms.dependencies.push(new E.Dependency(e,r,s,n)),h},E.dependencies={and:function(t,e,r,n,o){var i,a=[],u=[],s=e.peers.length,c=l(e.peers);try{for(c.s();!(i=c.n()).done;){var f=i.value;void 0===f.resolve(r,n,o,null,{shadow:!1})?a.push(f.key):u.push(f.key)}}catch(h){c.e(h)}finally{c.f()}if(a.length!==s&&u.length!==s)return{code:"object.and",context:{present:u,presentWithLabels:E.keysToLabels(t,u),missing:a,missingWithLabels:E.keysToLabels(t,a)}}},nand:function(t,e,r,n,o){var i,a=[],u=l(e.peers);try{for(u.s();!(i=u.n()).done;){var s=i.value;void 0!==s.resolve(r,n,o,null,{shadow:!1})&&a.push(s.key)}}catch(h){u.e(h)}finally{u.f()}if(a.length===e.peers.length){var c=e.paths[0],f=e.paths.slice(1);return{code:"object.nand",context:{main:c,mainWithLabel:E.keysToLabels(t,c),peers:f,peersWithLabels:E.keysToLabels(t,f)}}}},or:function(t,e,r,n,o){var i,a=l(e.peers);try{for(a.s();!(i=a.n()).done;)if(void 0!==i.value.resolve(r,n,o,null,{shadow:!1}))return}catch(u){a.e(u)}finally{a.f()}return{code:"object.missing",context:{peers:e.paths,peersWithLabels:E.keysToLabels(t,e.paths)}}},oxor:function(t,e,r,n,o){var i,a=[],u=l(e.peers);try{for(u.s();!(i=u.n()).done;){var s=i.value;void 0!==s.resolve(r,n,o,null,{shadow:!1})&&a.push(s.key)}}catch(f){u.e(f)}finally{u.f()}if(a.length&&1!==a.length){var c={peers:e.paths,peersWithLabels:E.keysToLabels(t,e.paths)};return c.present=a,c.presentWithLabels=E.keysToLabels(t,a),{code:"object.oxor",context:c}}},with:function(t,e,r,n,o){var i,a=l(e.peers);try{for(a.s();!(i=a.n()).done;){var u=i.value;if(void 0===u.resolve(r,n,o,null,{shadow:!1}))return{code:"object.with",context:{main:e.key.key,mainWithLabel:E.keysToLabels(t,e.key.key),peer:u.key,peerWithLabel:E.keysToLabels(t,u.key)}}}}catch(s){a.e(s)}finally{a.f()}},without:function(t,e,r,n,o){var i,a=l(e.peers);try{for(a.s();!(i=a.n()).done;){var u=i.value;if(void 0!==u.resolve(r,n,o,null,{shadow:!1}))return{code:"object.without",context:{main:e.key.key,mainWithLabel:E.keysToLabels(t,e.key.key),peer:u.key,peerWithLabel:E.keysToLabels(t,u.key)}}}}catch(s){a.e(s)}finally{a.f()}},xor:function(t,e,r,n,o){var i,a=[],u=l(e.peers);try{for(u.s();!(i=u.n()).done;){var s=i.value;void 0!==s.resolve(r,n,o,null,{shadow:!1})&&a.push(s.key)}}catch(f){u.e(f)}finally{u.f()}if(1!==a.length){var c={peers:e.paths,peersWithLabels:E.keysToLabels(t,e.paths)};return 0===a.length?{code:"object.missing",context:c}:(c.present=a,c.presentWithLabels=E.keysToLabels(t,a),{code:"object.xor",context:c})}}},E.keysToLabels=function(t,e){return Array.isArray(e)?e.map((function(e){return t.$_mapLabels(e)})):t.$_mapLabels(e)},E.rename=function(t,e,r,n,o){var i,a={},u=l(t.$_terms.renames);try{for(u.s();!(i=u.n()).done;){var s=i.value,c=[],f="string"!=typeof s.from;if(f){for(var h in e)if((void 0!==e[h]||!s.options.ignoreUndefined)&&h!==s.to){var p=s.from.exec(h);p&&c.push({from:h,to:s.to,match:p})}}else!Object.prototype.hasOwnProperty.call(e,s.from)||void 0===e[s.from]&&s.options.ignoreUndefined||c.push(s);for(var d=0,y=c;d<y.length;d++){var v=y[d],m=v.from,g=v.to;if(g instanceof _&&(g=g.render(e,r,n,v.match)),m!==g){if(!s.options.multiple&&a[g]&&(o.push(t.$_createError("object.rename.multiple",e,{from:m,to:g,pattern:f},r,n)),n.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(e,g)&&!s.options.override&&!a[g]&&(o.push(t.$_createError("object.rename.override",e,{from:m,to:g,pattern:f},r,n)),n.abortEarly))return!1;void 0===e[m]?delete e[g]:e[g]=e[m],a[g]=!0,s.options.alias||delete e[m]}}}}catch(b){u.e(b)}finally{u.f()}return!0},E.unknown=function(t,e,r,n,o,i){if(t.$_terms.patterns){var a,u=!1,s=t.$_terms.patterns.map((function(t){if(t.matches)return u=!0,[]})),c=[e].concat(f(o.ancestors)),h=l(r);try{for(h.s();!(a=h.n()).done;)for(var p=a.value,d=e[p],y=[].concat(f(o.path),[p]),v=0;v<t.$_terms.patterns.length;++v){var g=t.$_terms.patterns[v];if(g.regex){var w=g.regex.test(p);if(o.mainstay.tracer.debug(o,"rule","pattern.".concat(v),w?"pass":"error"),!w)continue}else if(!g.schema.$_match(p,o.nest(g.schema,"pattern.".concat(v)),i))continue;r.delete(p);var _=o.localize(y,c,{schema:g.rule,key:p}),E=g.rule.$_validate(d,_,i);if(E.errors){if(i.abortEarly)return{value:e,errors:E.errors};n.push.apply(n,f(E.errors))}if(g.matches&&s[v].push(p),e[p]=E.value,!g.fallthrough)break}}catch(B){h.e(B)}finally{h.f()}if(u)for(var O=0;O<s.length;++O){var S=s[O];if(S){var x=t.$_terms.patterns[O].matches,k=o.localize(o.path,c,x),j=x.$_validate(S,k,i);if(j.errors){var T=b.details(j.errors,{override:!1});T.matches=S;var L=t.$_createError("object.pattern.match",e,T,o,i);if(i.abortEarly)return{value:e,errors:L};n.push(L)}}}}if(r.size&&(t.$_terms.keys||t.$_terms.patterns)){if(i.stripUnknown&&!t._flags.unknown||i.skipFunctions){var P,A=!(!i.stripUnknown||!0!==i.stripUnknown&&!i.stripUnknown.objects),C=l(r);try{for(C.s();!(P=C.n()).done;){var I=P.value;A?(delete e[I],r.delete(I)):"function"==typeof e[I]&&r.delete(I)}}catch(B){C.e(B)}finally{C.f()}}if(!m.default(t._flags.unknown,i.allowUnknown)){var R,D=l(r);try{for(D.s();!(R=D.n()).done;){var N=R.value,F=o.localize([].concat(f(o.path),[N]),[]),M=t.$_createError("object.unknown",e[N],{child:N},F,i,{flags:!1});if(i.abortEarly)return{value:e,errors:M};n.push(M)}}catch(B){D.e(B)}finally{D.f()}}}},E.Dependency=function(){function t(e,r,n,o){h(this,t),this.rel=e,this.key=r,this.peers=n,this.paths=o}return p(t,[{key:"describe",value:function(){var t={rel:this.rel,peers:this.paths};return null!==this.key&&(t.key=this.key.key),"."!==this.peers[0].separator&&(t.options={separator:this.peers[0].separator}),t}}]),t}(),E.Keys=function(t){y(r,t);var e=v(r);function r(){return h(this,r),e.apply(this,arguments)}return p(r,[{key:"concat",value:function(t){for(var e=this.slice(),r=new Map,n=0;n<e.length;++n)r.set(e[n].key,n);var o,i=l(t);try{for(i.s();!(o=i.n()).done;){var a=o.value,u=a.key,s=r.get(u);void 0!==s?e[s]={key:u,schema:e[s].schema.concat(a.schema)}:e.push(a)}}catch(c){i.e(c)}finally{i.f()}return e}}]),r}(s(Array))},8785:function(t,e,r){"use strict";var n=r(375),o=r(8068),i=r(8160),a=r(3292),u=r(6354),s={};t.exports=o.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(t,e){return t.ref(e)},validate:function(t,e){var r=e.schema,o=e.state,i=e.prefs;n(r.$_terms.link,"Uninitialized link schema");var a=s.generate(r,t,o,i),u=r.$_terms.link[0].ref;return a.$_validate(t,o.nest(a,"link:".concat(u.display,":").concat(a.type)),i)},generate:function(t,e,r,n){return s.generate(t,e,r,n)},rules:{ref:{method:function(t){n(!this.$_terms.link,"Cannot reinitialize schema"),t=a.ref(t),n("value"===t.type||"local"===t.type,"Invalid reference type:",t.type),n("local"===t.type||"root"===t.ancestor||t.ancestor>0,"Link cannot reference itself");var e=this.clone();return e.$_terms.link=[{ref:t}],e}},relative:{method:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("relative",t)}}},overrides:{concat:function(t){n(this.$_terms.link,"Uninitialized link schema"),n(i.isSchema(t),"Invalid schema object"),n("link"!==t.type,"Cannot merge type link with another link");var e=this.clone();return e.$_terms.whens||(e.$_terms.whens=[]),e.$_terms.whens.push({concat:t}),e.$_mutateRebuild()}},manifest:{build:function(t,e){return n(e.link,"Invalid link description missing link"),t.ref(e.link)}}}),s.generate=function(t,e,r,n){var o=r.mainstay.links.get(t);if(o)return o._generate(e,r,n).schema;var i=t.$_terms.link[0].ref,a=s.perspective(i,r),u=a.perspective,c=a.path;s.assert(u,"which is outside of schema boundaries",i,t,r,n);try{o=c.length?u.$_reach(c):u}catch(e){s.assert(!1,"to non-existing schema",i,t,r,n)}return s.assert("link"!==o.type,"which is another link",i,t,r,n),t._flags.relative||r.mainstay.links.set(t,o),o._generate(e,r,n).schema},s.perspective=function(t,e){if("local"===t.type){var r,n=l(e.schemas);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=o.schema,a=o.key;if((i._flags.id||a)===t.path[0])return{perspective:i,path:t.path.slice(1)};if(i.$_terms.shared){var u,s=l(i.$_terms.shared);try{for(s.s();!(u=s.n()).done;){var c=u.value;if(c._flags.id===t.path[0])return{perspective:c,path:t.path.slice(1)}}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){n.e(f)}finally{n.f()}return{perspective:null,path:null}}return"root"===t.ancestor?{perspective:e.schemas[e.schemas.length-1].schema,path:t.path}:{perspective:e.schemas[t.ancestor]&&e.schemas[t.ancestor].schema,path:t.path}},s.assert=function(t,e,r,o,i,a){t||n(!1,'"'.concat(u.label(o._flags,i,a),'" contains link reference "').concat(r.display,'" ').concat(e))}},3832:function(t,e,r){"use strict";var n=r(375),o=r(8068),i=r(8160),a={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};t.exports=o.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(t,e){var r=e.schema,n=e.error,o=t.match(a.numberRx);if(o){t=t.trim();var i={value:parseFloat(t)};if(0===i.value&&(i.value=0),!r._flags.unsafe)if(t.match(/e/i)){if(a.normalizeExponent("".concat(i.value/Math.pow(10,o[1]),"e").concat(o[1]))!==a.normalizeExponent(t))return i.errors=n("number.unsafe"),i}else{var u=i.value.toString();if(u.match(/e/i))return i;if(u!==a.normalizeDecimal(t))return i.errors=n("number.unsafe"),i}return i}}},validate:function(t,e){var r=e.schema,n=e.error,o=e.prefs;if(t===1/0||t===-1/0)return{value:t,errors:n("number.infinity")};if(!i.isNumber(t))return{value:t,errors:n("number.base")};var a={value:t};if(o.convert){var u=r.$_getRule("precision");if(u){var s=Math.pow(10,u.args.limit);a.value=Math.round(a.value*s)/s}}return 0===a.value&&(a.value=0),!r._flags.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(a.errors=n("number.unsafe")),a},rules:{compare:{method:!1,validate:function(t,e,r,n){var o=r.limit,a=n.name,u=n.operator,s=n.args;return i.compare(t,o,u)?t:e.error("number."+a,{limit:s.limit,value:t})},args:[{name:"limit",ref:!0,assert:i.isNumber,message:"must be a number"}]},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{limit:t},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(t,e){return Math.trunc(t)-t==0?t:e.error("number.integer")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{limit:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{limit:t},operator:">="})}},multiple:{method:function(t){return this.$_addRule({name:"multiple",args:{base:t}})},validate:function(t,e,r,n){return t*(1/r.base)%1==0?t:e.error("number.multiple",{multiple:n.args.base,value:t})},args:[{name:"base",ref:!0,assert:function(t){return"number"==typeof t&&isFinite(t)&&t>0},message:"must be a positive number"}],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(t,e){return Number.isSafeInteger(t)&&t>=0&&t<=65535?t:e.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(t){return n(Number.isSafeInteger(t),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:t}})},validate:function(t,e,r){var n=r.limit,o=t.toString().match(a.precisionRx);return Math.max((o[1]?o[1].length:0)-(o[2]?parseInt(o[2],10):0),0)<=n?t:e.error("number.precision",{limit:n,value:t})},convert:!0},sign:{method:function(t){return n(["negative","positive"].includes(t),"Invalid sign",t),this.$_addRule({name:"sign",args:{sign:t}})},validate:function(t,e,r){var n=r.sign;return"negative"===n&&t<0||"positive"===n&&t>0?t:e.error("number.".concat(n))}},unsafe:{method:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("unsafe",t)}}},cast:{string:{from:function(t){return"number"==typeof t},to:function(t,e){return t.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),a.normalizeExponent=function(t){return t.replace(/E/,"e").replace(/\.(\d*[1-9])?0+e/,".$1e").replace(/\.e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2")},a.normalizeDecimal=function(t){return(t=t.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),"-0"===t?"0":t}},8966:function(t,e,r){"use strict";var n=r(7824);t.exports=n.extend({type:"object",cast:{map:{from:function(t){return t&&"object"==typeof t},to:function(t,e){return new Map(Object.entries(t))}}}})},7417:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=r(375),u=r(5380),s=r(1745),c=r(9959),f=r(6064),h=r(9926),p=r(5752),d=r(8068),y=r(8160),v={tlds:h instanceof Set&&{tlds:{allow:h,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:c.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};t.exports=d.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(t,e){var r=e.schema,n=e.state,o=e.prefs,i=r.$_getRule("normalize");i&&(t=t.normalize(i.args.form));var a=r.$_getRule("case");a&&(t="upper"===a.args.direction?t.toLocaleUpperCase():t.toLocaleLowerCase());var u=r.$_getRule("trim");if(u&&u.args.enabled&&(t=t.trim()),r.$_terms.replacements){var s,c=l(r.$_terms.replacements);try{for(c.s();!(s=c.n()).done;){var f=s.value;t=t.replace(f.pattern,f.replacement)}}catch(g){c.e(g)}finally{c.f()}}var h=r.$_getRule("hex");if(h&&h.args.options.byteAligned&&t.length%2!=0&&(t="0".concat(t)),r.$_getRule("isoDate")){var p=v.isoDate(t);p&&(t=p)}if(r._flags.truncate){var d=r.$_getRule("max");if(d){var m=d.args.limit;if(y.isResolvable(m)&&(m=m.resolve(t,n,o),!y.limit(m)))return{value:t,errors:r.$_createError("any.ref",m,{ref:d.args.limit,arg:"limit",reason:"must be a positive integer"},n,o)};t=t.slice(0,m)}}return{value:t}}},validate:function(t,e){var r=e.schema,n=e.error;if("string"!=typeof t)return{value:t,errors:n("string.base")};if(""===t){var o=r.$_getRule("min");if(o&&0===o.args.limit)return;return{value:t,errors:n("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(t,e){return/^[a-zA-Z0-9]+$/.test(t)?t:e.error("string.alphanum")}},base64:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y.assertOptions(t,["paddingRequired","urlSafe"]),t=o({urlSafe:!1,paddingRequired:!0},t),a("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),a("boolean"==typeof t.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:t}})},validate:function(t,e,r){var n=r.options;return v.base64Regex[n.paddingRequired][n.urlSafe].test(t)?t:e.error("string.base64")}},case:{method:function(t){return a(["lower","upper"].includes(t),"Invalid case:",t),this.$_addRule({name:"case",args:{direction:t}})},validate:function(t,e,r){var n=r.direction;return"lower"===n&&t===t.toLocaleLowerCase()||"upper"===n&&t===t.toLocaleUpperCase()?t:e.error("string.".concat(n,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(t,e){for(var r=t.length,n=0,o=1;r--;){var i=t.charAt(r)*o;n+=i-9*(i>9),o^=3}return n>0&&n%10==0?t:e.error("string.creditCard")}},dataUri:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y.assertOptions(t,["paddingRequired"]),t=o({paddingRequired:!0},t),a("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:t}})},validate:function(t,e,r){var n=r.options,o=t.match(v.dataUriRegex);if(o){if(!o[2])return t;if("base64"!==o[2])return t;if(v.base64Regex[n.paddingRequired].false.test(o[3]))return t}return e.error("string.dataUri")}},domain:{method:function(t){t&&y.assertOptions(t,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var e=v.addressOptions(t);return this.$_addRule({name:"domain",args:{options:t},address:e})},validate:function(t,e,r,n){var o=n.address;return u.isValid(t,o)?t:e.error("string.domain")}},email:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y.assertOptions(t,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),a(void 0===t.multiple||"boolean"==typeof t.multiple,"multiple option must be an boolean");var e=v.addressOptions(t),r=new RegExp("\\s*[".concat(t.separator?f(t.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:t},regex:r,address:e})},validate:function(t,e,r,n){var o,i=r.options,a=n.regex,u=n.address,c=i.multiple?t.split(a):[t],f=[],h=l(c);try{for(h.s();!(o=h.n()).done;){var p=o.value;s.isValid(p,u)||f.push(p)}}catch(d){h.e(d)}finally{h.f()}return f.length?e.error("string.email",{value:t,invalids:f}):t}},guid:{alias:"uuid",method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y.assertOptions(t,["version","separator"]);var e="";if(t.version){var r=[].concat(t.version);a(r.length>=1,"version must have at least 1 valid version specified");for(var n=new Set,o=0;o<r.length;++o){var i=r[o];a("string"==typeof i,"version at position "+o+" must be a string");var u=v.guidVersions[i.toLowerCase()];a(u,"version at position "+o+" must be one of "+Object.keys(v.guidVersions).join(", ")),a(!n.has(u),"version at position "+o+" must not be a duplicate"),e+=u,n.add(u)}}a(v.guidSeparators.has(t.separator),'separator must be one of true, false, "-", or ":"');var s=void 0===t.separator?"[:-]?":!0===t.separator?"[:-]":!1===t.separator?"[]?":"\\".concat(t.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(s,")[0-9A-F]{4}\\2?[").concat(e||"0-9A-F","][0-9A-F]{3}\\2?[").concat(e?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:t},regex:c})},validate:function(t,e,r,n){var o=n.regex.exec(t);return o?v.guidBrackets[o[1]]!==o[o.length-1]?e.error("string.guid"):t:e.error("string.guid")}},hex:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y.assertOptions(t,["byteAligned"]),t=o({byteAligned:!1},t),a("boolean"==typeof t.byteAligned,"byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:t}})},validate:function(t,e,r){var n=r.options;return v.hexRegex.test(t)?n.byteAligned&&t.length%2!=0?e.error("string.hexAlign"):t:e.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(t,e){return u.isValid(t,{minDomainSegments:1})||v.ipRegex.test(t)?t:e.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y.assertOptions(t,["cidr","version"]);var e=c.regex(t),r=e.cidr,n=e.versions,o=e.regex,i=t.version?n:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:r,version:i}},regex:o})},validate:function(t,e,r,n){var o=r.options;return n.regex.test(t)?t:o.version?e.error("string.ipVersion",{value:t,cidr:o.cidr,version:o.version}):e.error("string.ip",{value:t,cidr:o.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(t,e){var r=e.error;return v.isoDate(t)?t:r("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(t,e){return v.isoDurationRegex.test(t)?t:e.error("string.isoDuration")}},length:{method:function(t,e){return v.length(this,"length",t,"=",e)},validate:function(t,e,r,n){var o=r.limit,i=r.encoding,a=n.name,u=n.operator,s=n.args,c=!i&&t.length;return y.compare(c,o,u)?t:e.error("string."+a,{limit:s.limit,value:t,encoding:i})},args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(t,e){return v.length(this,"max",t,"<=",e)},args:["limit","encoding"]},min:{method:function(t,e){return v.length(this,"min",t,">=",e)},args:["limit","encoding"]},normalize:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";return a(v.normalizationForms.includes(t),"normalization form must be one of "+v.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:t}})},validate:function(t,e,r){var n=e.error,o=r.form;return t===t.normalize(o)?t:n("string.normalize",{value:t,form:o})},convert:!0},pattern:{alias:"regex",method:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(t instanceof RegExp,"regex must be a RegExp"),a(!t.flags.includes("g")&&!t.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof e&&(e={name:e}),y.assertOptions(e,["invert","name"]);var r=["string.pattern",e.invert?".invert":"",e.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:t,options:e},errorCode:r})},validate:function(t,e,r,n){var o=r.regex,i=r.options,a=n.errorCode;return o.test(t)^i.invert?t:e.error(a,{name:i.name,regex:o,value:t})},args:["regex","options"],multi:!0},replace:{method:function(t,e){"string"==typeof t&&(t=new RegExp(f(t),"g")),a(t instanceof RegExp,"pattern must be a RegExp"),a("string"==typeof e,"replacement must be a String");var r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:t,replacement:e}),r}},token:{method:function(){return this.$_addRule("token")},validate:function(t,e){return/^\w+$/.test(t)?t:e.error("string.token")}},trim:{method:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return a("boolean"==typeof t,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:t}})},validate:function(t,e,r){return r.enabled&&t!==t.trim()?e.error("string.trim"):t},convert:!0},truncate:{method:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return a("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("truncate",t)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y.assertOptions(t,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),t.domain&&y.assertOptions(t.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var e=p.regex(t),r=e.regex,n=e.scheme,o=t.domain?v.addressOptions(t.domain):null;return this.$_addRule({name:"uri",args:{options:t},regex:r,domain:o,scheme:n})},validate:function(t,e,r,n){var o=r.options,i=n.regex,a=n.domain,s=n.scheme;if(["http:/","https:/"].includes(t))return e.error("string.uri");var c=i.exec(t);if(c){var l=c[1]||c[2];return!a||o.allowRelative&&!l||u.isValid(l,a)?t:e.error("string.domain",{value:l})}return o.relativeOnly?e.error("string.uriRelativeOnly"):o.scheme?e.error("string.uriCustomScheme",{scheme:s,value:t}):e.error("string.uri")}}},manifest:{build:function(t,e){if(e.replacements){var r,n=l(e.replacements);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=o.pattern,a=o.replacement;t=t.replace(i,a)}}catch(u){n.e(u)}finally{n.f()}}return t}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),v.addressOptions=function(t){if(!t)return t;if(a(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer"),a(void 0===t.maxDomainSegments||Number.isSafeInteger(t.maxDomainSegments)&&t.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===t.tlds)return t;if(!0===t.tlds||void 0===t.tlds)return a(v.tlds,"Built-in TLD list disabled"),Object.assign({},t,v.tlds);a("object"==typeof t.tlds,"tlds must be true, false, or an object");var e=t.tlds.deny;if(e)return Array.isArray(e)&&(t=Object.assign({},t,{tlds:{deny:new Set(e)}})),a(t.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),a(!t.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),v.validateTlds(t.tlds.deny,"tlds.deny"),t;var r=t.tlds.allow;return r?!0===r?(a(v.tlds,"Built-in TLD list disabled"),Object.assign({},t,v.tlds)):(Array.isArray(r)&&(t=Object.assign({},t,{tlds:{allow:new Set(r)}})),a(t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),v.validateTlds(t.tlds.allow,"tlds.allow"),t):t},v.validateTlds=function(t,e){var r,n=l(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;a(u.isValid(o,{minDomainSegments:1,maxDomainSegments:1}),"".concat(e," must contain valid top level domain names"))}}catch(i){n.e(i)}finally{n.f()}},v.isoDate=function(t){if(!y.isIsoDate(t))return null;/.*T.*[+-]\d\d$/.test(t)&&(t+="00");var e=new Date(t);return isNaN(e.getTime())?null:e.toISOString()},v.length=function(t,e,r,n,o){return a(!o||!1,"Invalid encoding:",o),t.$_addRule({name:e,method:"length",args:{limit:r,encoding:o},operator:n})}},8826:function(t,e,r){"use strict";var n=r(375),o=r(8068),i={};i.Map=function(t){y(r,t);var e=v(r);function r(){return h(this,r),e.apply(this,arguments)}return p(r,[{key:"slice",value:function(){return new i.Map(this)}}]),r}(s(Map)),t.exports=o.extend({type:"symbol",terms:{map:{init:new i.Map}},coerce:{method:function(t,e){var r=e.schema,n=e.error,o=r.$_terms.map.get(t);return o&&(t=o),r._flags.only&&"symbol"!=typeof t?{value:t,errors:n("symbol.map",{map:r.$_terms.map})}:{value:t}}},validate:function(t,e){var r=e.error;if("symbol"!=typeof t)return{value:t,errors:r("symbol.base")}},rules:{map:{method:function(t){t&&!t[Symbol.iterator]&&"object"==typeof t&&(t=Object.entries(t)),n(t&&t[Symbol.iterator],"Iterable must be an iterable or object");var e,r=this.clone(),o=[],i=l(t);try{for(i.s();!(e=i.n()).done;){var u=e.value;n(u&&u[Symbol.iterator],"Entry must be an iterable");var s=a(u,2),c=s[0],f=s[1];n("object"!=typeof c&&"function"!=typeof c&&"symbol"!=typeof c,"Key must not be of type object, function, or Symbol"),n("symbol"==typeof f,"Value must be a Symbol"),r.$_terms.map.set(c,f),o.push(f)}}catch(h){i.e(h)}finally{i.f()}return r.valid.apply(r,o)}}},manifest:{build:function(t,e){return e.map&&(t=t.map(e.map)),t}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(t,e,r){"use strict";var n=r(375),a=r(8571),u=r(738),s=r(9621),c=r(8160),h=r(6354),p=r(493),d={result:Symbol("result")};e.entry=function(t,e,r){var o=c.defaults;r&&(n(void 0===r.warnings,"Cannot override warnings preference in synchronous validation"),n(void 0===r.artifacts,"Cannot override artifacts preference in synchronous validation"),o=c.preferences(c.defaults,r));var i=d.entry(t,e,o);n(!i.mainstay.externals.length,"Schema with external rules must use validateAsync()");var a={value:i.value};return i.error&&(a.error=i.error),i.mainstay.warnings.length&&(a.warning=h.details(i.mainstay.warnings)),i.mainstay.debug&&(a.debug=i.mainstay.debug),i.mainstay.artifacts&&(a.artifacts=i.mainstay.artifacts),a},e.entryAsync=function(){var t=i(o().mark((function t(e,r,n){var i,a,u,f,p,y,v,m,g,b,w,_,E,O,S;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=c.defaults,n&&(i=c.preferences(c.defaults,n)),a=d.entry(e,r,i),u=a.mainstay,!a.error){t.next=5;break}throw u.debug&&(a.error.debug=u.debug),a.error;case 5:if(!u.externals.length){t.next=37;break}f=a.value,p=l(u.externals),t.prev=8,p.s();case 10:if((y=p.n()).done){t.next=28;break}return v=y.value,m=v.method,g=v.path,b=v.label,w=void 0,_=void 0,E=f,g.length&&(w=g[g.length-1],_=s(f,g.slice(0,-1)),E=_[w]),t.prev=14,t.next=17,m(E,{prefs:n});case 17:if(void 0!==(O=t.sent)&&O!==E){t.next=20;break}return t.abrupt("continue",26);case 20:_?_[w]=O:f=O,t.next=26;break;case 23:throw t.prev=23,t.t0=t.catch(14),i.errors.label&&(t.t0.message+=" (".concat(b,")")),t.t0;case 26:t.next=10;break;case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(8),p.e(t.t1);case 33:return t.prev=33,p.f(),t.finish(33);case 36:a.value=f;case 37:if(i.warnings||i.debug||i.artifacts){t.next=39;break}return t.abrupt("return",a.value);case 39:return S={value:a.value},t.abrupt("return",(u.warnings.length&&(S.warning=h.details(u.warnings)),u.debug&&(S.debug=u.debug),u.artifacts&&(S.artifacts=u.artifacts),S));case 41:case"end":return t.stop()}}),t,null,[[8,30,33,36],[14,23]])})));return function(e,r,n){return t.apply(this,arguments)}}(),d.entry=function(t,r,n){var o=d.tracer(r,n),i=o.tracer,a=o.cleanup,u={externals:[],warnings:[],tracer:i,debug:n.debug?[]:null,links:r._ids._schemaChain?new Map:null},s=r._ids._schemaChain?[{schema:r}]:null,c=new p([],[],{mainstay:u,schemas:s}),l=e.validate(t,r,c,n);a&&r.$_root.untrace();var f=h.process(l.errors,t,n);return{value:l.value,error:f,mainstay:u}},d.tracer=function(t,e){return t.$_root._tracer?{tracer:t.$_root._tracer._register(t)}:e.debug?(n(t.$_root.trace,"Debug mode not supported"),{tracer:t.$_root.trace()._register(t),cleanup:!0}):{tracer:d.ignore}},e.validate=function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(e.$_terms.whens&&(e=e._generate(t,r,n).schema),e._preferences&&(n=d.prefs(e,n)),e._cache&&n.cache){var i=e._cache.get(t);if(r.mainstay.tracer.debug(r,"validate","cached",!!i),i)return i}var a=function(o,i,a){return e.$_createError(o,t,i,a||r,n)},u={original:t,prefs:n,schema:e,state:r,error:a,errorsArray:d.errorsArray,warn:function(t,e,n){return r.mainstay.warnings.push(a(t,e,n))},message:function(o,i){return e.$_createError("custom",t,i,r,n,{messages:o})}};r.mainstay.tracer.entry(e,r);var s=e._definition;if(s.prepare&&void 0!==t&&n.convert){var l=s.prepare(t,u);if(l){if(r.mainstay.tracer.value(r,"prepare",t,l.value),l.errors)return d.finalize(l.value,[].concat(l.errors),u);t=l.value}}if(s.coerce&&void 0!==t&&n.convert&&(!s.coerce.from||s.coerce.from.includes(typeof t))){var h=s.coerce.method(t,u);if(h){if(r.mainstay.tracer.value(r,"coerced",t,h.value),h.errors)return d.finalize(h.value,[].concat(h.errors),u);t=h.value}}var p=e._flags.empty;p&&p.$_match(d.trim(t,e),r.nest(p),c.defaults)&&(r.mainstay.tracer.value(r,"empty",t,void 0),t=void 0);var y=o.presence||e._flags.presence||(e._flags._endedSwitch?null:n.presence);if(void 0===t){if("forbidden"===y)return d.finalize(t,null,u);if("required"===y)return d.finalize(t,[e.$_createError("any.required",t,null,r,n)],u);if("optional"===y){if(e._flags.default!==c.symbols.deepDefault)return d.finalize(t,null,u);r.mainstay.tracer.value(r,"default",t,{}),t={}}}else if("forbidden"===y)return d.finalize(t,[e.$_createError("any.unknown",t,null,r,n)],u);var v=[];if(e._valids){var m=e._valids.get(t,r,n,e._flags.insensitive);if(m)return n.convert&&(r.mainstay.tracer.value(r,"valids",t,m.value),t=m.value),r.mainstay.tracer.filter(e,r,"valid",m),d.finalize(t,null,u);if(e._flags.only){var g=e.$_createError("any.only",t,{valids:e._valids.values({display:!0})},r,n);if(n.abortEarly)return d.finalize(t,[g],u);v.push(g)}}if(e._invalids){var b=e._invalids.get(t,r,n,e._flags.insensitive);if(b){r.mainstay.tracer.filter(e,r,"invalid",b);var w=e.$_createError("any.invalid",t,{invalids:e._invalids.values({display:!0})},r,n);if(n.abortEarly)return d.finalize(t,[w],u);v.push(w)}}if(s.validate){var _=s.validate(t,u);if(_&&(r.mainstay.tracer.value(r,"base",t,_.value),t=_.value,_.errors)){if(!Array.isArray(_.errors))return v.push(_.errors),d.finalize(t,v,u);if(_.errors.length)return v.push.apply(v,f(_.errors)),d.finalize(t,v,u)}}return e._rules.length?d.rules(t,v,u):d.finalize(t,v,u)},d.rules=function(t,e,r){var n,o=r.schema,i=r.state,a=r.prefs,u=l(o._rules);try{for(u.s();!(n=u.n()).done;){var s=n.value,h=o._definition.rules[s.method];if(h.convert&&a.convert)i.mainstay.tracer.log(o,i,"rule",s.name,"full");else{var p=void 0,y=s.args;if(s._resolve.length){y=Object.assign({},y);var v,m=l(s._resolve);try{for(m.s();!(v=m.n()).done;){var g=v.value,b=h.argsByName.get(g),w=y[g].resolve(t,i,a),_=b.normalize?b.normalize(w):w,E=c.validateArg(_,null,b);if(E){p=o.$_createError("any.ref",w,{arg:g,ref:y[g],reason:E},i,a);break}y[g]=_}}catch(x){m.e(x)}finally{m.f()}}p=p||h.validate(t,r,y,s);var O=d.rule(p,s);if(O.errors){if(i.mainstay.tracer.log(o,i,"rule",s.name,"error"),s.warn){var S;(S=i.mainstay.warnings).push.apply(S,f(O.errors));continue}if(a.abortEarly)return d.finalize(t,O.errors,r);e.push.apply(e,f(O.errors))}else i.mainstay.tracer.log(o,i,"rule",s.name,"pass"),i.mainstay.tracer.value(i,"rule",t,O.value,s.name),t=O.value}}}catch(x){u.e(x)}finally{u.f()}return d.finalize(t,e,r)},d.rule=function(t,e){return t instanceof h.Report?(d.error(t,e),{errors:[t],value:null}):Array.isArray(t)&&t[c.symbols.errors]?(t.forEach((function(t){return d.error(t,e)})),{errors:t,value:null}):{errors:null,value:t}},d.error=function(t,e){return e.message&&t._setTemplate(e.message),t},d.finalize=function(t,e,r){e=e||[];var o=r.schema,i=r.state,a=r.prefs;if(e.length){var u=d.default("failover",void 0,e,r);void 0!==u&&(i.mainstay.tracer.value(i,"failover",t,u),t=u,e=[])}if(e.length&&o._flags.error)if("function"==typeof o._flags.error){e=o._flags.error(e),Array.isArray(e)||(e=[e]);var s,c=l(e);try{for(c.s();!(s=c.n()).done;){var f=s.value;n(f instanceof Error||f instanceof h.Report,"error() must return an Error object")}}catch(_){c.e(_)}finally{c.f()}}else e=[o._flags.error];if(void 0===t){var p=d.default("default",t,e,r);i.mainstay.tracer.value(i,"default",t,p),t=p}if(o._flags.cast&&void 0!==t){var y=o._definition.cast[o._flags.cast];if(y.from(t)){var v=y.to(t,r);i.mainstay.tracer.value(i,"cast",t,v,o._flags.cast),t=v}}if(o.$_terms.externals&&a.externals&&!1!==a._externals){var m,g=l(o.$_terms.externals);try{for(g.s();!(m=g.n()).done;){var b=m.value.method;i.mainstay.externals.push({method:b,path:i.path,label:h.label(o._flags,i,a)})}}catch(_){g.e(_)}finally{g.f()}}var w={value:t,errors:e.length?e:null};return o._flags.result&&(w.value="strip"===o._flags.result?void 0:r.original,i.mainstay.tracer.value(i,o._flags.result,t,w.value),i.shadow(t,o._flags.result)),o._cache&&!1!==a.cache&&!o._refs.length&&o._cache.set(r.original,w),void 0===t||w.errors||void 0===o._flags.artifact||(i.mainstay.artifacts=i.mainstay.artifacts||new Map,i.mainstay.artifacts.has(o._flags.artifact)||i.mainstay.artifacts.set(o._flags.artifact,[]),i.mainstay.artifacts.get(o._flags.artifact).push(i.path)),w},d.prefs=function(t,e){var r=e===c.defaults;return r&&t._preferences[c.symbols.prefs]?t._preferences[c.symbols.prefs]:(e=c.preferences(e,t._preferences),r&&(t._preferences[c.symbols.prefs]=e),e)},d.default=function(t,e,r,n){var o=n.schema,i=n.state,u=n.prefs,s=o._flags[t];if(u.noDefaults||void 0===s)return e;if(i.mainstay.tracer.log(o,i,"rule",t,"full"),!s)return s;if("function"==typeof s){var l=s.length?[a(i.ancestors[0]),n]:[];try{return s.apply(void 0,l)}catch(e){return void r.push(o.$_createError("any.".concat(t),null,{error:e},i,u))}}return"object"!=typeof s?s:s[c.symbols.literal]?s.literal:c.isResolvable(s)?s.resolve(e,i,u):a(s)},d.trim=function(t,e){if("string"!=typeof t)return t;var r=e.$_getRule("trim");return r&&r.args.enabled?t.trim():t},d.ignore={active:!1,debug:u,entry:u,filter:u,log:u,resolve:u,value:u},d.errorsArray=function(){var t=[];return t[c.symbols.errors]=!0,t}},2036:function(t,e,r){"use strict";var n=r(375),o=r(9474),i=r(8160),a={};t.exports=a.Values=function(){function t(e,r){h(this,t),this._values=new Set(e),this._refs=new Set(r),this._lowercase=a.lowercases(e),this._override=!1}return p(t,[{key:"length",get:function(){return this._values.size+this._refs.size}},{key:"add",value:function(t,e){i.isResolvable(t)?this._refs.has(t)||(this._refs.add(t),e&&e.register(t)):this.has(t,null,null,!1)||(this._values.add(t),"string"==typeof t&&this._lowercase.set(t.toLowerCase(),t))}},{key:"remove",value:function(t){i.isResolvable(t)?this._refs.delete(t):(this._values.delete(t),"string"==typeof t&&this._lowercase.delete(t.toLowerCase()))}},{key:"has",value:function(t,e,r,n){return!!this.get(t,e,r,n)}},{key:"get",value:function(t,e,r,n){if(!this.length)return!1;if(this._values.has(t))return{value:t};if("string"==typeof t&&t&&n){var i=this._lowercase.get(t.toLowerCase());if(i)return{value:i}}if(!this._refs.size&&"object"!=typeof t)return!1;if("object"==typeof t){var a,u=l(this._values);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(o(s,t))return{value:s}}}catch(g){u.e(g)}finally{u.f()}}if(e){var c,f=l(this._refs);try{for(f.s();!(c=f.n()).done;){var h=c.value,p=h.resolve(t,e,r,null,{in:!0});if(void 0!==p){var d,y=h.in&&"object"==typeof p?Array.isArray(p)?p:Object.keys(p):[p],v=l(y);try{for(v.s();!(d=v.n()).done;){var m=d.value;if(typeof m==typeof t)if(n&&t&&"string"==typeof t){if(m.toLowerCase()===t.toLowerCase())return{value:m,ref:h}}else if(o(m,t))return{value:m,ref:h}}}catch(g){v.e(g)}finally{v.f()}}}}catch(g){f.e(g)}finally{f.f()}}return!1}},{key:"override",value:function(){this._override=!0}},{key:"values",value:function(t){if(t&&t.display){for(var e=[],r=0,n=[].concat(f(this._values),f(this._refs));r<n.length;r++){var o=n[r];void 0!==o&&e.push(o)}return e}return Array.from([].concat(f(this._values),f(this._refs)))}},{key:"clone",value:function(){var t=new a.Values(this._values,this._refs);return t._override=this._override,t}},{key:"concat",value:function(t){n(!t._override,"Cannot concat override set of values");var e=new a.Values([].concat(f(this._values),f(t._values)),[].concat(f(this._refs),f(t._refs)));return e._override=this._override,e}},{key:"describe",value:function(){var t=[];this._override&&t.push({override:!0});var e,r=l(this._values.values());try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n&&"object"==typeof n?{value:n}:n)}}catch(u){r.e(u)}finally{r.f()}var o,i=l(this._refs.values());try{for(i.s();!(o=i.n()).done;){var a=o.value;t.push(a.describe())}}catch(u){i.e(u)}finally{i.f()}return t}}],[{key:"merge",value:function(t,e,r){if(t=t||new a.Values,e){if(e._override)return e.clone();for(var n=0,o=[].concat(f(e._values),f(e._refs));n<o.length;n++){var i=o[n];t.add(i)}}if(r)for(var u=0,s=[].concat(f(r._values),f(r._refs));u<s.length;u++){var c=s[u];t.remove(c)}return t.length?t:null}}]),t}(),a.Values.prototype[i.symbols.values]=!0,a.Values.prototype.slice=a.Values.prototype.clone,a.lowercases=function(t){var e=new Map;if(t){var r,n=l(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;"string"==typeof o&&e.set(o.toLowerCase(),o)}}catch(i){n.e(i)}finally{n.f()}}return e}},978:function(t,e,r){"use strict";var n=r(375),o=r(8571),i=r(1687),a=r(9621),u={};t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n(t&&"object"==typeof t,"Invalid defaults value: must be an object"),n(!e||!0===e||"object"==typeof e,"Invalid source value: must be true, falsy or an object"),n("object"==typeof r,"Invalid options: must be an object"),!e)return null;if(r.shallow)return u.applyToDefaultsWithShallow(t,e,r);var a=o(t);if(!0===e)return a;var s=void 0!==r.nullOverride&&r.nullOverride;return i(a,e,{nullOverride:s,mergeArrays:!1})},u.applyToDefaultsWithShallow=function(t,e,r){var s=r.shallow;n(Array.isArray(s),"Invalid keys");var c,f=new Map,h=!0===e?null:new Set,p=l(s);try{for(p.s();!(c=p.n()).done;){var d=c.value;d=Array.isArray(d)?d:d.split(".");var y=a(t,d);y&&"object"==typeof y?f.set(y,h&&a(e,d)||y):h&&h.add(d)}}catch(_){p.e(_)}finally{p.f()}var v=o(t,{},f);if(!h)return v;var m,g=l(h);try{for(g.s();!(m=g.n()).done;){var b=m.value;u.reachCopy(v,e,b)}}catch(_){g.e(_)}finally{g.f()}var w=void 0!==r.nullOverride&&r.nullOverride;return i(v,e,{nullOverride:w,mergeArrays:!1})},u.reachCopy=function(t,e,r){var n,o=l(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(!(i in e))return;var a=e[i];if("object"!=typeof a||null===a)return;e=a}}catch(h){o.e(h)}finally{o.f()}for(var u=e,s=t,c=0;c<r.length-1;++c){var f=r[c];"object"!=typeof s[f]&&(s[f]={}),s=s[f]}s[r[r.length-1]]=u}},375:function(t,e,r){"use strict";var n=r(7916);t.exports=function(t){if(!t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];if(1===r.length&&r[0]instanceof Error)throw r[0];throw new n(r)}}},8571:function(t,e,r){"use strict";var n=r(9621),o=r(4277),i=r(7043),u={needsProtoHack:new Set([o.set,o.map,o.weakSet,o.weakMap])};t.exports=u.clone=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("object"!=typeof t||null===t)return t;var n=u.clone,s=r;if(e.shallow){if(!0!==e.shallow)return u.cloneWithShallow(t,e);n=function(t){return t}}else if(s){var c=s.get(t);if(c)return c}else s=new Map;var f=o.getInternalProto(t);if(f===o.buffer)return!1;if(f===o.date)return new Date(t.getTime());if(f===o.regex)return new RegExp(t);var h=u.base(t,f,e);if(h===t)return t;if(s&&s.set(t,h),f===o.set){var p,d=l(t);try{for(d.s();!(p=d.n()).done;){var y=p.value;h.add(n(y,e,s))}}catch(k){d.e(k)}finally{d.f()}}else if(f===o.map){var v,m=l(t);try{for(m.s();!(v=m.n()).done;){var g=a(v.value,2),b=g[0],w=g[1];h.set(b,n(w,e,s))}}catch(k){m.e(k)}finally{m.f()}}var _,E=i.keys(t,e),O=l(E);try{for(O.s();!(_=O.n()).done;){var S=_.value;if("__proto__"!==S)if(f!==o.array||"length"!==S){var x=Object.getOwnPropertyDescriptor(t,S);x?x.get||x.set?Object.defineProperty(h,S,x):x.enumerable?h[S]=n(t[S],e,s):Object.defineProperty(h,S,{enumerable:!1,writable:!0,configurable:!0,value:n(t[S],e,s)}):Object.defineProperty(h,S,{enumerable:!0,writable:!0,configurable:!0,value:n(t[S],e,s)})}else h.length=t.length}}catch(k){O.e(k)}finally{O.f()}return h},u.cloneWithShallow=function(t,e){var r=e.shallow;(e=Object.assign({},e)).shallow=!1;var o,i=new Map,a=l(r);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=n(t,s);"object"!=typeof c&&"function"!=typeof c||i.set(c,c)}}catch(f){a.e(f)}finally{a.f()}return u.clone(t,e,i)},u.base=function(t,e,r){if(!1===r.prototype)return u.needsProtoHack.has(e)?new e.constructor:e===o.array?[]:{};var n=Object.getPrototypeOf(t);if(n&&n.isImmutable)return t;if(e===o.array){var i=[];return n!==e&&Object.setPrototypeOf(i,n),i}if(u.needsProtoHack.has(e)){var a=new n.constructor;return n!==e&&Object.setPrototypeOf(a,n),a}return Object.create(n)}},9474:function(t,e,r){"use strict";var n=r(4277),o={mismatched:null};t.exports=function(t,e,r){return r=Object.assign({prototype:!0},r),!!o.isDeepEqual(t,e,r,[])},o.isDeepEqual=function(t,e,r,i){if(t===e)return 0!==t||1/t==1/e;var a=typeof t;if(a!==typeof e)return!1;if(null===t||null===e)return!1;if("function"===a){if(!r.deepFunction||t.toString()!==e.toString())return!1}else if("object"!==a)return t!=t&&e!=e;var u=o.getSharedType(t,e,!!r.prototype);switch(u){case n.buffer:return!1;case n.promise:return t===e;case n.regex:return t.toString()===e.toString();case o.mismatched:return!1}for(var s=i.length-1;s>=0;--s)if(i[s].isSame(t,e))return!0;i.push(new o.SeenEntry(t,e));try{return!!o.isDeepEqualObj(u,t,e,r,i)}finally{i.pop()}},o.getSharedType=function(t,e,r){if(r)return Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?o.mismatched:n.getInternalProto(t);var i=n.getInternalProto(t);return i!==n.getInternalProto(e)?o.mismatched:i},o.valueOf=function(t){var e=t.valueOf;if(void 0===e)return t;try{return e.call(t)}catch(t){return t}},o.hasOwnEnumerableProperty=function(t,e){return Object.prototype.propertyIsEnumerable.call(t,e)},o.isSetSimpleEqual=function(t,e){var r,n=l(Set.prototype.values.call(t));try{for(n.s();!(r=n.n()).done;){var o=r.value;if(!Set.prototype.has.call(e,o))return!1}}catch(i){n.e(i)}finally{n.f()}return!0},o.isDeepEqualObj=function(t,e,r,i,u){var s=o.isDeepEqual,c=o.valueOf,f=o.hasOwnEnumerableProperty,h=Object.keys,p=Object.getOwnPropertySymbols;if(t===n.array){if(!i.part){if(e.length!==r.length)return!1;for(var d=0;d<e.length;++d)if(!s(e[d],r[d],i,u))return!1;return!0}var y,v=l(e);try{for(v.s();!(y=v.n()).done;){var m,g=y.value,b=l(r);try{for(b.s();!(m=b.n()).done;)if(s(g,m.value,i,u))return!0}catch(W){b.e(W)}finally{b.f()}}}catch(W){v.e(W)}finally{v.f()}}else if(t===n.set){if(e.size!==r.size)return!1;if(!o.isSetSimpleEqual(e,r)){var w,_=new Set(Set.prototype.values.call(r)),E=l(Set.prototype.values.call(e));try{for(E.s();!(w=E.n()).done;){var O=w.value;if(!_.delete(O)){var S,x=!1,k=l(_);try{for(k.s();!(S=k.n()).done;){var j=S.value;if(s(O,j,i,u)){_.delete(j),x=!0;break}}}catch(W){k.e(W)}finally{k.f()}if(!x)return!1}}}catch(W){E.e(W)}finally{E.f()}}}else if(t===n.map){if(e.size!==r.size)return!1;var T,L=l(Map.prototype.entries.call(e));try{for(L.s();!(T=L.n()).done;){var P=a(T.value,2),A=P[0],C=P[1];if(void 0===C&&!Map.prototype.has.call(r,A))return!1;if(!s(C,Map.prototype.get.call(r,A),i,u))return!1}}catch(W){L.e(W)}finally{L.f()}}else if(t===n.error&&(e.name!==r.name||e.message!==r.message))return!1;var I=c(e),R=c(r);if((e!==I||r!==R)&&!s(I,R,i,u))return!1;var D=h(e);if(!i.part&&D.length!==h(r).length&&!i.skip)return!1;var N,F=0,M=l(D);try{for(M.s();!(N=M.n()).done;){var B=N.value;if(i.skip&&i.skip.includes(B))void 0===r[B]&&++F;else{if(!f(r,B))return!1;if(!s(e[B],r[B],i,u))return!1}}}catch(W){M.e(W)}finally{M.f()}if(!i.part&&D.length-F!==h(r).length)return!1;if(!1!==i.symbols){var U,z=p(e),G=new Set(p(r)),q=l(z);try{for(q.s();!(U=q.n()).done;){var H=U.value;if(!i.skip||!i.skip.includes(H))if(f(e,H)){if(!f(r,H))return!1;if(!s(e[H],r[H],i,u))return!1}else if(f(r,H))return!1;G.delete(H)}}catch(W){q.e(W)}finally{q.f()}var V,$=l(G);try{for($.s();!(V=$.n()).done;)if(f(r,V.value))return!1}catch(W){$.e(W)}finally{$.f()}}return!0},o.SeenEntry=function(){function t(e,r){h(this,t),this.obj=e,this.ref=r}return p(t,[{key:"isSame",value:function(t,e){return this.obj===t&&this.ref===e}}]),t}()},7916:function(t,e,r){"use strict";var n=r(8761);t.exports=function(t){y(o,t);var r=v(o);function o(t){var i;return h(this,o),i=r.call(this,t.filter((function(t){return""!==t})).map((function(t){return"string"==typeof t?t:t instanceof Error?t.message:n(t)})).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(d(i),e.assert),i}return p(o)}(s(Error))},5277:function(t){"use strict";var e={};t.exports=function(t){if(!t)return"";for(var r="",n=0;n<t.length;++n){var o=t.charCodeAt(n);e.isSafe(o)?r+=t[n]:r+=e.escapeHtmlChar(o)}return r},e.escapeHtmlChar=function(t){var r=e.namedHtml[t];if(void 0!==r)return r;if(t>=256)return"&#"+t+";";var n=t.toString(16).padStart(2,"0");return"&#x".concat(n,";")},e.isSafe=function(t){return void 0!==e.safeCharCodes[t]},e.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},e.safeCharCodes=function(){for(var t={},e=32;e<123;++e)(e>=97||e>=65&&e<=90||e>=48&&e<=57||32===e||46===e||44===e||45===e||58===e||95===e)&&(t[e]=null);return t}()},6064:function(t){"use strict";t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(t){"use strict";t.exports=function(){}},1687:function(t,e,r){"use strict";var n=r(375),o=r(8571),i=r(7043),a={};t.exports=a.merge=function(t,e,r){if(n(t&&"object"==typeof t,"Invalid target value: must be an object"),n(null==e||"object"==typeof e,"Invalid source value: must be null, undefined, or an object"),!e)return t;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(e)){n(Array.isArray(t),"Cannot merge array onto an object"),r.mergeArrays||(t.length=0);for(var u=0;u<e.length;++u)t.push(o(e[u],{symbols:r.symbols}));return t}for(var s=i.keys(e,r),c=0;c<s.length;++c){var l=s[c];if("__proto__"!==l&&Object.prototype.propertyIsEnumerable.call(e,l)){var f=e[l];if(f&&"object"==typeof f){if(t[l]===f)continue;!t[l]||"object"!=typeof t[l]||Array.isArray(t[l])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?t[l]=o(f,{symbols:r.symbols}):a.merge(t[l],f,r)}else(null!=f||r.nullOverride)&&(t[l]=f)}}return t}},9621:function(t,e,r){"use strict";var n=r(375),o={};t.exports=function(t,e,r){if(!1===e||null==e)return t;"string"==typeof(r=r||{})&&(r={separator:r});var i=Array.isArray(e);n(!i||!r.separator,"Separator option no valid for array-based chain");for(var a=i?e:e.split(r.separator||"."),u=t,s=0;s<a.length;++s){var c=a[s],l=r.iterables&&o.iterables(u);if(Array.isArray(u)||"set"===l){var h=Number(c);Number.isInteger(h)&&(c=h<0?u.length+h:h)}if(!u||"function"==typeof u&&!1===r.functions||!l&&void 0===u[c]){n(!r.strict||s+1===a.length,"Missing segment",c,"in reach path ",e),n("object"==typeof u||!0===r.functions||"function"!=typeof u,"Invalid segment",c,"in reach path ",e),u=r.default;break}u=l?"set"===l?f(u)[c]:u.get(c):u[c]}return u},o.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}},8761:function(t){"use strict";t.exports=function(){try{for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return JSON.stringify.apply(null,e)}catch(e){return"[Cannot display object: "+e.message+"]"}}},4277:function(t,e){"use strict";var r={};e=t.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},r.typeMap=new Map([["[object Error]",e.error],["[object Map]",e.map],["[object Promise]",e.promise],["[object Set]",e.set],["[object WeakMap]",e.weakMap],["[object WeakSet]",e.weakSet]]),e.getInternalProto=function(t){if(Array.isArray(t))return e.array;if(t instanceof Date)return e.date;if(t instanceof RegExp)return e.regex;if(t instanceof Error)return e.error;var n=Object.prototype.toString.call(t);return r.typeMap.get(n)||e.generic}},7043:function(t,e){"use strict";e.keys=function(t){return!1!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).symbols?Reflect.ownKeys(t):Object.getOwnPropertyNames(t)}},3652:function(t,e,r){"use strict";var n=r(375),o={};e.Sorter=function(){function t(){h(this,t),this._items=[],this.nodes=[]}return p(t,[{key:"add",value:function(t,e){var r=[].concat((e=e||{}).before||[]),o=[].concat(e.after||[]),i=e.group||"?",a=e.sort||0;n(!r.includes(i),"Item cannot come before itself: ".concat(i)),n(!r.includes("?"),"Item cannot come before unassociated items"),n(!o.includes(i),"Item cannot come after itself: ".concat(i)),n(!o.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);var u,s=l(t);try{for(s.s();!(u=s.n()).done;){var c=u.value,f={seq:this._items.length,sort:a,before:r,after:o,group:i,node:c};this._items.push(f)}}catch(p){s.e(p)}finally{s.f()}if(!e.manual){var h=this._sort();n(h,"item","?"!==i?"added into group ".concat(i):"","created a dependencies error")}return this.nodes}},{key:"merge",value:function(t){Array.isArray(t)||(t=[t]);var e,r=l(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i){var a,u=l(i._items);try{for(u.s();!(a=u.n()).done;){var s=a.value;this._items.push(Object.assign({},s))}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){r.e(h)}finally{r.f()}this._items.sort(o.mergeSort);for(var c=0;c<this._items.length;++c)this._items[c].seq=c;var f=this._sort();return n(f,"merge created a dependencies error"),this.nodes}},{key:"sort",value:function(){var t=this._sort();return n(t,"sort created a dependencies error"),this.nodes}},{key:"_sort",value:function(){var t,e={},r=Object.create(null),n=Object.create(null),o=l(this._items);try{for(o.s();!(t=o.n()).done;){var i=t.value,a=i.seq,u=i.group;n[u]=n[u]||[],n[u].push(a),e[a]=i.before;var s,c=l(i.after);try{for(c.s();!(s=c.n()).done;){var h=s.value;r[h]=r[h]||[],r[h].push(a)}}catch(G){c.e(G)}finally{c.f()}}}catch(G){o.e(G)}finally{o.f()}for(var p in e){var d=[];for(var y in e[p]){var v=e[p][y];n[v]=n[v]||[],d.push.apply(d,f(n[v]))}e[p]=d}for(var m in r)if(n[m]){var g,b=l(n[m]);try{for(b.s();!(g=b.n()).done;){var w;(w=e[g.value]).push.apply(w,f(r[m]))}}catch(G){b.e(G)}finally{b.f()}}var _={};for(var E in e){var O,S=e[E],x=l(S);try{for(x.s();!(O=x.n()).done;){var k=O.value;_[k]=_[k]||[],_[k].push(E)}}catch(G){x.e(G)}finally{x.f()}}for(var j={},T=[],L=0;L<this._items.length;++L){var P=L;if(_[L]){P=null;for(var A=0;A<this._items.length;++A)if(!0!==j[A]){_[A]||(_[A]=[]);for(var C=_[A].length,I=0,R=0;R<C;++R)j[_[A][R]]&&++I;if(I===C){P=A;break}}}null!==P&&(j[P]=!0,T.push(P))}if(T.length!==this._items.length)return!1;var D,N={},F=l(this._items);try{for(F.s();!(D=F.n()).done;){var M=D.value;N[M.seq]=M}}catch(G){F.e(G)}finally{F.f()}this._items=[],this.nodes=[];for(var B=0,U=T;B<U.length;B++){var z=N[U[B]];this.nodes.push(z.node),this._items.push(z)}return!0}}]),t}(),o.mergeSort=function(t,e){return t.sort===e.sort?0:t.sort<e.sort?-1:1}},5380:function(t,e,r){"use strict";var n=r(443),o=r(2178),i={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:n.URL||URL};e.analyze=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return o.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof t)throw new Error("Invalid input: domain must be a string");if(t.length>256)return o.code("DOMAIN_TOO_LONG");if(i.nonAsciiRx.test(t)){if(!1===e.allowUnicode)return o.code("DOMAIN_INVALID_UNICODE_CHARS");t=t.normalize("NFC")}if(i.domainControlRx.test(t))return o.code("DOMAIN_INVALID_CHARS");t=i.punycode(t),e.allowFullyQualified&&"."===t[t.length-1]&&(t=t.slice(0,-1));var r=e.minDomainSegments||i.minDomainSegments,n=t.split(".");if(n.length<r)return o.code("DOMAIN_SEGMENTS_COUNT");if(e.maxDomainSegments&&n.length>e.maxDomainSegments)return o.code("DOMAIN_SEGMENTS_COUNT_MAX");var a=e.tlds;if(a){var u=n[n.length-1].toLowerCase();if(a.deny&&a.deny.has(u)||a.allow&&!a.allow.has(u))return o.code("DOMAIN_FORBIDDEN_TLDS")}for(var s=0;s<n.length;++s){var c=n[s];if(!c.length)return o.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return o.code("DOMAIN_LONG_SEGMENT");if(s<n.length-1){if(!i.domainSegmentRx.test(c))return o.code("DOMAIN_INVALID_CHARS")}else if(!i.tldSegmentRx.test(c))return o.code("DOMAIN_INVALID_TLDS_CHARS")}return null},e.isValid=function(t,r){return!e.analyze(t,r)},i.punycode=function(t){t.includes("%")&&(t=t.replace(/%/g,"%25"));try{return new i.URL("http://".concat(t)).host}catch(e){return t}}},1745:function(t,e,r){"use strict";var n=r(9848),o=r(5380),i=r(2178),u={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};e.analyze=function(t,e){return u.email(t,e)},e.isValid=function(t,e){return!u.email(t,e)},u.email=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t)throw new Error("Invalid input: email must be a string");if(!t)return i.code("EMPTY_STRING");var r=!u.nonAsciiRx.test(t);if(!r){if(!1===e.allowUnicode)return i.code("FORBIDDEN_UNICODE");t=t.normalize("NFC")}var n=t.split("@");if(2!==n.length)return n.length>2?i.code("MULTIPLE_AT_CHAR"):i.code("MISSING_AT_CHAR");var s=a(n,2),c=s[0],l=s[1];if(!c)return i.code("EMPTY_LOCAL");if(!e.ignoreLength){if(t.length>254)return i.code("ADDRESS_TOO_LONG");if(u.encoder.encode(c).length>64)return i.code("LOCAL_TOO_LONG")}return u.local(c,r)||o.analyze(l,e)},u.local=function(t,e){var r,n=t.split("."),o=l(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!a.length)return i.code("EMPTY_LOCAL_SEGMENT");if(e){if(!u.atextRx.test(a))return i.code("INVALID_LOCAL_CHARS")}else{var s,c=l(a);try{for(c.s();!(s=c.n()).done;){var f=s.value;if(!u.atextRx.test(f)){var h=u.binary(f);if(!u.atomRx.test(h))return i.code("INVALID_LOCAL_CHARS")}}}catch(p){c.e(p)}finally{c.f()}}}}catch(p){o.e(p)}finally{o.f()}},u.binary=function(t){return Array.from(u.encoder.encode(t)).map((function(t){return String.fromCharCode(t)})).join("")},u.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,u.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(t,e){"use strict";e.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},e.code=function(t){return{code:t,error:e.codes[t]}}},9959:function(t,e,r){"use strict";var n=r(375),o=r(5752);e.regex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(void 0===t.cidr||"string"==typeof t.cidr,"options.cidr must be a string");var e=t.cidr?t.cidr.toLowerCase():"optional";n(["required","optional","forbidden"].includes(e),"options.cidr must be one of required, optional, forbidden"),n(void 0===t.version||"string"==typeof t.version||Array.isArray(t.version),"options.version must be a string or an array of string");var r=t.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),n(r.length>=1,"options.version must have at least 1 version specified");for(var i=0;i<r.length;++i)n("string"==typeof r[i],"options.version must only contain strings"),r[i]=r[i].toLowerCase(),n(["ipv4","ipv6","ipvfuture"].includes(r[i]),"options.version contains unknown version "+r[i]+" - must be one of ipv4, ipv6, ipvfuture");var a=(r=Array.from(new Set(r))).map((function(t){if("forbidden"===e)return o.ip[t];var r="\\/".concat("ipv4"===t?o.ip.v4Cidr:o.ip.v6Cidr);return"required"===e?"".concat(o.ip[t]).concat(r):"".concat(o.ip[t],"(?:").concat(r,")?")})),u="(?:".concat(a.join("|"),")"),s=new RegExp("^".concat(u,"$"));return{cidr:e,versions:r,regex:s,raw:u}}},5752:function(t,e,r){"use strict";var n=r(375),o=r(6064),i={generate:function(){var t={},e="!\\$&'\\(\\)\\*\\+,;=",r="\\w-\\.~%\\dA-Fa-f"+e+":@",n="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";t.ipv4address="(?:"+n+"\\.){3}"+n;var o="[\\dA-Fa-f]{1,4}",i="(?:"+o+":"+o+"|"+t.ipv4address+")",a="(?:"+o+":){6}"+i,u="::(?:"+o+":){5}"+i,s="(?:"+o+")?::(?:"+o+":){4}"+i,c="(?:(?:"+o+":){0,1}"+o+")?::(?:"+o+":){3}"+i,l="(?:(?:"+o+":){0,2}"+o+")?::(?:"+o+":){2}"+i,f="(?:(?:"+o+":){0,3}"+o+")?::"+o+":"+i,h="(?:(?:"+o+":){0,4}"+o+")?::"+i;t.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",t.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",t.ipv6address="(?:"+a+"|"+u+"|"+s+"|"+c+"|"+l+"|"+f+"|"+h+"|(?:(?:[\\dA-Fa-f]{1,4}:){0,5}[\\dA-Fa-f]{1,4})?::[\\dA-Fa-f]{1,4}|(?:(?:[\\dA-Fa-f]{1,4}:){0,6}[\\dA-Fa-f]{1,4})?::)",t.ipvFuture="v[\\dA-Fa-f]+\\.[\\w-\\.~"+e+":]+",t.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",t.schemeRegex=new RegExp(t.scheme);var p="[\\w-\\.~%\\dA-Fa-f"+e+":]*",d="(?:\\[(?:"+t.ipv6address+"|"+t.ipvFuture+")\\]|"+t.ipv4address+"|[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=]{1,255})",y="(?:"+p+"@)?"+d+"(?::\\d*)?",v="(?:"+p+"@)?("+d+")(?::\\d*)?",m="[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+",g="(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",b="\\/(?:"+m+g+")?",w=m+g,_="[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+"+g;return t.hierPart="(?:(?:\\/\\/"+y+g+")|"+b+"|"+w+"|(?:\\/\\/\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*))",t.hierPartCapture="(?:(?:\\/\\/"+v+g+")|"+b+"|"+w+")",t.relativeRef="(?:(?:\\/\\/"+y+g+")|"+b+"|"+_+"|)",t.relativeRefCapture="(?:(?:\\/\\/"+v+g+")|"+b+"|"+_+"|)",t.query="["+r+"\\/\\?]*(?=#|$)",t.queryWithSquareBrackets="["+r+"\\[\\]\\/\\?]*(?=#|$)",t.fragment="["+r+"\\/\\?]*",t}};i.rfc3986=i.generate(),e.ip={v4Cidr:i.rfc3986.ipv4Cidr,v6Cidr:i.rfc3986.ipv6Cidr,ipv4:i.rfc3986.ipv4address,ipv6:i.rfc3986.ipv6address,ipvfuture:i.rfc3986.ipvFuture},i.createRegex=function(t){var e=i.rfc3986,r="(?:\\?"+(t.allowQuerySquareBrackets?e.queryWithSquareBrackets:e.query)+")?(?:#"+e.fragment+")?",a=t.domain?e.relativeRefCapture:e.relativeRef;if(t.relativeOnly)return i.wrap(a+r);var u="";if(t.scheme){n(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array");var s=[].concat(t.scheme);n(s.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],l=0;l<s.length;++l){var f=s[l];n(f instanceof RegExp||"string"==typeof f,"scheme at position "+l+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(n(e.schemeRegex.test(f),"scheme at position "+l+" must be a valid scheme"),c.push(o(f)))}u=c.join("|")}var h="(?:"+(u?"(?:"+u+")":e.scheme)+":"+(t.domain?e.hierPartCapture:e.hierPart)+")",p=t.allowRelative?"(?:"+h+"|"+a+")":h;return i.wrap(p+r,u)},i.wrap=function(t,e){return{raw:t="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(t),regex:new RegExp("^".concat(t,"$")),scheme:e}},i.uriRegex=i.createRegex({}),e.regex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.scheme||t.allowRelative||t.relativeOnly||t.allowQuerySquareBrackets||t.domain?i.createRegex(t):i.uriRegex}},1447:function(t,e){"use strict";var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*\.?[0-9]*){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};e.Parser=function(){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(h(this,t),!o[r.settings]&&o.constants)for(var i in o.constants){var a=o.constants[i];if(null!==a&&!["boolean","number","string"].includes(typeof a))throw new Error("Formula constant ".concat(i," contains invalid ").concat(typeof a," value type"))}this.settings=o[r.settings]?o:Object.assign((c(n={},r.settings,!0),c(n,"constants",{}),c(n,"functions",{}),n),o),this.single=null,this._parts=null,this._parse(e)}return p(t,[{key:"_parse",value:function(t){var n,o=this,i=[],a="",u=0,s=!1,c=function(t){if(u)throw new Error("Formula missing closing parenthesis");var n=i.length?i[i.length-1]:null;if(s||a||t){if(n&&"reference"===n.type&&")"===t)return n.type="function",n.value=o._subFormula(a,n.value),void(a="");if(")"===t){var c=new e.Parser(a,o.settings);i.push({type:"segment",value:c})}else if(s){if("]"===s)return i.push({type:"reference",value:a}),void(a="");i.push({type:"literal",value:a})}else if(r.operatorCharacters.includes(a))n&&"operator"===n.type&&r.operators.includes(n.value+a)?n.value+=a:i.push({type:"operator",value:a});else if(a.match(r.numberRx))i.push({type:"constant",value:parseFloat(a)});else if(void 0!==o.settings.constants[a])i.push({type:"constant",value:o.settings.constants[a]});else{if(!a.match(r.tokenRx))throw new Error("Formula contains invalid token: ".concat(a));i.push({type:"reference",value:a})}a=""}},f=l(t);try{for(f.s();!(n=f.n()).done;){var h=n.value;s?h===s?(c(),s=!1):a+=h:u?"("===h?(a+=h,++u):")"===h?--u?a+=h:c(h):a+=h:h in r.literals?s=r.literals[h]:"("===h?(c(),++u):r.operatorCharacters.includes(h)?(c(),a=h,c()):" "!==h?a+=h:c()}}catch(m){f.e(m)}finally{f.f()}c(),i=i.map((function(t,e){return"operator"!==t.type||"-"!==t.value||e&&"operator"!==i[e-1].type?t:{type:"operator",value:"n"}}));var p,d=!1,y=l(i);try{for(y.s();!(p=y.n()).done;){var v=p.value;if("operator"===v.type){if(r.operatorsPrefix.includes(v.value))continue;if(!d)throw new Error("Formula contains an operator in invalid position");if(!r.operators.includes(v.value))throw new Error("Formula contains an unknown operator ".concat(v.value))}else if(d)throw new Error("Formula missing expected operator");d=!d}}catch(m){y.e(m)}finally{y.f()}if(!d)throw new Error("Formula contains invalid trailing operator");1===i.length&&["reference","literal","constant"].includes(i[0].type)&&(this.single={type:"reference"===i[0].type?"reference":"value",value:i[0].value}),this._parts=i.map((function(t){if("operator"===t.type)return r.operatorsPrefix.includes(t.value)?t:t.value;if("reference"!==t.type)return t.value;if(o.settings.tokenRx&&!o.settings.tokenRx.test(t.value))throw new Error("Formula contains invalid reference ".concat(t.value));return o.settings.reference?o.settings.reference(t.value):r.reference(t.value)}))}},{key:"_subFormula",value:function(t,n){var o=this,i=this.settings.functions[n];if("function"!=typeof i)throw new Error("Formula contains unknown function ".concat(n));var a=[];if(t){for(var u="",s=0,c=!1,f=function(){if(!u)throw new Error("Formula contains function ".concat(n," with invalid arguments ").concat(t));a.push(u),u=""},h=0;h<t.length;++h){var p=t[h];c?(u+=p,p===c&&(c=!1)):p in r.literals&&!s?(u+=p,c=r.literals[p]):","!==p||s?(u+=p,"("===p?++s:")"===p&&--s):f()}f()}return a=a.map((function(t){return new e.Parser(t,o.settings)})),function(t){var e,r=[],n=l(a);try{for(n.s();!(e=n.n()).done;){var o=e.value;r.push(o.evaluate(t))}}catch(u){n.e(u)}finally{n.f()}return i.call.apply(i,[t].concat(r))}}},{key:"evaluate",value:function(t){for(var e=this._parts.slice(),n=e.length-2;n>=0;--n){var o=e[n];if(o&&"operator"===o.type){var i=e[n+1];e.splice(n+1,1);var a=r.evaluate(i,t);e[n]=r.single(o.value,a)}}return r.operatorsOrder.forEach((function(n){for(var o=1;o<e.length-1;)if(n.includes(e[o])){var i=e[o],a=r.evaluate(e[o-1],t),u=r.evaluate(e[o+1],t);e.splice(o,2);var s=r.calculate(i,a,u);e[o-1]=0===s?0:s}else o+=2})),r.evaluate(e[0],t)}}]),t}(),e.Parser.prototype[r.symbol]=!0,r.reference=function(t){return function(e){return e&&void 0!==e[t]?e[t]:null}},r.evaluate=function(t,e){return null===t?null:"function"==typeof t?t(e):t[r.symbol]?t.evaluate(e):t},r.single=function(t,e){if("!"===t)return!e;var r=-e;return 0===r?0:r},r.calculate=function(t,e,n){if("??"===t)return r.exists(e)?e:n;if("string"==typeof e||"string"==typeof n){if("+"===t)return(e=r.exists(e)?e:"")+(r.exists(n)?n:"")}else switch(t){case"^":return Math.pow(e,n);case"*":return e*n;case"/":return e/n;case"%":return e%n;case"+":return e+n;case"-":return e-n}switch(t){case"<":return e<n;case"<=":return e<=n;case">":return e>n;case">=":return e>=n;case"==":return e===n;case"!=":return e!==n;case"&&":return e&&n;case"||":return e||n}return null},r.exists=function(t){return null!=t}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){}},r={},function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}(5107))},3576:function(t,e,r){"use strict";r.d(e,{l4:function(){return h}});var n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.freeze((function(t){var e=this;void 0===t&&(t=[]);var r=0,o=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,o.length=0},this.front=function(){if(!this.empty())return o[0]},this.back=function(){if(!this.empty())return o[r-1]},this.forEach=function(t){o.forEach(t)},this.getElementByPos=function(t){if(t<0||t>=r)throw new Error("pos must more than 0 and less than vector's size");return o[t]},this.eraseElementByPos=function(t){if(t<0||t>=r)throw new Error("pos must more than 0 and less than vector's size");for(var e=t;e<r-1;++e)o[e]=o[e+1];this.popBack()},this.eraseElementByValue=function(t){var e=[];this.forEach((function(r){r!==t&&e.push(r)})),e.forEach((function(t,e){o[e]=t}));for(var n=e.length;r>n;)this.popBack()},this.pushBack=function(t){o.push(t),++r},this.popBack=function(){o.pop(),r>0&&--r},this.setElementByPos=function(t,e){if(t<0||t>=r)throw new Error("pos must more than 0 and less than vector's size");o[t]=e},this.insert=function(t,e,n){if(void 0===n&&(n=1),t<0||t>r)throw new Error("pos must more than 0 and less than or equal to vector's size");o.splice.apply(o,function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}([t,0],function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}(new Array(n).fill(e)),!1)),r+=n},this.find=function(t){return o.includes(t)},this.reverse=function(){o.reverse()},this.unique=function(){var t,e=[];this.forEach((function(r,n){0!==n&&r===t||(e.push(r),t=r)})),e.forEach((function(t,e){o[e]=t}));for(var n=e.length;r>n;)this.popBack()},this.sort=function(t){o.sort(t)},this[Symbol.iterator]=function(){return function(){return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[5,n(o)];case 1:return[2,t.sent()]}}))}()},t.forEach((function(t){return e.pushBack(t)})),Object.freeze(this)})),Object.freeze((function(t){var e=this;void 0===t&&(t=[]);var r=0,n=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,n.length=0},this.push=function(t){n.push(t),++r},this.pop=function(){n.pop(),r>0&&--r},this.top=function(){return n[r-1]},t.forEach((function(t){return e.push(t)})),Object.freeze(this)}));var o=function(t){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=t};function i(t){var e=this;void 0===t&&(t=[]);var r=0,n=void 0,i=void 0;this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){n=i=void 0,r=0},this.front=function(){return null==n?void 0:n.value},this.back=function(){return null==i?void 0:i.value},this.forEach=function(t){for(var e=n,r=0;e;){if(void 0===e.value)throw new Error("unknown error");t(e.value,r++),e=e.next}},this.getElementByPos=function(t){if(t<0||t>=r)throw new Error("pos must more then 0 and less then the list length");for(var e=n;t--&&e;)e=e.next;if(!e||void 0===e.value)throw new Error("unknown error");return e.value},this.eraseElementByPos=function(t){if(t<0||t>=r)throw new Error("erase pos must more then 0 and less then the list length");if(0===t)this.popFront();else if(t===r-1)this.popBack();else{for(var e=n;t--;){if(!(null==e?void 0:e.next))throw new Error("unknown error");e=e.next}if(!e||!e.pre||!e.next)throw new Error("unknown error");var o=e.pre,i=e.next;i.pre=o,o.next=i,r>0&&--r}},this.eraseElementByValue=function(t){for(;n&&n.value===t;)this.popFront();for(;i&&i.value===t;)this.popBack();if(n)for(var e=n;e;){if(e.value===t){var o=e.pre,a=e.next;a&&(a.pre=o),o&&(o.next=a),r>0&&--r}e=e.next}},this.pushBack=function(t){if(null==t)throw new Error("you can't push null or undefined here");++r;var e=new o(t);i?(i.next=e,e.pre=i,i=e):n=i=e},this.popBack=function(){i&&(r>0&&--r,i&&(n===i?n=i=void 0:(i=i.pre)&&(i.next=void 0)))},this.setElementByPos=function(t,e){if(null==e)throw new Error("you can't set null or undefined here");if(t<0||t>=r)throw new Error("pos must more then 0 and less then the list length");for(var o=n;t--;){if(!o)throw new Error("unknown error");o=o.next}o&&(o.value=e)},this.insert=function(t,e,i){if(void 0===i&&(i=1),null==e)throw new Error("you can't insert null or undefined here");if(t<0||t>r)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(i<0)throw new Error("insert size must more than 0");if(0===t)for(;i--;)this.pushFront(e);else if(t===r)for(;i--;)this.pushBack(e);else{for(var a=n,u=1;u<t;++u){if(!(null==a?void 0:a.next))throw new Error("unknown error");a=null==a?void 0:a.next}if(!a)throw new Error("unknown error");var s=a.next;for(r+=i;i--;)a.next=new o(e),a.next.pre=a,a=a.next;a.next=s,s&&(s.pre=a)}},this.find=function(t){for(var e=n;e;){if(e.value===t)return!0;e=e.next}return!1},this.reverse=function(){for(var t=n,e=i,o=0;t&&e&&2*o<r;){var a=t.value;t.value=e.value,e.value=a,t=t.next,e=e.pre,++o}},this.unique=function(){for(var t=n;t;){for(var e=t;e&&e.next&&e.value===e.next.value;)e=e.next,r>0&&--r;t.next=e.next,t.next&&(t.next.pre=t),t=t.next}},this.sort=function(t){var e=[];this.forEach((function(t){e.push(t)})),e.sort(t);var r=n;e.forEach((function(t){r&&(r.value=t,r=r.next)}))},this.pushFront=function(t){if(null==t)throw new Error("you can't push null or undefined here");++r;var e=new o(t);n?(e.next=n,n.pre=e,n=e):n=i=e},this.popFront=function(){n&&(r>0&&--r,n&&(n===i?n=i=void 0:(n=n.next)&&(n.pre=void 0)))},this.merge=function(t){var e=this,a=n;t.forEach((function(t){for(;a&&void 0!==a.value&&a.value<=t;)a=a.next;if(void 0===a)e.pushBack(t),a=i;else if(a===n)e.pushFront(t),a=n;else{++r;var u=a.pre;u&&(u.next=new o(t),u.next.pre=u,u.next.next=a,a&&(a.pre=u.next))}}))},this[Symbol.iterator]=function(){return function(){var t;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){switch(e.label){case 0:t=n,e.label=1;case 1:if(void 0===t)return[3,3];if(!t.value)throw new Error("unknown error");return[4,t.value];case 2:return e.sent(),t=t.next,[3,1];case 3:return[2]}}))}()},t.forEach((function(t){return e.pushBack(t)})),Object.freeze(this)}Object.freeze(i);var a=i;function u(t){var e=this;void 0===t&&(t=[]);var r=[],n=0,o=0,i=0,a=0,s=0,c=0;this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){n=i=o=a=s=c=0,f.call(this,u.bucketSize),c=0},this.front=function(){return r[n][o]},this.back=function(){return r[i][a]},this.forEach=function(t){if(!this.empty()){var e=0;if(n!==i){for(c=o;c<u.bucketSize;++c)t(r[n][c],e++);for(c=n+1;c<i;++c)for(var s=0;s<u.bucketSize;++s)t(r[c][s],e++);for(c=0;c<=a;++c)t(r[i][c],e++)}else for(var c=o;c<=a;++c)t(r[n][c],e++)}};var l=function(t){var e=n*u.bucketSize+o,r=e+t,s=i*u.bucketSize+a;if(r<e||r>s)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(r/u.bucketSize),curNodePointerIndex:r%u.bucketSize}};this.getElementByPos=function(t){var e=l(t),n=e.curNodeBucketIndex,o=e.curNodePointerIndex;return r[n][o]},this.eraseElementByPos=function(t){var e=this;if(t<0||t>c)throw new Error("pos should more than 0 and less than queue's size");if(0===t)this.popFront();else if(t===this.size())this.popBack();else{for(var r=[],n=t+1;n<c;++n)r.push(this.getElementByPos(n));this.cut(t),this.popBack(),r.forEach((function(t){return e.pushBack(t)}))}},this.eraseElementByValue=function(t){if(!this.empty()){var e=[];this.forEach((function(r){r!==t&&e.push(r)}));for(var r=e.length,n=0;n<r;++n)this.setElementByPos(n,e[n]);this.cut(r-1)}};var f=function(t){for(var e=[],l=t*u.sigma,f=Math.max(Math.ceil(l/u.bucketSize),2),h=0;h<f;++h)e.push(new Array(u.bucketSize));var p=Math.ceil(t/u.bucketSize),d=Math.floor(f/2)-Math.floor(p/2),y=d,v=0;if(this.size())for(h=0;h<p;++h){for(var m=0;m<u.bucketSize;++m)if(e[d+h][m]=this.front(),this.popFront(),this.empty()){y=d+h,v=m;break}if(this.empty())break}r=e,n=d,o=0,i=y,a=v,s=f,c=t};this.pushBack=function(t){this.empty()||(i===s-1&&a===u.bucketSize-1&&f.call(this,this.size()),a<u.bucketSize-1?++a:i<s-1&&(++i,a=0)),++c,r[i][a]=t},this.popBack=function(){this.empty()||(1!==this.size()&&(a>0?--a:n<i&&(--i,a=u.bucketSize-1)),c>0&&--c)},this.setElementByPos=function(t,e){var n=l(t),o=n.curNodeBucketIndex,i=n.curNodePointerIndex;r[o][i]=e},this.insert=function(t,e,r){var n=this;if(void 0===r&&(r=1),0===t)for(;r--;)this.pushFront(e);else if(t===this.size())for(;r--;)this.pushBack(e);else{for(var o=[],i=t;i<c;++i)o.push(this.getElementByPos(i));for(this.cut(t-1),i=0;i<r;++i)this.pushBack(e);o.forEach((function(t){return n.pushBack(t)}))}},this.find=function(t){if(n===i){for(var e=o;e<=a;++e)if(r[n][e]===t)return!0;return!1}for(e=o;e<u.bucketSize;++e)if(r[n][e]===t)return!0;for(e=n+1;e<i;++e)for(var s=0;s<u.bucketSize;++s)if(r[e][s]===t)return!0;for(e=0;e<=a;++e)if(r[i][e]===t)return!0;return!1},this.reverse=function(){for(var t=0,e=c-1;t<e;){var r=this.getElementByPos(t);this.setElementByPos(t,this.getElementByPos(e)),this.setElementByPos(e,r),++t,--e}},this.unique=function(){if(!this.empty()){var t=[],e=this.front();this.forEach((function(r,n){0!==n&&r===e||(t.push(r),e=r)}));for(var r=0;r<c;++r)this.setElementByPos(r,t[r]);this.cut(t.length-1)}},this.sort=function(t){var e=[];this.forEach((function(t){e.push(t)})),e.sort(t);for(var r=0;r<c;++r)this.setElementByPos(r,e[r])},this.pushFront=function(t){this.empty()||(0===n&&0===o&&f.call(this,this.size()),o>0?--o:n>0&&(--n,o=u.bucketSize-1)),++c,r[n][o]=t},this.popFront=function(){this.empty()||(1!==this.size()&&(o<u.bucketSize-1?++o:n<i&&(++n,o=0)),c>0&&--c)},this.shrinkToFit=function(){var t=this,e=[];this.forEach((function(t){e.push(t)}));var n=e.length;r=[];for(var o=Math.ceil(n/u.bucketSize),i=0;i<o;++i)r.push(new Array(u.bucketSize));this.clear(),e.forEach((function(e){return t.pushBack(e)}))},this.cut=function(t){if(t<0)this.clear();else{var e=l(t),r=e.curNodeBucketIndex,n=e.curNodePointerIndex;i=r,a=n,c=t+1}},this[Symbol.iterator]=function(){return function(){var t,e;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:if(0===c)return[2];if(n!==i)return[3,5];e=o,s.label=1;case 1:return e<=a?[4,r[n][e]]:[3,4];case 2:s.sent(),s.label=3;case 3:return++e,[3,1];case 4:return[2];case 5:e=o,s.label=6;case 6:return e<u.bucketSize?[4,r[n][e]]:[3,9];case 7:s.sent(),s.label=8;case 8:return++e,[3,6];case 9:e=n+1,s.label=10;case 10:if(!(e<i))return[3,15];t=0,s.label=11;case 11:return t<u.bucketSize?[4,r[e][t]]:[3,14];case 12:s.sent(),s.label=13;case 13:return++t,[3,11];case 14:return++e,[3,10];case 15:e=0,s.label=16;case 16:return e<=a?[4,r[i][e]]:[3,19];case 17:s.sent(),s.label=18;case 18:return++e,[3,16];case 19:return[2]}}))}()},function(){var o=u.bucketSize;t.size?o=t.size():t.length&&(o=t.length);var a=o*u.sigma;s=Math.ceil(a/u.bucketSize),s=Math.max(s,3);for(var c=0;c<s;++c)r.push(new Array(u.bucketSize));var l=Math.ceil(o/u.bucketSize);n=Math.floor(s/2)-Math.floor(l/2),i=n,t.forEach((function(t){return e.pushBack(t)}))}(),Object.freeze(this)}Object.freeze((function(t){void 0===t&&(t=[]);var e=new a(t);this.size=function(){return e.size()},this.empty=function(){return e.empty()},this.clear=function(){e.clear()},this.push=function(t){e.pushBack(t)},this.pop=function(){e.popFront()},this.front=function(){return e.front()},Object.freeze(this)})),u.sigma=3,u.bucketSize=5e3,Object.freeze(u),Object.freeze((function(t,e){void 0===t&&(t=[]),e=e||function(t,e){return t>e?-1:t<e?1:0};var r=[];t.forEach((function(t){return r.push(t)}));var n=r.length,o=function(t,e){if(t<0||t>=n)throw new Error("unknown error");if(e<0||e>=n)throw new Error("unknown error");var o=r[t];r[t]=r[e],r[e]=o},i=function(t){if(t<0||t>=n)throw new Error("unknown error");var i=2*t+1,a=2*t+2;i<n&&e(r[t],r[i])>0&&o(t,i),a<n&&e(r[t],r[a])>0&&o(t,a)};!function(){for(var t=Math.floor((n-1)/2);t>=0;--t)for(var i=t,a=2*i+1;a<n;){var u=a+1,s=a;if(u<n&&e(r[a],r[u])>0&&(s=u),e(r[i],r[s])<=0)break;o(i,s),a=2*(i=s)+1}}(),this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){n=0,r.length=0},this.push=function(t){if(r.push(t),1!=++n)for(var o=n-1;o>0;){var a=Math.floor((o-1)/2);if(e(r[a],t)<=0)break;i(a),o=a}},this.pop=function(){if(!this.empty())if(1!==this.size()){var t=r[n-1];--n;for(var o=0;o<this.size();){var i=2*o+1,a=2*o+2;if(i>=this.size())break;var u=i;if(a<this.size()&&e(r[i],r[a])>0&&(u=a),e(r[u],t)>=0)break;r[o]=r[u],o=u}r[o]=t}else--n},this.top=function(){return r[0]},Object.freeze(this)}));var s=function(){function t(t,e){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=t,this.value=e}return t.prototype.rotateLeft=function(){var t=this.parent,e=this.brother,r=this.leftChild,n=this.rightChild;if(!n)throw new Error("unknown error");var o=n.leftChild,i=n.rightChild;return t&&(t.leftChild===this?t.leftChild=n:t.rightChild===this&&(t.rightChild=n)),n.parent=t,n.brother=e,n.leftChild=this,n.rightChild=i,e&&(e.brother=n),this.parent=n,this.brother=i,this.leftChild=r,this.rightChild=o,i&&(i.parent=n,i.brother=this),r&&(r.parent=this,r.brother=o),o&&(o.parent=this,o.brother=r),n},t.prototype.rotateRight=function(){var t=this.parent,e=this.brother,r=this.leftChild;if(!r)throw new Error("unknown error");var n=this.rightChild,o=r.leftChild,i=r.rightChild;return t&&(t.leftChild===this?t.leftChild=r:t.rightChild===this&&(t.rightChild=r)),r.parent=t,r.brother=e,r.leftChild=o,r.rightChild=this,e&&(e.brother=r),o&&(o.parent=r,o.brother=this),this.parent=r,this.brother=o,this.leftChild=i,this.rightChild=n,i&&(i.parent=this,i.brother=n),n&&(n.parent=this,n.brother=i),r},t.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},t.TreeNodeColorType={red:!0,black:!1},t}();Object.freeze(s);var c=s,l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function f(t,e){var r=this;void 0===t&&(t=[]),e=e||function(t,e){return t<e?-1:t>e?1:0};var n=0,o=new c;o.color=c.TreeNodeColorType.black,this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){n=0,o.key=void 0,o.leftChild=o.rightChild=o.brother=o.parent=void 0,o.color=c.TreeNodeColorType.black};var i=function t(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.leftChild?t(e.leftChild):e},a=function t(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.rightChild?t(e.rightChild):e};this.front=function(){if(!this.empty())return i(o).key},this.back=function(){if(!this.empty())return a(o).key},this.forEach=function(t){var e,r,n=0;try{for(var o=l(this),i=o.next();!i.done;i=o.next())t(i.value,n++)}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},this.getElementByPos=function(t){var e,r;if(t<0||t>=this.size())throw new Error("pos must more than 0 and less than set's size");var n=0;try{for(var o=l(this),i=o.next();!i.done;i=o.next()){var a=i.value;if(n===t)return a;++n}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}throw new Error("unknown error")};var u=function t(e){var r=e.parent;if(!r){if(e===o)return;throw new Error("unknown error")}if(e.color!==c.TreeNodeColorType.red){var n=e.brother;if(!n)throw new Error("unknown error");if(e===r.leftChild)if(n.color===c.TreeNodeColorType.red){n.color=c.TreeNodeColorType.black,r.color=c.TreeNodeColorType.red;var i=r.rotateLeft();o===r&&(o=i),t(e)}else n.color===c.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===c.TreeNodeColorType.red?(n.color=r.color,r.color=c.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=c.TreeNodeColorType.black),i=r.rotateLeft(),o===r&&(o=i),e.color=c.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==c.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==c.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==c.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==c.TreeNodeColorType.black||(n.color=c.TreeNodeColorType.red,t(r)):(n.color=c.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=c.TreeNodeColorType.black),i=n.rotateRight(),o===n&&(o=i),t(e)));else e===r.rightChild&&(n.color===c.TreeNodeColorType.red?(n.color=c.TreeNodeColorType.black,r.color=c.TreeNodeColorType.red,i=r.rotateRight(),o===r&&(o=i),t(e)):n.color===c.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===c.TreeNodeColorType.red?(n.color=r.color,r.color=c.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=c.TreeNodeColorType.black),i=r.rotateRight(),o===r&&(o=i),e.color=c.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==c.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==c.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==c.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==c.TreeNodeColorType.black||(n.color=c.TreeNodeColorType.red,t(r)):(n.color=c.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=c.TreeNodeColorType.black),i=n.rotateLeft(),o===n&&(o=i),t(e))))}else e.color=c.TreeNodeColorType.black},s=function(t){for(var e=t;e.leftChild||e.rightChild;){if(e.rightChild){e=i(e.rightChild);var r=t.key;t.key=e.key,e.key=r,t=e}e.leftChild&&(e=a(e.leftChild),r=t.key,t.key=e.key,e.key=r,t=e)}u(e),e&&e.remove(),--n,o.color=c.TreeNodeColorType.black},f=function t(e,r){return!(!e||void 0===e.key)&&(!!t(e.leftChild,r)||!!r(e)||t(e.rightChild,r))};this.eraseElementByPos=function(t){if(t<0||t>=n)throw new Error("pos must more than 0 and less than set's size");var e=0;f(o,(function(r){return t===e?(s(r),!0):(++e,!1)}))},this.eraseElementByValue=function(t){if(!this.empty()){var r=d(o,t);void 0!==r&&void 0!==r.key&&0===e(r.key,t)&&s(r)}};var h=function t(r,n){if(!r||void 0===r.key)throw new Error("unknown error");var o=e(n,r.key);return o<0?r.leftChild?t(r.leftChild,n):(r.leftChild=new c,r.leftChild.parent=r,r.leftChild.brother=r.rightChild,r.rightChild&&(r.rightChild.brother=r.leftChild),r.leftChild):o>0?r.rightChild?t(r.rightChild,n):(r.rightChild=new c,r.rightChild.parent=r,r.rightChild.brother=r.leftChild,r.leftChild&&(r.leftChild.brother=r.rightChild),r.rightChild):r},p=function t(e){var r=e.parent;if(!r){if(e===o)return;throw new Error("unknown error")}if(r.color!==c.TreeNodeColorType.black&&r.color===c.TreeNodeColorType.red){var n=r.brother,i=r.parent;if(!i)throw new Error("unknown error");if(n&&n.color===c.TreeNodeColorType.red)n.color=r.color=c.TreeNodeColorType.black,i.color=c.TreeNodeColorType.red,t(i);else if(!n||n.color===c.TreeNodeColorType.black)if(r===i.leftChild)if(e===r.leftChild){r.color=c.TreeNodeColorType.black,i.color=c.TreeNodeColorType.red;var a=i.rotateRight();i===o&&(o=a)}else e===r.rightChild&&(a=r.rotateLeft(),i===o&&(o=a),t(r));else r===i.rightChild&&(e===r.leftChild?(a=r.rotateRight(),i===o&&(o=a),t(r)):e===r.rightChild&&(r.color=c.TreeNodeColorType.black,i.color=c.TreeNodeColorType.red,a=i.rotateLeft(),i===o&&(o=a)))}};this.insert=function(t){if(null==t)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++n,o.key=t,void(o.color=c.TreeNodeColorType.black);var r=h(o,t);void 0!==r.key&&0===e(r.key,t)||(++n,r.key=t,p(r),o.color=c.TreeNodeColorType.black)};var d=function t(r,n){if(r&&void 0!==r.key){var o=e(n,r.key);return o<0?t(r.leftChild,n):o>0?t(r.rightChild,n):r}};this.find=function(t){var r=d(o,t);return void 0!==r&&void 0!==r.key&&0===e(r.key,t)};var y=function t(r,n){if(r&&void 0!==r.key){var o=e(r.key,n);if(0===o)return r.key;if(o<0)return t(r.rightChild,n);var i=t(r.leftChild,n);return void 0!==i?i:r.key}};this.lowerBound=function(t){return y(o,t)};var v=function t(r,n){if(r&&void 0!==r.key){if(e(r.key,n)<=0)return t(r.rightChild,n);var o=t(r.leftChild,n);return void 0!==o?o:r.key}};this.upperBound=function(t){return v(o,t)};var m=function t(r,n){if(r&&void 0!==r.key){var o=e(r.key,n);if(0===o)return r.key;if(o>0)return t(r.leftChild,n);var i=t(r.rightChild,n);return void 0!==i?i:r.key}};this.reverseLowerBound=function(t){return m(o,t)};var g=function t(r,n){if(r&&void 0!==r.key){if(e(r.key,n)>=0)return t(r.leftChild,n);var o=t(r.rightChild,n);return void 0!==o?o:r.key}};this.reverseUpperBound=function(t){return g(o,t)},this.union=function(t){var e=this;t.forEach((function(t){return e.insert(t)}))},this.getHeight=function(){if(this.empty())return 0;var t=function t(e){return e?Math.max(t(e.leftChild),t(e.rightChild))+1:1};return t(o)};var b=function t(e){return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return e&&void 0!==e.key?[5,l(t(e.leftChild))]:[2];case 1:return r.sent(),[4,e.key];case 2:return r.sent(),[5,l(t(e.rightChild))];case 3:return r.sent(),[2]}}))};this[Symbol.iterator]=function(){return b(o)},t.forEach((function(t){return r.insert(t)})),Object.freeze(this)}Object.freeze(f);var h=f,p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function d(t,e){var r=this;void 0===t&&(t=[]),e=e||function(t,e){return t<e?-1:t>e?1:0};var n=0,o=new c;o.color=c.TreeNodeColorType.black,this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){n=0,o.key=o.value=void 0,o.leftChild=o.rightChild=o.brother=void 0};var i=function t(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.leftChild?t(e.leftChild):e},a=function t(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.rightChild?t(e.rightChild):e};this.front=function(){if(!this.empty()){var t=i(o);if(void 0===t.key||void 0===t.value)throw new Error("unknown error");return{key:t.key,value:t.value}}},this.back=function(){if(!this.empty()){var t=a(o);if(void 0===t.key||void 0===t.value)throw new Error("unknown error");return{key:t.key,value:t.value}}},this.forEach=function(t){var e,r,n=0;try{for(var o=p(this),i=o.next();!i.done;i=o.next())t(i.value,n++)}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},this.getElementByPos=function(t){var e,r;if(t<0||t>=this.size())throw new Error("pos must more than 0 and less than set's size");var n=0;try{for(var o=p(this),i=o.next();!i.done;i=o.next()){var a=i.value;if(n===t)return a;++n}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}throw new Error("unknown Error")};var u=function t(r,n){if(r&&void 0!==r.key&&void 0!==r.value){var o=e(r.key,n);return 0===o?{key:r.key,value:r.value}:o<0?t(r.rightChild,n):t(r.leftChild,n)||{key:r.key,value:r.value}}};this.lowerBound=function(t){return u(o,t)};var s=function t(r,n){if(r&&void 0!==r.key&&void 0!==r.value)return e(r.key,n)<=0?t(r.rightChild,n):t(r.leftChild,n)||{key:r.key,value:r.value}};this.upperBound=function(t){return s(o,t)};var l=function t(r,n){if(r&&void 0!==r.key&&void 0!==r.value){var o=e(r.key,n);return 0===o?{key:r.key,value:r.value}:o>0?t(r.leftChild,n):t(r.rightChild,n)||{key:r.key,value:r.value}}};this.reverseLowerBound=function(t){return l(o,t)};var f=function t(r,n){if(r&&void 0!==r.key&&void 0!==r.value)return e(r.key,n)>=0?t(r.leftChild,n):t(r.rightChild,n)||{key:r.key,value:r.value}};this.reverseUpperBound=function(t){return f(o,t)};var h=function t(e){var r=e.parent;if(!r){if(e===o)return;throw new Error("unknown error")}if(e.color!==c.TreeNodeColorType.red){var n=e.brother;if(!n)throw new Error("unknown error");if(e===r.leftChild)if(n.color===c.TreeNodeColorType.red){n.color=c.TreeNodeColorType.black,r.color=c.TreeNodeColorType.red;var i=r.rotateLeft();o===r&&(o=i),t(e)}else n.color===c.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===c.TreeNodeColorType.red?(n.color=r.color,r.color=c.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=c.TreeNodeColorType.black),i=r.rotateLeft(),o===r&&(o=i),e.color=c.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==c.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==c.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==c.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==c.TreeNodeColorType.black||(n.color=c.TreeNodeColorType.red,t(r)):(n.color=c.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=c.TreeNodeColorType.black),i=n.rotateRight(),o===n&&(o=i),t(e)));else e===r.rightChild&&(n.color===c.TreeNodeColorType.red?(n.color=c.TreeNodeColorType.black,r.color=c.TreeNodeColorType.red,i=r.rotateRight(),o===r&&(o=i),t(e)):n.color===c.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===c.TreeNodeColorType.red?(n.color=r.color,r.color=c.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=c.TreeNodeColorType.black),i=r.rotateRight(),o===r&&(o=i),e.color=c.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==c.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==c.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==c.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==c.TreeNodeColorType.black||(n.color=c.TreeNodeColorType.red,t(r)):(n.color=c.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=c.TreeNodeColorType.black),i=n.rotateLeft(),o===n&&(o=i),t(e))))}else e.color=c.TreeNodeColorType.black},d=function(t){for(var e=t;e.leftChild||e.rightChild;){if(e.rightChild){e=i(e.rightChild);var r=t.key;t.key=e.key,e.key=r;var u=t.value;t.value=e.value,e.value=u,t=e}e.leftChild&&(e=a(e.leftChild),r=t.key,t.key=e.key,e.key=r,u=t.value,t.value=e.value,e.value=u,t=e)}h(e),e&&e.remove(),--n,o.color=c.TreeNodeColorType.black},y=function t(e,r){return!(!e||void 0===e.key)&&(!!t(e.leftChild,r)||!!r(e)||t(e.rightChild,r))};this.eraseElementByPos=function(t){if(t<0||t>=n)throw new Error("pos must more than 0 and less than set's size");var e=0;y(o,(function(r){return t===e?(d(r),!0):(++e,!1)}))},this.eraseElementByKey=function(t){if(!this.empty()){var r=g(o,t);void 0!==r&&void 0!==r.key&&0===e(r.key,t)&&d(r)}};var v=function t(r,n){if(!r||void 0===r.key)throw new Error("unknown error");var o=e(n,r.key);return o<0?r.leftChild?t(r.leftChild,n):(r.leftChild=new c,r.leftChild.parent=r,r.leftChild.brother=r.rightChild,r.rightChild&&(r.rightChild.brother=r.leftChild),r.leftChild):o>0?r.rightChild?t(r.rightChild,n):(r.rightChild=new c,r.rightChild.parent=r,r.rightChild.brother=r.leftChild,r.leftChild&&(r.leftChild.brother=r.rightChild),r.rightChild):r},m=function t(e){var r=e.parent;if(!r){if(e===o)return;throw new Error("unknown error")}if(r.color!==c.TreeNodeColorType.black&&r.color===c.TreeNodeColorType.red){var n=r.brother,i=r.parent;if(!i)throw new Error("unknown error");if(n&&n.color===c.TreeNodeColorType.red)n.color=r.color=c.TreeNodeColorType.black,i.color=c.TreeNodeColorType.red,t(i);else if(!n||n.color===c.TreeNodeColorType.black)if(r===i.leftChild)if(e===r.leftChild){r.color=c.TreeNodeColorType.black,i.color=c.TreeNodeColorType.red;var a=i.rotateRight();i===o&&(o=a)}else e===r.rightChild&&(a=r.rotateLeft(),i===o&&(o=a),t(r));else r===i.rightChild&&(e===r.leftChild?(a=r.rotateRight(),i===o&&(o=a),t(r)):e===r.rightChild&&(r.color=c.TreeNodeColorType.black,i.color=c.TreeNodeColorType.red,a=i.rotateLeft(),i===o&&(o=a)))}};this.setElement=function(t,r){if(null==t)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!=r){if(this.empty())return++n,o.key=t,o.value=r,void(o.color=c.TreeNodeColorType.black);var i=v(o,t);void 0===i.key||0!==e(i.key,t)?(++n,i.key=t,i.value=r,m(i),o.color=c.TreeNodeColorType.black):i.value=r}else this.eraseElementByKey(t)};var g=function t(r,n){if(r&&void 0!==r.key){var o=e(n,r.key);return o<0?t(r.leftChild,n):o>0?t(r.rightChild,n):r}};this.find=function(t){return!!g(o,t)},this.getElementByKey=function(t){var e=g(o,t);if(void 0===(null==e?void 0:e.key)||void 0===(null==e?void 0:e.value))throw new Error("unknown error");return e.value},this.union=function(t){var e=this;t.forEach((function(t){var r=t.key,n=t.value;return e.setElement(r,n)}))},this.getHeight=function(){if(this.empty())return 0;var t=function t(e){return e?Math.max(t(e.leftChild),t(e.rightChild))+1:1};return t(o)};var b=function t(e){return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return e&&void 0!==e.key&&void 0!==e.value?[5,p(t(e.leftChild))]:[2];case 1:return r.sent(),[4,{key:e.key,value:e.value}];case 2:return r.sent(),[5,p(t(e.rightChild))];case 3:return r.sent(),[2]}}))};this[Symbol.iterator]=function(){return b(o)},t.forEach((function(t){var e=t.key,n=t.value;return r.setElement(e,n)})),Object.freeze(this)}Object.freeze(d);var y=d;function v(t,e,r){var n=this;if(void 0===t&&(t=[]),void 0===e&&(e=v.initSize),r=r||function(t){var e=0,r="";if("number"==typeof t)e=((e=Math.floor(t))<<5)-e,e&=e;else{r="string"!=typeof t?JSON.stringify(t):t;for(var n=0;n<r.length;n++)e=(e<<5)-e+r.charCodeAt(n),e&=e}return e^e>>>16},0!=(e&e-1))throw new Error("initBucketNum must be 2 to the power of n");var o=0,i=[],u=Math.max(v.initSize,Math.min(v.maxSize,e));this.size=function(){return o},this.empty=function(){return 0===o},this.clear=function(){o=0,u=e,i=[]},this.forEach=function(t){var e=0;i.forEach((function(r){r.forEach((function(r){t(r,e++)}))}))};var s=function(t){if(!(t>=v.maxSize)){u=2*t;var e=[];i.forEach((function(n,o){if(!n.empty()){if(n instanceof a&&1===n.size()){var s=n.front();if(void 0===s)throw new Error("unknown error");e[r(s)&u-1]=new a([s])}else if(n instanceof h){var c=new a,l=new a;n.forEach((function(e){0==(r(e)&t)?c.pushBack(e):l.pushBack(e)})),c.size()>v.untreeifyThreshold?e[o]=new h(c):c.size()&&(e[o]=c),l.size()>v.untreeifyThreshold?e[o+t]=new h(l):l.size()&&(e[o+t]=l)}else{var f=new a,p=new a;n.forEach((function(e){0==(r(e)&t)?f.pushBack(e):p.pushBack(e)})),f.size()&&(e[o]=f),p.size()&&(e[o+t]=p)}i[o].clear()}})),i=e}};this.insert=function(t){if(null==t)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var e=r(t)&u-1;if(i[e]){var n=i[e].size();if(i[e]instanceof a){if(i[e].find(t))return;i[e].pushBack(t),i[e].size()>=v.treeifyThreshold&&(i[e]=new h(i[e]))}else i[e].insert(t);var c=i[e].size();o+=c-n}else i[e]=new a([t]),++o;o>u*v.sigma&&s.call(this,u)},this.eraseElementByValue=function(t){var e=r(t)&u-1;if(i[e]){var n=i[e].size();i[e].eraseElementByValue(t),i[e]instanceof h&&i[e].size()<=v.untreeifyThreshold&&(i[e]=new a(i[e]));var s=i[e].size();o+=s-n}},this.find=function(t){var e=r(t)&u-1;return!!i[e]&&i[e].find(t)},this[Symbol.iterator]=function(){return function(){var t,e,r,n,o,a;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:t=0,s.label=1;case 1:if(!(t<u))return[3,10];for(;t<u&&!i[t];)++t;if(t>=u)return[3,10];s.label=2;case 2:s.trys.push([2,7,8,9]),o=void 0,e=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i[t]),r=e.next(),s.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:s.sent(),s.label=5;case 5:return r=e.next(),[3,3];case 6:return[3,9];case 7:return n=s.sent(),o={error:n},[3,9];case 8:try{r&&!r.done&&(a=e.return)&&a.call(e)}finally{if(o)throw o.error}return[7];case 9:return++t,[3,1];case 10:return[2]}}))}()},t.forEach((function(t){return n.insert(t)})),Object.freeze(this)}v.initSize=16,v.maxSize=1<<30,v.sigma=.75,v.treeifyThreshold=8,v.untreeifyThreshold=6,v.minTreeifySize=64,Object.freeze(v);var m=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function g(t,e,r){var n=this;if(void 0===t&&(t=[]),void 0===e&&(e=g.initSize),r=r||function(t){var e,r,n=0,o="";if("number"==typeof t)n=((n=Math.floor(t))<<5)-n,n&=n;else{o="string"!=typeof t?JSON.stringify(t):t;try{for(var i=m(o),a=i.next();!a.done;a=i.next())n=(n<<5)-n+a.value.charCodeAt(0),n&=n}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}return n^n>>>16},0!=(e&e-1))throw new Error("initBucketNum must be 2 to the power of n");var o=0,i=[],u=Math.max(g.initSize,Math.min(g.maxSize,e));this.size=function(){return o},this.empty=function(){return 0===o},this.clear=function(){o=0,u=e,i=[]},this.forEach=function(t){var e=0;i.forEach((function(r){r.forEach((function(r){t(r,e++)}))}))};var s=function(t){if(!(t>=g.maxSize)){u=2*t;var e=[];i.forEach((function(n,o){if(!n.empty()){if(n instanceof a&&1===n.size()){var s=n.front(),c=s.key,l=s.value;e[r(c)&u-1]=new a([{key:c,value:l}])}else if(n instanceof y){var f=new a,h=new a;n.forEach((function(e){0==(r(e.key)&t)?f.pushBack(e):h.pushBack(e)})),f.size()>g.untreeifyThreshold?e[o]=new y(f):f.size()&&(e[o]=f),h.size()>g.untreeifyThreshold?e[o+t]=new y(h):h.size()&&(e[o+t]=h)}else{var p=new a,d=new a;n.forEach((function(e){0==(r(e.key)&t)?p.pushBack(e):d.pushBack(e)})),p.size()&&(e[o]=p),d.size()&&(e[o+t]=d)}i[o].clear()}})),i=e}};this.setElement=function(t,e){var n,c;if(null==t)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!=e){var l=r(t)&u-1;if(i[l]){var f=i[l].size();if(i[l]instanceof a){try{for(var h=m(i[l]),p=h.next();!p.done;p=h.next()){var d=p.value;if(d.key===t)return void(d.value=e)}}catch(t){n={error:t}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(n)throw n.error}}i[l].pushBack({key:t,value:e}),i[l].size()>=g.treeifyThreshold&&(i[l]=new y(i[l]))}else i[l].setElement(t,e);var v=i[l].size();o+=v-f}else++o,i[l]=new a([{key:t,value:e}]);o>u*g.sigma&&s.call(this,u)}else this.eraseElementByKey(t)},this.getElementByKey=function(t){var e,n,o=r(t)&u-1;if(i[o]){if(i[o]instanceof y)return i[o].getElementByKey(t);try{for(var a=m(i[o]),s=a.next();!s.done;s=a.next()){var c=s.value;if(c.key===t)return c.value}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}},this.eraseElementByKey=function(t){var e,n,s=r(t)&u-1;if(i[s]){var c=i[s].size();if(i[s]instanceof y)i[s].eraseElementByKey(t),i[s].size()<=g.untreeifyThreshold&&(i[s]=new a(i[s]));else{var l=-1;try{for(var f=m(i[s]),h=f.next();!h.done;h=f.next()){var p=h.value;if(++l,p.key===t){i[s].eraseElementByPos(l);break}}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}}var d=i[s].size();o+=d-c}},this.find=function(t){var e,n,o=r(t)&u-1;if(!i[o])return!1;if(i[o]instanceof y)return i[o].find(t);try{for(var a=m(i[o]),s=a.next();!s.done;s=a.next())if(s.value.key===t)return!0}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1},this[Symbol.iterator]=function(){return function(){var t,e,r,n,o,a;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:t=0,s.label=1;case 1:if(!(t<u))return[3,10];for(;t<u&&!i[t];)++t;if(t>=u)return[3,10];s.label=2;case 2:s.trys.push([2,7,8,9]),o=void 0,e=m(i[t]),r=e.next(),s.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:s.sent(),s.label=5;case 5:return r=e.next(),[3,3];case 6:return[3,9];case 7:return n=s.sent(),o={error:n},[3,9];case 8:try{r&&!r.done&&(a=e.return)&&a.call(e)}finally{if(o)throw o.error}return[7];case 9:return++t,[3,1];case 10:return[2]}}))}()},t.forEach((function(t){var e=t.key,r=t.value;return n.setElement(e,r)})),Object.freeze(this)}g.initSize=16,g.maxSize=1<<30,g.sigma=.75,g.treeifyThreshold=8,g.untreeifyThreshold=6,g.minTreeifySize=64,Object.freeze(g)},5486:function(t,e,r){t.exports=function t(e,r,n){function o(a,u){if(!r[a]){if(!e[a]){if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[a]={exports:{}};e[a][0].call(c.exports,(function(t){return o(e[a][1][t]||t)}),c,c.exports,t,e,r,n)}return r[a].exports}for(var i=void 0,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,n){(function(t){"use strict";var r,n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(l),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),r=function(){u.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var s=new t.MessageChannel;s.port1.onmessage=l,r=function(){s.port2.postMessage(0)}}var c=[];function l(){var t,e;n=!0;for(var r=c.length;r;){for(e=c,c=[],t=-1;++t<r;)e[t]();r=c.length}n=!1}e.exports=function(t){1!==c.push(t)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,r){"use strict";var n=t(1);function o(){}var i={},a=["REJECTED"],u=["FULFILLED"],s=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,t!==o&&p(this,t)}function l(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,e,r){n((function(){var n;try{n=e(r)}catch(e){return i.reject(t,e)}n===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,n)}))}function h(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var r=!1;function n(e){r||(r=!0,i.reject(t,e))}function o(e){r||(r=!0,i.resolve(t,e))}var a=d((function(){e(o,n)}));"error"===a.status&&n(a.value)}function d(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}e.exports=c,c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===u||"function"!=typeof e&&this.state===a)return this;var r=new this.constructor(o);return this.state!==s?f(r,this.state===u?t:e,this.outcome):this.queue.push(new l(r,t,e)),r},l.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){i.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},i.resolve=function(t,e){var r=d(h,e);if("error"===r.status)return i.reject(t,r.value);var n=r.value;if(n)p(t,n);else{t.state=u,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=a,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},c.resolve=function(t){return t instanceof this?t:i.resolve(new this(o),t)},c.reject=function(t){var e=new this(o);return i.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),u=0,s=-1,c=new this(o);++s<r;)l(t[s],s);return c;function l(t,o){e.resolve(t).then((function(t){a[o]=t,++u!==r||n||(n=!0,i.resolve(c,a))}),(function(t){n||(n=!0,i.reject(c,t))}))}},c.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r,n=t.length,a=!1;if(!n)return this.resolve([]);for(var u=-1,s=new this(o);++u<n;)r=t[u],e.resolve(r).then((function(t){a||(a=!0,i.resolve(s,t))}),(function(t){a||(a=!0,i.reject(s,t))}));return s}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function i(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)r.append(t[n]);return r.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function u(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function s(t,e,r){"function"==typeof e&&t.then(e),"function"==typeof r&&t.catch(r)}function c(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",h=void 0,p={},d=Object.prototype.toString,y="readonly",v="readwrite";function m(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}function g(t){return"boolean"==typeof h?a.resolve(h):function(t){return new a((function(e){var r=t.transaction(f,v),n=i([""]);r.objectStore(f).put(n,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return h=t}))}function b(t){var e=p[t.name],r={};r.promise=new a((function(t,e){r.resolve=t,r.reject=e})),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then((function(){return r.promise})):e.dbReady=r.promise}function w(t){var e=p[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function _(t,e){var r=p[t.name].deferredOperations.pop();if(r)return r.reject(e),r.promise}function E(t,e){return new a((function(r,n){if(p[t.name]=p[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);b(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var a=o.open.apply(o,i);e&&(a.onupgradeneeded=function(e){var r=a.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(f)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),n(a.error)},a.onsuccess=function(){var e=a.result;e.onversionchange=function(t){t.target.close()},r(e),w(t)}}))}function O(t){return E(t,!1)}function S(t){return E(t,!0)}function x(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,o=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||r){if(r){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function k(t){return i([m(atob(t.data))],{type:t.type})}function j(t){return t&&t.__local_forage_encoded_blob}function T(t){var e=this,r=e._initReady().then((function(){var t=p[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return s(r,t,t),r}function L(t,e,r,n){void 0===n&&(n=1);try{var o=t.db.transaction(t.storeName,e);r(null,o)}catch(o){if(n>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then((function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),S(t)})).then((function(){return function(t){b(t);for(var e=p[t.name],r=e.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,O(t).then((function(e){return t.db=e,x(t)?S(t):e})).then((function(n){t.db=e.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n})).catch((function(e){throw _(t,e),e}))}(t).then((function(){L(t,e,r,n-1)}))})).catch(r);r(o)}}var P={_driver:"asyncStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]=t[n];var o=p[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},p[r.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=T);var i=[];function u(){return a.resolve()}for(var s=0;s<o.forages.length;s++){var c=o.forages[s];c!==e&&i.push(c._initReady().catch(u))}var l=o.forages.slice(0);return a.all(i).then((function(){return r.db=o.db,O(r)})).then((function(t){return r.db=t,x(r,e._defaultConfig.version)?S(r):t})).then((function(t){r.db=o.db=t,e._dbInfo=r;for(var n=0;n<l.length;n++){var i=l[n];i!==e&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}))},_support:function(){try{if(!o||!o.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=new a((function(e,n){r.ready().then((function(){L(r._dbInfo,y,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),u=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;j(n)&&(n=k(n));var o=t(n,r.key,u++);void 0!==o?e(o):r.continue()}else e()},a.onerror=function(){n(a.error)}}catch(t){n(t)}}))})).catch(n)}));return u(n,e),n},getItem:function(t,e){var r=this;t=c(t);var n=new a((function(e,n){r.ready().then((function(){L(r._dbInfo,y,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),j(t)&&(t=k(t)),e(t)},a.onerror=function(){n(a.error)}}catch(t){n(t)}}))})).catch(n)}));return u(n,e),n},setItem:function(t,e,r){var n=this;t=c(t);var o=new a((function(r,o){var i;n.ready().then((function(){return i=n._dbInfo,"[object Blob]"===d.call(e)?g(i.db).then((function(t){return t?e:(r=e,new a((function(t,e){var n=new FileReader;n.onerror=e,n.onloadend=function(e){var n=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)})));var r})):e})).then((function(e){L(n._dbInfo,v,(function(i,a){if(i)return o(i);try{var u=a.objectStore(n._dbInfo.storeName);null===e&&(e=void 0);var s=u.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),r(e)},a.onabort=a.onerror=function(){var t=s.error?s.error:s.transaction.error;o(t)}}catch(t){o(t)}}))})).catch(o)}));return u(o,r),o},removeItem:function(t,e){var r=this;t=c(t);var n=new a((function(e,n){r.ready().then((function(){L(r._dbInfo,v,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(t);i.oncomplete=function(){e()},i.onerror=function(){n(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return u(n,e),n},clear:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){L(e._dbInfo,v,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=i.error?i.error:i.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return u(r,t),r},length:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){L(e._dbInfo,y,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).count();i.onsuccess=function(){t(i.result)},i.onerror=function(){r(i.error)}}catch(t){r(t)}}))})).catch(r)}));return u(r,t),r},key:function(t,e){var r=this,n=new a((function(e,n){t<0?e(null):r.ready().then((function(){L(r._dbInfo,y,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),u=!1,s=a.openKeyCursor();s.onsuccess=function(){var r=s.result;r?0===t||u?e(r.key):(u=!0,r.advance(t)):e(null)},s.onerror=function(){n(s.error)}}catch(t){n(t)}}))})).catch(n)}));return u(n,e),n},keys:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){L(e._dbInfo,y,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var e=i.result;e?(a.push(e.key),e.continue()):t(a)},i.onerror=function(){r(i.error)}}catch(t){r(t)}}))})).catch(r)}));return u(r,t),r},dropInstance:function(t,e){e=l.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,i=this;if(t.name){var s=t.name===r.name&&i._dbInfo.db?a.resolve(i._dbInfo.db):O(t).then((function(e){var r=p[t.name],n=r.forages;r.db=e;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=e;return e}));n=t.storeName?s.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var r=e.version+1;b(t);var n=p[t.name],i=n.forages;e.close();for(var u=0;u<i.length;u++){var s=i[u];s._dbInfo.db=null,s._dbInfo.version=r}var c=new a((function(e,n){var i=o.open(t.name,r);i.onerror=function(t){i.result.close(),n(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}}));return c.then((function(t){n.db=t;for(var e=0;e<i.length;e++){var r=i[e];r._dbInfo.db=t,w(r._dbInfo)}})).catch((function(e){throw(_(t,e)||a.resolve()).catch((function(){})),e}))}})):s.then((function(e){b(t);var r=p[t.name],n=r.forages;e.close();for(var i=0;i<n.length;i++)n[i]._dbInfo.db=null;var u=new a((function(e,r){var n=o.deleteDatabase(t.name);n.onerror=function(){var t=n.result;t&&t.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},n.onsuccess=function(){var t=n.result;t&&t.close(),e(t)}}));return u.then((function(t){r.db=t;for(var e=0;e<n.length;e++)w(n[e]._dbInfo)})).catch((function(e){throw(_(t,e)||a.resolve()).catch((function(){})),e}))}))}else n=a.reject("Invalid arguments");return u(n,e),n}},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=/^~~local_forage_type~([^~]+)~/,I="__lfsc__:",R=I.length,D="arbf",N="blob",F="si08",M="ui08",B="uic8",U="si16",z="si32",G="ur16",q="ui32",H="fl32",V="fl64",$=R+D.length,W=Object.prototype.toString;function K(t){var e,r,n,o,i,a=.75*t.length,u=t.length,s=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(e=0;e<u;e+=4)r=A.indexOf(t[e]),n=A.indexOf(t[e+1]),o=A.indexOf(t[e+2]),i=A.indexOf(t[e+3]),l[s++]=r<<2|n>>4,l[s++]=(15&n)<<4|o>>2,l[s++]=(3&o)<<6|63&i;return c}function Y(t){var e,r=new Uint8Array(t),n="";for(e=0;e<r.length;e+=3)n+=A[r[e]>>2],n+=A[(3&r[e])<<4|r[e+1]>>4],n+=A[(15&r[e+1])<<2|r[e+2]>>6],n+=A[63&r[e+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var Q={serialize:function(t,e){var r="";if(t&&(r=W.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===W.call(t.buffer))){var n,o=I;t instanceof ArrayBuffer?(n=t,o+=D):(n=t.buffer,"[object Int8Array]"===r?o+=F:"[object Uint8Array]"===r?o+=M:"[object Uint8ClampedArray]"===r?o+=B:"[object Int16Array]"===r?o+=U:"[object Uint16Array]"===r?o+=G:"[object Int32Array]"===r?o+=z:"[object Uint32Array]"===r?o+=q:"[object Float32Array]"===r?o+=H:"[object Float64Array]"===r?o+=V:e(new Error("Failed to get type for BinaryArray"))),e(o+Y(n))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r="~~local_forage_type~"+t.type+"~"+Y(this.result);e("__lfsc__:blob"+r)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(r){console.error("Couldn't convert value into a JSON string: ",t),e(null,r)}},deserialize:function(t){if(t.substring(0,R)!==I)return JSON.parse(t);var e,r=t.substring($),n=t.substring(R,$);if(n===N&&C.test(r)){var o=r.match(C);e=o[1],r=r.substring(o[0].length)}var a=K(r);switch(n){case D:return a;case N:return i([a],{type:e});case F:return new Int8Array(a);case M:return new Uint8Array(a);case B:return new Uint8ClampedArray(a);case U:return new Int16Array(a);case G:return new Uint16Array(a);case z:return new Int32Array(a);case q:return new Uint32Array(a);case H:return new Float32Array(a);case V:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}},stringToBuffer:K,bufferToString:Y};function X(t,e,r,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function J(t,e,r,n,o,i){t.executeSql(r,n,o,(function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,u){u.rows.length?i(t,a):X(t,e,(function(){t.executeSql(r,n,o,i)}),i)}),i):i(t,a)}),i)}function Z(t,e,r,n){var o=this;t=c(t);var i=new a((function(i,a){o.ready().then((function(){void 0===e&&(e=null);var u=e,s=o._dbInfo;s.serializer.serialize(e,(function(e,c){c?a(c):s.db.transaction((function(r){J(r,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){i(u)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void i(Z.apply(o,[t,u,r,n-1]));a(e)}}))}))})).catch(a)}));return u(i,r),i}function tt(t){return new a((function(e,r){t.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).name);e({db:t,storeNames:o})}),(function(t,e){r(e)}))}),(function(t){r(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]="string"!=typeof t[n]?t[n].toString():t[n];var o=new a((function(t,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(t){return n(t)}r.db.transaction((function(o){X(o,r,(function(){e._dbInfo=r,t()}),(function(t,e){n(e)}))}),n)}));return r.serializer=Q,o},_support:"function"==typeof openDatabase,iterate:function(t,e){var r=this,n=new a((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){J(r,o,"SELECT * FROM "+o.storeName,[],(function(r,n){for(var i=n.rows,a=i.length,u=0;u<a;u++){var s=i.item(u),c=s.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=t(c,s.key,u+1)))return void e(c)}e()}),(function(t,e){n(e)}))}))})).catch(n)}));return u(n,e),n},getItem:function(t,e){var r=this;t=c(t);var n=new a((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){J(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return u(n,e),n},setItem:function(t,e,r){return Z.apply(this,[t,e,r,1])},removeItem:function(t,e){var r=this;t=c(t);var n=new a((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){J(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){n(e)}))}))})).catch(n)}));return u(n,e),n},clear:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){J(e,n,"DELETE FROM "+n.storeName,[],(function(){t()}),(function(t,e){r(e)}))}))})).catch(r)}));return u(r,t),r},length:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){J(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(e,r){var n=r.rows.item(0).c;t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return u(r,t),r},key:function(t,e){var r=this,n=new a((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){J(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,r){var n=r.rows.length?r.rows.item(0).key:null;e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return u(n,e),n},keys:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){J(e,n,"SELECT key FROM "+n.storeName,[],(function(e,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return u(r,t),r},dropInstance:function(t,e){e=l.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,o=this;return u(n=t.name?new a((function(e){var n;n=t.name===r.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:n,storeNames:[t.storeName]}):e(tt(n))})).then((function(t){return new a((function(e,r){t.db.transaction((function(n){function o(t){return new a((function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){r(e)}))}))}for(var i=[],u=0,s=t.storeNames.length;u<s;u++)i.push(o(t.storeNames[u]));a.all(i).then((function(){e()})).catch((function(t){r(t)}))}),(function(t){r(t)}))}))})):a.reject("Invalid arguments"),e),n}};function rt(t,e){var r=t.name+"/";return t.storeName!==e.storeName&&(r+=t.storeName+"/"),r}function nt(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var ot={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var r in t)e[r]=t[r];return e.keyPrefix=rt(t,this._defaultConfig),nt()?(this._dbInfo=e,e.serializer=Q,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=r.ready().then((function(){for(var e=r._dbInfo,n=e.keyPrefix,o=n.length,i=localStorage.length,a=1,u=0;u<i;u++){var s=localStorage.key(u);if(0===s.indexOf(n)){var c=localStorage.getItem(s);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,s.substring(o),a++)))return c}}}));return u(n,e),n},getItem:function(t,e){var r=this;t=c(t);var n=r.ready().then((function(){var e=r._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n}));return u(n,e),n},setItem:function(t,e,r){var n=this;t=c(t);var o=n.ready().then((function(){void 0===e&&(e=null);var r=e;return new a((function(o,i){var a=n._dbInfo;a.serializer.serialize(e,(function(e,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+t,e),o(r)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}}))}))}));return u(o,r),o},removeItem:function(t,e){var r=this;t=c(t);var n=r.ready().then((function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return u(n,e),n},clear:function(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(t)&&localStorage.removeItem(n)}}));return u(r,t),r},length:function(t){var e=this.keys().then((function(t){return t.length}));return u(e,t),e},key:function(t,e){var r=this,n=r.ready().then((function(){var e,n=r._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e}));return u(n,e),n},keys:function(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&n.push(i.substring(t.keyPrefix.length))}return n}));return u(r,t),r},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,o=this;return n=t.name?new a((function(e){t.storeName?e(rt(t,o._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}})):a.reject("Invalid arguments"),u(n,e),n}},it=function(t,e){for(var r=t.length,n=0;n<r;){if((o=t[n])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;n++}var o,i;return!1},at=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},ut={},st={},ct={INDEXEDDB:P,WEBSQL:et,LOCALSTORAGE:ot},lt=[ct.INDEXEDDB._driver,ct.WEBSQL._driver,ct.LOCALSTORAGE._driver],ft=["dropInstance"],ht=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ft),pt={description:"",driver:lt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dt(t,e){t[e]=function(){var r=arguments;return t.ready().then((function(){return t[e].apply(t,r)}))}}function yt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var r in e)e.hasOwnProperty(r)&&(at(e[r])?arguments[0][r]=e[r].slice():arguments[0][r]=e[r])}return arguments[0]}var vt=function(){function t(e){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ct)if(ct.hasOwnProperty(r)){var n=ct[r],o=n._driver;this[r]=o,ut[o]||this.defineDriver(n)}this._defaultConfig=yt({},pt),this._config=yt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":n(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,r){var n=new a((function(e,r){try{var n=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(o);for(var i=ht.concat("_initStorage"),s=0,c=i.length;s<c;s++){var l=i[s];if((!it(ft,l)||t[l])&&"function"!=typeof t[l])return void r(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),r=a.reject(e);return u(r,arguments[arguments.length-1]),r}},r=0,n=ft.length;r<n;r++){var o=ft[r];t[o]||(t[o]=e(o))}}();var f=function(r){ut[n]&&console.info("Redefining LocalForage driver: "+n),ut[n]=t,st[n]=r,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(f,r):f(!!t._support):f(!0)}catch(t){r(t)}}));return s(n,e,r),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,r){var n=ut[t]?a.resolve(ut[t]):a.reject(new Error("Driver not found."));return s(n,e,r),n},t.prototype.getSerializer=function(t){var e=a.resolve(Q);return s(e,t),e},t.prototype.ready=function(t){var e=this,r=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return s(r,t,t),r},t.prototype.setDriver=function(t,e,r){var n=this;at(t)||(t=[t]);var o=this._getSupportedDrivers(t);function i(){n._config.driver=n.driver()}function u(t){return n._extend(t),i(),n._ready=n._initStorage(n._config),n._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=c.then((function(){var t=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(t).then((function(t){n._driver=t._driver,i(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(t){return function(){var e=0;return function r(){for(;e<t.length;){var o=t[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(o).then(u).catch(r)}i();var s=new Error("No available storage method found.");return n._driverSet=a.reject(s),n._driverSet}()}}(o)}))})).catch((function(){i();var t=new Error("No available storage method found.");return n._driverSet=a.reject(t),n._driverSet})),s(this._driverSet,e,r),this._driverSet},t.prototype.supports=function(t){return!!st[t]},t.prototype._extend=function(t){yt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ht.length;t<e;t++)dt(this,ht[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),mt=new vt;e.exports=mt},{3:3}]},{},[4])(4)},9515:function(t,e,r){var n=r(8761)(r(7772),"DataView");t.exports=n},9612:function(t,e,r){var n=r(2118),o=r(6909),i=r(8138),a=r(4174),u=r(7942);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},6504:function(t,e,r){var n=r(9413),o=r(3620);function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=n(o.prototype),i.prototype.constructor=i,t.exports=i},235:function(t,e,r){var n=r(3945),o=r(1846),i=r(8028),a=r(2344),u=r(4769);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},5859:function(t,e,r){var n=r(9413),o=r(3620);function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}i.prototype=n(o.prototype),i.prototype.constructor=i,t.exports=i},326:function(t,e,r){var n=r(8761)(r(7772),"Map");t.exports=n},6738:function(t,e,r){var n=r(2411),o=r(6417),i=r(6928),a=r(9493),u=r(4150);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},2760:function(t,e,r){var n=r(8761)(r(7772),"Promise");t.exports=n},2143:function(t,e,r){var n=r(8761)(r(7772),"Set");t.exports=n},5386:function(t,e,r){var n=r(6738),o=r(2842),i=r(2482);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},6571:function(t,e,r){var n=r(235),o=r(5243),i=r(2858),a=r(4417),u=r(8605),s=r(1418);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},857:function(t,e,r){var n=r(7772).Symbol;t.exports=n},9162:function(t,e,r){var n=r(7772).Uint8Array;t.exports=n},3215:function(t,e,r){var n=r(8761)(r(7772),"WeakMap");t.exports=n},9432:function(t){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},7552:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},1634:function(t,e,r){var n=r(6473),o=r(9631),i=r(6152),a=r(3226),u=r(9045),s=r(7598),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),f=!r&&!l&&a(t),h=!r&&!l&&!f&&s(t),p=r||l||f||h,d=p?n(t.length,String):[],y=d.length;for(var v in t)!e&&!c.call(t,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,y))||d.push(v);return d}},343:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},5067:function(t){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},7064:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},91:function(t,e,r){var n=r(3940),o=r(1225),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},2218:function(t,e,r){var n=r(1225);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},3940:function(t,e,r){var n=r(3043);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},9413:function(t,e,r){var n=r(9259),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},4122:function(t){t.exports=function(t,e,r){var n;return r(t,(function(t,r,o){if(e(t,r,o))return n=r,!1})),n}},2034:function(t,e,r){var n=r(5067),o=r(5882);t.exports=function t(e,r,i,a,u){var s=-1,c=e.length;for(i||(i=o),u||(u=[]);++s<c;){var l=e[s];r>0&&i(l)?r>1?t(l,r-1,i,a,u):n(u,l):a||(u[u.length]=l)}return u}},5308:function(t,e,r){var n=r(5463)();t.exports=n},6548:function(t,e,r){var n=r(5308),o=r(249);t.exports=function(t,e){return t&&n(t,e,o)}},3324:function(t,e,r){var n=r(7297),o=r(3812);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},1897:function(t,e,r){var n=r(5067),o=r(6152);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},3366:function(t,e,r){var n=r(857),o=r(2107),i=r(7157),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},187:function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},5183:function(t,e,r){var n=r(3366),o=r(5125);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},8746:function(t,e,r){var n=r(1952),o=r(5125);t.exports=function t(e,r,i,a,u){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,i,a,t,u))}},1952:function(t,e,r){var n=r(6571),o=r(4871),i=r(1491),a=r(7416),u=r(940),s=r(6152),c=r(3226),l=r(7598),f="[object Arguments]",h="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,y,v,m){var g=s(t),b=s(e),w=g?h:u(t),_=b?h:u(e),E=(w=w==f?p:w)==p,O=(_=_==f?p:_)==p,S=w==_;if(S&&c(t)){if(!c(e))return!1;g=!0,E=!1}if(S&&!E)return m||(m=new n),g||l(t)?o(t,e,r,y,v,m):i(t,e,w,r,y,v,m);if(!(1&r)){var x=E&&d.call(t,"__wrapped__"),k=O&&d.call(e,"__wrapped__");if(x||k){var j=x?t.value():t,T=k?e.value():e;return m||(m=new n),v(j,T,r,y,m)}}return!!S&&(m||(m=new n),a(t,e,r,y,v,m))}},7036:function(t,e,r){var n=r(6571),o=r(8746);t.exports=function(t,e,r,i){var a=r.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=r[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var l=(c=r[a])[0],f=t[l],h=c[1];if(s&&c[2]){if(void 0===f&&!(l in t))return!1}else{var p=new n;if(i)var d=i(f,h,l,t,e,p);if(!(void 0===d?o(h,f,3,i,p):d))return!1}}return!0}},6840:function(t,e,r){var n=r(1049),o=r(7394),i=r(9259),a=r(7035),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?h:u).test(a(t))}},5522:function(t,e,r){var n=r(3366),o=r(1158),i=r(5125),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},8286:function(t,e,r){var n=r(6423),o=r(4716),i=r(3059),a=r(6152),u=r(5798);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):n(t):u(t)}},6411:function(t,e,r){var n=r(6001),o=r(4248),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},3620:function(t){t.exports=function(){}},6423:function(t,e,r){var n=r(7036),o=r(9882),i=r(3477);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},4716:function(t,e,r){var n=r(8746),o=r(2579),i=r(5041),a=r(1401),u=r(8792),s=r(3477),c=r(3812);t.exports=function(t,e){return a(t)&&u(e)?s(c(t),e):function(r){var a=o(r,t);return void 0===a&&a===e?i(r,t):n(e,a,3)}}},256:function(t){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},2952:function(t,e,r){var n=r(3324);t.exports=function(t){return function(e){return n(e,t)}}},6435:function(t){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},6060:function(t,e,r){var n=r(3059),o=r(3114),i=r(5251);t.exports=function(t,e){return i(o(t,e,n),t+"")}},6532:function(t,e,r){var n=r(6874),o=r(3043),i=r(3059),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},6473:function(t){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},1054:function(t,e,r){var n=r(857),o=r(343),i=r(6152),a=r(4795),u=n?n.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},7826:function(t){t.exports=function(t){return function(e){return t(e)}}},9950:function(t){t.exports=function(t,e){return t.has(e)}},7297:function(t,e,r){var n=r(6152),o=r(1401),i=r(7162),a=r(6188);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},1522:function(t){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},752:function(t,e,r){var n=r(91),o=r(3940);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var u=-1,s=e.length;++u<s;){var c=e[u],l=i?i(r[c],t[c],c,r,t):void 0;void 0===l&&(l=t[c]),a?o(r,c,l):n(r,c,l)}return r}},4019:function(t,e,r){var n=r(7772)["__core-js_shared__"];t.exports=n},7263:function(t,e,r){var n=r(6060),o=r(2406);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(r[0],r[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e}))}},5463:function(t){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===r(i[s],s,i))break}return e}}},7541:function(t,e,r){var n=r(5859),o=r(9097),i=r(8203),a=r(9350),u=r(6152),s=r(3735);t.exports=function(t){return o((function(e){var r=e.length,o=r,c=n.prototype.thru;for(t&&e.reverse();o--;){var l=e[o];if("function"!=typeof l)throw new TypeError("Expected a function");if(c&&!f&&"wrapper"==a(l))var f=new n([],!0)}for(o=f?o:r;++o<r;){l=e[o];var h=a(l),p="wrapper"==h?i(l):void 0;f=p&&s(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?f[a(p[0])].apply(f,p[3]):1==l.length&&s(l)?f[h]():f.thru(l)}return function(){var t=arguments,n=t[0];if(f&&1==t.length&&u(n))return f.plant(n).value();for(var o=0,i=r?e[o].apply(this,t):n;++o<r;)i=e[o].call(this,i);return i}}))}},1655:function(t,e,r){var n=r(6435)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});t.exports=n},3043:function(t,e,r){var n=r(8761),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},4871:function(t,e,r){var n=r(5386),o=r(7064),i=r(9950);t.exports=function(t,e,r,a,u,s){var c=1&r,l=t.length,f=e.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(t),p=s.get(e);if(h&&p)return h==e&&p==t;var d=-1,y=!0,v=2&r?new n:void 0;for(s.set(t,e),s.set(e,t);++d<l;){var m=t[d],g=e[d];if(a)var b=c?a(g,m,d,e,t,s):a(m,g,d,t,e,s);if(void 0!==b){if(b)continue;y=!1;break}if(v){if(!o(e,(function(t,e){if(!i(v,e)&&(m===t||u(m,t,r,a,s)))return v.push(e)}))){y=!1;break}}else if(m!==g&&!u(m,g,r,a,s)){y=!1;break}}return s.delete(t),s.delete(e),y}},1491:function(t,e,r){var n=r(857),o=r(9162),i=r(1225),a=r(4871),u=r(5179),s=r(4207),c=n?n.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,f,h){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=u;case"[object Set]":var d=1&n;if(p||(p=s),t.size!=e.size&&!d)return!1;var y=h.get(t);if(y)return y==e;n|=2,h.set(t,e);var v=a(p(t),p(e),n,c,f,h);return h.delete(t),v;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},7416:function(t,e,r){var n=r(3483),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,a,u){var s=1&r,c=n(t),l=c.length;if(l!=n(e).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in e:o.call(e,h)))return!1}var p=u.get(t),d=u.get(e);if(p&&d)return p==e&&d==t;var y=!0;u.set(t,e),u.set(e,t);for(var v=s;++f<l;){var m=t[h=c[f]],g=e[h];if(i)var b=s?i(g,m,h,e,t,u):i(m,g,h,t,e,u);if(!(void 0===b?m===g||a(m,g,r,i,u):b)){y=!1;break}v||(v="constructor"==h)}if(y&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(y=!1)}return u.delete(t),u.delete(e),y}},9097:function(t,e,r){var n=r(5676),o=r(3114),i=r(5251);t.exports=function(t){return i(o(t,void 0,n),t+"")}},1242:function(t,e,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},3483:function(t,e,r){var n=r(1897),o=r(633),i=r(249);t.exports=function(t){return n(t,i,o)}},8203:function(t,e,r){var n=r(529),o=r(4291),i=n?function(t){return n.get(t)}:o;t.exports=i},9350:function(t,e,r){var n=r(9212),o=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",r=n[e],i=o.call(n,e)?r.length:0;i--;){var a=r[i],u=a.func;if(null==u||u==t)return a.name}return e}},7937:function(t,e,r){var n=r(8304);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},9882:function(t,e,r){var n=r(8792),o=r(249);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],a=t[i];e[r]=[i,a,n(a)]}return e}},8761:function(t,e,r){var n=r(6840),o=r(8109);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},7353:function(t,e,r){var n=r(241)(Object.getPrototypeOf,Object);t.exports=n},2107:function(t,e,r){var n=r(857),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},633:function(t,e,r){var n=r(7552),o=r(981),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},940:function(t,e,r){var n=r(9515),o=r(326),i=r(2760),a=r(2143),u=r(3215),s=r(3366),c=r(7035),l="[object Map]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",d="[object DataView]",y=c(n),v=c(o),m=c(i),g=c(a),b=c(u),w=s;(n&&w(new n(new ArrayBuffer(1)))!=d||o&&w(new o)!=l||i&&w(i.resolve())!=f||a&&w(new a)!=h||u&&w(new u)!=p)&&(w=function(t){var e=s(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case y:return d;case v:return l;case m:return f;case g:return h;case b:return p}return e}),t.exports=w},8109:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},1369:function(t,e,r){var n=r(7297),o=r(9631),i=r(6152),a=r(9045),u=r(1158),s=r(3812);t.exports=function(t,e,r){for(var c=-1,l=(e=n(e,t)).length,f=!1;++c<l;){var h=s(e[c]);if(!(f=null!=t&&r(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&u(l)&&a(h,l)&&(i(t)||o(t))}},2118:function(t,e,r){var n=r(9191);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},6909:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},8138:function(t,e,r){var n=r(9191),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},4174:function(t,e,r){var n=r(9191),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},7942:function(t,e,r){var n=r(9191);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},5882:function(t,e,r){var n=r(857),o=r(9631),i=r(6152),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},9045:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},2406:function(t,e,r){var n=r(1225),o=r(7878),i=r(9045),a=r(9259);t.exports=function(t,e,r){if(!a(r))return!1;var u=typeof e;return!!("number"==u?o(r)&&i(e,r.length):"string"==u&&e in r)&&n(r[e],t)}},1401:function(t,e,r){var n=r(6152),o=r(4795),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},8304:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},3735:function(t,e,r){var n=r(6504),o=r(8203),i=r(9350),a=r(8674);t.exports=function(t){var e=i(t),r=a[e];if("function"!=typeof r||!(e in n.prototype))return!1;if(t===r)return!0;var u=o(r);return!!u&&t===u[0]}},7394:function(t,e,r){var n,o=r(4019),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},6001:function(t){var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},8792:function(t,e,r){var n=r(9259);t.exports=function(t){return t==t&&!n(t)}},3945:function(t){t.exports=function(){this.__data__=[],this.size=0}},1846:function(t,e,r){var n=r(2218),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},8028:function(t,e,r){var n=r(2218);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},2344:function(t,e,r){var n=r(2218);t.exports=function(t){return n(this.__data__,t)>-1}},4769:function(t,e,r){var n=r(2218);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},2411:function(t,e,r){var n=r(9612),o=r(235),i=r(326);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},6417:function(t,e,r){var n=r(7937);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6928:function(t,e,r){var n=r(7937);t.exports=function(t){return n(this,t).get(t)}},9493:function(t,e,r){var n=r(7937);t.exports=function(t){return n(this,t).has(t)}},4150:function(t,e,r){var n=r(7937);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},5179:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},3477:function(t){t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},7777:function(t,e,r){var n=r(733);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},529:function(t,e,r){var n=r(3215),o=n&&new n;t.exports=o},9191:function(t,e,r){var n=r(8761)(Object,"create");t.exports=n},4248:function(t,e,r){var n=r(241)(Object.keys,Object);t.exports=n},7453:function(t,e,r){t=r.nmd(t);var n=r(1242),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},7157:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},241:function(t){t.exports=function(t,e){return function(r){return t(e(r))}}},3114:function(t,e,r){var n=r(9432),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=r(s),n(t,this,c)}}},9212:function(t){t.exports={}},7772:function(t,e,r){var n=r(1242),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},2842:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2482:function(t){t.exports=function(t){return this.__data__.has(t)}},4207:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},5251:function(t,e,r){var n=r(6532),o=r(7787)(n);t.exports=o},7787:function(t){var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},5243:function(t,e,r){var n=r(235);t.exports=function(){this.__data__=new n,this.size=0}},2858:function(t){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},4417:function(t){t.exports=function(t){return this.__data__.get(t)}},8605:function(t){t.exports=function(t){return this.__data__.has(t)}},1418:function(t,e,r){var n=r(235),o=r(326),i=r(6738);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},7162:function(t,e,r){var n=r(7777),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a},3812:function(t,e,r){var n=r(4795);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},7035:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7366:function(t,e,r){var n=r(6504),o=r(5859),i=r(1522);t.exports=function(t){if(t instanceof n)return t.clone();var e=new o(t.__wrapped__,t.__chain__);return e.__actions__=i(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},3678:function(t,e,r){var n=r(752),o=r(7263),i=r(249),a=o((function(t,e,r,o){n(e,i(e),t,o)}));t.exports=a},6874:function(t){t.exports=function(t){return function(){return t}}},7329:function(t,e,r){var n=r(1655),o=r(6188),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=o(t))&&t.replace(i,n).replace(a,"")}},1225:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},9439:function(t,e,r){var n=r(4122),o=r(6548),i=r(8286);t.exports=function(t,e){return n(t,i(e,3),o)}},5676:function(t,e,r){var n=r(2034);t.exports=function(t){return null!=t&&t.length?n(t,1):[]}},5395:function(t,e,r){var n=r(7541)();t.exports=n},2579:function(t,e,r){var n=r(3324);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},5041:function(t,e,r){var n=r(187),o=r(1369);t.exports=function(t,e){return null!=t&&o(t,e,n)}},3059:function(t){t.exports=function(t){return t}},9631:function(t,e,r){var n=r(5183),o=r(5125),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},6152:function(t){var e=Array.isArray;t.exports=e},7878:function(t,e,r){var n=r(1049),o=r(1158);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},3226:function(t,e,r){t=r.nmd(t);var n=r(7772),o=r(6330),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?n.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s},5455:function(t,e,r){var n=r(6411),o=r(940),i=r(9631),a=r(6152),u=r(7878),s=r(3226),c=r(6001),l=r(7598),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||l(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!n(t).length;for(var r in t)if(f.call(t,r))return!1;return!0}},8149:function(t,e,r){var n=r(8746);t.exports=function(t,e){return n(t,e)}},1049:function(t,e,r){var n=r(3366),o=r(9259);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1158:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},9259:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},5125:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},7030:function(t,e,r){var n=r(3366),o=r(7353),i=r(5125),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,l=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==l}},4795:function(t,e,r){var n=r(3366),o=r(5125);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},7598:function(t,e,r){var n=r(5522),o=r(7826),i=r(7453),a=i&&i.isTypedArray,u=a?o(a):n;t.exports=u},4336:function(t){t.exports=function(t){return void 0===t}},249:function(t,e,r){var n=r(1634),o=r(6411),i=r(7878);t.exports=function(t){return i(t)?n(t):o(t)}},4519:function(t,e,r){var n=r(3940),o=r(6548),i=r(8286);t.exports=function(t,e){var r={};return e=i(e,3),o(t,(function(t,o,i){n(r,o,e(t,o,i))})),r}},733:function(t,e,r){var n=r(6738);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},4291:function(t){t.exports=function(){}},5798:function(t,e,r){var n=r(256),o=r(2952),i=r(1401),a=r(3812);t.exports=function(t){return i(t)?n(a(t)):o(t)}},981:function(t){t.exports=function(){return[]}},6330:function(t){t.exports=function(){return!1}},6188:function(t,e,r){var n=r(1054);t.exports=function(t){return null==t?"":n(t)}},8674:function(t,e,r){var n=r(6504),o=r(5859),i=r(3620),a=r(6152),u=r(5125),s=r(7366),c=Object.prototype.hasOwnProperty;function l(t){if(u(t)&&!a(t)&&!(t instanceof n)){if(t instanceof o)return t;if(c.call(t,"__wrapped__"))return s(t)}return new o(t)}l.prototype=i.prototype,l.prototype.constructor=l,t.exports=l},7105:function(t,e,r){"use strict";var n=r(8006),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),u=Symbol("allowStale"),s=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),d=Symbol("cache"),y=Symbol("updateAgeOnGet"),v=function(){return 1},m=function(t,e,r){var n=t[d].get(e);if(n){var o=n.value;if(g(t,o)){if(w(t,n),!t[u])return}else r&&(t[y]&&(n.value.now=Date.now()),t[f].unshiftNode(n));return o.value}},g=function(t,e){if(!e||!e.maxAge&&!t[s])return!1;var r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[s]&&r>t[s]},b=function(t){if(t[i]>t[o])for(var e=t[f].tail;t[i]>t[o]&&null!==e;){var r=e.prev;w(t,e),e=r}},w=function(t,e){if(e){var r=e.value;t[c]&&t[c](r.key,r.value),t[i]-=r.length,t[d].delete(r.key),t[f].removeNode(e)}},_=p((function t(e,r,n,o,i){h(this,t),this.key=e,this.value=r,this.length=n,this.now=o,this.maxAge=i||0})),E=function(t,e,r,n){var o=r.value;g(t,o)&&(w(t,r),t[u]||(o=void 0)),o&&e.call(n,o.value,o.key,t)};t.exports=function(){function t(e){if(h(this,t),"number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;var r=e.length||v;if(this[a]="function"!=typeof r?v:r,this[u]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[s]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[y]=e.updateAgeOnGet||!1,this.reset()}return p(t,[{key:"max",get:function(){return this[o]},set:function(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[o]=t||1/0,b(this)}},{key:"allowStale",get:function(){return this[u]},set:function(t){this[u]=!!t}},{key:"maxAge",get:function(){return this[s]},set:function(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[s]=t,b(this)}},{key:"lengthCalculator",get:function(){return this[a]},set:function(t){var e=this;"function"!=typeof t&&(t=v),t!==this[a]&&(this[a]=t,this[i]=0,this[f].forEach((function(t){t.length=e[a](t.value,t.key),e[i]+=t.length}))),b(this)}},{key:"length",get:function(){return this[i]}},{key:"itemCount",get:function(){return this[f].length}},{key:"rforEach",value:function(t,e){e=e||this;for(var r=this[f].tail;null!==r;){var n=r.prev;E(this,t,r,e),r=n}}},{key:"forEach",value:function(t,e){e=e||this;for(var r=this[f].head;null!==r;){var n=r.next;E(this,t,r,e),r=n}}},{key:"keys",value:function(){return this[f].toArray().map((function(t){return t.key}))}},{key:"values",value:function(){return this[f].toArray().map((function(t){return t.value}))}},{key:"reset",value:function(){var t=this;this[c]&&this[f]&&this[f].length&&this[f].forEach((function(e){return t[c](e.key,e.value)})),this[d]=new Map,this[f]=new n,this[i]=0}},{key:"dump",value:function(){var t=this;return this[f].map((function(e){return!g(t,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}})).toArray().filter((function(t){return t}))}},{key:"dumpLru",value:function(){return this[f]}},{key:"set",value:function(t,e,r){if((r=r||this[s])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");var n=r?Date.now():0,u=this[a](e,t);if(this[d].has(t)){if(u>this[o])return w(this,this[d].get(t)),!1;var h=this[d].get(t).value;return this[c]&&(this[l]||this[c](t,h.value)),h.now=n,h.maxAge=r,h.value=e,this[i]+=u-h.length,h.length=u,this.get(t),b(this),!0}var p=new _(t,e,u,n,r);return p.length>this[o]?(this[c]&&this[c](t,e),!1):(this[i]+=p.length,this[f].unshift(p),this[d].set(t,this[f].head),b(this),!0)}},{key:"has",value:function(t){if(!this[d].has(t))return!1;var e=this[d].get(t).value;return!g(this,e)}},{key:"get",value:function(t){return m(this,t,!0)}},{key:"peek",value:function(t){return m(this,t,!1)}},{key:"pop",value:function(){var t=this[f].tail;return t?(w(this,t),t.value):null}},{key:"del",value:function(t){w(this,this[d].get(t))}},{key:"load",value:function(t){this.reset();for(var e=Date.now(),r=t.length-1;r>=0;r--){var n=t[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{var i=o-e;i>0&&this.set(n.k,n.v,i)}}}},{key:"prune",value:function(){var t=this;this[d].forEach((function(e,r){return m(t,r,!1)}))}}]),t}()},3818:function(t,e,r){"use strict";r.r(e),r.d(e,{$mobx:function(){return nn},FlowCancellationError:function(){return Fe},IDerivationState:function(){return at},ObservableMap:function(){return Dr},ObservableSet:function(){return Br},Reaction:function(){return ee},_allowStateChanges:function(){return At},_allowStateChangesInsideComputed:function(){return Rt},_allowStateReadsEnd:function(){return Et},_allowStateReadsStart:function(){return _t},_endAction:function(){return Pt},_getAdministration:function(){return Qr},_getGlobalState:function(){return Vt},_interceptReads:function(){return ze},_isComputingDerivation:function(){return dt},_resetGlobalState:function(){return $t},_startAction:function(){return Lt},action:function(){return me},autorun:function(){return _e},comparer:function(){return R},computed:function(){return lt},configure:function(){return Te},createAtom:function(){return C},decorate:function(){return Le},entries:function(){return Xe},extendObservable:function(){return Ae},extendShallowObservable:function(){return Pe},flow:function(){return Be},get:function(){return er},getAtom:function(){return Yr},getDebugName:function(){return Xr},getDependencyTree:function(){return Ce},getObserverTree:function(){return Re},has:function(){return tr},intercept:function(){return Ge},isAction:function(){return be},isArrayLike:function(){return g},isBoxedObservable:function(){return Nt},isComputed:function(){return He},isComputedProp:function(){return Ve},isFlowCancellationError:function(){return Me},isObservable:function(){return We},isObservableArray:function(){return Ir},isObservableMap:function(){return Fr},isObservableObject:function(){return Kr},isObservableProp:function(){return Ke},isObservableSet:function(){return Ur},keys:function(){return Ye},observable:function(){return ot},observe:function(){return rr},onBecomeObserved:function(){return xe},onBecomeUnobserved:function(){return ke},onReactionError:function(){return re},reaction:function(){return Se},remove:function(){return Ze},runInAction:function(){return ge},set:function(){return Je},spy:function(){return pe},toJS:function(){return ar},trace:function(){return ur},transaction:function(){return cr},untracked:function(){return gt},values:function(){return Qe},when:function(){return lr}});var n=r(4406),o=[];Object.freeze(o);var i={};Object.freeze(i);var a={};function u(){return"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:a}function s(){return++Ht.mobxGuid}function c(t){throw l(!1,t),"X"}function l(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is an production build."))}function f(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var h=function(){};function p(t){return null!==t&&"object"==typeof t}function d(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function y(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function v(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function m(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(t){return p(t)&&!0===t[r]}}function g(t){return Array.isArray(t)||Ir(t)}function b(t){return void 0!==u().Map&&t instanceof u().Map}function w(t){return t instanceof Set}function _(t){for(var e=[];;){var r=t.next();if(r.done)break;e.push(r.value)}return e}function E(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function O(t){return null===t?null:"object"==typeof t?""+t:t}function S(t,e){for(var r=t.next();!r.done;)e(r.value),r=t.next()}function x(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function k(t,e){v(t,x(),e)}function j(t){return t[x()]=L,t}function T(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function L(){return this}var P=function(){function t(t){void 0===t&&(t="Atom@"+s()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=at.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.reportObserved=function(){return Jt(this)},t.prototype.reportChanged=function(){Qt(),function(t){if(t.lowestObserverState!==at.STALE){t.lowestObserverState=at.STALE;for(var e=t.observers,r=e.length;r--;){var n=e[r];n.dependenciesState===at.UP_TO_DATE&&(n.isTracing!==ut.NONE&&Zt(n,t),n.onBecomeStale()),n.dependenciesState=at.STALE}}}(this),Xt()},t.prototype.toString=function(){return this.name},t}(),A=m("Atom",P);function C(t,e,r){void 0===e&&(e=h),void 0===r&&(r=h);var n=new P(t);return xe(n,e),ke(n,r),n}function I(t,e){return t===e}var R={identity:I,structural:function(t,e){return Zr(t,e)},default:function(t,e){return function(t,e){return"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(t,e)||I(t,e)},shallow:function(t,e){return Zr(t,e,1)}},D=function(t,e){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},D(t,e)};function N(t,e){function r(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var F=function(){return F=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},F.apply(this,arguments)};function M(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function B(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(M(arguments[e]));return t}var U={},z={};function G(t,e){var r=e?U:z;return r[t]||(r[t]={configurable:!0,enumerable:e,get:function(){return q(this),this[t]},set:function(e){q(this),this[t]=e}})}function q(t){if(!0!==t.__mobxDidRunLazyInitializers){var e=t.__mobxDecorators;if(e)for(var r in y(t,"__mobxDidRunLazyInitializers",!0),e){var n=e[r];n.propertyCreator(t,n.prop,n.descriptor,n.decoratorTarget,n.decoratorArguments)}}}function H(t,e){return function(){var r,n=function(n,o,i,a){if(!0===a)return e(n,o,i,n,r),null;if(!Object.prototype.hasOwnProperty.call(n,"__mobxDecorators")){var u=n.__mobxDecorators;y(n,"__mobxDecorators",F({},u))}return n.__mobxDecorators[o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:n,decoratorArguments:r},G(o,t)};return V(arguments)?(r=o,n.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),n)}}function V(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}function $(t,e,r){return We(t)?t:Array.isArray(t)?ot.array(t,{name:r}):d(t)?ot.object(t,void 0,{name:r}):b(t)?ot.map(t,{name:r}):w(t)?ot.set(t,{name:r}):t}function W(t){return t}function K(t){l(t);var e=H(!0,(function(e,r,n,o,i){qr(e,r,n?n.initializer?n.initializer.call(e):n.value:void 0,t)})),r=(void 0!==n&&n.env,e);return r.enhancer=t,r}var Y={deep:!0,name:void 0,defaultDecorator:void 0},Q={deep:!1,name:void 0,defaultDecorator:void 0};function X(t){return null==t?Y:"string"==typeof t?{name:t,deep:!0}:t}function J(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?W:$}Object.freeze(Y),Object.freeze(Q);var Z=K($),tt=K((function(t,e,r){return null==t||Kr(t)||Ir(t)||Fr(t)||Ur(t)?t:Array.isArray(t)?ot.array(t,{name:r,deep:!1}):d(t)?ot.object(t,void 0,{name:r,deep:!1}):b(t)?ot.map(t,{name:r,deep:!1}):w(t)?ot.set(t,{name:r,deep:!1}):c(!1)})),et=K(W),rt=K((function(t,e,r){return Zr(t,e)?e:t})),nt={box:function(t,e){arguments.length>2&&it("box");var r=X(e);return new Dt(t,J(r),r.name,!0,r.equals)},shallowBox:function(t,e){return arguments.length>2&&it("shallowBox"),ot.box(t,{name:e,deep:!1})},array:function(t,e){arguments.length>2&&it("array");var r=X(e);return new jr(t,J(r),r.name)},shallowArray:function(t,e){return arguments.length>2&&it("shallowArray"),ot.array(t,{name:e,deep:!1})},map:function(t,e){arguments.length>2&&it("map");var r=X(e);return new Dr(t,J(r),r.name)},shallowMap:function(t,e){return arguments.length>2&&it("shallowMap"),ot.map(t,{name:e,deep:!1})},set:function(t,e){arguments.length>2&&it("set");var r=X(e);return new Br(t,J(r),r.name)},object:function(t,e,r){return"string"==typeof arguments[1]&&it("object"),Ae({},t,e,X(r))},shallowObject:function(t,e){return"string"==typeof arguments[1]&&it("shallowObject"),ot.object(t,{},{name:e,deep:!1})},ref:et,shallow:tt,deep:Z,struct:rt},ot=function t(e,r,n){if("string"==typeof arguments[1])return Z.apply(null,arguments);if(We(e))return e;var o=d(e)?t.object(e,r,n):Array.isArray(e)?t.array(e,r):b(e)?t.map(e,r):w(e)?t.set(e,r):e;if(o!==e)return o;c(!1)};function it(t){c("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(nt).forEach((function(t){return ot[t]=nt[t]}));var at,ut,st=H(!1,(function(t,e,r,n,o){var i=r.get,a=r.set,u=o[0]||{};!function(t,e,r){var n=Gr(t);r.name=n.name+"."+e,r.context=t,n.values[e]=new Ft(r),Object.defineProperty(t,e,function(t){return Vr[t]||(Vr[t]={configurable:Ht.computedConfigurable,enumerable:!1,get:function(){return $r(this).read(this,t)},set:function(e){$r(this).write(this,t,e)}})}(e))}(t,e,F({get:i,set:a},u))})),ct=st({equals:R.structural}),lt=function(t,e,r){if("string"==typeof e)return st.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return st.apply(null,arguments);var n="object"==typeof e?e:{};return n.get=t,n.set="function"==typeof e?e:n.set,n.name=n.name||t.name||"",new Ft(n)};lt.struct=ct,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(at||(at={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(ut||(ut={}));var ft=function(t){this.cause=t};function ht(t){return t instanceof ft}function pt(t){switch(t.dependenciesState){case at.UP_TO_DATE:return!1;case at.NOT_TRACKING:case at.STALE:return!0;case at.POSSIBLY_STALE:for(var e=_t(!0),r=bt(),n=t.observing,o=n.length,i=0;i<o;i++){var a=n[i];if(Bt(a)){if(Ht.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return wt(r),Et(e),!0}if(t.dependenciesState===at.STALE)return wt(r),Et(e),!0}}return Ot(t),wt(r),Et(e),!1}}function dt(){return null!==Ht.trackingDerivation}function yt(t){var e=t.observers.length>0;Ht.computationDepth>0&&e&&c(!1),Ht.allowStateChanges||!e&&"strict"!==Ht.enforceActions||c(!1)}function vt(t,e,r){var n=_t(!0);Ot(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Ht.runId;var o,i=Ht.trackingDerivation;if(Ht.trackingDerivation=t,!0===Ht.disableErrorBoundaries)o=e.call(r);else try{o=e.call(r)}catch(t){o=new ft(t)}return Ht.trackingDerivation=i,function(t){for(var e=t.observing,r=t.observing=t.newObserving,n=at.UP_TO_DATE,o=0,i=t.unboundDepsCount,a=0;a<i;a++)0===(u=r[a]).diffValue&&(u.diffValue=1,o!==a&&(r[o]=u),o++),u.dependenciesState>n&&(n=u.dependenciesState);for(r.length=o,t.newObserving=null,i=e.length;i--;)0===(u=e[i]).diffValue&&Kt(u,t),u.diffValue=0;for(;o--;){var u;1===(u=r[o]).diffValue&&(u.diffValue=0,Wt(u,t))}n!==at.UP_TO_DATE&&(t.dependenciesState=n,t.onBecomeStale())}(t),t.observing.length,Et(n),o}function mt(t){var e=t.observing;t.observing=[];for(var r=e.length;r--;)Kt(e[r],t);t.dependenciesState=at.NOT_TRACKING}function gt(t){var e=bt(),r=t();return wt(e),r}function bt(){var t=Ht.trackingDerivation;return Ht.trackingDerivation=null,t}function wt(t){Ht.trackingDerivation=t}function _t(t){var e=Ht.allowStateReads;return Ht.allowStateReads=t,e}function Et(t){Ht.allowStateReads=t}function Ot(t){if(t.dependenciesState!==at.UP_TO_DATE){t.dependenciesState=at.UP_TO_DATE;for(var e=t.observing,r=e.length;r--;)e[r].lowestObserverState=at.UP_TO_DATE}}var St=0,xt=1,kt=Object.getOwnPropertyDescriptor((function(){}),"name");function jt(t,e){var r=function(){return Tt(t,e,this,arguments)};return r.isMobxAction=!0,r}function Tt(t,e,r,n){var o=Lt(t,r,n);try{return e.apply(r,n)}catch(t){throw o.error=t,t}finally{Pt(o)}}function Lt(t,e,r){var n=se()&&!!t,o=0;if(n){o=Date.now();var i=r&&r.length||0,a=new Array(i);if(i>0)for(var u=0;u<i;u++)a[u]=r[u];le({type:"action",name:t,object:e,arguments:a})}var s=bt();Qt();var c={prevDerivation:s,prevAllowStateChanges:Ct(!0),prevAllowStateReads:_t(!0),notifySpy:n,startTime:o,actionId:xt++,parentActionId:St};return St=c.actionId,c}function Pt(t){St!==t.actionId&&c("invalid action stack. did you forget to finish an action?"),St=t.parentActionId,void 0!==t.error&&(Ht.suppressReactionErrors=!0),It(t.prevAllowStateChanges),Et(t.prevAllowStateReads),Xt(),wt(t.prevDerivation),t.notifySpy&&he({time:Date.now()-t.startTime}),Ht.suppressReactionErrors=!1}function At(t,e){var r,n=Ct(t);try{r=e()}finally{It(n)}return r}function Ct(t){var e=Ht.allowStateChanges;return Ht.allowStateChanges=t,e}function It(t){Ht.allowStateChanges=t}function Rt(t){var e,r=Ht.computationDepth;Ht.computationDepth=0;try{e=t()}finally{Ht.computationDepth=r}return e}kt&&kt.configurable;var Dt=function(t){function e(e,r,n,o,i){void 0===n&&(n="ObservableValue@"+s()),void 0===o&&(o=!0),void 0===i&&(i=R.default);var a=t.call(this,n)||this;return a.enhancer=r,a.name=n,a.equals=i,a.hasUnreportedChange=!1,a.value=r(e,void 0,n),o&&se()&&ce({type:"create",name:a.name,newValue:""+a.value}),a}return N(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){var e=this.value;if((t=this.prepareNewValue(t))!==Ht.UNCHANGED){var r=se();r&&le({type:"update",name:this.name,newValue:t,oldValue:e}),this.setNewValue(t),r&&he()}},e.prototype.prepareNewValue=function(t){if(yt(this),pr(this)){var e=yr(this,{object:this,type:"update",newValue:t});if(!e)return Ht.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Ht.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),vr(this)&&gr(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return dr(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),mr(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return O(this.get())},e}(P);Dt.prototype[E()]=Dt.prototype.valueOf;var Nt=m("ObservableValue",Dt),Ft=function(){function t(t){this.dependenciesState=at.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=at.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+s(),this.value=new ft(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ut.NONE,l(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+s(),t.set&&(this.setter=jt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?R.structural:R.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState===at.UP_TO_DATE){t.lowestObserverState=at.POSSIBLY_STALE;for(var e=t.observers,r=e.length;r--;){var n=e[r];n.dependenciesState===at.UP_TO_DATE&&(n.dependenciesState=at.POSSIBLY_STALE,n.isTracing!==ut.NONE&&Zt(n,t),n.onBecomeStale())}}}(this)},t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.get=function(){this.isComputing&&c("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ht.inBatch||0!==this.observers.length||this.keepAlive?(Jt(this),pt(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState!==at.STALE){t.lowestObserverState=at.STALE;for(var e=t.observers,r=e.length;r--;){var n=e[r];n.dependenciesState===at.POSSIBLY_STALE?n.dependenciesState=at.STALE:n.dependenciesState===at.UP_TO_DATE&&(t.lowestObserverState=at.UP_TO_DATE)}}}(this)):pt(this)&&(this.warnAboutUntrackedRead(),Qt(),this.value=this.computeValue(!1),Xt());var t=this.value;if(ht(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(ht(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){l(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else l(!1,!1)},t.prototype.trackAndCompute=function(){se()&&ce({object:this.scope,type:"compute",name:this.name});var t=this.value,e=this.dependenciesState===at.NOT_TRACKING,r=this.computeValue(!0),n=e||ht(t)||ht(r)||!this.equals(t,r);return n&&(this.value=r),n},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Ht.computationDepth++,t)e=vt(this,this.derivation,this.scope);else if(!0===Ht.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new ft(t)}return Ht.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(mt(this),this.value=void 0)},t.prototype.observe=function(t,e){var r=this,n=!0,o=void 0;return _e((function(){var i=r.get();if(!n||e){var a=bt();t({type:"update",object:r,newValue:i,oldValue:o}),wt(a)}n=!1,o=i}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return O(this.get())},t}();Ft.prototype[E()]=Ft.prototype.valueOf;var Mt,Bt=m("ComputedValue",Ft),Ut=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],zt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Gt=!0,qt=!1,Ht=((Mt=u()).__mobxInstanceCount>0&&!Mt.__mobxGlobals&&(Gt=!1),Mt.__mobxGlobals&&Mt.__mobxGlobals.version!==(new zt).version&&(Gt=!1),Gt?Mt.__mobxGlobals?(Mt.__mobxInstanceCount+=1,Mt.__mobxGlobals.UNCHANGED||(Mt.__mobxGlobals.UNCHANGED={}),Mt.__mobxGlobals):(Mt.__mobxInstanceCount=1,Mt.__mobxGlobals=new zt):(setTimeout((function(){qt||c("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new zt));function Vt(){return Ht}function $t(){var t=new zt;for(var e in t)-1===Ut.indexOf(e)&&(Ht[e]=t[e]);Ht.allowStateChanges=!Ht.enforceActions}function Wt(t,e){var r=t.observers.length;r&&(t.observersIndexes[e.__mapid]=r),t.observers[r]=e,t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Kt(t,e){if(1===t.observers.length)t.observers.length=0,Yt(t);else{var r=t.observers,n=t.observersIndexes,o=r.pop();if(o!==e){var i=n[e.__mapid]||0;i?n[o.__mapid]=i:delete n[o.__mapid],r[i]=o}delete n[e.__mapid]}}function Yt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Ht.pendingUnobservations.push(t))}function Qt(){Ht.inBatch++}function Xt(){if(0==--Ht.inBatch){oe();for(var t=Ht.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation=!1,0===r.observers.length&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBecomeUnobserved()),r instanceof Ft&&r.suspend())}Ht.pendingUnobservations=[]}}function Jt(t){var e=Ht.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.length&&Ht.inBatch>0&&Yt(t),!1)}function Zt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===ut.BREAK){var r=[];te(Ce(t),r,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof Ft?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}}function te(t,e,r){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return te(t,e,r+1)})))}var ee=function(){function t(t,e,r,n){void 0===t&&(t="Reaction@"+s()),void 0===n&&(n=!1),this.name=t,this.onInvalidate=e,this.errorHandler=r,this.requiresObservable=n,this.observing=[],this.newObserving=[],this.dependenciesState=at.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+s(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ut.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ht.pendingReactions.push(this),oe())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Qt(),this._isScheduled=!1,pt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&se()&&ce({name:this.name,type:"scheduled-reaction"})}catch(t){this.reportExceptionInDerivation(t)}}Xt()}},t.prototype.track=function(t){Qt();var e,r=se();r&&(e=Date.now(),le({name:this.name,type:"reaction"})),this._isRunning=!0;var n=vt(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&mt(this),ht(n)&&this.reportExceptionInDerivation(n.cause),r&&he({time:Date.now()-e}),Xt()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Ht.disableErrorBoundaries)throw t;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ht.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,t),se()&&ce({type:"error",name:this.name,message:r,error:""+t}),Ht.globalReactionErrorHandlers.forEach((function(r){return r(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Qt(),mt(this),Xt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t.$mobx=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),ur(this,t)},t}();function re(t){return Ht.globalReactionErrorHandlers.push(t),function(){var e=Ht.globalReactionErrorHandlers.indexOf(t);e>=0&&Ht.globalReactionErrorHandlers.splice(e,1)}}var ne=function(t){return t()};function oe(){Ht.inBatch>0||Ht.isRunningReactions||ne(ie)}function ie(){Ht.isRunningReactions=!0;for(var t=Ht.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction()}Ht.isRunningReactions=!1}var ae=m("Reaction",ee);function ue(t){var e=ne;ne=function(r){return t((function(){return e(r)}))}}function se(){return!!Ht.spyListeners.length}function ce(t){if(Ht.spyListeners.length)for(var e=Ht.spyListeners,r=0,n=e.length;r<n;r++)e[r](t)}function le(t){ce(F(F({},t),{spyReportStart:!0}))}var fe={spyReportEnd:!0};function he(t){ce(t?F(F({},t),{spyReportEnd:!0}):fe)}function pe(t){return Ht.spyListeners.push(t),f((function(){Ht.spyListeners=Ht.spyListeners.filter((function(e){return e!==t}))}))}function de(){c(!1)}function ye(t){return function(e,r,n){if(n){if(n.value)return{value:jt(t,n.value),enumerable:!1,configurable:!0,writable:!0};var o=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return jt(t,o.call(this))}}}return ve(t).apply(this,arguments)}}function ve(t){return function(e,r,n){Object.defineProperty(e,r,{configurable:!0,enumerable:!1,get:function(){},set:function(e){y(this,r,me(t,e))}})}}var me=function(t,e,r,n){return 1===arguments.length&&"function"==typeof t?jt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?jt(t,e):1===arguments.length&&"string"==typeof t?ye(t):!0!==n?ye(e).apply(null,arguments):void(t[e]=jt(t.name||e,r.value))};function ge(t,e){return Tt("string"==typeof t?t:t.name||"<unnamed action>","function"==typeof t?t:e,this,void 0)}function be(t){return"function"==typeof t&&!0===t.isMobxAction}function we(t,e,r){y(t,e,jt(e,r.bind(t)))}function _e(t,e){void 0===e&&(e=i);var r,n=e&&e.name||t.name||"Autorun@"+s();if(e.scheduler||e.delay){var o=Oe(e),a=!1;r=new ee(n,(function(){a||(a=!0,o((function(){a=!1,r.isDisposed||r.track(u)})))}),e.onError,e.requiresObservable)}else r=new ee(n,(function(){this.track(u)}),e.onError,e.requiresObservable);function u(){t(r)}return r.schedule(),r.getDisposer()}me.bound=function(t,e,r,n){return!0===n?(we(t,e,r.value),null):r?{configurable:!0,enumerable:!1,get:function(){return we(this,e,r.value||r.initializer.call(this)),this[e]},set:de}:{enumerable:!1,configurable:!0,set:function(t){we(this,e,t)},get:function(){}}};var Ee=function(t){return t()};function Oe(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Ee}function Se(t,e,r){void 0===r&&(r=i),"boolean"==typeof r&&(r={fireImmediately:r});var n,o,a,u=r.name||"Reaction@"+s(),c=me(u,r.onError?(n=r.onError,o=e,function(){try{return o.apply(this,arguments)}catch(t){n.call(this,t)}}):e),l=!r.scheduler&&!r.delay,f=Oe(r),h=!0,p=!1,d=r.compareStructural?R.structural:r.equals||R.default,y=new ee(u,(function(){h||l?v():p||(p=!0,f(v))}),r.onError,r.requiresObservable);function v(){if(p=!1,!y.isDisposed){var e=!1;y.track((function(){var r=t(y);e=h||!d(a,r),a=r})),h&&r.fireImmediately&&c(a,y),h||!0!==e||c(a,y),h&&(h=!1)}}return y.schedule(),y.getDisposer()}function xe(t,e,r){return je("onBecomeObserved",t,e,r)}function ke(t,e,r){return je("onBecomeUnobserved",t,e,r)}function je(t,e,r,n){var o="function"==typeof n?Yr(e,r):Yr(e),i="function"==typeof n?n:r,a=o[t];return"function"!=typeof a?c(!1):(o[t]=function(){a.call(this),i.call(this)},function(){o[t]=a})}function Te(t){var e=t.enforceActions,r=t.computedRequiresReaction,n=t.computedConfigurable,o=t.disableErrorBoundaries,i=t.arrayBuffer,a=t.reactionScheduler,s=t.reactionRequiresObservable,l=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((Ht.pendingReactions.length||Ht.inBatch||Ht.isRunningReactions)&&c("isolateGlobalState should be called before MobX is running any reactions"),qt=!0,Gt&&(0==--u().__mobxInstanceCount&&(u().__mobxGlobals=void 0),Ht=new zt)),void 0!==e){var f=void 0;switch(e){case!0:case"observed":f=!0;break;case!1:case"never":f=!1;break;case"strict":case"always":f="strict";break;default:c("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Ht.enforceActions=f,Ht.allowStateChanges=!0!==f&&"strict"!==f}void 0!==r&&(Ht.computedRequiresReaction=!!r),void 0!==s&&(Ht.reactionRequiresObservable=!!s),void 0!==l&&(Ht.observableRequiresReaction=!!l,Ht.allowStateReads=!Ht.observableRequiresReaction),void 0!==n&&(Ht.computedConfigurable=!!n),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Ht.disableErrorBoundaries=!!o),"number"==typeof i&&Ar(i),a&&ue(a)}function Le(t,e){var r="function"==typeof t?t.prototype:t,n=function(t){var n=e[t];Array.isArray(n)||(n=[n]);var o=Object.getOwnPropertyDescriptor(r,t),i=n.reduce((function(e,n){return n(r,t,e)}),o);i&&Object.defineProperty(r,t,i)};for(var o in e)n(o);return t}function Pe(t,e,r){return Ae(t,e,r,Q)}function Ae(t,e,r,n){var o=(n=X(n)).defaultDecorator||(!1===n.deep?et:Z);q(t),Gr(t,n.name,o.enhancer),Qt();try{for(var i=Object.getOwnPropertyNames(e),a=0,u=i.length;a<u;a++){var s=i[a],c=Object.getOwnPropertyDescriptor(e,s),l=(r&&s in r?r[s]:c.get?st:o)(t,s,c,!0);l&&Object.defineProperty(t,s,l)}}finally{Xt()}return t}function Ce(t,e){return Ie(Yr(t,e))}function Ie(t){var e,r,n={name:t.name};return t.observing&&t.observing.length>0&&(n.dependencies=(e=t.observing,r=[],e.forEach((function(t){-1===r.indexOf(t)&&r.push(t)})),r).map(Ie)),n}function Re(t,e){return De(Yr(t,e))}function De(t){var e={name:t.name};return function(t){return t.observers&&t.observers.length>0}(t)&&(e.observers=function(t){return t.observers}(t).map(De)),e}var Ne=0;function Fe(){this.message="FLOW_CANCELLED"}function Me(t){return t instanceof Fe}function Be(t){1!==arguments.length&&c("Flow expects one 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var r,n=this,o=arguments,i=++Ne,a=me(e+" - runid: "+i+" - init",t).apply(n,o),u=void 0,s=new Promise((function(t,n){var o=0;function s(t){var r;u=void 0;try{r=me(e+" - runid: "+i+" - yield "+o++,a.next).call(a,t)}catch(t){return n(t)}l(r)}function c(t){var r;u=void 0;try{r=me(e+" - runid: "+i+" - yield "+o++,a.throw).call(a,t)}catch(t){return n(t)}l(r)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(u=Promise.resolve(e.value)).then(s,c);e.then(l,n)}r=n,s(void 0)}));return s.cancel=me(e+" - runid: "+i+" - cancel",(function(){try{u&&Ue(u);var t=a.return(void 0),e=Promise.resolve(t.value);e.then(h,h),Ue(e),r(new Fe)}catch(t){r(t)}})),s}}function Ue(t){"function"==typeof t.cancel&&t.cancel()}function ze(t,e,r){var n;if(Fr(t)||Ir(t)||Nt(t))n=Qr(t);else{if(!Kr(t))return c(!1);if("string"!=typeof e)return c(!1);n=Qr(t,e)}return void 0!==n.dehancer?c(!1):(n.dehancer="function"==typeof e?e:r,function(){n.dehancer=void 0})}function Ge(t,e,r){return"function"==typeof r?function(t,e,r){return Qr(t,e).intercept(r)}(t,e,r):function(t,e){return Qr(t).intercept(e)}(t,e)}function qe(t,e){if(null==t)return!1;if(void 0!==e){if(!1===Kr(t))return!1;if(!t.$mobx.values[e])return!1;var r=Yr(t,e);return Bt(r)}return Bt(t)}function He(t){return arguments.length>1?c(!1):qe(t)}function Ve(t,e){return"string"!=typeof e?c(!1):qe(t,e)}function $e(t,e){if(null==t)return!1;if(void 0!==e){if(Kr(t)){var r=t.$mobx;return r.values&&!!r.values[e]}return!1}return Kr(t)||!!t.$mobx||A(t)||ae(t)||Bt(t)}function We(t){return 1!==arguments.length&&c(!1),$e(t)}function Ke(t,e){return"string"!=typeof e?c(!1):$e(t,e)}function Ye(t){return Kr(t)?t.$mobx.getKeys():Fr(t)||Ur(t)?_(t.keys()):Ir(t)?t.map((function(t,e){return e})):c(!1)}function Qe(t){return Kr(t)?Ye(t).map((function(e){return t[e]})):Fr(t)?Ye(t).map((function(e){return t.get(e)})):Ur(t)?_(t.values()):Ir(t)?t.slice():c(!1)}function Xe(t){return Kr(t)?Ye(t).map((function(e){return[e,t[e]]})):Fr(t)?Ye(t).map((function(e){return[e,t.get(e)]})):Ur(t)?_(t.entries()):Ir(t)?t.map((function(t,e){return[e,t]})):c(!1)}function Je(t,e,r){if(2!==arguments.length||Ur(t))if(Kr(t)){var n=t.$mobx;n.values[e]?n.write(t,e,r):qr(t,e,r,n.defaultEnhancer)}else if(Fr(t))t.set(e,r);else if(Ur(t))t.add(e);else{if(!Ir(t))return c(!1);"number"!=typeof e&&(e=parseInt(e,10)),l(e>=0,"Not a valid index: '"+e+"'"),Qt(),e>=t.length&&(t.length=e+1),t[e]=r,Xt()}else{Qt();var o=e;try{for(var i in o)Je(t,i,o[i])}finally{Xt()}}}function Ze(t,e){if(Kr(t))t.$mobx.remove(e);else if(Fr(t))t.delete(e);else if(Ur(t))t.delete(e);else{if(!Ir(t))return c(!1);"number"!=typeof e&&(e=parseInt(e,10)),l(e>=0,"Not a valid index: '"+e+"'"),t.splice(e,1)}}function tr(t,e){if(Kr(t)){var r=Qr(t);return r.getKeys(),!!r.values[e]}return Fr(t)||Ur(t)?t.has(e):Ir(t)?e>=0&&e<t.length:c(!1)}function er(t,e){if(tr(t,e))return Kr(t)?t[e]:Fr(t)?t.get(e):Ir(t)?t[e]:c(!1)}function rr(t,e,r,n){return"function"==typeof r?function(t,e,r,n){return Qr(t,e).observe(r,n)}(t,e,r,n):function(t,e,r){return Qr(t).observe(e,r)}(t,e,r)}Fe.prototype=Object.create(Error.prototype);var nr={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function or(t,e,r,n){return n.detectCycles&&t.set(e,r),r}function ir(t,e,r){if(!e.recurseEverything&&!We(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Nt(t))return ir(t.get(),e,r);if(We(t)&&Ye(t),!0===e.detectCycles&&null!==t&&r.has(t))return r.get(t);if(Ir(t)||Array.isArray(t)){var n=or(r,t,[],e),o=t.map((function(t){return ir(t,e,r)}));n.length=o.length;for(var i=0,a=o.length;i<a;i++)n[i]=o[i];return n}if(Ur(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===e.exportMapsAsObjects){var u=or(r,t,new Set,e);return t.forEach((function(t){u.add(ir(t,e,r))})),u}var s=or(r,t,[],e);return t.forEach((function(t){s.push(ir(t,e,r))})),s}if(Fr(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===e.exportMapsAsObjects){var c=or(r,t,new Map,e);return t.forEach((function(t,n){c.set(n,ir(t,e,r))})),c}var l=or(r,t,{},e);return t.forEach((function(t,n){l[n]=ir(t,e,r)})),l}var f=or(r,t,{},e);for(var h in t)f[h]=ir(t[h],e,r);return f}function ar(t,e){var r;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=nr),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(r=new Map),ir(t,e,r)}function ur(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!1;"boolean"==typeof t[t.length-1]&&(r=t.pop());var n=sr(t);if(!n)return c(!1);n.isTracing===ut.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled"),n.isTracing=r?ut.BREAK:ut.LOG}function sr(t){switch(t.length){case 0:return Ht.trackingDerivation;case 1:return Yr(t[0]);case 2:return Yr(t[0],t[1])}}function cr(t,e){void 0===e&&(e=void 0),Qt();try{return t.apply(e)}finally{Xt()}}function lr(t,e,r){return 1===arguments.length||e&&"object"==typeof e?hr(t,e):fr(t,e,r||{})}function fr(t,e,r){var n;"number"==typeof r.timeout&&(n=setTimeout((function(){if(!i.$mobx.isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!r.onError)throw t;r.onError(t)}}),r.timeout)),r.name=r.name||"When@"+s();var o=jt(r.name+"-effect",e),i=_e((function(e){t()&&(e.dispose(),n&&clearTimeout(n),o())}),r);return i}function hr(t,e){var r,n=new Promise((function(n,o){var i=fr(t,n,F(F({},e),{onError:o}));r=function(){i(),o("WHEN_CANCELLED")}}));return n.cancel=r,n}function pr(t){return void 0!==t.interceptors&&t.interceptors.length>0}function dr(t,e){var r=t.interceptors||(t.interceptors=[]);return r.push(e),f((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function yr(t,e){var r=bt();try{var n=t.interceptors;if(n)for(var o=0,i=n.length;o<i&&(l(!(e=n[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{wt(r)}}function vr(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function mr(t,e){var r=t.changeListeners||(t.changeListeners=[]);return r.push(e),f((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function gr(t,e){var r=bt(),n=t.changeListeners;if(n){for(var o=0,i=(n=n.slice()).length;o<i;o++)n[o](e);wt(r)}}var br,wr,_r,Er,Or=(br=!1,wr={},Object.defineProperty(wr,"0",{set:function(){br=!0}}),Object.create(wr)[0]=1,!1===br),Sr=0,xr=function(){};_r=xr,Er=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(_r.prototype,Er):void 0!==_r.prototype.__proto__?_r.prototype.__proto__=Er:_r.prototype=Er,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(t){Object.defineProperty(xr.prototype,t,{configurable:!0,writable:!0,value:Array.prototype[t]})}));var kr=function(){function t(t,e,r,n){this.array=r,this.owned=n,this.values=[],this.lastKnownLength=0,this.atom=new P(t||"ObservableArray@"+s()),this.enhancer=function(r,n){return e(r,n,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return dr(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),mr(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var r=new Array(t-e),n=0;n<t-e;n++)r[n]=void 0;this.spliceWithArray(e,0,r)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=e,e>0&&t+e+1>Sr&&Ar(t+e+1)},t.prototype.spliceWithArray=function(t,e,r){var n=this;yt(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===r&&(r=o),pr(this)){var a=yr(this,{object:this.array,type:"splice",index:t,removedCount:e,added:r});if(!a)return o;e=a.removedCount,r=a.added}r=0===r.length?r:r.map((function(t){return n.enhancer(t,void 0)}));var u=r.length-e;this.updateArrayLength(i,u);var s=this.spliceItemsIntoValues(t,e,r);return 0===e&&0===r.length||this.notifyArraySplice(t,r,s),this.dehanceValues(s)},t.prototype.spliceItemsIntoValues=function(t,e,r){var n;if(r.length<1e4)return(n=this.values).splice.apply(n,B([t,e],r));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(r,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,r){var n=!this.owned&&se(),o=vr(this),i=o||n?{object:this.array,type:"update",index:t,newValue:e,oldValue:r}:null;n&&le(F(F({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&gr(this,i),n&&he()},t.prototype.notifyArraySplice=function(t,e,r){var n=!this.owned&&se(),o=vr(this),i=o||n?{object:this.array,type:"splice",index:t,removed:r,added:e,removedCount:r.length,addedCount:e.length}:null;n&&le(F(F({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&gr(this,i),n&&he()},t}(),jr=function(t){function e(e,r,n,o){void 0===n&&(n="ObservableArray@"+s()),void 0===o&&(o=!1);var i=t.call(this)||this,a=new kr(n,r,i,o);if(v(i,"$mobx",a),e&&e.length){var u=Ct(!0);i.spliceWithArray(0,0,e),It(u)}return Or&&Object.defineProperty(a.array,"0",Tr),i}return N(e,t),e.prototype.intercept=function(t){return this.$mobx.intercept(t)},e.prototype.observe=function(t,e){return void 0===e&&(e=!1),this.$mobx.observe(t,e)},e.prototype.clear=function(){return this.splice(0)},e.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map((function(t){return Ir(t)?t.peek():t})))},e.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t)},e.prototype.toJS=function(){return this.slice()},e.prototype.toJSON=function(){return this.toJS()},e.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},e.prototype.find=function(t,e,r){void 0===r&&(r=0);var n=this.findIndex.apply(this,arguments);return-1===n?void 0:this.get(n)},e.prototype.findIndex=function(t,e,r){void 0===r&&(r=0);for(var n=this.peek(),o=n.length,i=r;i<o;i++)if(t.call(e,n[i],i,this))return i;return-1},e.prototype.splice=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,e)}return this.$mobx.spliceWithArray(t,e,r)},e.prototype.spliceWithArray=function(t,e,r){return this.$mobx.spliceWithArray(t,e,r)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.$mobx;return r.spliceWithArray(r.values.length,0,t),r.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.$mobx;return r.spliceWithArray(0,0,t),r.values.length},e.prototype.reverse=function(){var t=this.slice();return t.reverse.apply(t,arguments)},e.prototype.sort=function(t){var e=this.slice();return e.sort.apply(e,arguments)},e.prototype.remove=function(t){var e=this.$mobx.dehanceValues(this.$mobx.values).indexOf(t);return e>-1&&(this.splice(e,1),!0)},e.prototype.move=function(t,e){function r(t){if(t<0)throw new Error("[mobx.array] Index out of bounds: "+t+" is negative");var e=this.$mobx.values.length;if(t>=e)throw new Error("[mobx.array] Index out of bounds: "+t+" is not smaller than "+e)}if(r.call(this,t),r.call(this,e),t!==e){var n,o=this.$mobx.values;n=t<e?B(o.slice(0,t),o.slice(t+1,e+1),[o[t]],o.slice(e+1)):B(o.slice(0,e),[o[t]],o.slice(e,t),o.slice(t+1)),this.replace(n)}},e.prototype.get=function(t){var e=this.$mobx;if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},e.prototype.set=function(t,e){var r=this.$mobx,n=r.values;if(t<n.length){yt(r.atom);var o=n[t];if(pr(r)){var i=yr(r,{type:"update",object:this,index:t,newValue:e});if(!i)return;e=i.newValue}(e=r.enhancer(e,o))!==o&&(n[t]=e,r.notifyArrayChildUpdate(t,e,o))}else{if(t!==n.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+n.length);r.spliceWithArray(t,0,[e])}},e}(xr);k(jr.prototype,(function(){this.$mobx.atom.reportObserved();var t=this,e=0;return j({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(jr.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),y(jr.prototype,T(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){var e=Array.prototype[t];l("function"==typeof e,"Base function not defined on Array prototype: '"+t+"'"),y(jr.prototype,t,(function(){return e.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(t){l("function"==typeof Array.prototype[t],"Base function not defined on Array prototype: '"+t+"'"),y(jr.prototype,t,(function(e,r){var n=this,o=this.$mobx;return o.atom.reportObserved(),o.dehanceValues(o.values)[t]((function(t,o){return e.call(r,t,o,n)}),r)}))})),["reduce","reduceRight"].forEach((function(t){y(jr.prototype,t,(function(){var e=this,r=this.$mobx;r.atom.reportObserved();var n=arguments[0];return arguments[0]=function(t,o,i){return o=r.dehanceValue(o),n(t,o,i,e)},r.values[t].apply(r.values,arguments)}))})),function(t,e){for(var r=0;r<e.length;r++)y(t,e[r],t[e[r]])}(jr.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Tr=Lr(0);function Lr(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(e){this.set(t,e)}}}function Pr(t){Object.defineProperty(jr.prototype,""+t,Lr(t))}function Ar(t){for(var e=Sr;e<t;e++)Pr(e);Sr=t}Ar(1e3);var Cr=m("ObservableArrayAdministration",kr);function Ir(t){return p(t)&&Cr(t.$mobx)}var Rr={},Dr=function(){function t(t,e,r){if(void 0===e&&(e=$),void 0===r&&(r="ObservableMap@"+s()),this.enhancer=e,this.name=r,this.$mobx=Rr,this._keysAtom=C(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Ht.trackingDerivation)return this._has(t);var r=this._hasMap.get(t);if(!r){var n=r=new Dt(this._has(t),W,this.name+"."+Nr(t)+"?",!1);this._hasMap.set(t,n),ke(n,(function(){return e._hasMap.delete(t)}))}return r.get()},t.prototype.set=function(t,e){var r=this._has(t);if(pr(this)){var n=yr(this,{type:r?"update":"add",object:this,newValue:e,name:t});if(!n)return this;e=n.newValue}return r?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(yt(this._keysAtom),pr(this)&&!(o=yr(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var r=se(),n=vr(this),o=n||r?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return r&&le(F(F({},o),{name:this.name,key:t})),cr((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&gr(this,o),r&&he(),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var r=this._hasMap.get(t);r&&r.setNewValue(e)},t.prototype._updateValue=function(t,e){var r=this._data.get(t);if((e=r.prepareNewValue(e))!==Ht.UNCHANGED){var n=se(),o=vr(this),i=o||n?{type:"update",object:this,oldValue:r.value,name:t,newValue:e}:null;n&&le(F(F({},i),{name:this.name,key:t})),r.setNewValue(e),o&&gr(this,i),n&&he()}},t.prototype._addValue=function(t,e){var r=this;yt(this._keysAtom),cr((function(){var n=new Dt(e,r.enhancer,r.name+"."+Nr(t),!1);r._data.set(t,n),e=n.value,r._updateHasMapEntry(t,!0),r._keysAtom.reportChanged()}));var n=se(),o=vr(this),i=o||n?{type:"add",object:this,name:t,newValue:e}:null;n&&le(F(F({},i),{name:this.name,key:t})),o&&gr(this,i),n&&he()},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return j({next:function(){var r=e.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:t.get(o)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return j({next:function(){var r=e.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:[o,t.get(o)]}}})},t.prototype.forEach=function(t,e){var r=this;this._keysAtom.reportObserved(),this._data.forEach((function(n,o){return t.call(e,r.get(o),o,r)}))},t.prototype.merge=function(t){var e=this;return Fr(t)&&(t=t.toJS()),cr((function(){var r=Ct(!0);try{d(t)?Object.keys(t).forEach((function(r){return e.set(r,t[r])})):Array.isArray(t)?t.forEach((function(t){var r=M(t,2),n=r[0],o=r[1];return e.set(n,o)})):b(t)?t.constructor!==Map?c("Cannot initialize from classes that inherit from Map: "+t.constructor.name):t.forEach((function(t,r){return e.set(r,t)})):null!=t&&c("Cannot initialize map from "+t)}finally{It(r)}})),this},t.prototype.clear=function(){var t=this;cr((function(){gt((function(){t._data.forEach((function(e,r){return t.delete(r)}))}))}))},t.prototype.replace=function(t){var e=this;return cr((function(){var r=function(t){if(b(t)||Fr(t))return t;if(Array.isArray(t))return new Map(t);if(d(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}return c("Cannot convert to map from '"+t+"'")}(t),n=new Map,o=!1;if(S(e._data.keys(),(function(t){if(!r.has(t))if(e.delete(t))o=!0;else{var i=e._data.get(t);n.set(t,i)}})),S(r.entries(),(function(t){var r=M(t,2),i=r[0],a=r[1],u=e._data.has(i);if(e.set(i,a),e._data.has(i)){var s=e._data.get(i);n.set(i,s),u||(o=!0)}})),!o)if(e._data.size!==n.size)e._keysAtom.reportChanged();else for(var i=e._data.keys(),a=n.keys(),u=i.next(),s=a.next();!u.done;){if(u.value!==s.value){e._keysAtom.reportChanged();break}u=i.next(),s=a.next()}e._data=n})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t=this,e={};return this.forEach((function(r,n){return e["symbol"==typeof n?n:Nr(n)]=t.get(n)})),e},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+_(this.keys()).map((function(e){return Nr(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return mr(this,t)},t.prototype.intercept=function(t){return dr(this,t)},t}();function Nr(t){return t&&t.toString?t.toString():new String(t).toString()}k(Dr.prototype,(function(){return this.entries()})),v(Dr.prototype,T(),"Map");var Fr=m("ObservableMap",Dr),Mr={},Br=function(){function t(t,e,r){if(void 0===e&&(e=$),void 0===r&&(r="ObservableSet@"+s()),this.name=r,this.$mobx=Mr,this._data=new Set,this._atom=C(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,n){return e(t,n,r)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;cr((function(){gt((function(){t._data.forEach((function(e){t.delete(e)}))}))}))},t.prototype.forEach=function(t,e){var r=this;this._atom.reportObserved(),this._data.forEach((function(n){t.call(e,n,n,r)}))},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if(yt(this._atom),pr(this)&&!(o=yr(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){cr((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var r=se(),n=vr(this),o=n||r?{type:"add",object:this,newValue:t}:null;n&&gr(this,o)}return this},t.prototype.delete=function(t){var e=this;if(pr(this)&&!(o=yr(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var r=se(),n=vr(this),o=n||r?{type:"delete",object:this,oldValue:t}:null;return cr((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&gr(this,o),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=_(this.keys()),r=_(this.values());return j({next:function(){var n=t;return t+=1,n<r.length?{value:[e[n],r[n]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t,e=this,r=0;return void 0!==this._data.values?t=_(this._data.values()):(t=[],this._data.forEach((function(e){return t.push(e)}))),j({next:function(){return r<t.length?{value:e.dehanceValue(t[r++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return Ur(t)&&(t=t.toJS()),cr((function(){var r=Ct(!0);try{Array.isArray(t)||w(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&c("Cannot initialize set from "+t)}finally{It(r)}})),this},t.prototype.observe=function(t,e){return mr(this,t)},t.prototype.intercept=function(t){return dr(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+_(this.keys()).join(", ")+" ]"},t}();k(Br.prototype,(function(){return this.values()})),v(Br.prototype,T(),"Set");var Ur=m("ObservableSet",Br),zr=function(){function t(t,e,r){this.target=t,this.name=e,this.defaultEnhancer=r,this.values={}}return t.prototype.read=function(t,e){if(this.target===t||(this.illegalAccess(t,e),this.values[e]))return this.values[e].get()},t.prototype.write=function(t,e,r){var n=this.target;n!==t&&this.illegalAccess(t,e);var o=this.values[e];if(o instanceof Ft)o.set(r);else{if(pr(this)){if(!(u=yr(this,{type:"update",object:n,name:e,newValue:r})))return;r=u.newValue}if((r=o.prepareNewValue(r))!==Ht.UNCHANGED){var i=vr(this),a=se(),u=i||a?{type:"update",object:n,oldValue:o.value,name:e,newValue:r}:null;a&&le(F(F({},u),{name:this.name,key:e})),o.setNewValue(r),i&&gr(this,u),a&&he()}}},t.prototype.remove=function(t){if(this.values[t]){var e=this.target;if(pr(this)&&!(i=yr(this,{object:e,name:t,type:"remove"})))return;try{Qt();var r=vr(this),n=se(),o=this.values[t].get();this.keys&&this.keys.remove(t),delete this.values[t],delete this.target[t];var i=r||n?{type:"remove",object:e,oldValue:o,name:t}:null;n&&le(F(F({},i),{name:this.name,key:t})),r&&gr(this,i),n&&he()}finally{Xt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return mr(this,t)},t.prototype.intercept=function(t){return dr(this,t)},t.prototype.getKeys=function(){var t=this;return void 0===this.keys&&(this.keys=new jr(Object.keys(this.values).filter((function(e){return t.values[e]instanceof Dt})),W,"keys("+this.name+")",!0)),this.keys.slice()},t}();function Gr(t,e,r){void 0===e&&(e=""),void 0===r&&(r=$);var n=t.$mobx;return n||(d(t)||(e=(t.constructor.name||"ObservableObject")+"@"+s()),e||(e="ObservableObject@"+s()),v(t,"$mobx",n=new zr(t,e,r)),n)}function qr(t,e,r,n){var o=Gr(t);if(pr(o)){var i=yr(o,{object:t,name:e,type:"add",newValue:r});if(!i)return;r=i.newValue}r=(o.values[e]=new Dt(r,n,o.name+"."+e,!1)).value,Object.defineProperty(t,e,function(t){return Hr[t]||(Hr[t]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,t)},set:function(e){this.$mobx.write(this,t,e)}})}(e)),o.keys&&o.keys.push(e),function(t,e,r,n){var o=vr(t),i=se(),a=o||i?{type:"add",object:e,name:r,newValue:n}:null;i&&le(F(F({},a),{name:t.name,key:r})),o&&gr(t,a),i&&he()}(o,t,e,r)}var Hr=Object.create(null),Vr=Object.create(null);function $r(t){return t.$mobx||(q(t),t.$mobx)}var Wr=m("ObservableObjectAdministration",zr);function Kr(t){return!!p(t)&&(q(t),Wr(t.$mobx))}function Yr(t,e){if("object"==typeof t&&null!==t){if(Ir(t))return void 0!==e&&c(!1),t.$mobx.atom;if(Ur(t))return t.$mobx;if(Fr(t)){var r=t;return void 0===e?r._keysAtom:((n=r._data.get(e)||r._hasMap.get(e))||c(!1),n)}var n;if(q(t),e&&!t.$mobx&&t[e],Kr(t))return e?((n=t.$mobx.values[e])||c(!1),n):c(!1);if(A(t)||Bt(t)||ae(t))return t}else if("function"==typeof t&&ae(t.$mobx))return t.$mobx;return c(!1)}function Qr(t,e){return t||c("Expecting some object"),void 0!==e?Qr(Yr(t,e)):A(t)||Bt(t)||ae(t)||Fr(t)||Ur(t)?t:(q(t),t.$mobx?t.$mobx:void c(!1))}function Xr(t,e){return(void 0!==e?Yr(t,e):Kr(t)||Fr(t)||Ur(t)?Qr(t):Yr(t)).name}var Jr=Object.prototype.toString;function Zr(t,e,r){return void 0===r&&(r=-1),tn(t,e,r)}function tn(t,e,r,n,o){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;if("function"!==i&&"object"!==i&&"object"!=typeof e)return!1;t=en(t),e=en(e);var a=Jr.call(t);if(a!==Jr.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e)}var u="[object Array]"===a;if(!u){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,c=e.constructor;if(s!==c&&!("function"==typeof s&&s instanceof s&&"function"==typeof c&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}if(0===r)return!1;r<0&&(r=-1),o=o||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return o[l]===e;if(n.push(t),o.push(e),u){if((l=t.length)!==e.length)return!1;for(;l--;)if(!tn(t[l],e[l],r-1,n,o))return!1}else{var f=Object.keys(t),h=void 0;if(l=f.length,Object.keys(e).length!==l)return!1;for(;l--;)if(!rn(e,h=f[l])||!tn(t[h],e[h],r-1,n,o))return!1}return n.pop(),o.pop(),!0}function en(t){return Ir(t)?t.peek():b(t)||Fr(t)||w(t)||Ur(t)?_(t.entries()):t}function rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var nn="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:pe,extras:{getDebugName:Xr},$mobx:nn})},3804:function(t,e,r){var n=r(8834).Buffer,o=t.exports;for(var i in o.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},o.codes={},o.types){var a=o.types[i];o.codes[a]=i}for(var u in o.CMD_SHIFT=4,o.CMD_MASK=240,o.DUP_MASK=8,o.QOS_MASK=3,o.QOS_SHIFT=1,o.RETAIN_MASK=1,o.VARBYTEINT_MASK=127,o.VARBYTEINT_FIN_MASK=128,o.VARBYTEINT_MAX=268435455,o.SESSIONPRESENT_MASK=1,o.SESSIONPRESENT_HEADER=n.from([o.SESSIONPRESENT_MASK]),o.CONNACK_HEADER=n.from([o.codes.connack<<o.CMD_SHIFT]),o.USERNAME_MASK=128,o.PASSWORD_MASK=64,o.WILL_RETAIN_MASK=32,o.WILL_QOS_MASK=24,o.WILL_QOS_SHIFT=3,o.WILL_FLAG_MASK=4,o.CLEAN_SESSION_MASK=2,o.CONNECT_HEADER=n.from([o.codes.connect<<o.CMD_SHIFT]),o.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},o.propertiesCodes={},o.properties){var s=o.properties[u];o.propertiesCodes[s]=u}function c(t){return[0,1,2].map((function(e){return[0,1].map((function(r){return[0,1].map((function(i){var a=n.alloc(1);return a.writeUInt8(o.codes[t]<<o.CMD_SHIFT|(r?o.DUP_MASK:0)|e<<o.QOS_SHIFT|i,0,!0),a}))}))}))}o.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},o.PUBLISH_HEADER=c("publish"),o.SUBSCRIBE_HEADER=c("subscribe"),o.SUBSCRIBE_OPTIONS_QOS_MASK=3,o.SUBSCRIBE_OPTIONS_NL_MASK=1,o.SUBSCRIBE_OPTIONS_NL_SHIFT=2,o.SUBSCRIBE_OPTIONS_RAP_MASK=1,o.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,o.SUBSCRIBE_OPTIONS_RH_MASK=3,o.SUBSCRIBE_OPTIONS_RH_SHIFT=4,o.SUBSCRIBE_OPTIONS_RH=[0,16,32],o.SUBSCRIBE_OPTIONS_NL=4,o.SUBSCRIBE_OPTIONS_RAP=8,o.SUBSCRIBE_OPTIONS_QOS=[0,1,2],o.UNSUBSCRIBE_HEADER=c("unsubscribe"),o.ACKS={unsuback:c("unsuback"),puback:c("puback"),pubcomp:c("pubcomp"),pubrel:c("pubrel"),pubrec:c("pubrec")},o.SUBACK_HEADER=n.from([o.codes.suback<<o.CMD_SHIFT]),o.VERSION3=n.from([3]),o.VERSION4=n.from([4]),o.VERSION5=n.from([5]),o.VERSION131=n.from([131]),o.VERSION132=n.from([132]),o.QOS=[0,1,2].map((function(t){return n.from([t])})),o.EMPTY={pingreq:n.from([o.codes.pingreq<<4,0]),pingresp:n.from([o.codes.pingresp<<4,0]),disconnect:n.from([o.codes.disconnect<<4,0])}},166:function(t,e,r){var n=r(8834).Buffer,o=r(2849),i=function(t){"use strict";y(r,t);var e=v(r);function r(){var t;return h(this,r),(t=e.call(this))._array=new Array(20),t._i=0,t}return p(r,[{key:"write",value:function(t){return this._array[this._i++]=t,!0}},{key:"concat",value:function(){var t,e=0,r=new Array(this._array.length),o=this._array,i=0;for(t=0;t<o.length&&void 0!==o[t];t++)"string"!=typeof o[t]?r[t]=o[t].length:r[t]=n.byteLength(o[t]),e+=r[t];var a=n.allocUnsafe(e);for(t=0;t<o.length&&void 0!==o[t];t++)"string"!=typeof o[t]?(o[t].copy(a,i),i+=r[t]):(a.write(o[t],i),i+=r[t]);return a}}]),r}(r(2699));t.exports=function(t,e){var r=new i;return o(t,r,e),r.concat()}},8096:function(t,e,r){e.parser=r(2214).parser,e.generate=r(166),e.writeToStream=r(2849)},5560:function(t,e,r){var n=r(8834).Buffer,o={},i=n.isBuffer(n.from([1,2]).subarray(0,1));function a(t){var e=n.allocUnsafe(2);return e.writeUInt8(t>>8,0),e.writeUInt8(255&t,1),e}t.exports={cache:o,generateCache:function(){for(var t=0;t<65536;t++)o[t]=a(t)},generateNumber:a,genBufVariableByteInt:function(t){var e=0,r=0,o=n.allocUnsafe(4);do{e=t%128|0,(t=t/128|0)>0&&(e|=128),o.writeUInt8(e,r++)}while(t>0&&r<4);return t>0&&(r=0),i?o.subarray(0,r):o.slice(0,r)},generate4ByteBuffer:function(t){var e=n.allocUnsafe(4);return e.writeUInt32BE(t,0),e}}},3621:function(t){t.exports=function(){"use strict";function t(){h(this,t),this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}return p(t)}()},2214:function(t,e,r){var n=r(9050),o=r(2699),i=r(3621),a=r(3804),u=r(5130)("mqtt-packet:parser"),s=function(t){"use strict";y(r,t);var e=v(r);function r(){var t;return h(this,r),(t=e.call(this)).parser=t.constructor.parser,t}return p(r,[{key:"_resetState",value:function(){u("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=n(),this._stateCounter=0}},{key:"parse",value:function(t){for(this.error&&this._resetState(),this._list.append(t),u("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,u("parse: state complete. _stateCounter is now: %d",this._stateCounter),u("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return u("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}},{key:"_parseHeader",value:function(){var t=this._list.readUInt8(0);return this.packet.cmd=a.types[t>>a.CMD_SHIFT],this.packet.retain=0!=(t&a.RETAIN_MASK),this.packet.qos=t>>a.QOS_SHIFT&a.QOS_MASK,this.packet.dup=0!=(t&a.DUP_MASK),u("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}},{key:"_parseLength",value:function(){var t=this._parseVarByteNum(!0);return t&&(this.packet.length=t.value,this._list.consume(t.bytes)),u("_parseLength %d",t.value),!!t}},{key:"_parsePayload",value:function(){u("_parsePayload: payload %O",this._list);var t=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}t=!0}return u("_parsePayload complete result: %s",t),t}},{key:"_parseConnect",value:function(){var t,e,r,n;u("_parseConnect");var o={},i=this.packet,s=this._parseString();if(null===s)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==s&&"MQIsdp"!==s)return this._emitError(new Error("Invalid protocolId"));if(i.protocolId=s,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(i.protocolVersion=this._list.readUInt8(this._pos),i.protocolVersion>=128&&(i.bridgeMode=!0,i.protocolVersion=i.protocolVersion-128),3!==i.protocolVersion&&4!==i.protocolVersion&&5!==i.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,o.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,o.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK,o.will&&(i.will={},i.will.retain=0!=(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),i.will.qos=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT),i.clean=0!=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK),this._pos++,i.keepalive=this._parseNum(),-1===i.keepalive)return this._emitError(new Error("Packet too short"));if(5===i.protocolVersion){var c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(i.properties=c)}var l=this._parseString();if(null===l)return this._emitError(new Error("Packet too short"));if(i.clientId=l,u("_parseConnect: packet.clientId: %s",i.clientId),o.will){if(5===i.protocolVersion){var f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(i.will.properties=f)}if(null===(t=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(i.will.topic=t,u("_parseConnect: packet.will.topic: %s",i.will.topic),null===(e=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));i.will.payload=e,u("_parseConnect: packet.will.paylaod: %s",i.will.payload)}if(o.username){if(null===(n=this._parseString()))return this._emitError(new Error("Cannot parse username"));i.username=n,u("_parseConnect: packet.username: %s",i.username)}if(o.password){if(null===(r=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));i.password=r}return this.settings=i,u("_parseConnect: complete"),i}},{key:"_parseConnack",value:function(){u("_parseConnack");var t=this.packet;if(this._list.length<1)return null;if(t.sessionPresent=!!(this._list.readUInt8(this._pos++)&a.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?t.reasonCode=this._list.readUInt8(this._pos++):t.reasonCode=0;else{if(this._list.length<2)return null;t.returnCode=this._list.readUInt8(this._pos++)}if(-1===t.returnCode||-1===t.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}u("_parseConnack: complete")}},{key:"_parsePublish",value:function(){u("_parsePublish");var t=this.packet;if(t.topic=this._parseString(),null===t.topic)return this._emitError(new Error("Cannot parse topic"));if(!(t.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}t.payload=this._list.slice(this._pos,t.length),u("_parsePublish: payload from buffer list: %o",t.payload)}}},{key:"_parseSubscribe",value:function(){u("_parseSubscribe");var t,e,r,n,o,i,s,c=this.packet;if(1!==c.qos)return this._emitError(new Error("Wrong subscribe header"));if(c.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(c.properties=l)}for(;this._pos<c.length;){if(null===(t=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=(e=this._parseByte())&a.SUBSCRIBE_OPTIONS_QOS_MASK,i=0!=(e>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK),o=0!=(e>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK),n=e>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,s={topic:t,qos:r},5===this.settings.protocolVersion?(s.nl=i,s.rap=o,s.rh=n):this.settings.bridgeMode&&(s.rh=0,s.rap=!0,s.nl=!0),u("_parseSubscribe: push subscription `%s` to subscription",s),c.subscriptions.push(s)}}}},{key:"_parseSuback",value:function(){u("_parseSuback");var t=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}},{key:"_parseUnsubscribe",value:function(){u("_parseUnsubscribe");var t=this.packet;if(t.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<t.length;){var r=this._parseString();if(null===r)return this._emitError(new Error("Cannot parse topic"));u("_parseUnsubscribe: push topic `%s` to unsubscriptions",r),t.unsubscriptions.push(r)}}}},{key:"_parseUnsuback",value:function(){u("_parseUnsuback");var t=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var e=this._parseProperties();for(Object.getOwnPropertyNames(e).length&&(t.properties=e),t.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}},{key:"_parseConfirmation",value:function(){u("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);var t=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(t.length>2?(t.reasonCode=this._parseByte(),u("_parseConfirmation: packet.reasonCode `%d`",t.reasonCode)):t.reasonCode=0,t.length>3)){var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return!0}},{key:"_parseDisconnect",value:function(){var t=this.packet;if(u("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?t.reasonCode=this._parseByte():t.reasonCode=0;var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return u("_parseDisconnect result: true"),!0}},{key:"_parseAuth",value:function(){u("_parseAuth");var t=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));t.reasonCode=this._parseByte();var e=this._parseProperties();return Object.getOwnPropertyNames(e).length&&(t.properties=e),u("_parseAuth: result: true"),!0}},{key:"_parseMessageId",value:function(){var t=this.packet;return t.messageId=this._parseNum(),null===t.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(u("_parseMessageId: packet.messageId %d",t.messageId),!0)}},{key:"_parseString",value:function(t){var e=this._parseNum(),r=e+this._pos;if(-1===e||r>this._list.length||r>this.packet.length)return null;var n=this._list.toString("utf8",this._pos,r);return this._pos+=e,u("_parseString: result: %s",n),n}},{key:"_parseStringPair",value:function(){return u("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}},{key:"_parseBuffer",value:function(){var t=this._parseNum(),e=t+this._pos;if(-1===t||e>this._list.length||e>this.packet.length)return null;var r=this._list.slice(this._pos,e);return this._pos+=t,u("_parseBuffer: result: %o",r),r}},{key:"_parseNum",value:function(){if(this._list.length-this._pos<2)return-1;var t=this._list.readUInt16BE(this._pos);return this._pos+=2,u("_parseNum: result: %s",t),t}},{key:"_parse4ByteNum",value:function(){if(this._list.length-this._pos<4)return-1;var t=this._list.readUInt32BE(this._pos);return this._pos+=4,u("_parse4ByteNum: result: %s",t),t}},{key:"_parseVarByteNum",value:function(t){u("_parseVarByteNum");for(var e,r=0,n=1,o=0,i=!1,s=this._pos?this._pos:0;r<4&&s+r<this._list.length;){if(o+=n*((e=this._list.readUInt8(s+r++))&a.VARBYTEINT_MASK),n*=128,0==(e&a.VARBYTEINT_FIN_MASK)){i=!0;break}if(this._list.length<=r)break}return!i&&4===r&&this._list.length>=r&&this._emitError(new Error("Invalid variable byte integer")),s&&(this._pos+=r),u("_parseVarByteNum: result: %o",i=!!i&&(t?{bytes:r,value:o}:o)),i}},{key:"_parseByte",value:function(){var t;return this._pos<this._list.length&&(t=this._list.readUInt8(this._pos),this._pos++),u("_parseByte: result: %o",t),t}},{key:"_parseByType",value:function(t){switch(u("_parseByType: type: %s",t),t){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}},{key:"_parseProperties",value:function(){u("_parseProperties");for(var t=this._parseVarByteNum(),e=this._pos+t,r={};this._pos<e;){var n=this._parseByte();if(!n)return this._emitError(new Error("Cannot parse property code type")),!1;var o=a.propertiesCodes[n];if(!o)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==o)r[o]?(Array.isArray(r[o])||(r[o]=[r[o]]),r[o].push(this._parseByType(a.propertiesTypes[o]))):r[o]=this._parseByType(a.propertiesTypes[o]);else{r[o]||(r[o]=Object.create(null));var i=this._parseByType(a.propertiesTypes[o]);if(r[o][i.name])if(Array.isArray(r[o][i.name]))r[o][i.name].push(i.value);else{var s=r[o][i.name];r[o][i.name]=[s],r[o][i.name].push(i.value)}else r[o][i.name]=i.value}}return r}},{key:"_newPacket",value:function(){return u("_newPacket"),this.packet&&(this._list.consume(this.packet.length),u("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),u("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}},{key:"_emitError",value:function(t){u("_emitError"),this.error=t,this.emit("error",t)}}],[{key:"parser",value:function(t){return this instanceof r?(this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new r).parser(t)}}]),r}(o);t.exports=s},2849:function(t,e,r){var n=r(8834).Buffer,o=r(3804),i=n.allocUnsafe(0),a=n.from([0]),u=r(5560),s=r(2884).nextTick,c=r(5130)("mqtt-packet:writeToStream"),f=u.cache,h=u.generateNumber,p=u.generateCache,d=u.genBufVariableByteInt,y=u.generate4ByteBuffer,v=S,m=!0;function g(t,e,r){switch(c("generate called"),e.cork&&(e.cork(),s(b,e)),m&&(m=!1,p()),c("generate: packet.cmd: %s",t.cmd),t.cmd){case"connect":return function(t,e,r){var i=t||{},a=i.protocolId||"MQTT",u=i.protocolVersion||4,s=i.will,c=i.clean,l=i.keepalive||0,f=i.clientId||"",h=i.username,p=i.password,d=i.properties;void 0===c&&(c=!0);var y=0;if(!a||"string"!=typeof a&&!n.isBuffer(a))return e.emit("error",new Error("Invalid protocolId")),!1;if(y+=a.length+2,3!==u&&4!==u&&5!==u)return e.emit("error",new Error("Invalid protocol version")),!1;if(y+=1,("string"==typeof f||n.isBuffer(f))&&(f||u>=4)&&(f||c))y+=n.byteLength(f)+2;else{if(u<4)return e.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*c==0)return e.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof l||l<0||l>65535||l%1!=0)return e.emit("error",new Error("Invalid keepalive")),!1;if(y+=2,y+=1,5===u){var m=j(e,d);if(!m)return!1;y+=m.length}if(s){if("object"!=typeof s)return e.emit("error",new Error("Invalid will")),!1;if(!s.topic||"string"!=typeof s.topic)return e.emit("error",new Error("Invalid will topic")),!1;if(y+=n.byteLength(s.topic)+2,y+=2,s.payload){if(!(s.payload.length>=0))return e.emit("error",new Error("Invalid will payload")),!1;"string"==typeof s.payload?y+=n.byteLength(s.payload):y+=s.payload.length}var g={};if(5===u){if(!(g=j(e,s.properties)))return!1;y+=g.length}}var b=!1;if(null!=h){if(!C(h))return e.emit("error",new Error("Invalid username")),!1;b=!0,y+=n.byteLength(h)+2}if(null!=p){if(!b)return e.emit("error",new Error("Username is required to use password")),!1;if(!C(p))return e.emit("error",new Error("Invalid password")),!1;y+=A(p)+2}e.write(o.CONNECT_HEADER),_(e,y),k(e,a),i.bridgeMode&&(u+=128),e.write(131===u?o.VERSION131:132===u?o.VERSION132:4===u?o.VERSION4:5===u?o.VERSION5:o.VERSION3);var w=0;return w|=null!=h?o.USERNAME_MASK:0,w|=null!=p?o.PASSWORD_MASK:0,w|=s&&s.retain?o.WILL_RETAIN_MASK:0,w|=s&&s.qos?s.qos<<o.WILL_QOS_SHIFT:0,w|=s?o.WILL_FLAG_MASK:0,w|=c?o.CLEAN_SESSION_MASK:0,e.write(n.from([w])),v(e,l),5===u&&m.write(),k(e,f),s&&(5===u&&g.write(),E(e,s.topic),k(e,s.payload)),null!=h&&k(e,h),null!=p&&k(e,p),!0}(t,e);case"connack":return function(t,e,r){var i=r?r.protocolVersion:4,u=t||{},s=5===i?u.reasonCode:u.returnCode,c=u.properties,l=2;if("number"!=typeof s)return e.emit("error",new Error("Invalid return code")),!1;var f=null;if(5===i){if(!(f=j(e,c)))return!1;l+=f.length}return e.write(o.CONNACK_HEADER),_(e,l),e.write(u.sessionPresent?o.SESSIONPRESENT_HEADER:a),e.write(n.from([s])),null!=f&&f.write(),!0}(t,e,r);case"publish":return function(t,e,r){c("publish: packet: %o",t);var a=r?r.protocolVersion:4,u=t||{},s=u.qos||0,l=u.retain?o.RETAIN_MASK:0,f=u.topic,h=u.payload||i,p=u.messageId,d=u.properties,y=0;if("string"==typeof f)y+=n.byteLength(f)+2;else{if(!n.isBuffer(f))return e.emit("error",new Error("Invalid topic")),!1;y+=f.length+2}if(n.isBuffer(h)?y+=h.length:y+=n.byteLength(h),s&&"number"!=typeof p)return e.emit("error",new Error("Invalid messageId")),!1;s&&(y+=2);var m=null;if(5===a){if(!(m=j(e,d)))return!1;y+=m.length}return e.write(o.PUBLISH_HEADER[s][u.dup?1:0][l?1:0]),_(e,y),v(e,A(f)),e.write(f),s>0&&v(e,p),null!=m&&m.write(),c("publish: payload: %o",h),e.write(h)}(t,e,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(t,e,r){var i=r?r.protocolVersion:4,a=t||{},u=a.cmd||"puback",s=a.messageId,c=a.dup&&"pubrel"===u?o.DUP_MASK:0,l=0,f=a.reasonCode,h=a.properties,p=5===i?3:2;if("pubrel"===u&&(l=1),"number"!=typeof s)return e.emit("error",new Error("Invalid messageId")),!1;var d=null;if(5===i&&"object"==typeof h){if(!(d=T(e,h,r,p)))return!1;p+=d.length}return e.write(o.ACKS[u][l][c][0]),_(e,p),v(e,s),5===i&&e.write(n.from([f])),null!==d&&d.write(),!0}(t,e,r);case"subscribe":return function(t,e,r){c("subscribe: packet: ");var i=r?r.protocolVersion:4,a=t||{},u=a.dup?o.DUP_MASK:0,s=a.messageId,f=a.subscriptions,h=a.properties,p=0;if("number"!=typeof s)return e.emit("error",new Error("Invalid messageId")),!1;p+=2;var d=null;if(5===i){if(!(d=j(e,h)))return!1;p+=d.length}if("object"!=typeof f||!f.length)return e.emit("error",new Error("Invalid subscriptions")),!1;for(var y=0;y<f.length;y+=1){var m=f[y].topic,g=f[y].qos;if("string"!=typeof m)return e.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof g)return e.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===i){if("boolean"!=typeof(f[y].nl||!1))return e.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(f[y].rap||!1))return e.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var b=f[y].rh||0;if("number"!=typeof b||b>2)return e.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}p+=n.byteLength(m)+2+1}c("subscribe: writing to stream: %o",o.SUBSCRIBE_HEADER),e.write(o.SUBSCRIBE_HEADER[1][u?1:0][0]),_(e,p),v(e,s),null!==d&&d.write();var w,O=!0,S=l(f);try{for(S.s();!(w=S.n()).done;){var x=w.value,k=x.topic,T=x.qos,L=+x.nl,P=+x.rap,A=x.rh,C=void 0;E(e,k),C=o.SUBSCRIBE_OPTIONS_QOS[T],5===i&&(C|=L?o.SUBSCRIBE_OPTIONS_NL:0,C|=P?o.SUBSCRIBE_OPTIONS_RAP:0,C|=A?o.SUBSCRIBE_OPTIONS_RH[A]:0),O=e.write(n.from([C]))}}catch(I){S.e(I)}finally{S.f()}return O}(t,e,r);case"suback":return function(t,e,r){var i=r?r.protocolVersion:4,a=t||{},u=a.messageId,s=a.granted,c=a.properties,l=0;if("number"!=typeof u)return e.emit("error",new Error("Invalid messageId")),!1;if(l+=2,"object"!=typeof s||!s.length)return e.emit("error",new Error("Invalid qos vector")),!1;for(var f=0;f<s.length;f+=1){if("number"!=typeof s[f])return e.emit("error",new Error("Invalid qos vector")),!1;l+=1}var h=null;if(5===i){if(!(h=T(e,c,r,l)))return!1;l+=h.length}return e.write(o.SUBACK_HEADER),_(e,l),v(e,u),null!==h&&h.write(),e.write(n.from(s))}(t,e,r);case"unsubscribe":return function(t,e,r){var i=r?r.protocolVersion:4,a=t||{},u=a.messageId,s=a.dup?o.DUP_MASK:0,c=a.unsubscriptions,l=a.properties,f=0;if("number"!=typeof u)return e.emit("error",new Error("Invalid messageId")),!1;if(f+=2,"object"!=typeof c||!c.length)return e.emit("error",new Error("Invalid unsubscriptions")),!1;for(var h=0;h<c.length;h+=1){if("string"!=typeof c[h])return e.emit("error",new Error("Invalid unsubscriptions")),!1;f+=n.byteLength(c[h])+2}var p=null;if(5===i){if(!(p=j(e,l)))return!1;f+=p.length}e.write(o.UNSUBSCRIBE_HEADER[1][s?1:0][0]),_(e,f),v(e,u),null!==p&&p.write();for(var d=!0,y=0;y<c.length;y++)d=E(e,c[y]);return d}(t,e,r);case"unsuback":return function(t,e,r){var i=r?r.protocolVersion:4,a=t||{},u=a.messageId,s=a.dup?o.DUP_MASK:0,c=a.granted,l=a.properties,f=a.cmd,h=2;if("number"!=typeof u)return e.emit("error",new Error("Invalid messageId")),!1;if(5===i){if("object"!=typeof c||!c.length)return e.emit("error",new Error("Invalid qos vector")),!1;for(var p=0;p<c.length;p+=1){if("number"!=typeof c[p])return e.emit("error",new Error("Invalid qos vector")),!1;h+=1}}var d=null;if(5===i){if(!(d=T(e,l,r,h)))return!1;h+=d.length}return e.write(o.ACKS[f][0][s][0]),_(e,h),v(e,u),null!==d&&d.write(),5===i&&e.write(n.from(c)),!0}(t,e,r);case"pingreq":case"pingresp":return function(t,e,r){return e.write(o.EMPTY[t.cmd])}(t,e);case"disconnect":return function(t,e,r){var i=r?r.protocolVersion:4,a=t||{},u=a.reasonCode,s=a.properties,c=5===i?1:0,l=null;if(5===i){if(!(l=T(e,s,r,c)))return!1;c+=l.length}return e.write(n.from([o.codes.disconnect<<4])),_(e,c),5===i&&e.write(n.from([u])),null!==l&&l.write(),!0}(t,e,r);case"auth":return function(t,e,r){var i=r?r.protocolVersion:4,a=t||{},u=a.reasonCode,s=a.properties,c=5===i?1:0;5!==i&&e.emit("error",new Error("Invalid mqtt version for auth packet"));var l=T(e,s,r,c);return!!l&&(c+=l.length,e.write(n.from([o.codes.auth<<4])),_(e,c),e.write(n.from([u])),null!==l&&l.write(),!0)}(t,e,r);default:return e.emit("error",new Error("Unknown command")),!1}}function b(t){t.uncork()}Object.defineProperty(g,"cacheNumbers",{get:function(){return v===S},set:function(t){t?(f&&0!==Object.keys(f).length||(m=!0),v=S):(m=!1,v=x)}});var w={};function _(t,e){if(e>o.VARBYTEINT_MAX)return t.emit("error",new Error("Invalid variable byte integer: ".concat(e))),!1;var r=w[e];return r||(r=d(e),e<16384&&(w[e]=r)),c("writeVarByteInt: writing to stream: %o",r),t.write(r)}function E(t,e){var r=n.byteLength(e);return v(t,r),c("writeString: %s",e),t.write(e,"utf8")}function O(t,e,r){E(t,e),E(t,r)}function S(t,e){return c("writeNumberCached: number: %d",e),c("writeNumberCached: %o",f[e]),t.write(f[e])}function x(t,e){var r=h(e);return c("writeNumberGenerated: %o",r),t.write(r)}function k(t,e){"string"==typeof e?E(t,e):e?(v(t,e.length),t.write(e)):v(t,0)}function j(t,e){if("object"!=typeof e||null!=e.length)return{length:1,write:function(){P(t,{},0)}};var r=0;function i(e,r){var i=0;switch(o.propertiesTypes[e]){case"byte":if("boolean"!=typeof r)return t.emit("error",new Error("Invalid ".concat(e,": ").concat(r))),!1;i+=2;break;case"int8":if("number"!=typeof r||r<0||r>255)return t.emit("error",new Error("Invalid ".concat(e,": ").concat(r))),!1;i+=2;break;case"binary":if(r&&null===r)return t.emit("error",new Error("Invalid ".concat(e,": ").concat(r))),!1;i+=1+n.byteLength(r)+2;break;case"int16":if("number"!=typeof r||r<0||r>65535)return t.emit("error",new Error("Invalid ".concat(e,": ").concat(r))),!1;i+=3;break;case"int32":if("number"!=typeof r||r<0||r>4294967295)return t.emit("error",new Error("Invalid ".concat(e,": ").concat(r))),!1;i+=5;break;case"var":if("number"!=typeof r||r<0||r>268435455)return t.emit("error",new Error("Invalid ".concat(e,": ").concat(r))),!1;i+=1+n.byteLength(d(r));break;case"string":if("string"!=typeof r)return t.emit("error",new Error("Invalid ".concat(e,": ").concat(r))),!1;i+=3+n.byteLength(r.toString());break;case"pair":if("object"!=typeof r)return t.emit("error",new Error("Invalid ".concat(e,": ").concat(r))),!1;i+=Object.getOwnPropertyNames(r).reduce((function(t,e){var o=r[e];return Array.isArray(o)?t+=o.reduce((function(t,r){return t+(3+n.byteLength(e.toString())+2+n.byteLength(r.toString()))}),0):t+=3+n.byteLength(e.toString())+2+n.byteLength(r[e].toString()),t}),0);break;default:return t.emit("error",new Error("Invalid property ".concat(e,": ").concat(r))),!1}return i}if(e)for(var a in e){var u=0,s=0,c=e[a];if(Array.isArray(c))for(var l=0;l<c.length;l++){if(!(s=i(a,c[l])))return!1;u+=s}else{if(!(s=i(a,c)))return!1;u=s}if(!u)return!1;r+=u}return{length:n.byteLength(d(r))+r,write:function(){P(t,e,r)}}}function T(t,e,r,n){var o=["reasonString","userProperties"],i=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,a=j(t,e);if(i)for(;n+a.length>i;){var u=o.shift();if(!u||!e[u])return!1;delete e[u],a=j(t,e)}return a}function L(t,e,r){switch(o.propertiesTypes[e]){case"byte":t.write(n.from([o.properties[e]])),t.write(n.from([+r]));break;case"int8":t.write(n.from([o.properties[e]])),t.write(n.from([r]));break;case"binary":t.write(n.from([o.properties[e]])),k(t,r);break;case"int16":t.write(n.from([o.properties[e]])),v(t,r);break;case"int32":t.write(n.from([o.properties[e]])),function(t,e){var r=y(e);c("write4ByteNumber: %o",r),t.write(r)}(t,r);break;case"var":t.write(n.from([o.properties[e]])),_(t,r);break;case"string":t.write(n.from([o.properties[e]])),E(t,r);break;case"pair":Object.getOwnPropertyNames(r).forEach((function(i){var a=r[i];Array.isArray(a)?a.forEach((function(r){t.write(n.from([o.properties[e]])),O(t,i.toString(),r.toString())})):(t.write(n.from([o.properties[e]])),O(t,i.toString(),a.toString()))}));break;default:return t.emit("error",new Error("Invalid property ".concat(e," value: ").concat(r))),!1}}function P(t,e,r){for(var n in _(t,r),e)if(Object.prototype.hasOwnProperty.call(e,n)&&null!==e[n]){var o=e[n];if(Array.isArray(o))for(var i=0;i<o.length;i++)L(t,n,o[i]);else L(t,n,o)}}function A(t){return t?t instanceof n?t.length:n.byteLength(t):0}function C(t){return"string"==typeof t||t instanceof n}t.exports=g},1476:function(t,e,r){"use strict";var o=r(4406),i=r(2699).EventEmitter,a=r(6640),u=r(5311),s=r(7256),c=r(8096),f=r(647),h=r(7525).Writable,p=r(1285),d=r(5849),y=r(8453),v=r(6100),m=r(1960),g=r(5130)("mqttjs:client"),b=o?o.nextTick:function(t){setTimeout(t,0)},w=r.g.setImmediate||function(t){b(t)},_={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},E=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],O={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function S(t,e){var r;e.properties&&(r=e.properties.topicAlias);var n=e.topic.toString();if(0===n.length){if(void 0===r)return new Error("Unregistered Topic Alias");if(void 0===(n=t.topicAliasSend.getTopicByAlias(r)))return new Error("Unregistered Topic Alias");e.topic=n}r&&delete e.properties.topicAlias}function x(t,e,r){g("sendPacket :: packet: %O",e),g("sendPacket :: emitting `packetsend`"),t.emit("packetsend",e),g("sendPacket :: writing to stream");var n=c.writeToStream(e,t.stream,t.options);g("sendPacket :: writeToStream result %s",n),!n&&r&&r!==T?(g("sendPacket :: handle events on `drain` once through callback."),t.stream.once("drain",r)):r&&(g("sendPacket :: invoking cb"),r())}function k(t){t&&(g("flush: queue exists? %b",!!t),Object.keys(t).forEach((function(e){"function"==typeof t[e].cb&&(t[e].cb(new Error("Connection closed")),delete t[e])})))}function j(t,e,r,n){g("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);var o,i=e;if("publish"===i.cmd&&(i=y(e),o=S(t,i)))return r&&r(o);t.outgoingStore.put(i,(function(o){if(o)return r&&r(o);n(),x(t,e,r)}))}function T(t){g("nop ::",t)}function L(t,e){var r,n=this;if(!(this instanceof L))return new L(t,e);for(r in this.options=e||{},_)void 0===this.options[r]?this.options[r]=_[r]:this.options[r]=e[r];g("MqttClient :: options.protocol",e.protocol),g("MqttClient :: options.protocolVersion",e.protocolVersion),g("MqttClient :: options.username",e.username),g("MqttClient :: options.keepalive",e.keepalive),g("MqttClient :: options.reconnectPeriod",e.reconnectPeriod),g("MqttClient :: options.rejectUnauthorized",e.rejectUnauthorized),g("MqttClient :: options.topicAliasMaximum",e.topicAliasMaximum),this.options.clientId="string"==typeof e.clientId?e.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),g("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===e.protocolVersion&&e.customHandleAcks?e.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=t,this.messageIdProvider=void 0===this.options.messageIdProvider?new f:this.options.messageIdProvider,this.outgoingStore=e.outgoingStore||new a,this.incomingStore=e.incomingStore||new a,this.queueQoSZero=void 0===e.queueQoSZero||e.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,e.topicAliasMaximum>0&&(e.topicAliasMaximum>65535?g("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new u(e.topicAliasMaximum)),this.on("connect",(function(){var t=this.queue;g("connect :: sending queued packets"),function e(){var r=t.shift();g("deliver :: entry %o",r);var o=null;if(r){o=r.packet,g("deliver :: call _sendPacket for %o",o);var i=!0;o.messageId&&0!==o.messageId&&(n.messageIdProvider.register(o.messageId)||(i=!1)),i?n._sendPacket(o,(function(t){r.cb&&r.cb(t),e()})):(g("messageId: %d has already used. The message is skipped and removed.",o.messageId),e())}else n._resubscribe()}()})),this.on("close",(function(){g("close :: connected set to `false`"),this.connected=!1,g("close :: clearing connackTimer"),clearTimeout(this.connackTimer),g("close :: clearing ping timer"),null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),g("close :: calling _setupReconnect"),this._setupReconnect()})),i.call(this),g("MqttClient :: setting up stream"),this._setupStream()}p(L,i),L.prototype._setupStream=function(){var t=this,e=this,r=new h,n=c.parser(this.options),o=null,i=[];function a(){if(i.length)b(u);else{var t=o;o=null,t()}}function u(){g("work :: getting next packet in queue");var t=i.shift();if(t)g("work :: packet pulled from queue"),e._handlePacket(t,a);else{g("work :: no packets in queue");var r=o;o=null,g("work :: done flag is %s",!!r),r&&r()}}g("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),g("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),n.on("packet",(function(t){g("parser :: on packet push to packets array."),i.push(t)})),r._write=function(t,e,r){o=r,g("writable stream :: parsing buffer"),n.parse(t),u()},g("_setupStream :: pipe stream to writable stream"),this.stream.pipe(r),this.stream.on("error",(function(t){g("streamErrorHandler :: error",t.message),E.includes(t.code)?(g("streamErrorHandler :: emitting error"),e.emit("error",t)):T(t)})),this.stream.on("close",(function(){var t;g("(%s)stream :: on close",e.options.clientId),(t=e.outgoing)&&(g("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(t).forEach((function(e){t[e].volatile&&"function"==typeof t[e].cb&&(t[e].cb(new Error("Connection closed")),delete t[e])}))),g("stream: emit close to MqttClient"),e.emit("close")})),g("_setupStream: sending packet `connect`");var s=Object.create(this.options);if(s.cmd="connect",this.topicAliasRecv&&(s.properties||(s.properties={}),this.topicAliasRecv&&(s.properties.topicAliasMaximum=this.topicAliasRecv.max)),x(this,s),n.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return e.end((function(){return t.emit("error",new Error("Packet has no Authentication Method"))})),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket&&x(this,m({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){g("!!connectTimeout hit!! Calling _cleanUp with force `true`"),e._cleanUp(!0)}),this.options.connectTimeout)},L.prototype._handlePacket=function(t,e){var r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<t.length)return this.emit("error",new Error("exceeding packets size "+t.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(g("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",t),t.cmd){case"publish":this._handlePublish(t,e);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(t),e();break;case"pubrel":this._handlePubrel(t,e);break;case"connack":this._handleConnack(t),e();break;case"auth":this._handleAuth(t),e();break;case"pingresp":this._handlePingresp(t),e();break;case"disconnect":this._handleDisconnect(t),e()}},L.prototype._checkDisconnecting=function(t){return this.disconnecting&&(t&&t!==T?t(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},L.prototype.publish=function(t,e,r,n){g("publish :: message `%s` to topic `%s`",e,t);var o=this.options;if("function"==typeof r&&(n=r,r=null),r=m({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;var i=this,a=function(){var a=0;if((1===r.qos||2===r.qos)&&(a=i._nextId(),null===a))return g("No messageId left"),!1;var u={cmd:"publish",topic:t,payload:e,qos:r.qos,retain:r.retain,messageId:a,dup:r.dup};switch(5===o.protocolVersion&&(u.properties=r.properties),g("publish :: qos",r.qos),r.qos){case 1:case 2:i.outgoing[u.messageId]={volatile:!1,cb:n||T},g("MqttClient:publish: packet cmd: %s",u.cmd),i._sendPacket(u,void 0,r.cbStorePut);break;default:g("MqttClient:publish: packet cmd: %s",u.cmd),i._sendPacket(u,n,r.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!a())&&this._storeProcessingQueue.push({invoke:a,cbStorePut:r.cbStorePut,callback:n}),this},L.prototype.subscribe=function(){for(var t=this,e=new Array(arguments.length),r=0;r<arguments.length;r++)e[r]=arguments[r];var n=[],o=e.shift(),i=o.resubscribe,a=e.pop()||T,u=e.pop(),s=this.options.protocolVersion;delete o.resubscribe,"string"==typeof o&&(o=[o]),"function"!=typeof a&&(u=a,a=T);var c=v.validateTopics(o);if(null!==c)return w(a,new Error("Invalid topic "+c)),this;if(this._checkDisconnecting(a))return g("subscribe: discconecting true"),this;var l={qos:0};if(5===s&&(l.nl=!1,l.rap=!1,l.rh=0),u=m(l,u),Array.isArray(o)?o.forEach((function(e){if(g("subscribe: array topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<u.qos||i){var r={topic:e,qos:u.qos};5===s&&(r.nl=u.nl,r.rap=u.rap,r.rh=u.rh,r.properties=u.properties),g("subscribe: pushing topic `%s` and qos `%s` to subs list",r.topic,r.qos),n.push(r)}})):Object.keys(o).forEach((function(e){if(g("subscribe: object topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<o[e].qos||i){var r={topic:e,qos:o[e].qos};5===s&&(r.nl=o[e].nl,r.rap=o[e].rap,r.rh=o[e].rh,r.properties=u.properties),g("subscribe: pushing `%s` to subs list",r),n.push(r)}})),!n.length)return a(null,[]),this;var f=function(){var e=t._nextId();if(null===e)return g("No messageId left"),!1;var r={cmd:"subscribe",subscriptions:n,qos:1,retain:!1,dup:!1,messageId:e};if(u.properties&&(r.properties=u.properties),t.options.resubscribe){g("subscribe :: resubscribe true");var o=[];n.forEach((function(e){if(t.options.reconnectPeriod>0){var r={qos:e.qos};5===s&&(r.nl=e.nl||!1,r.rap=e.rap||!1,r.rh=e.rh||0,r.properties=e.properties),t._resubscribeTopics[e.topic]=r,o.push(e.topic)}})),t.messageIdToTopic[r.messageId]=o}return t.outgoing[r.messageId]={volatile:!0,cb:function(t,e){if(!t)for(var r=e.granted,o=0;o<r.length;o+=1)n[o].qos=r[o];a(t,n)}},g("subscribe :: call _sendPacket"),t._sendPacket(r),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!f())&&this._storeProcessingQueue.push({invoke:f,callback:a}),this},L.prototype.unsubscribe=function(){for(var t=this,e=new Array(arguments.length),r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.shift(),o=e.pop()||T,i=e.pop();"string"==typeof n&&(n=[n]),"function"!=typeof o&&(i=o,o=T);var a=v.validateTopics(n);if(null!==a)return w(o,new Error("Invalid topic "+a)),this;if(t._checkDisconnecting(o))return this;var u=function(){var e=t._nextId();if(null===e)return g("No messageId left"),!1;var r={cmd:"unsubscribe",qos:1,messageId:e};return"string"==typeof n?r.unsubscriptions=[n]:Array.isArray(n)&&(r.unsubscriptions=n),t.options.resubscribe&&r.unsubscriptions.forEach((function(e){delete t._resubscribeTopics[e]})),"object"==typeof i&&i.properties&&(r.properties=i.properties),t.outgoing[r.messageId]={volatile:!0,cb:o},g("unsubscribe: call _sendPacket"),t._sendPacket(r),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!u())&&this._storeProcessingQueue.push({invoke:u,callback:o}),this},L.prototype.end=function(t,e,r){var n=this;function o(){g("end :: closeStores: closing incoming and outgoing stores"),n.disconnected=!0,n.incomingStore.close((function(t){n.outgoingStore.close((function(e){if(g("end :: closeStores: emitting end"),n.emit("end"),r){var o=t||e;g("end :: closeStores: invoking callback with args"),r(o)}}))})),n._deferredReconnect&&n._deferredReconnect()}function i(){g("end :: (%s) :: finish :: calling _cleanUp with force %s",n.options.clientId,t),n._cleanUp(t,(function(){g("end :: finish :: calling process.nextTick on closeStores"),b(o.bind(n))}),e)}return g("end :: (%s)",this.options.clientId),null!=t&&"boolean"==typeof t||(r=e||T,e=t,t=!1,"object"!=typeof e&&(r=e,e=null,"function"!=typeof r&&(r=T))),"object"!=typeof e&&(r=e,e=null),g("end :: cb? %s",!!r),r=r||T,this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!t&&Object.keys(this.outgoing).length>0?(g("end :: (%s) :: calling finish in 10ms once outgoing is empty",n.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,i,10))):(g("end :: (%s) :: immediately calling finish",n.options.clientId),i()),this)},L.prototype.removeOutgoingMessage=function(t){var e=this.outgoing[t]?this.outgoing[t].cb:null;return delete this.outgoing[t],this.outgoingStore.del({messageId:t},(function(){e(new Error("Message removed"))})),this},L.prototype.reconnect=function(t){g("client reconnect");var e=this,r=function(){t?(e.options.incomingStore=t.incomingStore,e.options.outgoingStore=t.outgoingStore):(e.options.incomingStore=null,e.options.outgoingStore=null),e.incomingStore=e.options.incomingStore||new a,e.outgoingStore=e.options.outgoingStore||new a,e.disconnecting=!1,e.disconnected=!1,e._deferredReconnect=null,e._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},L.prototype._reconnect=function(){var t=this;g("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end((function(){t._setupStream()})),g("client already connected. disconnecting first.")):(g("_reconnect: calling _setupStream"),this._setupStream())},L.prototype._setupReconnect=function(){var t=this;!t.disconnecting&&!t.reconnectTimer&&t.options.reconnectPeriod>0?(this.reconnecting||(g("_setupReconnect :: emit `offline` state"),this.emit("offline"),g("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),g("_setupReconnect :: setting reconnectTimer for %d ms",t.options.reconnectPeriod),t.reconnectTimer=setInterval((function(){g("reconnectTimer :: reconnect triggered!"),t._reconnect()}),t.options.reconnectPeriod)):g("_setupReconnect :: doing nothing...")},L.prototype._clearReconnect=function(){g("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},L.prototype._cleanUp=function(t,e){var r=arguments[2];if(e&&(g("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",e)),g("_cleanUp :: forced? %s",t),t)0===this.options.reconnectPeriod&&this.options.clean&&k(this.outgoing),g("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{var n=m({cmd:"disconnect"},r);g("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(n,w.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(g("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(g("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),e&&!this.connected&&(g("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",e),e())},L.prototype._sendPacket=function(t,e,r){g("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||T,e=e||T;var o=function(t,e){if(5===t.options.protocolVersion&&"publish"===e.cmd){var r;e.properties&&(r=e.properties.topicAlias);var o=e.topic.toString();if(t.topicAliasSend)if(r){if(0!==o.length&&(g("applyTopicAlias :: register topic: %s - alias: %d",o,r),!t.topicAliasSend.put(o,r)))return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",o,r),new Error("Sending Topic Alias out of range")}else 0!==o.length&&(t.options.autoAssignTopicAlias?(r=t.topicAliasSend.getAliasByTopic(o))?(e.topic="",e.properties=n(n({},e.properties),{},{topicAlias:r}),g("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",o,r)):(r=t.topicAliasSend.getLruAlias(),t.topicAliasSend.put(o,r),e.properties=n(n({},e.properties),{},{topicAlias:r}),g("applyTopicAlias :: auto assign topic: %s - alias: %d",o,r)):t.options.autoUseTopicAlias&&(r=t.topicAliasSend.getAliasByTopic(o))&&(e.topic="",e.properties=n(n({},e.properties),{},{topicAlias:r}),g("applyTopicAlias :: auto use topic: %s - alias: %d",o,r)));else if(r)return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",o,r),new Error("Sending Topic Alias out of range")}}(this,t);if(o)e(o);else{if(!this.connected)return"auth"===t.cmd?(this._shiftPingInterval(),void x(this,t,e)):(g("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(t,e,r));switch(this._shiftPingInterval(),t.cmd){case"publish":break;case"pubrel":return void j(this,t,e,r);default:return void x(this,t,e)}switch(t.qos){case 2:case 1:j(this,t,e,r);break;default:x(this,t,e)}g("_sendPacket :: (%s) ::  end",this.options.clientId)}},L.prototype._storePacket=function(t,e,r){g("_storePacket :: packet: %o",t),g("_storePacket :: cb? %s",!!e),r=r||T;var n=t;if("publish"===n.cmd){n=y(t);var o=S(this,n);if(o)return e&&e(o)}0===(n.qos||0)&&this.queueQoSZero||"publish"!==n.cmd?this.queue.push({packet:n,cb:e}):n.qos>0?(e=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,(function(t){if(t)return e&&e(t);r()}))):e&&e(new Error("No connection to broker"))},L.prototype._setupPingTimer=function(){g("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);var t=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=d((function(){t._checkPing()}),1e3*this.options.keepalive))},L.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},L.prototype._checkPing=function(){g("_checkPing :: checking ping..."),this.pingResp?(g("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(g("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},L.prototype._handlePingresp=function(){this.pingResp=!0},L.prototype._handleConnack=function(t){g("_handleConnack");var e=this.options,r=5===e.protocolVersion?t.reasonCode:t.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));t.properties.topicAliasMaximum>0&&(this.topicAliasSend=new s(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=t.properties.serverKeepAlive,this._shiftPingInterval()),t.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(0===r)this.reconnecting=!1,this._onConnect(t);else if(r>0){var n=new Error("Connection refused: "+O[r]);n.code=r,this.emit("error",n)}},L.prototype._handleAuth=function(t){var e=this.options.protocolVersion,r=5===e?t.reasonCode:t.returnCode;if(5!==e){var n=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+e);return n.code=r,void this.emit("error",n)}var o=this;this.handleAuth(t,(function(t,e){if(t)o.emit("error",t);else if(24===r)o.reconnecting=!1,o._sendPacket(e);else{var n=new Error("Connection refused: "+O[r]);t.code=r,o.emit("error",n)}}))},L.prototype.handleAuth=function(t,e){e()},L.prototype._handlePublish=function(t,e){g("_handlePublish: packet %o",t),e=void 0!==e?e:T;var r,n=t.topic.toString(),o=t.payload,i=t.qos,a=t.messageId,u=this,s=this.options,c=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion&&(t.properties&&(r=t.properties.topicAlias),void 0!==r))if(0===n.length){if(!(r>0&&r<=65535))return g("_handlePublish :: topic alias out of range. alias: %d",r),void this.emit("error",new Error("Received Topic Alias is out of range"));var l=this.topicAliasRecv.getTopicByAlias(r);if(!l)return g("_handlePublish :: unregistered topic alias. alias: %d",r),void this.emit("error",new Error("Received unregistered Topic Alias"));g("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",n=l,r)}else{if(!this.topicAliasRecv.put(n,r))return g("_handlePublish :: topic alias out of range. alias: %d",r),void this.emit("error",new Error("Received Topic Alias is out of range"));g("_handlePublish :: registered topic: %s - alias: %d",n,r)}switch(g("_handlePublish: qos %d",i),i){case 2:s.customHandleAcks(n,o,t,(function(r,n){return r instanceof Error||(n=r,r=null),r?u.emit("error",r):-1===c.indexOf(n)?u.emit("error",new Error("Wrong reason code for pubrec")):void(n?u._sendPacket({cmd:"pubrec",messageId:a,reasonCode:n},e):u.incomingStore.put(t,(function(){u._sendPacket({cmd:"pubrec",messageId:a},e)})))}));break;case 1:s.customHandleAcks(n,o,t,(function(r,i){return r instanceof Error||(i=r,r=null),r?u.emit("error",r):-1===c.indexOf(i)?u.emit("error",new Error("Wrong reason code for puback")):(i||u.emit("message",n,o,t),void u.handleMessage(t,(function(t){if(t)return e&&e(t);u._sendPacket({cmd:"puback",messageId:a,reasonCode:i},e)})))}));break;case 0:this.emit("message",n,o,t),this.handleMessage(t,e);break;default:g("_handlePublish: unknown QoS. Doing nothing.")}},L.prototype.handleMessage=function(t,e){e()},L.prototype._handleAck=function(t){var e,r=t.messageId,n=t.cmd,o=null,i=this.outgoing[r]?this.outgoing[r].cb:null,a=this;if(i){switch(g("_handleAck :: packet type",n),n){case"pubcomp":case"puback":var u=t.reasonCode;u&&u>0&&16!==u&&((e=new Error("Publish error: "+O[u])).code=u,i(e,t)),delete this.outgoing[r],this.outgoingStore.del(t,i),this.messageIdProvider.deallocate(r),this._invokeStoreProcessingQueue();break;case"pubrec":o={cmd:"pubrel",qos:2,messageId:r};var s=t.reasonCode;s&&s>0&&16!==s?((e=new Error("Publish error: "+O[s])).code=s,i(e,t)):this._sendPacket(o);break;case"suback":delete this.outgoing[r],this.messageIdProvider.deallocate(r);for(var c=0;c<t.granted.length;c++)if(0!=(128&t.granted[c])){var l=this.messageIdToTopic[r];l&&l.forEach((function(t){delete a._resubscribeTopics[t]}))}this._invokeStoreProcessingQueue(),i(null,t);break;case"unsuback":delete this.outgoing[r],this.messageIdProvider.deallocate(r),this._invokeStoreProcessingQueue(),i(null);break;default:a.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else g("_handleAck :: Server sent an ack in error. Ignoring.")},L.prototype._handlePubrel=function(t,e){g("handling pubrel packet"),e=void 0!==e?e:T;var r=t.messageId,n=this,o={cmd:"pubcomp",messageId:r};n.incomingStore.get(t,(function(t,r){t?n._sendPacket(o,e):(n.emit("message",r.topic,r.payload,r),n.handleMessage(r,(function(t){if(t)return e(t);n.incomingStore.del(r,T),n._sendPacket(o,e)})))}))},L.prototype._handleDisconnect=function(t){this.emit("disconnect",t)},L.prototype._nextId=function(){return this.messageIdProvider.allocate()},L.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},L.prototype._resubscribe=function(){g("_resubscribe");var t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){g("_resubscribe: protocolVersion 5");for(var e=0;e<t.length;e++){var r={};r[t[e]]=this._resubscribeTopics[t[e]],r.resubscribe=!0,this.subscribe(r,{properties:r[t[e]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},L.prototype._onConnect=function(t){if(this.disconnected)this.emit("connect",t);else{var e=this;this.connackPacket=t,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function r(){var n=e.outgoingStore.createStream();function o(){e._storeProcessing=!1,e._packetIdsDuringStoreProcessing={}}function i(){n.destroy(),n=null,e._flushStoreProcessingQueue(),o()}e.once("close",i),n.on("error",(function(t){o(),e._flushStoreProcessingQueue(),e.removeListener("close",i),e.emit("error",t)})),n.on("end",(function(){var n=!0;for(var a in e._packetIdsDuringStoreProcessing)if(!e._packetIdsDuringStoreProcessing[a]){n=!1;break}n?(o(),e.removeListener("close",i),e._invokeAllStoreProcessingQueue(),e.emit("connect",t)):r()})),function t(){if(n){e._storeProcessing=!0;var r,o=n.read(1);o?e._packetIdsDuringStoreProcessing[o.messageId]?t():e.disconnecting||e.reconnectTimer?n.destroy&&n.destroy():(r=e.outgoing[o.messageId]?e.outgoing[o.messageId].cb:null,e.outgoing[o.messageId]={volatile:!1,cb:function(e,n){r&&r(e,n),t()}},e._packetIdsDuringStoreProcessing[o.messageId]=!0,e.messageIdProvider.register(o.messageId)?e._sendPacket(o):g("messageId: %d has already used.",o.messageId)):n.once("readable",t)}}()}()}},L.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){var t=this._storeProcessingQueue[0];if(t&&t.invoke())return this._storeProcessingQueue.shift(),!0}return!1},L.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},L.prototype._flushStoreProcessingQueue=function(){var t,e=l(this._storeProcessingQueue);try{for(e.s();!(t=e.n()).done;){var r=t.value;r.cbStorePut&&r.cbStorePut(new Error("Connection closed")),r.callback&&r.callback(new Error("Connection closed"))}}catch(n){e.e(n)}finally{e.f()}this._storeProcessingQueue.splice(0)},t.exports=L},9154:function(t,e,r){"use strict";var n,o,i,a=r(8834).Buffer,u=r(7525).Transform,s=r(2640),c=!1;t.exports=function(t,e){if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");var r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";!function(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}(e);var l=function(t,e){var r="alis"===t.protocol?"wss":"ws",n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}(e,t);return(n=e.my).connectSocket({url:l,protocols:r}),o=function(){var t=new u;return t._write=function(t,e,r){n.sendSocketMessage({data:t.buffer,success:function(){r()},fail:function(){r(new Error)}})},t._flush=function(t){n.closeSocket({success:function(){t()}})},t}(),i=s.obj(),c||(c=!0,n.onSocketOpen((function(){i.setReadable(o),i.setWritable(o),i.emit("connect")})),n.onSocketMessage((function(t){if("string"==typeof t.data){var e=a.from(t.data,"base64");o.push(e)}else{var r=new FileReader;r.addEventListener("load",(function(){var t=r.result;t=t instanceof ArrayBuffer?a.from(t):a.from(t,"utf8"),o.push(t)})),r.readAsArrayBuffer(t.data)}})),n.onSocketClose((function(){i.end(),i.destroy()})),n.onSocketError((function(t){i.destroy(t)}))),i}},8521:function(t,e,r){"use strict";var n=r(4406),o=r(1476),i=r(6640),a=r(883),u=r(1960),s=r(5130)("mqttjs"),c={};function l(t,e){if(s("connecting to an MQTT broker..."),"object"!=typeof t||e||(e=t,t=null),e=e||{},t){var r=a.parse(t,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(e=u(r,e)).protocol)throw new Error("Missing protocol");e.protocol=e.protocol.replace(/:$/,"")}if(function(t){var e;t.auth&&((e=t.auth.match(/^(.+):(.+)$/))?(t.username=e[1],t.password=e[2]):t.username=t.auth)}(e),e.query&&"string"==typeof e.query.clientId&&(e.clientId=e.query.clientId),e.cert&&e.key){if(!e.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(e.protocol))switch(e.protocol){case"mqtt":e.protocol="mqtts";break;case"ws":e.protocol="wss";break;case"wx":e.protocol="wxs";break;case"ali":e.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+e.protocol+'"!')}}if(!c[e.protocol]){var n=-1!==["mqtts","wss"].indexOf(e.protocol);e.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(t,e){return(!n||e%2!=0)&&"function"==typeof c[t]}))[0]}if(!1===e.clean&&!e.clientId)throw new Error("Missing clientId for unclean clients");e.protocol&&(e.defaultProtocol=e.protocol);var i=new o((function(t){return e.servers&&(t._reconnectCount&&t._reconnectCount!==e.servers.length||(t._reconnectCount=0),e.host=e.servers[t._reconnectCount].host,e.port=e.servers[t._reconnectCount].port,e.protocol=e.servers[t._reconnectCount].protocol?e.servers[t._reconnectCount].protocol:e.defaultProtocol,e.hostname=e.host,t._reconnectCount++),s("calling streambuilder for",e.protocol),c[e.protocol](t,e)}),e);return i.on("error",(function(){})),i}void 0!==n&&"browser"!==n.title||"function"!=typeof r?(c.mqtt=r(3049),c.tcp=r(3049),c.ssl=r(1746),c.tls=r(1746),c.mqtts=r(1746)):(c.wx=r(5281),c.wxs=r(5281),c.ali=r(9154),c.alis=r(9154)),c.ws=r(1160),c.wss=r(1160),t.exports=l,t.exports.connect=l,t.exports.MqttClient=o,t.exports.Store=i},3049:function(t,e,r){"use strict";var n=r(45),o=r(5130)("mqttjs:tcp");t.exports=function(t,e){e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost";var r=e.port,i=e.hostname;return o("port %d and host %s",r,i),n.createConnection(r,i)}},1746:function(t,e,r){"use strict";var n=r(6224),o=r(45),i=r(5130)("mqttjs:tls");t.exports=function(t,e){e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",0===o.isIP(e.host)&&(e.servername=e.host),e.rejectUnauthorized=!1!==e.rejectUnauthorized,delete e.path,i("port %d host %s rejectUnauthorized %b",e.port,e.host,e.rejectUnauthorized);var r=n.connect(e);function a(n){e.rejectUnauthorized&&t.emit("error",n),r.end()}return r.on("secureConnect",(function(){e.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",a)})),r.on("error",a),r}},1160:function(t,e,r){"use strict";var n=r(4406),o=r(8834).Buffer,i=r(7031),a=r(5130)("mqttjs:ws"),u=r(2640),s=r(7525).Transform,c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],l=void 0!==n&&"browser"===n.title||"function"==typeof r;function f(t,e){var r=t.protocol+"://"+t.hostname+":"+t.port+t.path;return"function"==typeof t.transformWsUrl&&(r=t.transformWsUrl(r,t,e)),r}function h(t){var e=t;return t.hostname||(e.hostname="localhost"),t.port||("wss"===t.protocol?e.port=443:e.port=80),t.path||(e.path="/"),t.wsOptions||(e.wsOptions={}),l||"wss"!==t.protocol||c.forEach((function(r){Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(t.wsOptions,r)&&(e.wsOptions[r]=t[r])})),e}t.exports=l?function(t,e){var r;a("browserStreamBuilder");var n=function(t){var e=h(t);if(e.hostname||(e.hostname=e.host),!e.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var r=new URL(document.URL);e.hostname=r.hostname,e.port||(e.port=r.port)}return void 0===e.objectMode&&(e.objectMode=!(!0===e.binary||void 0===e.binary)),e}(e),i=n.browserBufferSize||524288,c=e.browserBufferTimeout||1e3,l=!e.objectMode,p=function(t,e){var r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt",n=f(e,t),o=new WebSocket(n,[r]);return o.binaryType="arraybuffer",o}(t,e),d=function(t,e,r){var n=new s({objectModeMode:t.objectMode});return n._write=function t(e,r,n){p.bufferedAmount>i&&setTimeout(t,c,e,r,n),l&&"string"==typeof e&&(e=o.from(e,"utf8"));try{p.send(e)}catch(t){return n(t)}n()},n._flush=function(t){p.close(),t()},n}(e);e.objectMode||(d._writev=w),d.on("close",(function(){p.close()}));var y=void 0!==p.addEventListener;function v(){r.setReadable(d),r.setWritable(d),r.emit("connect")}function m(){r.end(),r.destroy()}function g(t){r.destroy(t)}function b(t){var e=t.data;e=e instanceof ArrayBuffer?o.from(e):o.from(e,"utf8"),d.push(e)}function w(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)"string"==typeof t[n].chunk?r[n]=o.from(t[n],"utf8"):r[n]=t[n].chunk;this._write(o.concat(r),"binary",e)}return p.readyState===p.OPEN?r=d:(r=r=u(void 0,void 0,e),e.objectMode||(r._writev=w),y?p.addEventListener("open",v):p.onopen=v),r.socket=p,y?(p.addEventListener("close",m),p.addEventListener("error",g),p.addEventListener("message",b)):(p.onclose=m,p.onerror=g,p.onmessage=b),r}:function(t,e){a("streamBuilder");var r=h(e),n=f(r,t),o=function(t,e,r){a("createWebSocket"),a("protocol: "+r.protocolId+" "+r.protocolVersion);var n="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";return a("creating new Websocket for url: "+e+" and protocol: "+n),new i(e,[n],r.wsOptions)}(0,n,r),u=i.createWebSocketStream(o,r.wsOptions);return u.url=n,o.on("close",(function(){u.destroy()})),u}},5281:function(t,e,r){"use strict";var n,o,i,a=r(8834).Buffer,u=r(7525).Transform,s=r(2640);t.exports=function(t,e){if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");var r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";!function(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}(e);var c=function(t,e){var r="wxs"===t.protocol?"wss":"ws",n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}(e,t);n=wx.connectSocket({url:c,protocols:[r]}),o=function(){var t=new u;return t._write=function(t,e,r){n.send({data:t.buffer,success:function(){r()},fail:function(t){r(new Error(t))}})},t._flush=function(t){n.close({success:function(){t()}})},t}(),(i=s.obj())._destroy=function(t,e){n.close({success:function(){e&&e(t)}})};var l=i.destroy;return i.destroy=function(){i.destroy=l;var t=this;setTimeout((function(){n.close({fail:function(){t._destroy(new Error)}})}),0)}.bind(i),n.onOpen((function(){i.setReadable(o),i.setWritable(o),i.emit("connect")})),n.onMessage((function(t){var e=t.data;e=e instanceof ArrayBuffer?a.from(e):a.from(e,"utf8"),o.push(e)})),n.onClose((function(){i.end(),i.destroy()})),n.onError((function(t){i.destroy(new Error(t.errMsg))})),i}},647:function(t){"use strict";function e(){if(!(this instanceof e))return new e;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}e.prototype.allocate=function(){var t=this.nextId++;return 65536===this.nextId&&(this.nextId=1),t},e.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},e.prototype.register=function(t){return!0},e.prototype.deallocate=function(t){},e.prototype.clear=function(){},t.exports=e},6640:function(t,e,r){"use strict";var n=r(1960),o=r(7525).Readable,i={objectMode:!0},a={clean:!0};function u(t){if(!(this instanceof u))return new u(t);this.options=t||{},this.options=n(a,t),this._inflights=new Map}u.prototype.put=function(t,e){return this._inflights.set(t.messageId,t),e&&e(),this},u.prototype.createStream=function(){var t=new o(i),e=[],r=!1,n=0;return this._inflights.forEach((function(t,r){e.push(t)})),t._read=function(){!r&&n<e.length?this.push(e[n++]):this.push(null)},t.destroy=function(){if(!r){var t=this;r=!0,setTimeout((function(){t.emit("close")}),0)}},t},u.prototype.del=function(t,e){return(t=this._inflights.get(t.messageId))?(this._inflights.delete(t.messageId),e(null,t)):e&&e(new Error("missing packet")),this},u.prototype.get=function(t,e){return(t=this._inflights.get(t.messageId))?e(null,t):e&&e(new Error("missing packet")),this},u.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},t.exports=u},5311:function(t){"use strict";function e(t){if(!(this instanceof e))return new e(t);this.aliasToTopic={},this.max=t}e.prototype.put=function(t,e){return!(0===e||e>this.max||(this.aliasToTopic[e]=t,this.length=Object.keys(this.aliasToTopic).length,0))},e.prototype.getTopicByAlias=function(t){return this.aliasToTopic[t]},e.prototype.clear=function(){this.aliasToTopic={}},t.exports=e},7256:function(t,e,r){"use strict";var n=r(7105),o=r(3724).Q;function i(t){if(!(this instanceof i))return new i(t);t>0&&(this.aliasToTopic=new n({max:t}),this.topicToAlias={},this.numberAllocator=new o(1,t),this.max=t,this.length=0)}i.prototype.put=function(t,e){if(0===e||e>this.max)return!1;var r=this.aliasToTopic.get(e);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(e,t),this.topicToAlias[t]=e,this.numberAllocator.use(e),this.length=this.aliasToTopic.length,!0},i.prototype.getTopicByAlias=function(t){return this.aliasToTopic.get(t)},i.prototype.getAliasByTopic=function(t){var e=this.topicToAlias[t];return void 0!==e&&this.aliasToTopic.get(e),e},i.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},i.prototype.getLruAlias=function(){return this.numberAllocator.firstVacant()||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=i},6100:function(t){"use strict";function e(t){for(var e=t.split("/"),r=0;r<e.length;r++)if("+"!==e[r]){if("#"===e[r])return r===e.length-1;if(-1!==e[r].indexOf("+")||-1!==e[r].indexOf("#"))return!1}return!0}t.exports={validateTopics:function(t){if(0===t.length)return"empty_topic_list";for(var r=0;r<t.length;r++)if(!e(t[r]))return t[r];return null}}},3724:function(t,e,r){var n=r(5366);t.exports.Q=n},5366:function(t,e,r){"use strict";var n=r(3576).l4,o=r(5130)("number-allocator:trace"),i=r(5130)("number-allocator:error");function a(t,e){this.low=t,this.high=e}function u(t,e){if(!(this instanceof u))return new u(t,e);this.min=t,this.max=e,this.ss=new n([],(function(t,e){return t.compare(e)})),o("Create"),this.clear()}a.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},a.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0},u.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},u.prototype.alloc=function(){if(0===this.ss.size())return o("alloc():empty"),null;var t=this.ss.front(),e=t.low;return e+1<=t.high?++t.low:this.ss.eraseElementByPos(0),o("alloc():"+e),e},u.prototype.use=function(t){var e=new a(t,t),r=this.ss.lowerBound(e);if(r){if(r.equals(e))return this.ss.eraseElementByValue(r),o("use():"+t),!0;if(r.low>t)return!1;if(r.low===t)return++r.low,o("use():"+t),!0;if(r.high===t)return--r.high,o("use():"+t),!0;var n=r.low;return r.low=t+1,this.ss.insert(new a(n,t-1)),o("use():"+t),!0}return o("use():failed"),!1},u.prototype.free=function(t){if(t<this.min||t>this.max)i("free():"+t+" is out of range");else{var e=new a(t,t),r=this.ss.lowerBound(e);if(r){if(r.low<=t&&t<=r.high)return void i("free():"+t+" has already been vacant");if(r===this.ss.front())t+1===r.low?--r.low:this.ss.insert(e);else{var n=this.ss.reverseLowerBound(e);n.high+1===t?t+1===r.low?(this.ss.eraseElementByValue(n),r.low=n.low):n.high=t:t+1===r.low?r.low=t:this.ss.insert(e)}}else{if(r===this.ss.front())return void this.ss.insert(e);var u=this.ss.reverseLowerBound(e);u.high+1===t?u.high=t:this.ss.insert(e)}o("free():"+t)}},u.prototype.clear=function(){o("clear()"),this.ss.clear(),this.ss.insert(new a(this.min,this.max))},u.prototype.intervalCount=function(){return this.ss.size()},u.prototype.dump=function(){console.log("length:"+this.ss.size());var t,e=l(this.ss);try{for(e.s();!(t=e.n()).done;){var r=t.value;console.log(r)}}catch(n){e.e(n)}finally{e.f()}},t.exports=u},9500:function(t,e,r){var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,a=n&&Map.prototype.forEach,u="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=u&&s&&"function"==typeof s.get?s.get:null,l=u&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,y=Object.prototype.toString,v=Function.prototype.toString,m=String.prototype.match,g=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,E=RegExp.prototype.test,O=Array.prototype.concat,S=Array.prototype.join,x=Array.prototype.slice,k=Math.floor,j="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,P="function"==typeof Symbol&&"object"==typeof Symbol.iterator,A="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,C=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function R(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||E.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-k(-t):k(t);if(n!==t){var o=String(n),i=g.call(e,o.length+1);return b.call(o,r,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(e,r,"$&_")}var D=r(3260),N=D.custom,F=G(N)?N:null;function M(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function B(t){return b.call(String(t),/"/g,"&quot;")}function U(t){return!("[object Array]"!==V(t)||A&&"object"==typeof t&&A in t)}function z(t){return!("[object RegExp]"!==V(t)||A&&"object"==typeof t&&A in t)}function G(t){if(P)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!L)return!1;try{return L.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,n,o){var u=r||{};if(H(u,"quoteStyle")&&"single"!==u.quoteStyle&&"double"!==u.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!H(u,"customInspect")||u.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=u.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return W(e,u);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var w=String(e);return y?R(e,w):w}if("bigint"==typeof e){var E=String(e)+"n";return y?R(e,E):E}var k=void 0===u.depth?5:u.depth;if(void 0===n&&(n=0),n>=k&&k>0&&"object"==typeof e)return U(e)?"[Array]":"[Object]";var T,N=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=S.call(Array(t.indent+1)," ")}return{base:r,prev:S.call(Array(e+1),r)}}(u,n);if(void 0===o)o=[];else if($(o,e)>=0)return"[Circular]";function q(e,r,i){if(r&&(o=x.call(o)).push(r),i){var a={depth:u.depth};return H(u,"quoteStyle")&&(a.quoteStyle=u.quoteStyle),t(e,a,n+1,o)}return t(e,u,n+1,o)}if("function"==typeof e&&!z(e)){var K=function(t){if(t.name)return t.name;var e=m.call(v.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),tt=Z(e,q);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(tt.length>0?" { "+S.call(tt,", ")+" }":"")}if(G(e)){var et=P?b.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):L.call(e);return"object"!=typeof e||P?et:Y(et)}if((T=e)&&"object"==typeof T&&("undefined"!=typeof HTMLElement&&T instanceof HTMLElement||"string"==typeof T.nodeName&&"function"==typeof T.getAttribute)){for(var rt="<"+_.call(String(e.nodeName)),nt=e.attributes||[],ot=0;ot<nt.length;ot++)rt+=" "+nt[ot].name+"="+M(B(nt[ot].value),"double",u);return rt+=">",e.childNodes&&e.childNodes.length&&(rt+="..."),rt+"</"+_.call(String(e.nodeName))+">"}if(U(e)){if(0===e.length)return"[]";var it=Z(e,q);return N&&!function(t){for(var e=0;e<t.length;e++)if($(t[e],"\n")>=0)return!1;return!0}(it)?"["+J(it,N)+"]":"[ "+S.call(it,", ")+" ]"}if(function(t){return!("[object Error]"!==V(t)||A&&"object"==typeof t&&A in t)}(e)){var at=Z(e,q);return"cause"in Error.prototype||!("cause"in e)||C.call(e,"cause")?0===at.length?"["+String(e)+"]":"{ ["+String(e)+"] "+S.call(at,", ")+" }":"{ ["+String(e)+"] "+S.call(O.call("[cause]: "+q(e.cause),at),", ")+" }"}if("object"==typeof e&&s){if(F&&"function"==typeof e[F]&&D)return D(e,{depth:k-n});if("symbol"!==s&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ut=[];return a.call(e,(function(t,r){ut.push(q(r,e,!0)+" => "+q(t,e))})),X("Map",i.call(e),ut,N)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var st=[];return l.call(e,(function(t){st.push(q(t,e))})),X("Set",c.call(e),st,N)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Q("WeakMap");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Q("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return Q("WeakRef");if(function(t){return!("[object Number]"!==V(t)||A&&"object"==typeof t&&A in t)}(e))return Y(q(Number(e)));if(function(t){if(!t||"object"!=typeof t||!j)return!1;try{return j.call(t),!0}catch(t){}return!1}(e))return Y(q(j.call(e)));if(function(t){return!("[object Boolean]"!==V(t)||A&&"object"==typeof t&&A in t)}(e))return Y(d.call(e));if(function(t){return!("[object String]"!==V(t)||A&&"object"==typeof t&&A in t)}(e))return Y(q(String(e)));if(!function(t){return!("[object Date]"!==V(t)||A&&"object"==typeof t&&A in t)}(e)&&!z(e)){var ct=Z(e,q),lt=I?I(e)===Object.prototype:e instanceof Object||e.constructor===Object,ft=e instanceof Object?"":"null prototype",ht=!lt&&A&&Object(e)===e&&A in e?g.call(V(e),8,-1):ft?"Object":"",pt=(lt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ht||ft?"["+S.call(O.call([],ht||[],ft||[]),": ")+"] ":"");return 0===ct.length?pt+"{}":N?pt+"{"+J(ct,N)+"}":pt+"{ "+S.call(ct,", ")+" }"}return String(e)};var q=Object.prototype.hasOwnProperty||function(t){return t in this};function H(t,e){return q.call(t,e)}function V(t){return y.call(t)}function $(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function W(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return W(g.call(t,0,e.maxStringLength),e)+n}return M(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",e)}function K(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+w.call(e.toString(16))}function Y(t){return"Object("+t+")"}function Q(t){return t+" { ? }"}function X(t,e,r,n){return t+" ("+e+") {"+(n?J(r,n):S.call(r,", "))+"}"}function J(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+S.call(t,","+r)+"\n"+e.prev}function Z(t,e){var r=U(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=H(t,o)?e(t[o],t):""}var i,a="function"==typeof T?T(t):[];if(P){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=a[u]}for(var s in t)H(t,s)&&(r&&String(Number(s))===s&&s<t.length||P&&i["$"+s]instanceof Symbol||(E.call(/[^\w$]/,s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t))));if("function"==typeof T)for(var c=0;c<a.length;c++)C.call(t,a[c])&&n.push("["+e(a[c])+"]: "+e(t[a[c]],t));return n}},8169:function(t){"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:t===r||!(!e(t)||!e(r))}},4679:function(t,e,r){"use strict";var n=r(4926),o=r(9429),i=r(8169),a=r(8070),u=r(191),s=o(a(),Object);n(s,{getPolyfill:a,implementation:i,shim:u}),t.exports=s},8070:function(t,e,r){"use strict";var n=r(8169);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},191:function(t,e,r){"use strict";var n=r(8070),o=r(4926);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},5691:function(t,e,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(801),u=Object.prototype.propertyIsEnumerable,s=!u.call({toString:null},"toString"),c=u.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===i.call(t),n=a(t),u=e&&"[object String]"===i.call(t),h=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var d=c&&r;if(u&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)h.push(String(y));if(n&&t.length>0)for(var v=0;v<t.length;++v)h.push(String(v));else for(var m in t)d&&"prototype"===m||!o.call(t,m)||h.push(String(m));if(s)for(var g=function(t){if("undefined"==typeof window||!p)return f(t);try{return f(t)}catch(t){return!1}}(t),b=0;b<l.length;++b)g&&"constructor"===l[b]||!o.call(t,l[b])||h.push(l[b]);return h}}t.exports=n},3464:function(t,e,r){"use strict";var n=Array.prototype.slice,o=r(801),i=Object.keys,a=i?function(t){return i(t)}:r(5691),u=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?u(n.call(t)):u(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},801:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},9928:function(t,e,r){var n=r(8892);function o(t){var e=function e(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function i(t){var e=function e(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(o),t.exports.strict=n(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},4355:function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,o=r.length;n<o;n++){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},4243:function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var n,o,i=t,a=t.indexOf("["),u=t.indexOf("]");-1!=a&&-1!=u&&(t=t.substring(0,a)+t.substring(a,u).replace(/:/g,";")+t.substring(u,t.length));for(var s,c,l=e.exec(t||""),f={},h=14;h--;)f[r[h]]=l[h]||"";return-1!=a&&-1!=u&&(f.source=i,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=(o=(n=f.path).replace(/\/{2,9}/g,"/").split("/"),"/"!=n.substr(0,1)&&0!==n.length||o.splice(0,1),"/"==n.substr(n.length-1,1)&&o.splice(o.length-1,1),o),f.queryKey=(s=f.query,c={},s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(c[e]=r)})),c),f}},2884:function(t,e,r){"use strict";var n=r(4406);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,r,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,a,u=arguments.length;switch(u){case 0:case 1:return n.nextTick(t);case 2:return n.nextTick((function(){t.call(null,e)}));case 3:return n.nextTick((function(){t.call(null,e,r)}));case 4:return n.nextTick((function(){t.call(null,e,r,o)}));default:for(i=new Array(u-1),a=0;a<i.length;)i[a++]=arguments[a];return n.nextTick((function(){t.apply(null,i)}))}}}:t.exports=n},4406:function(t){var e,r,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var u,s=[],c=!1,l=-1;function f(){c&&u&&(c=!1,u.length?s=u.concat(s):l=-1,s.length&&h())}function h(){if(!c){var t=a(f);c=!0;for(var e=s.length;e;){for(u=s,s=[];++l<e;)u&&u[l].run();l=-1,e=s.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new p(t,e)),1!==s.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},2808:function(t){"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,n,o){r=r||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var a=/\+/g;t=t.split(r);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var s=t.length;u>0&&s>u&&(s=u);for(var c=0;c<s;++c){var l,f,h,p,d=t[c].replace(a,"%20"),y=d.indexOf(n);y>=0?(l=d.substr(0,y),f=d.substr(y+1)):(l=d,f=""),h=decodeURIComponent(l),p=decodeURIComponent(f),e(i,h)?Array.isArray(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i}},1368:function(t){"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,n,o){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(o){var i=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map((function(t){return i+encodeURIComponent(e(t))})).join(r):i+encodeURIComponent(e(t[o]))})).join(r):o?encodeURIComponent(e(o))+n+encodeURIComponent(e(t)):""}},6642:function(t,e,r){"use strict";e.decode=e.parse=r(2808),e.encode=e.stringify=r(1368)},4452:function(t){"use strict";var e={};function r(t,r,n){n||(n=Error);var o=function(t){var e,n;function o(e,n,o){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,o))||this}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o}(n);o.prototype.name=n.name,o.prototype.code=t,e[t]=o}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var o,i,a,u,s;if("string"==typeof e&&(i="not ",e.substr(0,i.length)===i)?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))a="The ".concat(t," ").concat(o," ").concat(n(e,"type"));else{var c=("number"!=typeof s&&(s=0),s+".".length>(u=t).length||-1===u.indexOf(".",s)?"argument":"property");a='The "'.concat(t,'" ').concat(c," ").concat(o," ").concat(n(e,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},7073:function(t,e,r){"use strict";var n=r(4406),o=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var i=r(8051),a=r(2557);r(1285)(l,i);for(var u=o(a.prototype),s=0;s<u.length;s++){var c=u[s];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);i.call(this,t),a.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},5163:function(t,e,r){"use strict";t.exports=o;var n=r(7640);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}r(1285)(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},8051:function(t,e,r){"use strict";var n,o=r(4406);t.exports=x,x.ReadableState=S,r(2699).EventEmitter;var i,a=function(t,e){return t.listeners(e).length},u=r(5010),s=r(8834).Buffer,c=r.g.Uint8Array||function(){},l=r(6602);i=l&&l.debuglog?l.debuglog("stream"):function(){};var f,h,p,d=r(6637),y=r(2262),v=r(7605).getHighWaterMark,m=r(4452).q,g=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(1285)(x,u);var E=y.errorOrDestroy,O=["error","close","destroy","pause","resume"];function S(t,e,o){n=n||r(7073),t=t||{},"boolean"!=typeof o&&(o=e instanceof n),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",o),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=r(214).s),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function x(t){if(n=n||r(7073),!(this instanceof x))return new x(t);var e=this instanceof n;this._readableState=new S(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function k(t,e,r,n,o){i("readableAddChunk",e);var a,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?P(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,A(t)))}}(t,u);else if(o||(a=function(t,e){var r,n;return n=e,s.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],e)),r}(u,e)),a)E(t,a);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),n)u.endEmitted?E(t,new _):j(t,u,e,!0);else if(u.ended)E(t,new b);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?j(t,u,e,!1):C(t,u)):j(t,u,e,!1)}else n||(u.reading=!1,C(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function j(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&P(t)),C(t,e)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=y.destroy,x.prototype._undestroy=y.undestroy,x.prototype._destroy=function(t,e){e(t)},x.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=s.from(t,e),e=""),r=!0),k(this,t,e,!1,r)},x.prototype.unshift=function(t){return k(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){f||(f=r(214).s);var e=new f(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,o="";null!==n;)o+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var T=1073741824;function L(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function P(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,o.nextTick(A,t))}function A(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,F(t)}function C(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(I,t,e))}function I(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function R(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function D(t){i("readable nexttick read 0"),t.read(0)}function N(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),F(t),e.flowing&&!e.reading&&t.read(0)}function F(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function B(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,o.nextTick(U,e,t))}function U(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function z(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}x.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return i("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):P(this),null;if(0===(t=L(t,e))&&e.ended)return 0===e.length&&B(this),null;var n,o=e.needReadable;return i("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&i("length less than watermark",o=!0),e.ended||e.reading?i("reading or ended",o=!1):o&&(i("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=L(r,e))),null===(n=t>0?M(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&B(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(t){E(this,new w("_read()"))},x.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var u=e&&!1===e.end||t===o.stdout||t===o.stderr?y:s;function s(){i("onend"),t.end()}n.endEmitted?o.nextTick(u):r.once("end",u),t.on("unpipe",(function e(o,a){i("onunpipe"),o===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,i("cleanup"),t.removeListener("close",p),t.removeListener("finish",d),t.removeListener("drain",c),t.removeListener("error",h),t.removeListener("unpipe",e),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",f),l=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var c=function(t){return function(){var e=t._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,F(t))}}(r);t.on("drain",c);var l=!1;function f(e){i("ondata");var o=t.write(e);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==z(n.pipes,t))&&!l&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){i("onerror",e),y(),t.removeListener("error",h),0===a(t,"error")&&E(t,e)}function p(){t.removeListener("finish",d),y()}function d(){i("onfinish"),t.removeListener("close",p),y()}function y(){i("unpipe"),r.unpipe(t)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(r):t._events.error=[r,t._events.error]:t.on(e,r)}(t,"error",h),t.once("close",p),t.once("finish",d),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},x.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?P(this):n.reading||o.nextTick(D,this))),r},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(t,e){var r=u.prototype.removeListener.call(this,t,e);return"readable"===t&&o.nextTick(R,this),r},x.prototype.removeAllListeners=function(t){var e=u.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||o.nextTick(R,this),e},x.prototype.resume=function(){var t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(N,t,e))}(this,t)),t.paused=!1,this},x.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var o in t.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))})),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var a=0;a<O.length;a++)t.on(O[a],this.emit.bind(this,O[a]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(1029)),h(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),x._fromList=M,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(t,e){return void 0===p&&(p=r(352)),p(x,t,e)})},7640:function(t,e,r){"use strict";t.exports=l;var n=r(4452).q,o=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=n.ERR_TRANSFORM_WITH_LENGTH_0,s=r(7073);function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(e,r){h(t,e,r)}))}function h(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new u;if(t._transformState.transforming)throw new a;return t.push(null)}r(1285)(l,s),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new o("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){s.prototype._destroy.call(this,t,(function(t){e(t)}))}},2557:function(t,e,r){"use strict";var n,o=r(4406);function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var o=n.callback;e.pendingcb--,o(void 0),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=x,x.WritableState=S;var a,u={deprecate:r(5803)},s=r(5010),c=r(8834).Buffer,l=r.g.Uint8Array||function(){},f=r(2262),h=r(7605).getHighWaterMark,p=r(4452).q,d=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,m=p.ERR_STREAM_CANNOT_PIPE,g=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,_=p.ERR_UNKNOWN_ENCODING,E=f.errorOrDestroy;function O(){}function S(t,e,a){n=n||r(7073),t=t||{},"boolean"!=typeof a&&(a=e instanceof n),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new v;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(A,t,e),t._writableState.errorEmitted=!0,E(t,n)):(i(n),t._writableState.errorEmitted=!0,E(t,n),A(t,e))}(t,r,n,e,i);else{var a=L(r)||t.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||T(t,r),n?o.nextTick(j,t,r,a,i):j(t,r,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function x(t){var e=this instanceof(n=n||r(7073));if(!e&&!a.call(x,this))return new x(t);this._writableState=new S(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function k(t,e,r,n,o,i,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new g("write")):r?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function j(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),A(t,e)}function T(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,o=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var u=0,s=!0;r;)o[u]=r,r.isBuf||(s=!1),r=r.next,u+=1;o.allBuffers=s,k(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(k(t,e,!1,e.objectMode?1:c.length,c,l,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function L(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function P(t,e){t._final((function(r){e.pendingcb--,r&&E(t,r),e.prefinished=!0,t.emit("prefinish"),A(t,e)}))}function A(t,e){var r=L(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,o.nextTick(P,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(1285)(x,s),S.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(S.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(t){return!!a.call(this,t)||this===x&&t&&t._writableState instanceof S}})):a=function(t){return t instanceof this},x.prototype.pipe=function(){E(this,new m)},x.prototype.write=function(t,e,r){var n,i=this._writableState,a=!1,u=!i.objectMode&&(n=t,c.isBuffer(n)||n instanceof l);return u&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),u?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=O),i.ending?function(t,e){var r=new w;E(t,r),o.nextTick(e,r)}(this,r):(u||function(t,e,r,n){var i;return null===r?i=new b:"string"==typeof r||e.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(E(t,i),o.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,a=function(t,e,r,n,o,i){if(!r){var a=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r)),e}(e,n,o);n!==a&&(r=!0,o="buffer",n=a)}var u=e.objectMode?1:n.length;e.length+=u;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else k(t,e,!1,u,n,o,i);return s}(this,i,u,t,e,r)),a},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},x.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(t,e,r){r(new y("_write()"))},x.prototype._writev=null,x.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,A(t,e),r&&(e.finished?o.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(t,e){e(t)}},1029:function(t,e,r){"use strict";var n,o=r(4406);function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=r(9885),u=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function d(t,e){return{value:t,done:e}}function y(t){var e=t[u];if(null!==e){var r=t[p].read();null!==r&&(t[f]=null,t[u]=null,t[s]=null,e(d(r,!1)))}}function v(t){o.nextTick(y,t)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(n={get stream(){return this[p]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(d(void 0,!0));if(this[p].destroyed)return new Promise((function(e,r){o.nextTick((function(){t[c]?r(t[c]):e(d(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[l]?r(d(void 0,!0)):e[h](r,n)}),n)}}(n,this));else{var i=this[p].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[h])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[p].destroy(null,(function(t){t?r(t):e(d(void 0,!0))}))}))})),n),m);t.exports=function(t){var e,r=Object.create(g,(i(e={},p,{value:t,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,l,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[p].read();n?(r[f]=null,r[u]=null,r[s]=null,t(d(n,!1))):(r[u]=t,r[s]=e)},writable:!0}),e));return r[f]=null,a(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[s];return null!==e&&(r[f]=null,r[u]=null,r[s]=null,e(t)),void(r[c]=t)}var n=r[u];null!==n&&(r[f]=null,r[u]=null,r[s]=null,n(d(void 0,!0))),r[l]=!0})),t.on("readable",v.bind(null,r)),r}},6637:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=r(8834).Buffer,u=r(4854).inspect,s=u&&u.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e;return e=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return a.alloc(0);for(var e,r,n,o=a.allocUnsafe(t>>>0),i=this.head,u=0;i;)e=i.data,r=o,n=u,a.prototype.copy.call(e,r,n),u+=i.data.length,i=i.next;return o}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var o=e.data,i=t>o.length?o.length:t;if(i===o.length?n+=o:n+=o.slice(0,t),0==(t-=i)){i===o.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=o.slice(i));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=a.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var o=r.data,i=t>o.length?o.length:t;if(o.copy(e,e.length-t,0,i),0==(t-=i)){i===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(i));break}++n}return this.length-=n,e}},{key:s,value:function(t,e){return u(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],e&&i(t.prototype,e),t}()},2262:function(t,e,r){"use strict";var n=r(4406);function o(t,e){a(t,e),i(t)}function i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function a(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,u=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return u||s?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,t)):n.nextTick(a,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?n.nextTick(i,r):(r._writableState.errorEmitted=!0,n.nextTick(o,r,t)):n.nextTick(o,r,t):e?(n.nextTick(i,r),e(t)):n.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},9885:function(t,e,r){"use strict";var n=r(4452).q.ERR_STREAM_PREMATURE_CLOSE;function o(){}t.exports=function t(e,r,i){if("function"==typeof r)return t(e,null,r);r||(r={}),i=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(this,n)}}}(i||o);var a=r.readable||!1!==r.readable&&e.readable,u=r.writable||!1!==r.writable&&e.writable,s=function(){e.writable||l()},c=e._writableState&&e._writableState.finished,l=function(){u=!1,c=!0,a||i.call(e)},f=e._readableState&&e._readableState.endEmitted,h=function(){a=!1,f=!0,u||i.call(e)},p=function(t){i.call(e,t)},d=function(){var t;return a&&!f?(e._readableState&&e._readableState.ended||(t=new n),i.call(e,t)):u&&!c?(e._writableState&&e._writableState.ended||(t=new n),i.call(e,t)):void 0},y=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",d),e.req?y():e.on("request",y)):u&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",h),e.on("finish",l),!1!==r.error&&e.on("error",p),e.on("close",d),function(){e.removeListener("complete",l),e.removeListener("abort",d),e.removeListener("request",y),e.req&&e.req.removeListener("finish",l),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",l),e.removeListener("end",h),e.removeListener("error",p),e.removeListener("close",d)}}},352:function(t){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},3495:function(t,e,r){"use strict";var n,o=r(4452).q,i=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function u(t){if(t)throw t}function s(t,e,o,i){i=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(i);var u=!1;t.on("close",(function(){u=!0})),void 0===n&&(n=r(9885)),n(t,{readable:e,writable:o},(function(t){if(t)return i(t);u=!0,i()}));var s=!1;return function(e){if(!u&&!s)return s=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void i(e||new a("pipe"))}}function c(t){t()}function l(t,e){return t.pipe(e)}function f(t){return t.length?"function"!=typeof t[t.length-1]?u:t.pop():u}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,o=f(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new i("streams");var a=e.map((function(t,r){var i=r<e.length-1;return s(t,i,r>0,(function(t){n||(n=t),t&&a.forEach(c),i||(a.forEach(c),o(n))}))}));return e.reduce(l)}},7605:function(t,e,r){"use strict";var n=r(4452).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,o){var i=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,o,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new n(o?r:"highWaterMark",i);return Math.floor(i)}return t.objectMode?16:16384}}},5010:function(t,e,r){t.exports=r(2699).EventEmitter},7525:function(t,e,r){(e=t.exports=r(8051)).Stream=e,e.Readable=e,e.Writable=r(2557),e.Duplex=r(7073),e.Transform=r(7640),e.PassThrough=r(5163),e.finished=r(9885),e.pipeline=r(3495)},5849:function(t){"use strict";function e(t,e,r){var n=this;this._callback=t,this._args=r,this._interval=setInterval(t,e,this._args),this.reschedule=function(t){t||(t=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,t,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}t.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var t;if(arguments.length>0){t=new Array(arguments.length-2);for(var r=0;r<t.length;r++)t[r]=arguments[r+2]}return new e(arguments[0],arguments[1],t)}},8453:function(t,e,r){"use strict";t.exports=r(7152)()},7152:function(t,e,r){"use strict";var n=r(8834).Buffer;function o(t){return t instanceof n?n.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(t){return(t=t||{}).circles?function(t){var e=[],r=[];return t.proto?function t(i){if("object"!=typeof i||null===i)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return n(i,t);if(i instanceof Map)return new Map(n(Array.from(i),t));if(i instanceof Set)return new Set(n(Array.from(i),t));var a={};for(var u in e.push(i),r.push(a),i){var s=i[u];if("object"!=typeof s||null===s)a[u]=s;else if(s instanceof Date)a[u]=new Date(s);else if(s instanceof Map)a[u]=new Map(n(Array.from(s),t));else if(s instanceof Set)a[u]=new Set(n(Array.from(s),t));else if(ArrayBuffer.isView(s))a[u]=o(s);else{var c=e.indexOf(s);a[u]=-1!==c?r[c]:t(s)}}return e.pop(),r.pop(),a}:function t(i){if("object"!=typeof i||null===i)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return n(i,t);if(i instanceof Map)return new Map(n(Array.from(i),t));if(i instanceof Set)return new Set(n(Array.from(i),t));var a={};for(var u in e.push(i),r.push(a),i)if(!1!==Object.hasOwnProperty.call(i,u)){var s=i[u];if("object"!=typeof s||null===s)a[u]=s;else if(s instanceof Date)a[u]=new Date(s);else if(s instanceof Map)a[u]=new Map(n(Array.from(s),t));else if(s instanceof Set)a[u]=new Set(n(Array.from(s),t));else if(ArrayBuffer.isView(s))a[u]=o(s);else{var c=e.indexOf(s);a[u]=-1!==c?r[c]:t(s)}}return e.pop(),r.pop(),a};function n(t,n){for(var i=Object.keys(t),a=new Array(i.length),u=0;u<i.length;u++){var s=i[u],c=t[s];if("object"!=typeof c||null===c)a[s]=c;else if(c instanceof Date)a[s]=new Date(c);else if(ArrayBuffer.isView(c))a[s]=o(c);else{var l=e.indexOf(c);a[s]=-1!==l?r[l]:n(c)}}return a}}(t):t.proto?function t(r){if("object"!=typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return e(r,t);if(r instanceof Map)return new Map(e(Array.from(r),t));if(r instanceof Set)return new Set(e(Array.from(r),t));var n={};for(var i in r){var a=r[i];"object"!=typeof a||null===a?n[i]=a:a instanceof Date?n[i]=new Date(a):a instanceof Map?n[i]=new Map(e(Array.from(a),t)):a instanceof Set?n[i]=new Set(e(Array.from(a),t)):ArrayBuffer.isView(a)?n[i]=o(a):n[i]=t(a)}return n}:function t(r){if("object"!=typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return e(r,t);if(r instanceof Map)return new Map(e(Array.from(r),t));if(r instanceof Set)return new Set(e(Array.from(r),t));var n={};for(var i in r)if(!1!==Object.hasOwnProperty.call(r,i)){var a=r[i];"object"!=typeof a||null===a?n[i]=a:a instanceof Date?n[i]=new Date(a):a instanceof Map?n[i]=new Map(e(Array.from(a),t)):a instanceof Set?n[i]=new Set(e(Array.from(a),t)):ArrayBuffer.isView(a)?n[i]=o(a):n[i]=t(a)}return n};function e(t,e){for(var r=Object.keys(t),n=new Array(r.length),i=0;i<r.length;i++){var a=r[i],u=t[a];"object"!=typeof u||null===u?n[a]=u:u instanceof Date?n[a]=new Date(u):ArrayBuffer.isView(u)?n[a]=o(u):n[a]=e(u)}return n}}},7834:function(t,e,r){var n=r(8834),o=n.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},4294:function(t,e,r){"use strict";var n=r(7286),o=r(2680),i=r(9500),a=n("%TypeError%"),u=n("%WeakMap%",!0),s=n("%Map%",!0),c=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),h=o("Map.prototype.get",!0),p=o("Map.prototype.set",!0),d=o("Map.prototype.has",!0),y=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new a("Side channel does not contain "+i(t))},get:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(t)return c(t,n)}else if(s){if(e)return h(e,n)}else if(r)return function(t,e){var r=y(t,e);return r&&r.value}(r,n)},has:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(t)return f(t,n)}else if(s){if(e)return d(e,n)}else if(r)return function(t,e){return!!y(t,e)}(r,n);return!1},set:function(n,o){u&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new u),l(t,n,o)):s?(e||(e=new s),p(e,n,o)):(r||(r={key:{},next:null}),function(t,e,r){var n=y(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,o))}};return n}},7768:function(t,e,r){var n=r(8749),o=r(7170),i=r(9431),a=r(9556)("socket.io-client");t.exports=e=s;var u=e.managers={};function s(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o=n(t),s=o.source,c=o.id,l=o.path,f=u[c]&&l in u[c].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||f?(a("ignoring socket cache for %s",s),r=i(s,e)):(u[c]||(a("new io instance for %s",s),u[c]=i(s,e)),r=u[c]),o.query&&!e.query&&(e.query=o.query),r.socket(o.path,e)}e.protocol=o.protocol,e.connect=s,e.Manager=r(9431),e.Socket=r(2243)},9431:function(t,e,r){var n=r(4065),o=r(2243),i=r(7582),a=r(7170),u=r(3073),s=r(2150),c=r(9556)("socket.io-client:manager"),l=r(2543),f=r(7911),h=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=e.parser||a;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)h.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},i(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=u(r,"open",(function(){o.onopen(),t&&t()})),a=u(r,"error",(function(e){if(c("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;c("connect attempt will timeout after %d",s),0===s&&i.destroy();var l=setTimeout((function(){c("connect attempt timed out after %d",s),i.destroy(),r.close(),r.emit("error","timeout"),o.emitAll("connect_timeout",s)}),s);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(a),this},p.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",s(this,"ondata"))),this.subs.push(u(t,"ping",s(this,"onping"))),this.subs.push(u(t,"pong",s(this,"onpong"))),this.subs.push(u(t,"error",s(this,"onerror"))),this.subs.push(u(t,"close",s(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",s(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var r=this.nsps[t];if(!r){r=new o(this,t,e),this.nsps[t]=r;var n=this;r.on("connecting",i),r.on("connect",(function(){r.id=n.generateId(t)})),this.autoConnect&&i()}function i(){~l(n.connecting,r)||n.connecting.push(r)}return r},p.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){c("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){c("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var r=setTimeout((function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(r)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},3073:function(t){t.exports=function(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}},2243:function(t,e,r){var n=r(7170),o=r(7582),i=r(1396),a=r(3073),u=r(2150),s=r(9556)("socket.io-client:socket"),c=r(4355),l=r(4632);t.exports=p;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=o.prototype.emit;function p(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}o(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",u(this,"onopen")),a(t,"packet",u(this,"onpacket")),a(t,"close",u(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var t=i(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(f.hasOwnProperty(t))return h.apply(this,arguments),this;var e=i(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:l(e))?n.BINARY_EVENT:n.EVENT,data:e,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(s("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(s("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?c.encode(this.query):this.query;s("sending connect packet with query %s",t),this.packet({type:n.CONNECT,query:t})}else this.packet({type:n.CONNECT})},p.prototype.onclose=function(t){s("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,r=t.type===n.ERROR&&"/"===t.nsp;if(e||r)switch(t.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(t);break;case n.ACK:case n.BINARY_ACK:this.onack(t);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];s("emitting event %j",e),null!=t.id&&(s("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var o=i(arguments);s("sending ack %j",o),e.packet({type:l(o)?n.BINARY_ACK:n.ACK,id:t,data:o})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(s("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):s("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){s("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(s("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},8749:function(t,e,r){var n=r(4243),o=r(9556)("socket.io-client:url");t.exports=function(t,e){var r=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),r=n(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port,r.href=r.protocol+"://"+i+(e&&e.port===r.port?"":":"+r.port),r}},9556:function(t,e,r){var n=r(4406);function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(7465)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),r){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),t.splice(i,0,n)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())},7465:function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,o=+new Date,i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var s=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;s++;var o=e.formatters[n];if("function"==typeof o){var i=a[s];r=o.call(t,i),a.splice(s,1),s--}return r})),e.formatArgs.call(t,a),(n.log||e.log||console.log.bind(console)).apply(t,a)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=o,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var i=e.instances[r];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(2930),e.instances=[],e.names=[],e.skips=[],e.formatters={}},2930:function(t){var e=1e3,r=60*e,n=60*r,o=24*n;function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,a){a=a||{};var u,s=typeof t;if("string"===s&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===s&&!1===isNaN(t))return a.long?i(u=t,o,"day")||i(u,n,"hour")||i(u,r,"minute")||i(u,e,"second")||u+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=r?Math.round(t/r)+"m":t>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},4146:function(t,e,r){var n=r(7906),o=r(4787),i=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),u="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function s(t,e){if(!t)return t;if(o(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}if(n(t)){for(var i=new Array(t.length),a=0;a<t.length;a++)i[a]=s(t[a],e);return i}if("object"==typeof t&&!(t instanceof Date)){for(var u in i={},t)i[u]=s(t[u],e);return i}return t}function c(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(n(t))for(var r=0;r<t.length;r++)t[r]=c(t[r],e);else if("object"==typeof t)for(var o in t)t[o]=c(t[o],e);return t}e.deconstructPacket=function(t){var e=[],r=t.data,n=t;return n.data=s(r,e),n.attachments=e.length,{packet:n,buffers:e}},e.reconstructPacket=function(t,e){return t.data=c(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var r=0,i=t;!function t(s,c,l){if(!s)return s;if(a&&s instanceof Blob||u&&s instanceof File){r++;var f=new FileReader;f.onload=function(){l?l[c]=this.result:i=this.result,--r||e(i)},f.readAsArrayBuffer(s)}else if(n(s))for(var h=0;h<s.length;h++)t(s[h],h,s);else if("object"==typeof s&&!o(s))for(var p in s)t(s[p],p,s)}(i),r||e(i)}},7170:function(t,e,r){var n=r(2885)("socket.io-parser"),o=r(7582),i=r(4146),a=r(7906),u=r(4787);function s(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=s,e.Decoder=f;var c=e.ERROR+'"encode error"';function l(t){var r=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(r+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(r+=t.nsp+","),null!=t.id&&(r+=t.id),null!=t.data){var o=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===o)return c;r+=o}return n("encoded %j as %s",t,r),r}function f(){this.reconstructor=null}function h(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}s.prototype.encode=function(t,r){n("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?function(t,e){i.removeBlobs(t,(function(t){var r=i.deconstructPacket(t),n=l(r.packet),o=r.buffers;o.unshift(n),e(o)}))}(t,r):r([l(t)])},o(f.prototype),f.prototype.add=function(t){var r;if("string"==typeof t)r=function(t){var r=0,o={type:Number(t.charAt(0))};if(null==e.types[o.type])return p("unknown packet type "+o.type);if(e.BINARY_EVENT===o.type||e.BINARY_ACK===o.type){for(var i=r+1;"-"!==t.charAt(++r)&&r!=t.length;);var u=t.substring(i,r);if(u!=Number(u)||"-"!==t.charAt(r))throw new Error("Illegal attachments");o.attachments=Number(u)}if("/"===t.charAt(r+1)){for(i=r+1;++r&&","!==(c=t.charAt(r))&&r!==t.length;);o.nsp=t.substring(i,r)}else o.nsp="/";var s=t.charAt(r+1);if(""!==s&&Number(s)==s){for(i=r+1;++r;){var c;if(null==(c=t.charAt(r))||Number(c)!=c){--r;break}if(r===t.length)break}o.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){var l=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(r));if(!1===l||o.type!==e.ERROR&&!a(l))return p("invalid payload");o.data=l}return n("decoded %s as %j",t,o),o}(t),e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type?(this.reconstructor=new h(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!u(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",r))}},f.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},4787:function(t,e,r){var n=r(8834).Buffer;t.exports=function(t){return o&&n.isBuffer(t)||i&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))};var o="function"==typeof n&&"function"==typeof n.isBuffer,i="function"==typeof ArrayBuffer},2885:function(t,e,r){var n=r(4406);function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(9540)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),r){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),t.splice(i,0,n)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())},9540:function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,o=+new Date,i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var s=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;s++;var o=e.formatters[n];if("function"==typeof o){var i=a[s];r=o.call(t,i),a.splice(s,1),s--}return r})),e.formatArgs.call(t,a),(n.log||e.log||console.log.bind(console)).apply(t,a)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=o,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var i=e.instances[r];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(3160),e.instances=[],e.names=[],e.skips=[],e.formatters={}},3160:function(t){var e=1e3,r=60*e,n=60*r,o=24*n;function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,a){a=a||{};var u,s=typeof t;if("string"===s&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===s&&!1===isNaN(t))return a.long?i(u=t,o,"day")||i(u,n,"hour")||i(u,r,"minute")||i(u,e,"second")||u+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=r?Math.round(t/r)+"m":t>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},9146:function(t){t.exports=function(t){var e,r=t._readableState;return r?r.objectMode||"number"==typeof t._duplexState?t.read():t.read((e=r).buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length):null}},214:function(t,e,r){"use strict";var n=r(7834).Buffer,o=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=s,this.end=c,e=4;break;case"utf8":this.fillLast=u,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function u(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.s=i,i.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},i.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var o=a(e[n]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--n<r||-2===o?0:(o=a(e[n]))>=0?(o>0&&(t.lastNeed=o-2),o):--n<r||-2===o?0:(o=a(e[n]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},6545:function(t){"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r(){this._defaults=[]}for(var n=function(){var t=i[o];r.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this._defaults.push({fn:t,args:r}),this}},o=0,i=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];o<i.length;o++)n();r.prototype._setDefaults=function(t){var r,n=function(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){s=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}(this._defaults);try{for(n.s();!(r=n.n()).done;){var o=r.value;t[o.fn].apply(t,f(o.args))}}catch(t){n.e(t)}finally{n.f()}},t.exports=r},139:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var o;"undefined"!=typeof window?o=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),o=void 0):o=self;var i=r(7582),a=r(7847),u=r(2934),s=r(2474),c=r(2433),l=c.isObject,f=c.mixin,h=c.hasOwn,p=r(9228),d=r(6545);function y(){}t.exports=function(t,r){return"function"==typeof r?new e.Request("GET",t).end(r):1===arguments.length?new e.Request("GET",t):new e.Request(t,r)};var v=e=t.exports;e.Request=O,v.getXHR=function(){if(o.XMLHttpRequest)return new o.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};var m="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function g(t){if(!l(t))return t;var e=[];for(var r in t)h(t,r)&&b(e,r,t[r]);return e.join("&")}function b(t,e,r){if(void 0!==r)if(null!==r)if(Array.isArray(r)){var o,i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){s=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw a}}}}(r);try{for(i.s();!(o=i.n()).done;)b(t,e,o.value)}catch(t){i.e(t)}finally{i.f()}}else if(l(r))for(var a in r)h(r,a)&&b(t,"".concat(e,"[").concat(a,"]"),r[a]);else t.push(encodeURI(e)+"="+encodeURIComponent(r));else t.push(encodeURI(e))}function w(t){for(var e,r,n={},o=t.split("&"),i=0,a=o.length;i<a;++i)-1===(r=(e=o[i]).indexOf("="))?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,r))]=decodeURIComponent(e.slice(r+1));return n}function _(t){return/[/+]json($|[^-\w])/i.test(t)}function E(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=function(t){for(var e,r,n,o,i=t.split(/\r?\n/),a={},u=0,s=i.length;u<s;++u)-1!==(e=(r=i[u]).indexOf(":"))&&(n=r.slice(0,e).toLowerCase(),o=m(r.slice(e+1)),a[n]=o);return a}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function O(t,e){var r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,n=null;try{n=new E(r)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",n);try{r._isResponseOK(n)||(t=new Error(n.statusText||n.text||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=n,t.status=t.status||n.status,r.callback(t,n)):r.callback(null,n)}))}v.serializeObject=g,v.parseString=w,v.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},v.serialize={"application/x-www-form-urlencoded":u.stringify,"application/json":a},v.parse={"application/x-www-form-urlencoded":w,"application/json":JSON.parse},f(E.prototype,p.prototype),E.prototype._parseBody=function(t){var e=v.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&_(this.type)&&(e=v.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},E.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,n="cannot ".concat(e," ").concat(r," (").concat(this.status,")"),o=new Error(n);return o.status=this.status,o.method=e,o.url=r,o},v.Response=E,i(O.prototype),f(O.prototype,s.prototype),O.prototype.type=function(t){return this.set("Content-Type",v.types[t]||t),this},O.prototype.accept=function(t){return this.set("Accept",v.types[t]||t),this},O.prototype.auth=function(t,e,r){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(r=e,e=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var n=r.encoder?r.encoder:function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,r,n)},O.prototype.query=function(t){return"string"!=typeof t&&(t=g(t)),t&&this._query.push(t),this},O.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},O.prototype._getFormData=function(){return this._formData||(this._formData=new o.FormData),this._formData},O.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},O.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},O.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},O.prototype.ca=O.prototype.agent,O.prototype.buffer=O.prototype.ca,O.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},O.prototype.pipe=O.prototype.write,O.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},O.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||y,this._finalizeQueryString(),this._end()},O.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},O.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=v.getXHR();var e=this.xhr,r=this._formData||this._data;this._setTimeouts(),e.addEventListener("readystatechange",(function(){var r=e.readyState;if(r>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===r){var n;try{n=e.status}catch(t){n=0}if(!n){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}}));var n=function(e,r){r.total>0&&(r.percent=r.loaded/r.total*100,100===r.percent&&clearTimeout(t._uploadTimeoutTimer)),r.direction=e,t.emit("progress",r)};if(this.hasListeners("progress"))try{e.addEventListener("progress",n.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",n.bind(null,"upload"))}catch(t){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof r&&!this._isHost(r)){var o=this._header["content-type"],i=this._serializer||v.serialize[o?o.split(";")[0]:""];!i&&_(o)&&(i=v.serialize["application/json"]),i&&(r=i(r))}for(var a in this.header)null!==this.header[a]&&h(this.header,a)&&e.setRequestHeader(a,this.header[a]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===r?null:r)},v.agent=function(){return new d};for(var S=function(){var t=k[x];d.prototype[t.toLowerCase()]=function(e,r){var n=new v.Request(t,e);return this._setDefaults(n),r&&n.end(r),n}},x=0,k=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];x<k.length;x++)S();function j(t,e,r){var n=v("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}d.prototype.del=d.prototype.delete,v.get=function(t,e,r){var n=v("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},v.head=function(t,e,r){var n=v("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},v.options=function(t,e,r){var n=v("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},v.del=j,v.delete=j,v.patch=function(t,e,r){var n=v("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},v.post=function(t,e,r){var n=v("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},v.put=function(t,e,r){var n=v("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}},2474:function(t,e,r){"use strict";var n=r(4406),o=r(206),i=r(2433),a=i.isObject,u=i.hasOwn;function s(){}t.exports=s,s.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},s.prototype.parse=function(t){return this._parser=t,this},s.prototype.responseType=function(t){return this._responseType=t,this},s.prototype.serialize=function(t){return this._serializer=t,this},s.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(u(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},s.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var c=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),l=new Set([408,413,429,500,502,503,504,521,522,524]);s.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(t){console.error(t)}if(e&&e.status&&l.has(e.status))return!0;if(t){if(t.code&&c.has(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},s.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},s.prototype.then=function(t,e){var r=this;if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){n.on("abort",(function(){if(!(r._maxRetries&&r._maxRetries>r._retries))if(r.timedout&&r.timedoutError)e(r.timedoutError);else{var t=new Error("Aborted");t.code="ABORTED",t.status=r.status,t.method=r.method,t.url=r.url,e(t)}})),n.end((function(r,n){r?e(r):t(n)}))}))}return this._fullfilledPromise.then(t,e)},s.prototype.catch=function(t){return this.then(void 0,t)},s.prototype.use=function(t){return t(this),this},s.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},s.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},s.prototype.get=function(t){return this._header[t.toLowerCase()]},s.prototype.getHeader=s.prototype.get,s.prototype.set=function(t,e){if(a(t)){for(var r in t)u(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},s.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},s.prototype.field=function(t,e,r){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(a(t)){for(var n in t)u(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(var o in e)u(e,o)&&this.field(t,e[o]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),r?this._getFormData().append(t,e,r):this._getFormData().append(t,e),this},s.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(o.gte(n.version,"v13.0.0")&&o.lt(n.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");o.gte(n.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},s.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},s.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},s.prototype.redirects=function(t){return this._maxRedirects=t,this},s.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},s.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},s.prototype.send=function(t){var e=a(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&a(this._data))for(var n in t)u(t,n)&&(this._data[n]=t[n]);else"string"==typeof t?(r||this.type("form"),(r=this._header["content-type"])&&(r=r.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===r?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||r||this.type("json"),this},s.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},s.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.slice(e+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}},s.prototype._appendQueryString=function(){console.warn("Unsupported")},s.prototype._timeoutError=function(t,e,r){if(!this._aborted){var n=new Error("".concat(t+e,"ms exceeded"));n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}},s.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},9228:function(t,e,r){"use strict";var n=r(2433);function o(){}t.exports=o,o.prototype.get=function(t){return this.header[t.toLowerCase()]},o.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=n.type(e);var r=n.params(e);for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(this[o]=r[o]);this.links={};try{t.link&&(this.links=n.parseLinks(t.link))}catch(t){}},o.prototype._setStatusProperties=function(t){var e=Math.trunc(t/100);this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t}},2433:function(t,e){"use strict";function r(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){s=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw a}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){var e,n={},o=r(t.split(/ *; */));try{for(o.s();!(e=o.n()).done;){var i=e.value.split(/ *= */),a=i.shift(),u=i.shift();a&&u&&(n[a]=u)}}catch(t){o.e(t)}finally{o.f()}return n},e.parseLinks=function(t){var e,n={},o=r(t.split(/ *, */));try{for(o.s();!(e=o.n()).done;){var i=e.value.split(/ *; */),a=i[0].slice(1,-1);n[i[1].split(/ *= */)[1].slice(1,-1)]=a}}catch(t){o.e(t)}finally{o.f()}return n},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t},e.isObject=function(t){return null!==t&&"object"==typeof t},e.hasOwn=Object.hasOwn||function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(t),e)},e.mixin=function(t,r){for(var n in r)e.hasOwn(r,n)&&(t[n]=r[n])}},6803:function(t){"use strict";var e=String.prototype.replace,r=/%20/g,n="RFC3986";t.exports={default:n,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:n}},2934:function(t,e,r){"use strict";var n=r(2620),o=r(8440),i=r(6803);t.exports={formats:i,parse:o,stringify:n}},8440:function(t,e,r){"use strict";var n=r(2663),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},u=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},s=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,u=r.depth>0&&/(\[[^[\]]*])/.exec(i),c=u?i.slice(0,u.index):i,l=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;l.push(c)}for(var f=0;r.depth>0&&null!==(u=a.exec(i))&&f<r.depth;){if(f+=1,!r.plainObjects&&o.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+i.slice(u.index)+"]"),function(t,e,r,n){for(var o=n?e:s(e,r),i=t.length-1;i>=0;--i){var a,u=t[i];if("[]"===u&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var c="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,l=parseInt(c,10);r.parseArrays||""!==c?!isNaN(l)&&u!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[])[l]=o:"__proto__"!==c&&(a[c]=o):a={0:o}}o=a}return o}(l,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:a.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var r,c={},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,h=l.split(e.delimiter,f),p=-1,d=e.charset;if(e.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[r]?d="utf-8":"utf8=%26%2310003%3B"===h[r]&&(d="iso-8859-1"),p=r,r=h.length);for(r=0;r<h.length;++r)if(r!==p){var y,v,m=h[r],g=m.indexOf("]="),b=-1===g?m.indexOf("="):g+1;-1===b?(y=e.decoder(m,a.decoder,d,"key"),v=e.strictNullHandling?null:""):(y=e.decoder(m.slice(0,b),a.decoder,d,"key"),v=n.maybeMap(s(m.slice(b+1),e),(function(t){return e.decoder(t,a.decoder,d,"value")}))),v&&e.interpretNumericEntities&&"iso-8859-1"===d&&(v=u(v)),m.indexOf("[]=")>-1&&(v=i(v)?[v]:v),o.call(c,y)?c[y]=n.combine(c[y],v):c[y]=v}return c}(t,r):t,f=r.plainObjects?Object.create(null):{},h=Object.keys(l),p=0;p<h.length;++p){var d=h[p],y=c(d,l[d],r,"string"==typeof t);f=n.merge(f,y,r)}return!0===r.allowSparse?f:n.compact(f)}},2620:function(t,e,r){"use strict";var n=r(4294),o=r(2663),i=r(6803),a=Object.prototype.hasOwnProperty,u={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,c=String.prototype.split,l=Array.prototype.push,f=function(t,e){l.apply(t,s(e)?e:[e])},h=Date.prototype.toISOString,p=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:p,formatter:i.formatters[p],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},y={},v=function t(e,r,i,a,u,l,h,p,v,m,g,b,w,_,E,O){for(var S,x=e,k=O,j=0,T=!1;void 0!==(k=k.get(y))&&!T;){var L=k.get(e);if(j+=1,void 0!==L){if(L===j)throw new RangeError("Cyclic object value");T=!0}void 0===k.get(y)&&(j=0)}if("function"==typeof p?x=p(r,x):x instanceof Date?x=g(x):"comma"===i&&s(x)&&(x=o.maybeMap(x,(function(t){return t instanceof Date?g(t):t}))),null===x){if(u)return h&&!_?h(r,d.encoder,E,"key",b):r;x=""}if("string"==typeof(S=x)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||o.isBuffer(x)){if(h){var P=_?r:h(r,d.encoder,E,"key",b);if("comma"===i&&_){for(var A=c.call(String(x),","),C="",I=0;I<A.length;++I)C+=(0===I?"":",")+w(h(A[I],d.encoder,E,"value",b));return[w(P)+(a&&s(x)&&1===A.length?"[]":"")+"="+C]}return[w(P)+"="+w(h(x,d.encoder,E,"value",b))]}return[w(r)+"="+w(String(x))]}var R,D=[];if(void 0===x)return D;if("comma"===i&&s(x))R=[{value:x.length>0?x.join(",")||null:void 0}];else if(s(p))R=p;else{var N=Object.keys(x);R=v?N.sort(v):N}for(var F=a&&s(x)&&1===x.length?r+"[]":r,M=0;M<R.length;++M){var B=R[M],U="object"==typeof B&&void 0!==B.value?B.value:x[B];if(!l||null!==U){var z=s(x)?"function"==typeof i?i(F,B):F:F+(m?"."+B:"["+B+"]");O.set(e,j);var G=n();G.set(y,O),f(D,t(U,z,i,a,u,l,h,p,v,m,g,b,w,_,E,G))}}return D};t.exports=function(t,e){var r,o=t,c=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==t.format){if(!a.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=i.formatters[r],o=d.filter;return("function"==typeof t.filter||s(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof c.filter?o=(0,c.filter)("",o):s(c.filter)&&(r=c.filter);var l,h=[];if("object"!=typeof o||null===o)return"";l=e&&e.arrayFormat in u?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var p=u[l];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var y="comma"===p&&e&&e.commaRoundTrip;r||(r=Object.keys(o)),c.sort&&r.sort(c.sort);for(var m=n(),g=0;g<r.length;++g){var b=r[g];c.skipNulls&&null===o[b]||f(h,v(o[b],b,p,y,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,m))}var w=h.join(c.delimiter),_=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),w.length>0?_+w:""}},2663:function(t,e,r){"use strict";var n=r(6803),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),u=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:u,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],a=o.obj[o.prop],u=Object.keys(a),s=0;s<u.length;++s){var c=u[s],l=a[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:a,prop:c}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,o,i){if(0===t.length)return t;var u=t;if("symbol"==typeof t?u=Symbol.prototype.toString.call(t):"string"!=typeof t&&(u=String(t)),"iso-8859-1"===r)return escape(u).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var s="",c=0;c<u.length;++c){var l=u.charCodeAt(c);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===n.RFC1738&&(40===l||41===l)?s+=u.charAt(c):l<128?s+=a[l]:l<2048?s+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?s+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(c+=1,l=65536+((1023&l)<<10|1023&u.charCodeAt(c)),s+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return s},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(i(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var a=e;return i(e)&&!i(r)&&(a=u(e,n)),i(e)&&i(r)?(r.forEach((function(r,i){if(o.call(e,i)){var a=e[i];a&&"object"==typeof a&&r&&"object"==typeof r?e[i]=t(a,r,n):e.push(r)}else e[i]=r})),e):Object.keys(r).reduce((function(e,i){var a=r[i];return o.call(e,i)?e[i]=t(e[i],a,n):e[i]=a,e}),a)}}},1396:function(t){t.exports=function(t,e){for(var r=[],n=(e=e||0)||0;n<t.length;n++)r[n-e]=t[n];return r}},9639:function(t,e,r){var n;t=r.nmd(t),function(o){e&&e.nodeType,t&&t.nodeType;var i="object"==typeof r.g&&r.g;i.global!==i&&i.window!==i&&i.self;var a,u=2147483647,s=36,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function y(t){throw RangeError(h[t])}function v(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function m(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+v((t=t.replace(f,".")).split("."),e).join(".")}function g(t){for(var e,r,n=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function b(t){return v(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+d(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,r){var n=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;n+=s)t=p(t/35);return p(n+36*t/(t+38))}function E(t){var e,r,n,o,i,a,c,l,f,h,d,v=[],m=t.length,g=0,w=128,E=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&y("not-basic"),v.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<m;){for(i=g,a=1,c=s;o>=m&&y("invalid-input"),((l=(d=t.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:s)>=s||l>p((u-g)/a))&&y("overflow"),g+=l*a,!(l<(f=c<=E?1:c>=E+26?26:c-E));c+=s)a>p(u/(h=s-f))&&y("overflow"),a*=h;E=_(g-i,e=v.length+1,0==i),p(g/e)>u-w&&y("overflow"),w+=p(g/e),g%=e,v.splice(g++,0,w)}return b(v)}function O(t){var e,r,n,o,i,a,c,l,f,h,v,m,b,E,O,S=[];for(m=(t=g(t)).length,e=128,r=0,i=72,a=0;a<m;++a)(v=t[a])<128&&S.push(d(v));for(n=o=S.length,o&&S.push("-");n<m;){for(c=u,a=0;a<m;++a)(v=t[a])>=e&&v<c&&(c=v);for(c-e>p((u-r)/(b=n+1))&&y("overflow"),r+=(c-e)*b,e=c,a=0;a<m;++a)if((v=t[a])<e&&++r>u&&y("overflow"),v==e){for(l=r,f=s;!(l<(h=f<=i?1:f>=i+26?26:f-i));f+=s)O=l-h,E=s-h,S.push(d(w(h+O%E,0))),l=p(O/E);S.push(d(w(l,0))),i=_(r,b,n==o),r=0,++n}++r,++e}return S.join("")}a={version:"1.3.2",ucs2:{decode:g,encode:b},decode:E,encode:O,toASCII:function(t){return m(t,(function(t){return l.test(t)?"xn--"+O(t):t}))},toUnicode:function(t){return m(t,(function(t){return c.test(t)?E(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()},883:function(t,e,r){"use strict";var n=r(9639),o=r(5225);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){return o.isString(t)&&(t=b(t)),t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i;var a=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(6642);function b(t,e,r){if(t&&o.isObject(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}i.prototype.parse=function(t,e,r){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),u=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(u);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(u);if(b=b.trim(),!r&&1===t.split("#").length){var w=s.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(r||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===b.substr(0,2);!O||_&&v[_]||(b=b.substr(2),this.slashes=!0)}if(!v[_]&&(O||_&&!m[_])){for(var S,x,k=-1,j=0;j<h.length;j++)-1!==(T=b.indexOf(h[j]))&&(-1===k||T<k)&&(k=T);for(-1!==(x=-1===k?b.lastIndexOf("@"):b.lastIndexOf("@",k))&&(S=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(S)),k=-1,j=0;j<f.length;j++){var T;-1!==(T=b.indexOf(f[j]))&&(-1===k||T<k)&&(k=T)}-1===k&&(k=b.length),this.host=b.slice(0,k),b=b.slice(k),this.parseHost(),this.hostname=this.hostname||"";var L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!L)for(var P=this.hostname.split(/\./),A=(j=0,P.length);j<A;j++){var C=P[j];if(C&&!C.match(p)){for(var I="",R=0,D=C.length;R<D;R++)C.charCodeAt(R)>127?I+="x":I+=C[R];if(!I.match(p)){var N=P.slice(0,j),F=P.slice(j+1),M=C.match(d);M&&(N.push(M[1]),F.unshift(M[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!y[E])for(j=0,A=l.length;j<A;j++){var z=l[j];if(-1!==b.indexOf(z)){var G=encodeURIComponent(z);G===z&&(G=escape(z)),b=b.split(z).join(G)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),e&&(this.query=g.parse(this.query)),b=b.slice(0,H)):e&&(this.search="",this.query={}),b&&(this.pathname=b),m[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var V=this.search||"";this.path=B+V}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var u=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),u&&"?"!==u.charAt(0)&&(u="?"+u),e+i+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(u=u.replace("#","%23"))+n},i.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var r=new i,n=Object.keys(this),a=0;a<n.length;a++){var u=n[a];r[u]=this[u]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),c=0;c<s.length;c++){var l=s[c];"protocol"!==l&&(r[l]=t[l])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var p=f[h];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",g=r.search||"";r.path=y+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||b||r.host&&t.pathname,E=_,O=r.pathname&&r.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===O[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=t.search,r.query=t.query;else if(!o.isNullOrUndefined(t.search))return S&&(r.hostname=r.host=O.shift(),(L=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=L.shift(),r.host=r.hostname=L.shift())),r.search=t.search,r.query=t.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=O.slice(-1)[0],k=(r.host||t.host||O.length>1)&&("."===x||".."===x)||""===x,j=0,T=O.length;T>=0;T--)"."===(x=O[T])?O.splice(T,1):".."===x?(O.splice(T,1),j++):j&&(O.splice(T,1),j--);if(!_&&!E)for(;j--;j)O.unshift("..");!_||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),k&&"/"!==O.join("/").substr(-1)&&O.push("");var L,P=""===O[0]||O[0]&&"/"===O[0].charAt(0);return S&&(r.hostname=r.host=P?"":O.length?O.shift():"",(L=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=L.shift(),r.host=r.hostname=L.shift())),(_=_||r.host&&O.length)&&!P&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},5225:function(t){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},5803:function(t,e,r){function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},82:function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},4895:function(t,e,r){"use strict";var n=r(2635),o=r(3138),i=r(2094),a=r(198);function u(t){return t.call.bind(t)}var s="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=u(Object.prototype.toString),f=u(Number.prototype.valueOf),h=u(String.prototype.valueOf),p=u(Boolean.prototype.valueOf);if(s)var d=u(BigInt.prototype.valueOf);if(c)var y=u(Symbol.prototype.valueOf);function v(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function m(t){return"[object Map]"===l(t)}function g(t){return"[object Set]"===l(t)}function b(t){return"[object WeakMap]"===l(t)}function w(t){return"[object WeakSet]"===l(t)}function _(t){return"[object ArrayBuffer]"===l(t)}function E(t){return"undefined"!=typeof ArrayBuffer&&(_.working?_(t):t instanceof ArrayBuffer)}function O(t){return"[object DataView]"===l(t)}function S(t){return"undefined"!=typeof DataView&&(O.working?O(t):t instanceof DataView)}e.isArgumentsObject=n,e.isGeneratorFunction=o,e.isTypedArray=a,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):a(t)||S(t)},e.isUint8Array=function(t){return"Uint8Array"===i(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===i(t)},e.isUint16Array=function(t){return"Uint16Array"===i(t)},e.isUint32Array=function(t){return"Uint32Array"===i(t)},e.isInt8Array=function(t){return"Int8Array"===i(t)},e.isInt16Array=function(t){return"Int16Array"===i(t)},e.isInt32Array=function(t){return"Int32Array"===i(t)},e.isFloat32Array=function(t){return"Float32Array"===i(t)},e.isFloat64Array=function(t){return"Float64Array"===i(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===i(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===i(t)},m.working="undefined"!=typeof Map&&m(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(m.working?m(t):t instanceof Map)},g.working="undefined"!=typeof Set&&g(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(g.working?g(t):t instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(b.working?b(t):t instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),e.isWeakSet=function(t){return w(t)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=E,O.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&O(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=S;var x="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function k(t){return"[object SharedArrayBuffer]"===l(t)}function j(t){return void 0!==x&&(void 0===k.working&&(k.working=k(new x)),k.working?k(t):t instanceof x)}function T(t){return v(t,f)}function L(t){return v(t,h)}function P(t){return v(t,p)}function A(t){return s&&v(t,d)}function C(t){return c&&v(t,y)}e.isSharedArrayBuffer=j,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=T,e.isStringObject=L,e.isBooleanObject=P,e.isBigIntObject=A,e.isSymbolObject=C,e.isBoxedPrimitive=function(t){return T(t)||L(t)||P(t)||A(t)||C(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(E(t)||j(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},3335:function(t,e,r){var n=r(4406),o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(c(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),u=n[r];r<o;u=n[++r])m(u)||!E(u)?a+=" "+u:a+=" "+c(u);return a},e.deprecate=function(t,r){if(void 0!==n&&!0===n.noDeprecation)return t;if(void 0===n)return function(){return e.deprecate(t,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return t.apply(this,arguments)}};var a={},u=/^$/;if(n.env.NODE_DEBUG){var s=n.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+s+"$","i")}function c(t,r){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),v(r)?n.showHidden=r:r&&e._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),h(n,t,n.depth)}function l(t,e){var r=c.styles[e];return r?"\x1b["+c.colors[r][0]+"m"+t+"\x1b["+c.colors[r][1]+"m":t}function f(t,e){return t}function h(t,r,n){if(t.customInspect&&r&&x(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return b(o)||(o=h(t,o,n)),o}var i=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return g(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}(t,r);if(i)return i;var a=Object.keys(r),u=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),S(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(x(r)){var s=r.name?": "+r.name:"";return t.stylize("[Function"+s+"]","special")}if(_(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return t.stylize(Date.prototype.toString.call(r),"date");if(S(r))return p(r)}var c,l="",f=!1,E=["{","}"];return y(r)&&(f=!0,E=["[","]"]),x(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),_(r)&&(l=" "+RegExp.prototype.toString.call(r)),O(r)&&(l=" "+Date.prototype.toUTCString.call(r)),S(r)&&(l=" "+p(r)),0!==a.length||f&&0!=r.length?n<0?_(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=f?function(t,e,r,n,o){for(var i=[],a=0,u=e.length;a<u;++a)P(e,String(a))?i.push(d(t,e,r,n,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(d(t,e,r,n,o,!0))})),i}(t,r,n,u,a):a.map((function(e){return d(t,r,n,u,e,f)})),t.seen.pop(),function(t,e,r){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(c,l,E)):E[0]+l+E[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,r,n,o,i){var a,u,s;if((s=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?u=s.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):s.set&&(u=t.stylize("[Setter]","special")),P(n,o)||(a="["+o+"]"),u||(t.seen.indexOf(s.value)<0?(u=m(r)?h(t,s.value,null):h(t,s.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return u;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function y(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return void 0===t}function _(t){return E(t)&&"[object RegExp]"===k(t)}function E(t){return"object"==typeof t&&null!==t}function O(t){return E(t)&&"[object Date]"===k(t)}function S(t){return E(t)&&("[object Error]"===k(t)||t instanceof Error)}function x(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function j(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!a[t])if(u.test(t)){var r=n.pid;a[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else a[t]=function(){};return a[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=r(4895),e.isArray=y,e.isBoolean=v,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=w,e.isRegExp=_,e.types.isRegExp=_,e.isObject=E,e.isDate=O,e.types.isDate=O,e.isError=S,e.types.isNativeError=S,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(82);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var t=new Date,e=[j(t.getHours()),j(t.getMinutes()),j(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",L(),e.format.apply(e,arguments))},e.inherits=r(1285),e._extend=function(t,e){if(!e||!E(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,o)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=A,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var o=e.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,e).then((function(t){n.nextTick(a.bind(null,null,t))}),(function(t){n.nextTick(C.bind(null,t,a))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,o(t)),e}},2094:function(t,e,r){"use strict";var n=r(3243),o=r(2191),i=r(2680),a=i("Object.prototype.toString"),u=r(7226)(),s="undefined"==typeof globalThis?r.g:globalThis,c=o(),l=i("String.prototype.slice"),f={},h=r(9765),p=Object.getPrototypeOf;u&&h&&p&&n(c,(function(t){if("function"==typeof s[t]){var e=new s[t];if(Symbol.toStringTag in e){var r=p(e),n=h(r,Symbol.toStringTag);if(!n){var o=p(r);n=h(o,Symbol.toStringTag)}f[t]=n.get}}}));var d=r(198);t.exports=function(t){return!!d(t)&&(u&&Symbol.toStringTag in t?function(t){var e=!1;return n(f,(function(r,n){if(!e)try{var o=r.call(t);o===n&&(e=o)}catch(t){}})),e}(t):l(a(t),8,-1))}},8892:function(t){t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),o=t[t.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(t){n[t]=o[t]})),n}}},7031:function(t){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},1960:function(t){t.exports=function(){for(var t={},r=0;r<arguments.length;r++){var n=arguments[r];for(var o in n)e.call(n,o)&&(t[o]=n[o])}return t};var e=Object.prototype.hasOwnProperty},8268:function(t){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.head;case 1:if(!e){t.next=7;break}return t.next=4,e.value;case 4:e=e.next,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)}))}},8006:function(t,e,r){"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)e.push(arguments[r]);return e}function o(t,e,r){var n=e===t.head?new u(r,null,e,t):new u(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function i(t,e){t.tail=new u(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function a(t,e){t.head=new u(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function u(t,e,r,n){if(!(this instanceof u))return new u(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=u,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)i(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)a(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,o=this.head;null!==o;)r.push(t.call(e,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,o=this.tail;null!==o;)r.push(t.call(e,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=t(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=t(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=0,i=this.head;null!==i&&o<t;o++)i=i.next;for(;null!==i&&o<e;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=this.length,i=this.tail;null!==i&&o>e;o--)i=i.prev;for(;null!==i&&o>t;o--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,n=this.head;null!==n&&r<t;r++)n=n.next;var i=[];for(r=0;n&&r<e;r++)i.push(n.value),n=this.removeNode(n);for(null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev),r=0;r<(arguments.length<=2?0:arguments.length-2);r++)n=o(this,n,r+2<2||arguments.length<=r+2?void 0:arguments[r+2]);return i},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(8268)(n)}catch(t){}},4973:function(t){"use strict";var e,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n={},o=0,i=0;function a(t){var e="";do{e=r[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function u(){var t=a(+new Date);return t!==e?(o=0,e=t):t+"."+a(o++)}for(;i<64;i++)n[r[i]]=i;u.encode=a,u.decode=function(t){var e=0;for(i=0;i<t.length;i++)e=64*e+n[t.charAt(i)];return e},t.exports=u},4569:function(t){"use strict";var e=String.prototype.replace,r=/%20/g,n="RFC3986";t.exports={default:n,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:n}},129:function(t,e,r){"use strict";var n=r(8261),o=r(5235),i=r(4569);t.exports={formats:i,parse:o,stringify:n}},5235:function(t,e,r){"use strict";var n=r(2769),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},u=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},s=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,u=r.depth>0&&/(\[[^[\]]*])/.exec(i),c=u?i.slice(0,u.index):i,l=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;l.push(c)}for(var f=0;r.depth>0&&null!==(u=a.exec(i))&&f<r.depth;){if(f+=1,!r.plainObjects&&o.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+i.slice(u.index)+"]"),function(t,e,r,n){for(var o=n?e:s(e,r),i=t.length-1;i>=0;--i){var a,u=t[i];if("[]"===u&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var c="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,l=parseInt(c,10);r.parseArrays||""!==c?!isNaN(l)&&u!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[])[l]=o:"__proto__"!==c&&(a[c]=o):a={0:o}}o=a}return o}(l,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:a.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var r,c={},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,h=l.split(e.delimiter,f),p=-1,d=e.charset;if(e.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[r]?d="utf-8":"utf8=%26%2310003%3B"===h[r]&&(d="iso-8859-1"),p=r,r=h.length);for(r=0;r<h.length;++r)if(r!==p){var y,v,m=h[r],g=m.indexOf("]="),b=-1===g?m.indexOf("="):g+1;-1===b?(y=e.decoder(m,a.decoder,d,"key"),v=e.strictNullHandling?null:""):(y=e.decoder(m.slice(0,b),a.decoder,d,"key"),v=n.maybeMap(s(m.slice(b+1),e),(function(t){return e.decoder(t,a.decoder,d,"value")}))),v&&e.interpretNumericEntities&&"iso-8859-1"===d&&(v=u(v)),m.indexOf("[]=")>-1&&(v=i(v)?[v]:v),o.call(c,y)?c[y]=n.combine(c[y],v):c[y]=v}return c}(t,r):t,f=r.plainObjects?Object.create(null):{},h=Object.keys(l),p=0;p<h.length;++p){var d=h[p],y=c(d,l[d],r,"string"==typeof t);f=n.merge(f,y,r)}return!0===r.allowSparse?f:n.compact(f)}},8261:function(t,e,r){"use strict";var n=r(4294),o=r(2769),i=r(4569),a=Object.prototype.hasOwnProperty,u={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,c=String.prototype.split,l=Array.prototype.push,f=function(t,e){l.apply(t,s(e)?e:[e])},h=Date.prototype.toISOString,p=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:p,formatter:i.formatters[p],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},y={},v=function t(e,r,i,a,u,l,h,p,v,m,g,b,w,_,E,O){for(var S,x=e,k=O,j=0,T=!1;void 0!==(k=k.get(y))&&!T;){var L=k.get(e);if(j+=1,void 0!==L){if(L===j)throw new RangeError("Cyclic object value");T=!0}void 0===k.get(y)&&(j=0)}if("function"==typeof p?x=p(r,x):x instanceof Date?x=g(x):"comma"===i&&s(x)&&(x=o.maybeMap(x,(function(t){return t instanceof Date?g(t):t}))),null===x){if(u)return h&&!_?h(r,d.encoder,E,"key",b):r;x=""}if("string"==typeof(S=x)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||o.isBuffer(x)){if(h){var P=_?r:h(r,d.encoder,E,"key",b);if("comma"===i&&_){for(var A=c.call(String(x),","),C="",I=0;I<A.length;++I)C+=(0===I?"":",")+w(h(A[I],d.encoder,E,"value",b));return[w(P)+(a&&s(x)&&1===A.length?"[]":"")+"="+C]}return[w(P)+"="+w(h(x,d.encoder,E,"value",b))]}return[w(r)+"="+w(String(x))]}var R,D=[];if(void 0===x)return D;if("comma"===i&&s(x))R=[{value:x.length>0?x.join(",")||null:void 0}];else if(s(p))R=p;else{var N=Object.keys(x);R=v?N.sort(v):N}for(var F=a&&s(x)&&1===x.length?r+"[]":r,M=0;M<R.length;++M){var B=R[M],U="object"==typeof B&&void 0!==B.value?B.value:x[B];if(!l||null!==U){var z=s(x)?"function"==typeof i?i(F,B):F:F+(m?"."+B:"["+B+"]");O.set(e,j);var G=n();G.set(y,O),f(D,t(U,z,i,a,u,l,h,p,v,m,g,b,w,_,E,G))}}return D};t.exports=function(t,e){var r,o=t,c=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==t.format){if(!a.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=i.formatters[r],o=d.filter;return("function"==typeof t.filter||s(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof c.filter?o=(0,c.filter)("",o):s(c.filter)&&(r=c.filter);var l,h=[];if("object"!=typeof o||null===o)return"";l=e&&e.arrayFormat in u?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var p=u[l];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var y="comma"===p&&e&&e.commaRoundTrip;r||(r=Object.keys(o)),c.sort&&r.sort(c.sort);for(var m=n(),g=0;g<r.length;++g){var b=r[g];c.skipNulls&&null===o[b]||f(h,v(o[b],b,p,y,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,m))}var w=h.join(c.delimiter),_=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),w.length>0?_+w:""}},2769:function(t,e,r){"use strict";var n=r(4569),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),u=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:u,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],a=o.obj[o.prop],u=Object.keys(a),s=0;s<u.length;++s){var c=u[s],l=a[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:a,prop:c}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,o,i){if(0===t.length)return t;var u=t;if("symbol"==typeof t?u=Symbol.prototype.toString.call(t):"string"!=typeof t&&(u=String(t)),"iso-8859-1"===r)return escape(u).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var s="",c=0;c<u.length;++c){var l=u.charCodeAt(c);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===n.RFC1738&&(40===l||41===l)?s+=u.charAt(c):l<128?s+=a[l]:l<2048?s+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?s+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(c+=1,l=65536+((1023&l)<<10|1023&u.charCodeAt(c)),s+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return s},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(i(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var a=e;return i(e)&&!i(r)&&(a=u(e,n)),i(e)&&i(r)?(r.forEach((function(r,i){if(o.call(e,i)){var a=e[i];a&&"object"==typeof a&&r&&"object"==typeof r?e[i]=t(a,r,n):e.push(r)}else e[i]=r})),e):Object.keys(r).reduce((function(e,i){var a=r[i];return o.call(e,i)?e[i]=t(e[i],a,n):e[i]=a,e}),a)}}},8864:function(){},45:function(){},6224:function(){},3260:function(){},4854:function(){},6602:function(){},206:function(){},2191:function(t,e,r){"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof o[n[e]]&&(t[t.length]=n[e]);return t}},9765:function(t,e,r){"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n}},r={};function m(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,m),o.loaded=!0,o.exports}m.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return m.d(e,{a:e}),e},m.d=function(t,e){for(var r in e)m.o(e,r)&&!m.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},m.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),m.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},m.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},m.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var g={};return function(){"use strict";m.r(g),m.d(g,{AmityUserTokenManager:function(){return VP},ApiEndpoint:function(){return ce},ApiRegion:function(){return le},ChannelFilter:function(){return wl},ChannelMembership:function(){return El},ChannelMembershipRepository:function(){return hg},ChannelModerationRepository:function(){return Bg},ChannelRepository:function(){return ig},ChannelSortingMethod:function(){return _l},ChannelType:function(){return bl},CommentDataType:function(){return xo},CommentReferenceType:function(){return So},CommentRepository:function(){return ya},CommentSortingMethod:function(){return ko},CommunityCategorySortingMethod:function(){return Iw},CommunityFilter:function(){return Aw},CommunityPostSettings:function(){return Mw},CommunityRepository:function(){return nT},CommunitySortingMethod:function(){return Cw},CommunityUserFilter:function(){return Dw},CommunityUserMembership:function(){return Rw},CommunityUserSortingMethod:function(){return Nw},ConnectionStatus:function(){return p},ContentFeedType:function(){return _},ContentType:function(){return w},DataStatus:function(){return y},ErrorCode:function(){return E},EventSubscriberRepository:function(){return Jt},FeedRepository:function(){return nS},FeedType:function(){return RO},FileRepository:function(){return bd},FileType:function(){return jp},FollowEventTypes:function(){return de},FollowRequestStatus:function(){return uu},ImageSize:function(){return Tp},LoadingStatus:function(){return d},MediaSize:function(){return b},MemberFilter:function(){return Ol},MentionType:function(){return Ef},MessageEditorRepository:function(){return Uy},MessageFlagRepository:function(){return Gy},MessageRepository:function(){return Wy},MessageTools:function(){return $y},MessageType:function(){return _f},Permissions:function(){return Pw},PollAnswerType:function(){return XP},PollDataType:function(){return JP},PollRepository:function(){return o},PollStatus:function(){return ZP},PostDataType:function(){return Lc},PostRepository:function(){return IO},PostSortingMethod:function(){return Pc},PostTargetType:function(){return Tc},ReactionEventType:function(){return kr},ReactionReferenceType:function(){return xr},ReactionRepository:function(){return co},ReactorRepository:function(){return vo},ReportContentType:function(){return cb},ReportRepository:function(){return gl},StreamRepository:function(){return n},StreamResolutions:function(){return YP},StreamSortingMethod:function(){return QP},StreamStatus:function(){return KP},SubscriptionLevels:function(){return pe},SyncState:function(){return v},UserFilter:function(){return iu},UserRepository:function(){return dc},UserSortingMethod:function(){return au},_changeSDKDefaultConfig:function(){return WP},default:function(){return $P},getCommentTopic:function(){return FP},getCommunityTopic:function(){return DP},getPostTopic:function(){return NP},getUserFollowTopic:function(){return BP},getUserTopic:function(){return MP}});var t={};m.r(t),m.d(t,{channelSegment:function(){return wa},displayName:function(){return va},firstCreated:function(){return ma},lastActivity:function(){return ba},lastCreated:function(){return ga}});var e={};m.r(e),m.d(e,{createFile:function(){return gp},createVideo:function(){return _p},deleteFile:function(){return xp},fileInformationForId:function(){return Rp},getFile:function(){return kp},getFileUrlById:function(){return Ip},uploadFile:function(){return Mp},uploadFiles:function(){return Gp}});var r={};m.r(r),m.d(r,{addReaction:function(){return hy},createFileMessage:function(){return Yd},createImageMessage:function(){return Hd},createMessage:function(){return Rd},createTextMessage:function(){return Bd},deleteMessage:function(){return sy},flag:function(){return wy},getMessage:function(){return Zh},isFlaggedByMe:function(){return Ty},queryMessages:function(){return Kh},removeReaction:function(){return vy},unflag:function(){return Sy},updateMessage:function(){return oy}});var n={};m.r(n),m.d(n,{StreamResolutions:function(){return iT},StreamSortingMethod:function(){return aT},StreamStatus:function(){return oT},createStream:function(){return cL},deleteStream:function(){return bL},disposeStream:function(){return OL},getStream:function(){return JT},queryStreams:function(){return $T},streamStore:function(){return SL},updateStream:function(){return yL}});var o={};m.r(o),m.d(o,{PollAnswerType:function(){return kL},PollDataType:function(){return xL},PollStatus:function(){return jL},closePoll:function(){return wP},createPoll:function(){return pP},deletePoll:function(){return SP},getPoll:function(){return CP},pollStore:function(){return IP},votePoll:function(){return LP}});var i=m(5130),a=m.n(i),u=m(2982);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(n);if(o){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return f(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).isEnabled=t,e}return e=a,(r=[{key:"reduce",value:function(t){this.isEnabled&&(t.error?logWarning("Action received (error): ",t):logInfo("Action received: [".concat(t.type,"]"),t))}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(u.StateStore))(!0);var p=Object.freeze({NotConnected:"not-connected",Disconnected:"disconnected",Connecting:"connecting",Connected:"connected"}),d=Object.freeze({NotLoading:"not-loading",Loading:"loading",Loaded:"loaded",Error:"error"}),y=Object.freeze({NotExist:"not-exist",Local:"local",Fresh:"fresh",Error:"error"}),v=Object.freeze({Default:0,Synced:1,Syncing:2,Error:3}),b=Object.freeze({Small:"small",Medium:"medium",Large:"large",Full:"full"}),w=Object.freeze({video:"video",text:"text"}),_=Object.freeze({story:"story",clip:"clip",chat:"chat",post:"post"}),E=Object.freeze({BusinessError:5e5,UnauthorizedError:400100,ItemNotFound:400400,BadRequestError:4e5,Conflict:400900,ForbiddenError:400300,PermissionDenied:400301,UserIsMuted:400302,ChannelIsMuted:400303,UserIsBanned:400304,NumberOfMemberExceed:400305,ExemptFromBan:400306,MaxRepetitionExceed:400307,BanWordFound:400308,LinkNotAllowed:400309,UserIsGlobalBanned:400312,Unknown:8e5,InvalidParameter:800110,ErrorQueryInProgress:800170,ConnectionError:800210});function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,e,r){return e&&S(t.prototype,e),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}function T(t){var e=I();return function(){var r,n=D(t);if(e){var o=D(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return L(this,r)}}function L(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return P(t)}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){var e="function"==typeof Map?new Map:void 0;return A=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return C(t,arguments,D(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),R(n,t)},A(t)}function C(t,e,r){return C=I()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&R(o,r.prototype),o},C.apply(null,arguments)}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}var N=function(t){j(r,t);var e=T(r);function r(){var t;k(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Error.captureStackTrace&&Error.captureStackTrace(P(t),r),t.type="ASCWebSDK",t.date=new Date,t}return x(r)}(A(Error)),F=function(t){j(r,t);var e=T(r);function r(){var t;k(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).name="ASCError",t.level="fatal",t.code=o[1]||E.Unknown,t.message="ASCWebSDK: ".concat(o[0]),t}return x(r)}(N),M=function(t){j(r,t);var e=T(r);function r(){var t;k(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).name="ASCConnectionError",t.level="error",t.code=E.ConnectionError,t.message=o[0]?o[0]:"SDK client experince problems with connection",t}return x(r)}(N),B=function(t){j(r,t);var e=T(r);function r(){var t;k(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).name="ASCInvalidParameterError",t.level="fatal",t.code=E.InvalidParameter,t}return x(r)}(N);function U(t){if(t){var e=parseInt(t,10);return e>=400&&e<500||e===E.UserIsGlobalBanned}return!1}function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach((function(e){q(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var H=m.g||window;function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}H.ASCError=F,H.ASCConnectionError=M,H.ASCInvalidParameterError=B,H.publicLogInfo=a()("ASCWebSDK:info"),H.publicLogInfo.log=console.log.bind(console),H.publicLogWarning=a()("ASCWebSDK:warning"),H.publicLogWarning.log=console.warn.bind(console),H.publicLogError=a()("ASCWebSDK:error"),H.publicLogWarning.log=console.error.bind(console),H.logInfo=a()("SDKInternal:info"),H.logInfo.log=console.log.bind(console),H.logWarning=a()("SDKInternal:warning"),H.logWarning.log=console.warn.bind(console),H.logError=a()("SDKInternal:error"),H.logError.log=console.error.bind(console),H.__asc__=G(G({},H.__asc__),{},{sdk:"5.24.0"});var $="undefined"!=typeof window?m(5486):void 0,W=["1"],K=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._store=$?$.createInstance({name:"EkoWebSDK",storeName:"EkoWebSDKv".concat(W[W.length-1]),description:"EKO Media&Communication SDK storage"}):void 0}var e,r;return e=t,r=[{key:"getItem",value:function(){var t;return this._store?(t=this._store).getItem.apply(t,arguments):Promise.resolve(void 0)}},{key:"setItem",value:function(){var t;return this._store?(t=this._store).setItem.apply(t,arguments):Promise.resolve(void 0)}}],r&&V(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),Y=m(2903),Q=m.n(Y),X=m(3818),J=m(4406),Z=function(t,e){J&&J.env},tt=m(1355);function et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var rt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new tt.EventEmitter2({wildcard:!0,delimiter:":",newListener:!1,maxListeners:50,verboseMemoryLeak:!0})}var e,r;return e=t,(r=[{key:"on",value:function(t,e){return this.emitter.on(t,e),this}},{key:"emit",value:function(t,e){return this.emitter.emit(t,e),this}},{key:"once",value:function(t,e){return this.emitter.once(t,e),this}},{key:"onAny",value:function(t){return this.emitter.onAny(t),this}},{key:"off",value:function(t,e){return this.emitter.off(t,e),this}},{key:"removeAllListeners",value:function(t){return this.emitter.removeAllListeners(t),this}}])&&et(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),nt={convert:!1,allowUnknown:!1},ot=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nt,n=(Q().isSchema(e)?e:Q().object(e)).validate(t,r),o=n.error,i=n.value;if(o)throw new ASCInvalidParameterError(o.details[0].message);return i},it=m(139),at=m.n(it);function ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var st,ct=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"configure",value:function(t){var e=t.endpoint;this.apiGatewayEndpoint=e}},{key:"apiGatewayEndpoint",get:function(){if(this._apiGatewayEndpoint)return this._apiGatewayEndpoint;throw new Error("API endpoint is not provided. Please configure first")},set:function(t){if(!("string"==typeof t&&t.length>0))throw new Error("API endpoint has to be a string");this._apiGatewayEndpoint=t}},{key:"get",value:function(t){return at().get("".concat(this.apiGatewayEndpoint).concat(t)).type("json")}},{key:"post",value:function(t){return at().post("".concat(this.apiGatewayEndpoint).concat(t)).type("json")}},{key:"put",value:function(t){return at().put("".concat(this.apiGatewayEndpoint).concat(t)).type("json")}},{key:"delete",value:function(t){return at().delete("".concat(this.apiGatewayEndpoint).concat(t)).type("json")}}])&&ut(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),lt=function(t){return ct.configure(t),ct},ft=ct,ht=m(7768),pt=m.n(ht),dt=new Uint8Array(16);function yt(){if(!st&&!(st="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return st(dt)}for(var vt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,mt=function(t){return"string"==typeof t&&vt.test(t)},gt=[],bt=0;bt<256;++bt)gt.push((bt+256).toString(16).substr(1));var wt=function(t,e,r){var n=(t=t||{}).random||(t.rng||yt)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(gt[t[e+0]]+gt[t[e+1]]+gt[t[e+2]]+gt[t[e+3]]+"-"+gt[t[e+4]]+gt[t[e+5]]+"-"+gt[t[e+6]]+gt[t[e+7]]+"-"+gt[t[e+8]]+gt[t[e+9]]+"-"+gt[t[e+10]]+gt[t[e+11]]+gt[t[e+12]]+gt[t[e+13]]+gt[t[e+14]]+gt[t[e+15]]).toLowerCase();if(!mt(r))throw TypeError("Stringified UUID is invalid");return r}(n)},_t="5.24.0",Et=12e4,Ot=864e5,St=m(8149),xt=m.n(St);function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}function Tt(t,e){if(e&&("object"===kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Lt(t)}function Lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(t)}function At(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function It(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rt(t,e,r){return e&&It(t.prototype,e),r&&It(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var Dt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ct(this,t),this._queue=[],this._onEnqueue=e.onEnqueue}return Rt(t,[{key:"isEmpty",get:function(){return 0===this._queue.length}},{key:"enqueue",value:function(t){this._queue.push(t),void 0!==this._onEnqueue&&this._onEnqueue()}},{key:"dequeue",value:function(){return this._queue.shift()}},{key:"removeByIndex",value:function(t){this._queue.splice(t,1)}}]),t}(),Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Pt(e);if(r){var o=Pt(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Tt(this,t)});function o(){var t;Ct(this,o);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return At(Lt(t=n.call.apply(n,[this].concat(r))),"isLocked",!1),t}return Rt(o,[{key:"hasSomeToSend",get:function(){return!this.isEmpty&&!this._queue[this._queue.length-1].isSending}},{key:"getAndMarkNext",value:function(){var t=this._queue.find((function(t){return!1===t.isSending}));if(t)return t.isSending=!0,t}},{key:"tryToFindRpcDuplicatesAndSquash",value:function(t,e,r){for(var n=0;n<this._queue.length;n+=1)if(this._queue[n].event===t&&xt()(e,this._queue[n].data))return this._queue[n].rpcPromiseList.push(r),!0;return!1}},{key:"removeRpcByRpcId",value:function(t){for(var e=0;e<this._queue.length;e+=1)for(var r=0;r<this._queue[e].rpcPromiseList.length;r+=1)if(this._queue[e].rpcPromiseList[r].rpcId===t)return this.removeByIndex(e),!0;return!1}},{key:"removeRpcPromiseByRpcId",value:function(t){for(var e=0;e<this._queue.length;e+=1)for(var r=0;r<this._queue[e].rpcPromiseList.length;r+=1)if(this._queue[e].rpcPromiseList[r].rpcId===t)return 1===this._queue[e].rpcPromiseList.length?this.removeByIndex(e):this._queue[e].rpcPromiseList.splice(r,1),!0;return!1}}]),o}(Dt),Ft=m(7329),Mt=m.n(Ft),Bt=function(t){return new Promise((function(e){setTimeout(e,t)}))},Ut=function(t,e){return!(e.updatedAt&&new Date(t.updatedAt)>new Date(e.updatedAt))},zt=m(8521),Gt=m.n(zt);function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vt(){Vt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==qt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function $t(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Kt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._retryCount=0,this._realtimeEvents=new Map,this._allowReconnection=!0,this._isConnected=!1}var e,r,n,o;return e=t,r=[{key:"brokerEndpoint",get:function(){return this._brokerEndpoint},set:function(t){this._brokerEndpoint=t}},{key:"connectionData",get:function(){if(this._connectionData)return this._connectionData;throw new Error("Connection data is not available. Please authenticate first.")},set:function(t){if(t){var e=t.token,r=t.userId,n=t.clientId;this._connectionData={clean:!1,keepalive:5,reconnectPeriod:0,clientId:n,username:r,password:e,protocolId:"MQTT",protocolVersion:4}}else this._connectionData=void 0}},{key:"isConnected",get:function(){return this._isConnected},set:function(t){this._isConnected=t}},{key:"configure",value:function(t){var e=t.endpoint;this.brokerEndpoint=e}},{key:"connect",value:function(){var t=this;if(this.isConnected)return logWarning("Mqtt connection is already established"),!1;logInfo("Broker Details",{endpoint:this.brokerEndpoint,connectionData:this.connectionData}),this._client=Gt().connect(this.brokerEndpoint,this.connectionData),this._client.on("connect",(function(){t._retryCount=0,t._allowReconnection=!0,t.isConnected=!0,logInfo("Mqtt connected")})),this._client.on("error",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];logWarning("MQTT connection error",r),t.isConnected=!1,t._reconnectMqtt()})),this._client.on("message",(function(e,r){var n=JSON.parse(r.toString());logInfo("Mqtt message received",{topic:e,payload:n});var o=n.eventType,i=n.data,a=t._realtimeEvents.get(o);a&&a(i)})),this._client.on("reconnect",(function(){logInfo("Reconnecting to mqtt.. ")})),this._client.on("close",(function(){t.isConnected=!1,logWarning("Mqtt connection closed by broker"),t._allowReconnection&&t._reconnectMqtt()}))}},{key:"_reconnectMqtt",value:(n=Vt().mark((function t(){return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._retryCount<=10)){t.next=6;break}return logInfo("Reconnection attempt",{retryCount:this._retryCount}),t.next=4,Bt(1e3*Math.pow(2,this._retryCount));case 4:this._retryCount+=1,this.connect();case 6:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){$t(i,r,o,a,u,"next",t)}function u(t){$t(i,r,o,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"subscribe",value:function(t,e){if(!this._client)throw new ASCError("No connection to broker");this._client.subscribe(t,(function(r,n){if(r)return e&&e(r),logWarning("Failed to subscribe to topic: ".concat(t)),!1;if(n.length){var o=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ht(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,1)[0],i=o.qos,a=o.topic;if(128===i)return e&&e(t),logWarning("Failed to subscribe to topic",a),!1;logInfo("Subscribed to topic",a),e&&e(!1)}}))}},{key:"unsubscribe",value:function(t){if(!this._client)throw new ASCError("No connection to broker");this._client.unsubscribe(t,(function(e){e?logWarning("Error unsubscribing from topic",t):logInfo("Unsubscribed from topic",t)}))}},{key:"disconnect",value:function(){this.isConnected&&(this._allowReconnection=!1,this._client.end())}},{key:"on",value:function(t,e){this._realtimeEvents.set(t,e)}}],r&&Wt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Qt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"subscribe",value:function(t,e){Zt.subscribe(t,e)}},{key:"unsubscribe",value:function(t){Zt.unsubscribe(t)}}])&&Yt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Xt=new Kt,Jt=new Qt,Zt=Xt;function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(){ee=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==te(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function re(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function ne(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){re(i,n,o,a,u,"next",t)}function u(t){re(i,n,o,a,u,"throw",t)}a(void 0)}))}}function oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ie(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ae(t){return t instanceof Error?{message:t.message,code:t.code}:"string"==typeof t?{message:t}:t}var ue=new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,"_requestDelay",Math.floor(5/90*1e3)),ie(this,"_createRpcPromise",(function(t,r,n){return new Promise((function(o,i){e._rpcQueue.tryToFindRpcDuplicatesAndSquash(t,r,{rpcId:n,resolve:o,reject:i})||e._rpcQueue.enqueue({event:t,data:r,rpcHandler:function(o){try{e._socket.emit(t,r,(function(t){if(t&&t.status)if("success"===t.status&&t.data)o.forEach((function(e){e.resolve(t.data)}));else if("fail"===t.status&&t.data&&t.data.code){var r=new ASCError;r.code=t.data.code,o.forEach((function(t){t.reject(r)}))}else if("error"===t.status&&t.message&&t.code){var i=new ASCError(t.message);i.code=t.code,o.forEach((function(t){t.reject(i)}))}o.forEach((function(t){t.reject(new ASCError("Unknown"))})),e._rpcQueue.removeRpcByRpcId(n)}))}catch(t){o.forEach((function(t){t.reject(new ASCConnectionError)})),e._rpcQueue.removeRpcByRpcId(n)}},rpcPromiseList:[{rpcId:n,resolve:o,reject:i}],isSending:!1})}))})),ie(this,"_handleRPCQueue",ne(ee().mark((function t(){var r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConnected||e._rpcQueue.isLocked||!e._rpcQueue.hasSomeToSend){t.next=11;break}e._rpcQueue.isLocked=!0,r=e._rpcQueue.getAndMarkNext();case 3:if(void 0===r){t.next=10;break}return r.rpcHandler(r.rpcPromiseList),t.next=7,Bt(e._requestDelay);case 7:r=e._rpcQueue.getAndMarkNext(),t.next=3;break;case 10:e._rpcQueue.isLocked=!1;case 11:case"end":return t.stop()}}),t)})))),ie(this,"_onSocketDisconnect",(function(t){"io server disconnect"===t?(logWarning("Socket was disconnected by server"),e._socket.connect()):"io client disconnect"===t?logWarning("Socket was disconnected by client"):"transport close"!==t&&"ping timeout"!==t||(logWarning("Socket was disconnected by client"),e._rpcQueue._queue.forEach((function(t){t.isSending&&t.rpcPromiseList.forEach((function(t){return t.reject(new Error("Timeout exceeded"))})),t.isSending=!1}))),setTimeout((function(){return u.dispatcher.session.disconnected()}),0)})),ie(this,"_onSocketConnect",ne(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return logInfo("Socket connected"),t.next=3,u.dispatcher.session.connectFinished();case 3:return t.next=5,e._handleRPCQueue();case 5:case"end":return t.stop()}}),t)})))),ie(this,"_onSocketConnectError",(function(t){logWarning("Socket connection error",t),u.dispatcher.session.handleConnectionError(ae(t))})),ie(this,"_onSocketError",(function(t){logError("Socket error",t),U(t.code)&&(e._socket.disconnect(),Zt.disconnect()),u.dispatcher.session.handleConnectionError(ae(t))})),this._serverSubscriberStorage=new Set,this._rpcQueue=new Nt({onEnqueue:this._handleRPCQueue})}var e,r;return e=t,(r=[{key:"isConnected",get:function(){return Boolean(this._socket&&this._socket.connected)}},{key:"socketEndpoint",get:function(){return this._socketEndpoint},set:function(t){if(!("string"==typeof t&&t.length>0))throw new ASCInvalidParameterError("Socket endpoint has to be a string.");this._socketEndpoint=t}},{key:"connectionData",get:function(){if(this._connectionData)return this._connectionData;throw new Error("Socket data is not available. Please authenticate first.")},set:function(t){this._connectionData=t}},{key:"configure",value:function(t){var e=t.endpoint;this.socketEndpoint=e}},{key:"connect",value:function(){var t=this;if(this.isConnected)throw logWarning("Calling connect when websocket connection already exist"),new Error("Socket already connected");logInfo("Connecting to ws server at ".concat(this.socketEndpoint)),this._socket=pt()(this.socketEndpoint,{query:this.connectionData,reconnectionDelay:2e3,transports:["websocket"]}),this._socket.on("connect",this._onSocketConnect),this._socket.on("connect_error",this._onSocketConnectError),this._socket.on("error",this._onSocketError),this._socket.on("disconnect",this._onSocketDisconnect),this._serverSubscriberStorage.forEach((function(e){var r=e.type,n=e.event,o=e.callback;"on"===r?t._socket.on(n,o):"once"===r&&t._socket.once(n,o)}))}},{key:"disconnect",value:function(){this.isConnected?(this._socket.disconnect(),this._socket=null):logWarning("There is no socket connection to disconnect.")}},{key:"rpc",value:function(t,e){var r=this,n=wt();return{promise:this._createRpcPromise(t,e,n),dispose:function(){return r._rpcQueue.removeRpcPromiseByRpcId(n)}}}},{key:"on",value:function(t,e){this._socket&&this._socket.on(t,e),this._serverSubscriberStorage.add({type:"on",event:t,callback:e})}},{key:"once",value:function(t,e){this._socket&&this._socket.once(t,e),this._serverSubscriberStorage.add({type:"once",event:t,callback:e})}}])&&oe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),se=ue,ce=Object.freeze({EU:"https://api.eu.amity.co",SG:"https://api.sg.amity.co",US:"https://api.us.amity.co"}),le=Object.freeze({EU:"eu",SG:"sg",US:"us"}),fe=Object.freeze({NotAuthenticated:"notauthenticated",Authenticating:"authenticating",Authenticated:"authenticated",AuthenticationFailed:"authenticationfailed"}),he="https://api.{region}.amity.co",pe=Object.freeze({COMMUNTIY:"community",POST:"post",COMMENT:"comment",POST_AND_COMMENT:"post_and_comment",USER:"user"}),de=Object.freeze({MY_FOLLOWERS:"my_followers",MY_FOLLOWINGS:"my_followings"}),ye=function(t,e){return t.replace("{region}",e)},ve=m(4406);function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function ge(){ge=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==me(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function be(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function we(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){be(i,n,o,a,u,"next",t)}function u(t){be(i,n,o,a,u,"throw",t)}a(void 0)}))}}var _e="ASCWebSDKDeviceId";function Ee(){return Oe.apply(this,arguments)}function Oe(){return(Oe=we(ge().mark((function t(){var e,r,n,o;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.getItem(_e);case 2:if(e=t.sent){t.next=10;break}return r=wt(),n=(new Date).getTime(),o="ascwebsdkx0".concat(r).concat(n),t.next=9,K.setItem(_e,o);case 9:return t.abrupt("return",o);case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Se(){return xe.apply(this,arguments)}function xe(){return(xe=we(ge().mark((function t(){var e,r;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee();case 2:return e=t.sent,r={version:_t,kind:"",model:""},"undefined"!=typeof window&&void 0!==window.document?(r.kind="web",r.model=window.navigator.userAgent):void 0!==ve&&null!=ve.versions&&null!=ve.versions.node?(r.kind="node",r.model=ve.versions.node):(r.kind="javascript",r.model="unknown"),t.abrupt("return",{deviceId:e,deviceInfo:r});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function je(){je=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ke(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Le(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(r),!0).forEach((function(e){Pe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ae(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Ce(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ae(i,n,o,a,u,"next",t)}function u(t){Ae(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Re,De,Ne,Fe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._retryDelay=1e3}var e,r,n,o;return e=t,r=[{key:"configure",value:function(t){var e=t.apiKey;this.apiKey=e}},{key:"apiKey",get:function(){if(this._apiKey)return this._apiKey;throw new ASCInvalidParameterError("API key is not provided. Please configure first")},set:function(t){if(!("string"==typeof t&&t.length>0))throw new ASCInvalidParameterError("API key is not provided or has wrong format");this._apiKey=t}},{key:"requestAccessTokenWithApiKey",value:(o=Ce(je().mark((function t(e,r,n,o){var i,a,u,s,c,l,f;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se();case 2:i=t.sent;case 3:return t.prev=4,t.next=7,ft.post(o||"/v1/device").set("X-API-Key",this.apiKey).withCredentials().send(Le({userId:e,displayName:r,authToken:n},i));case 7:if(a=t.sent,!(u=a.body)||u.status&&"error"===u.status){t.next=12;break}return this._resetRetryDelay(),t.abrupt("return",{body:u});case 12:return t.next=14,this._waitBeforeNextRequest();case 14:t.next=27;break;case 16:if(t.prev=16,t.t0=t.catch(4),!(t.t0 instanceof ASCInvalidParameterError)){t.next=20;break}return t.abrupt("return",{err:t.t0});case 20:if(!t.t0.response||!U(t.t0.response.body.code)){t.next=25;break}return this._resetRetryDelay(),s=t.t0.response.body,c=s.code,l=s.message,f=c===E.UserIsGlobalBanned?new ASCError(l,c):new ASCConnectionError(l),t.abrupt("return",{err:f});case 25:return t.next=27,this._waitBeforeNextRequest();case 27:t.next=3;break;case 29:case"end":return t.stop()}}),t,this,[[4,16]])}))),function(t,e,r,n){return o.apply(this,arguments)})},{key:"_waitBeforeNextRequest",value:(n=Ce(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bt(this._retryDelay);case 2:this._increaseRetryDelay();case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"_resetRetryDelay",value:function(){this._retryDelay=1e3}},{key:"_increaseRetryDelay",value:function(){this._retryDelay*=1.5}}],r&&Ie(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Me=new Fe,Be=function(t){return Me.configure(t),Me},Ue=Me,ze=m(4519),Ge=m.n(ze),qe=m(3982),He=m.n(qe),Ve=m(3678),$e=m.n(Ve),We=m(4336),Ke=m.n(We);function Ye(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(r),!0).forEach((function(e){er(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Je(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function er(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rr(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var nr={convert:!0,allowUnknown:!0,stripUnknown:!0},or=new WeakMap,ir=(Re=X.action.bound,De=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ze(this,t),er(this,"modelDataLifespan",Et),Je(this,"updateToken",Ne,this),er(this,"isLocal",!1),er(this,"noRefetch",!1),er(this,"createStaticProps",(function(){})),er(this,"createComputedProps",(function(){})),Q().objectId=He()(Q()),this._schema=this.constructor.Schema(Q()),(0,X.extendObservable)(this,{}),this.update(e,r)}var e,r,n;return e=t,r=[{key:"uniqId",get:function(){throw new Error("model `uniqId` not implemented")}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._toSchemaJS(),n=$e()(r,t,(function(t,e){return Ke()(e)?t:e})),o=Q().object(this._schema).validate(n,nr),i=o.value,a=o.error;if(a)throw logError("Model validation has been failed!",a),a;this.isLocal=Boolean(e.isLocal),this.noRefetch=Boolean(e.noRefetch),this.updateToken=wt(),this._modelUpdatedAt=Date.now(),(0,X.set)(this,i)}},{key:"_toSchemaJS",value:function(){var t=this;return Ge()(this._schema,(function(e,r){return(0,X.toJS)(t[r])}))}},{key:"toJS",value:function(){return this._toSchemaJS()}},{key:"resetInitialLocalFlag",value:function(){this.isLocal=!1,this.noRefetch=!1}},{key:"isStillFresh",get:function(){return Boolean(Date.now()-this._modelUpdatedAt<=this.modelDataLifespan)}},{key:"modelForLiveData",value:function(t){var e=this.toJS(),r=this.createComputedProps();if("object"===Xe(r)){var n=Object.getOwnPropertyDescriptors(r);Object.defineProperties(e,n)}if(!t)return e;var o=or.get(t);if(o&&o.has(this))return Qe(Qe({},e),o.get(this));var i=Qe({},this.createStaticProps(e)),a=o?o.set(this,i):new Map([[this,i]]);return or.set(t,a),Qe(Qe({},e),i)}}],n=[{key:"Schema",value:function(t){throw new Error("Please override Schema static method for model")}}],r&&tr(e.prototype,r),n&&tr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ne=rr(De.prototype,"updateToken",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr(De.prototype,"update",[Re],Object.getOwnPropertyDescriptor(De.prototype,"update"),De.prototype),De),ar=ir,ur=function(t){return{hashFlag:t.object({bits:t.number().min(0),hashes:t.number().min(0),hash:t.string()}).empty(null).default(null),flagCount:t.number().integer().greater(-1).default(0)}},sr=m(7030),cr=m.n(sr);function lr(t){return t.response&&t.response.body?Promise.reject(new ASCError(t.response.body.message,t.response.body.code)):Promise.reject(new ASCError(t.message))}var fr=m(5395),hr=m.n(fr),pr=m(8834).Buffer;function dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vr(t,e){return Math.ceil(-t*Math.log(e)/Math.pow(Math.log(2),2))}function mr(t,e){return Math.ceil(t/e*Math.log(2))}function gr(t){var e=t;return e+=e<<13,e^=e>>>7,e+=e<<3,4294967295&(e^=e>>>17)+(e<<5)}function br(t){return t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}function wr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new Uint32Array(1);r[0]=2166136261^e;for(var n=0;n<t.length;n++){var o=t.readInt8(n);r[0]=br(r[0]^o)}return gr(r[0])}function _r(t,e,r){for(var n=wr(t),o=wr(t,1576284489),i=[],a=n%e,u=0;u<r;u++)i.push(a<0?a+e:a),a=(a+o)%e;return i}var Er=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;dr(this,t);var n=Math.min(vr(e,r),18841),o=Math.ceil(n/8);this.bucket=pr.alloc(o),this.bitCount=8*o,this.hashCount=mr(this.bitCount,e)}var e,r;return e=t,r=[{key:"add",value:function(t){for(var e=this.hashCount,r=this.bitCount,n=this.bucket,o=_r(t,r,e),i=0;i<e;i++)n[Math.floor(o[i]/8)]|=1<<o[i]%8}},{key:"test",value:function(t){for(var e=this.hashCount,r=this.bitCount,n=this.bucket,o=_r(t,r,e),i=0;i<e;i++)if(0==(n[Math.floor(o[i]/8)]&1<<o[i]%8))return!1;return!0}},{key:"serialize",value:function(){return{bits:this.bitCount,hashes:this.hashCount,hash:this.bucket.toString("base64")}}},{key:"deserialize",value:function(t){var e=t.bits,r=t.hashes,n=t.hash;this.bucket=pr.from(n,"base64"),this.hashCount=r,this.bitCount=e}}],r&&yr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Or(t){var e=function(t){return pr.from(t.toString(),"utf8")};return{add:hr()(e,t.add.bind(t)),test:hr()(e,t.test.bind(t)),serialize:t.serialize.bind(t)}}var Sr=function(t){var e=new Er;return e.deserialize(t),Or(e)},xr=Object.freeze({Message:"message",Post:"post",Comment:"comment"}),kr=Object.freeze({Add:"add",Remove:"remove"});function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function Tr(t){return function(t){if(Array.isArray(t))return Lr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Lr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cr(t,e){return Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cr(t,e)}function Ir(t,e){if(e&&("object"===jr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rr(t){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(t)}var Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rr(n);if(o){var r=Rr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Ir(this,t)});function a(){return Pr(this,a),i.apply(this,arguments)}return e=a,r=[{key:"Schema",value:function(t){var e;return{reactionId:t.string().optional(),referenceId:t.string().required(),referenceType:(e=t.string()).valid.apply(e,Tr(Object.values(xr))).required(),userId:t.string().required(),reactionName:t.string().required(),createdAt:t.date().default(new Date)}}}],r&&Ar(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function Nr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Fr=function(t){var e,r=(e={},Nr(e,xr.Message,"messageId"),Nr(e,xr.Post,"postId"),Nr(e,xr.Comment,"commentId"),e)[t];if(!r)throw new ASCInvalidParameterError("reactable model key cannot be determined");return r},Mr=function(t){switch(!0){case t.hasOwnProperty("messageId"):return xr.Message;case t.hasOwnProperty("postId"):return xr.Post;case t.hasOwnProperty("commentId"):return xr.Comment;default:throw new ASCInvalidParameterError("model cannot be reacted upon.")}};function Br(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Br(Object(r),!0).forEach((function(e){zr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qr=function(t,e,r){var n=t.reactions,o=t.reactionsCount,i=function(t){return function(t){if(Array.isArray(t))return Gr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Gr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.myReactions);if(function(t){return tw.currentUser&&tw.currentUser.userId===t}(r)){if(i.includes(e))return null;i.push(e)}return{reactions:Ur(Ur({},n),{},zr({},e,(n[e]||0)+1)),reactionsCount:o+1,myReactions:i}};function Hr(t){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(t)}function Vr(t){var e=function(t,e){if("object"!==Hr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==Hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===Hr(e)?e:String(e)}function $r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wr,Kr,Yr=function(t,e,r){var n=t.reactions,o=t.reactionsCount,i=function(t){return function(t){if(Array.isArray(t))return $r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $r(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.myReactions);if(function(t){return tw.currentUser&&tw.currentUser.userId===t}(r)){if(!i.includes(e))return null;i.splice(i.indexOf(e),1)}var a=n[e],u=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(n,[e].map(Vr));return a-1>0&&(u[e]=a-1),{reactions:u,reactionsCount:Math.max(0,o-1),myReactions:i}},Qr=function(t,e,r,n){return function(t){return tw.currentUser&&tw.currentUser.userId===t}(n)?"addReaction"===r?(t.includes(e)||t.push(e),t):t.includes(e)?t.filter((function(t){return t!==e})):t:t};function Xr(t){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(t)}function Jr(){Jr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Xr(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Zr(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function tn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Zr(i,n,o,a,u,"next",t)}function u(t){Zr(i,n,o,a,u,"throw",t)}a(void 0)}))}}function en(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?en(Object(r),!0).forEach((function(e){fn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return on(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?on(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function an(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function un(t,e){return un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},un(t,e)}function sn(t,e){if(e&&("object"===Xr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cn(t)}function cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ln(t){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ln(t)}function fn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hn(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var pn=(Wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&un(t,e)}(l,t);var e,r,n,o,i,a,s,c=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ln(a);if(s){var r=ln(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return sn(this,t)});function l(){var t,e,r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),e=cn(t=c.call(this,"reaction")),r=Kr,n=cn(t),r&&Object.defineProperty(e,"state",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),t}return e=l,r=[{key:"clear",value:function(){this.state.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){var e=t.referenceType,r=t.referenceId,n=t.reactionName,o=t.userId;return"".concat(e,"#").concat(r,"#").concat(n,"#").concat(o)}},{key:"findListByReference",value:function(t,e){return Array.from(this.state.entries()).filter((function(r){return nn(r,1)[0].startsWith("".concat(t,"#").concat(e,"#"))})).map((function(t){return nn(t,2)[1]}))}},{key:"findListByUser",value:function(t){return Array.from(this.state.entries()).filter((function(e){return nn(e,1)[0].endsWith("#".concat(t))})).map((function(t){return nn(t,2)[1]}))}},{key:"_create",value:function(t){var e=new Dr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))||e.ifExist?this._update(t,e):this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(rn(rn({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.clear()}},{key:"distribute",value:function(t){return["file","user","channelUser","channel"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"query",value:(i=tn(Jr().mark((function t(e){var r,n,o,i,a,s,c;return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v2/reactions").set(tw.authorizationBearerHeader).query(e);case 2:return r=t.sent,n=r.body,o=n.results,i=n.paging,a=o.reactions,s=o.users,c=a.flatMap((function(t){var e=t.referenceId,r=t.referenceType;return t.reactors.map((function(t){return rn({referenceId:e,referenceType:r},t)}))})),u.dispatcher.reaction.load({data:c}),u.dispatcher.user&&u.dispatcher.user.load({data:s}),t.abrupt("return",{paging:i});case 10:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})},{key:"addReaction",value:(o=tn(Jr().mark((function t(e){var r,n,o,i,a,s,c;return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.reactableModel,n=e.reactionName,tw.currentUser){t.next=3;break}return t.abrupt("return",!1);case 3:if(o=Mr(r),i=Fr(o),a=r[i],s=tw.currentUser.userId,c=qr(r,n,s)){t.next=10;break}return t.abrupt("return",!1);case 10:return u.dispatcher[o].load({data:[rn(rn(fn({},i,a),r),c)],options:{noRefetch:!0}}),t.prev=11,t.next=14,ft.post("/api/v2/reactions").set(tw.authorizationBearerHeader).send({referenceId:a,referenceType:o,reactionName:n}).catch(lr);case 14:return t.abrupt("return",!0);case 17:return t.prev=17,t.t0=t.catch(11),u.dispatcher[o].load({data:[rn(fn({},i,a),r)]}),t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t,null,[[11,17]])}))),function(t){return o.apply(this,arguments)})},{key:"removeReaction",value:(n=tn(Jr().mark((function t(e){var r,n,o,i,a,s,c;return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.reactableModel,n=e.reactionName,tw.currentUser){t.next=3;break}return t.abrupt("return",!1);case 3:if(o=Mr(r),i=Fr(o),a=r[i],s=tw.currentUser.userId,c=Yr(r,n,s)){t.next=10;break}return t.abrupt("return",!1);case 10:return u.dispatcher[o].load({data:[rn(rn(fn({},i,a),r),c)],options:{noRefetch:!0}}),t.prev=11,t.next=14,ft.delete("/api/v2/reactions").set(tw.authorizationBearerHeader).send({referenceId:a,referenceType:o,reactionName:n}).catch(lr);case 14:return t.abrupt("return",!0);case 17:if(t.prev=17,t.t0=t.catch(11),400400!==t.t0.code){t.next=21;break}return t.abrupt("return",!0);case 21:return u.dispatcher[o].load({data:[rn(fn({},i,a),r)]}),t.abrupt("return",!1);case 23:case"end":return t.stop()}}),t,null,[[11,17]])}))),function(t){return n.apply(this,arguments)})}],r&&an(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(u.StateStore),Kr=hn(Wr.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),hn(Wr.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(Wr.prototype,"session.reset"),Wr.prototype),hn(Wr.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(Wr.prototype,"load"),Wr.prototype),hn(Wr.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(Wr.prototype,"unload"),Wr.prototype),hn(Wr.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(Wr.prototype,"query"),Wr.prototype),hn(Wr.prototype,"addReaction",[u.effect],Object.getOwnPropertyDescriptor(Wr.prototype,"addReaction"),Wr.prototype),hn(Wr.prototype,"removeReaction",[u.effect],Object.getOwnPropertyDescriptor(Wr.prototype,"removeReaction"),Wr.prototype),Wr);function dn(t){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(t)}function yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mn(){return mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=gn(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},mn.apply(this,arguments)}function gn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_n(t)););return t}function bn(t,e){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bn(t,e)}function wn(t,e){if(e&&("object"===dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _n(t){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(t)}var En,On,Sn,xn,kn,jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bn(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_n(n);if(o){var r=_n(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return wn(this,t)});function a(){return yn(this,a),i.apply(this,arguments)}return e=a,r=[{key:"on",value:function(){var t;this._setupLiveReactionsIfRequired();for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=mn(_n(a.prototype),"on",this)).call.apply(t,[this].concat(r))}},{key:"once",value:function(){var t;this._setupLiveReactionsIfRequired();for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=mn(_n(a.prototype),"once",this)).call.apply(t,[this].concat(r))}},{key:"onAny",value:function(){var t;this._setupLiveReactionsIfRequired();for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=mn(_n(a.prototype),"onAny",this)).call.apply(t,[this].concat(r))}},{key:"_setupLiveReactionsIfRequired",value:function(){0===this._disposers.length&&this._setupLiveReactions()}}],r&&vn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(rt);function Tn(t){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(t)}function Ln(){Ln=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Tn(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Pn(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function An(t,e,r){return An=Mn()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Dn(o,r.prototype),o},An.apply(null,arguments)}function Cn(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dn(t,e){return Dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dn(t,e)}function Nn(t,e){if(e&&("object"===Tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fn(t)}function Fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Bn(t){return Bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bn(t)}function Un(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zn(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Gn,qn=(En=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dn(t,e)}(a,t);var e,r,n,o,i=(e=a,r=Mn(),function(){var t,n=Bn(e);if(r){var o=Bn(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Nn(this,t)});function a(t){var e;In(this,a),Cn(Fn(e=i.call(this)),"dataStatus",On,Fn(e)),Cn(Fn(e),"loadingStatus",Sn,Fn(e)),Un(Fn(e),"_recordsPerPage",20),Cn(Fn(e),"_page",xn,Fn(e)),Cn(Fn(e),"_token",kn,Fn(e)),Un(Fn(e),"_disposers",[]);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return e._transaction=An(t,n),e._setInitialState(),e.resetPage(),e}return n=a,o=[{key:"hasMore",get:function(){return!!this._token}},{key:"models",get:function(){var t=this;return this._transaction.models&&this._transaction.models.filter(Boolean).slice(0,(this._page+1)*this._recordsPerPage).map((function(e){return e.modelForLiveData(t)}))}},{key:"resetPage",value:function(){this.loadingStatus=void 0,this._page=0,this._token=void 0,this._loadData()}},{key:"nextPage",value:function(){this.loadingStatus===d.Loaded&&this.hasMore?(this._page+=1,this._loadData()):publicLogWarning("There are no more data to load or previous page not loaded yet")}},{key:"dispose",value:function(){this._transaction.dispose&&this._transaction.dispose(),this.removeAllListeners(),this._disposers.forEach((function(t){return t()})),this._disposers=[],this._oldData=void 0,this._page=0,this._token=void 0,this._transaction={},this.loadingStatus=d.Error,this.dataStatus=y.Error}},{key:"_setInitialState",value:function(){if(!this._transaction.loadNextData||"function"!=typeof this._transaction.loadNextData)throw this.loadingStatus=d.Error,this.dataStatus=y.Error,new ASCError("Syntax error: loadNextData is not defined");this.dataStatus=0===this.models.length?y.NotExist:y.Local,Number.isInteger(this._transaction.recordsPerPage)&&(this._recordsPerPage=this._transaction.recordsPerPage)}},{key:"_loadData",value:function(){var t=this;this.loadingStatus!==d.Loading?(this.loadingStatus=d.Loading,this._transaction.loadNextData(this._token,this._recordsPerPage).then((function(e){var r=t._transaction.pagingDirection;t._token=r?e.paging[r]:e.paging.next,t.loadingStatus=d.Loaded,t.dataStatus=y.Fresh})).catch((function(e){t._token=void 0,t.loadingStatus=d.Error,t.dataStatus=y.Error,t.emit("dataError",e)}))):publicLogWarning("Already loading.")}},{key:"_setupLiveReactions",value:function(){var t=this;this._disposers=[(0,X.observe)(this,"dataStatus",(function(e){t.emit("dataStatusChanged",{oldValue:e.oldValue,newValue:e.newValue})})),(0,X.observe)(this,"loadingStatus",(function(e){t.emit("loadingStatusChanged",{oldValue:e.oldValue,newValue:e.newValue})})),(0,X.reaction)((function(){return t.models&&t.models.map((function(t){return t}))}),function(){var e,r=(e=Ln().mark((function e(r){var n,o;return Ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||void 0!==t._oldData&&xt()(t._oldData,r)){e.next=12;break}if(t._oldData=r,!t._transaction.refreshPaginationToken||t._token||t._transaction.models.filter((function(t){return!!t.noRefetch})).length){e.next=8;break}return e.next=5,t._transaction.refreshPaginationToken();case 5:n=e.sent,o=t._transaction.pagingDirection,t._token=o?n.paging[o]:n.paging.next;case 8:if(t._transaction.models){e.next=10;break}return e.abrupt("return");case 10:t._transaction.models.filter(Boolean).filter((function(t){return"noRefetch"in t||!!t.noRefetch})).forEach((function(t){delete t.noRefetch})),t.emit("dataUpdated",r);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(t){Pn(i,n,o,a,u,"next",t)}function u(t){Pn(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}()),(0,X.reaction)((function(){return t._transaction.models&&0===t._transaction.models.length}),(function(){Array.isArray(t._oldData)&&t._oldData.length&&(t.loadingStatus=d.Error,t.dataStatus=y.Error,t.emit("dataError",new ASCError("This collection is no longer valid")))}))]}}],o&&Rn(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),a}(jn),On=zn(En.prototype,"dataStatus",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=zn(En.prototype,"loadingStatus",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=zn(En.prototype,"_page",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kn=zn(En.prototype,"_token",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn(En.prototype,"hasMore",[X.computed],Object.getOwnPropertyDescriptor(En.prototype,"hasMore"),En.prototype),zn(En.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(En.prototype,"models"),En.prototype),En),Hn=qn,Vn=function(t){var e=ot(t,{reactableModel:Q().object().keys({myReactions:Q().array().items(Q().string())}),reactionName:Q().string().required()},{convert:!1,allowUnknown:!0});return u.dispatcher.reaction.addReaction(e)};function $n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(r),!0).forEach((function(e){Yn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Qn,Xn,Jn,Zn,to,eo,ro=(Gn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Yn(this,"dispose",(function(){})),this.parameters=e}var e,r;return e=t,(r=[{key:"models",get:function(){var t=this.parameters;return mo.values.filter((function(e){var r=e.referenceId,n=e.referenceType;return r===t.referenceId&&n===t.referenceType}))}},{key:"loadNextData",value:function(t,e){return u.dispatcher.reaction.query(Wn(Wn({},this.parameters),{},{options:{token:t,limit:e}}))}}])&&Kn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Qn=Gn.prototype,Xn="models",Jn=[X.computed],Zn=Object.getOwnPropertyDescriptor(Gn.prototype,"models"),to=Gn.prototype,eo={},Object.keys(Zn).forEach((function(t){eo[t]=Zn[t]})),eo.enumerable=!!eo.enumerable,eo.configurable=!!eo.configurable,("value"in eo||eo.initializer)&&(eo.writable=!0),eo=Jn.slice().reverse().reduce((function(t,e){return e(Qn,Xn,t)||t}),eo),to&&void 0!==eo.initializer&&(eo.value=eo.initializer?eo.initializer.call(to):void 0,eo.initializer=void 0),void 0===eo.initializer&&(Object.defineProperty(Qn,Xn,eo),eo=null),Gn);function no(t){return function(t){if(Array.isArray(t))return oo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return oo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oo(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var io=function(t){var e,r=ot(t,{referenceId:Q().string().required(),referenceType:(e=Q().string()).valid.apply(e,no(Object.values(xr))).required()});return new Hn(ro,r)},ao=function(t){var e=ot(t,{reactableModel:Q().object().keys({myReactions:Q().array().items(Q().string())}),reactionName:Q().string().required()},{convert:!1,allowUnknown:!0});return u.dispatcher.reaction.removeReaction(e)};function uo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function so(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var co=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z()}var e,r;return e=t,(r=[{key:"reactionsForReference",value:function(t){return Z(),io(t)}}])&&uo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function lo(t){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(t)}function fo(){fo=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==lo(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function ho(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function po(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ho(i,n,o,a,u,"next",t)}function u(t){ho(i,n,o,a,u,"throw",t)}a(void 0)}))}}function yo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}so(co,"addReaction",(function(){return Vn.apply(void 0,arguments)})),so(co,"removeReaction",(function(){return ao.apply(void 0,arguments)})),so(co,"queryReactions",(function(){return io.apply(void 0,arguments)}));var vo=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z(),this._reactableModel=e,!("reactions"in this._reactableModel))throw new ASCInvalidParameterError("model ".concat(e.toString()," doesn't support reactions"))}var e,r,n,o;return e=t,r=[{key:"addReaction",value:(o=po(fo().mark((function t(e){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(),t.abrupt("return",Vn({reactableModel:this._reactableModel,reactionName:e}));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"removeReaction",value:(n=po(fo().mark((function t(e){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(),t.abrupt("return",ao({reactableModel:this._reactableModel,reactionName:e}));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}],r&&yo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),mo=new pn;function go(t){return function(t){if(Array.isArray(t))return bo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bo(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wo,_o,Eo,Oo=function(t,e){var r;return{reactions:t.object().optional().default({}),reactionsCount:t.number().integer().greater(-1).optional().default(0),myReactions:t.array().items(t.string()).optional().default([]),latestReaction:t.object({reactionId:t.string(),reactionName:t.string(),referenceId:t.string(),referenceType:t.string().valid(e),userId:t.string(),displayName:t.string(),eventName:(r=t.string()).valid.apply(r,go(Object.values(kr)))}).optional()}},So=Object.freeze({Post:"post",Content:"content"}),xo=Object.freeze({Text:"text"}),ko=Object.freeze({FirstCreated:"firstCreated",LastCreated:"lastCreated",FirstUpdated:"firstUpdated",LastUpdated:"lastUpdated"}),jo=["comment.created","comment.updated","comment.deleted","comment.flagged","comment.unflagged","comment.addReaction","comment.removeReaction"],To=Object.freeze({User:"user"}),Lo=m(129),Po=m.n(Lo);function Ao(t){return Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(t)}function Co(){Co=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ao(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Io(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Ro(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Io(i,n,o,a,u,"next",t)}function u(t){Io(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Do(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function No(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Do(Object(r),!0).forEach((function(e){qo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Do(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fo(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Mo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bo(t,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bo(t,e)}function Uo(t,e){if(e&&("object"===Ao(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zo(t)}function zo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Go(t){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(t)}function qo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ho(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Vo,$o,Wo=(wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bo(t,e)}(p,t);var e,r,n,o,i,a,s,c,l,f,h=(l=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Go(l);if(f){var r=Go(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Uo(this,t)});function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),Fo(zo(t=h.call(this,"comment")),"state",_o,zo(t)),Fo(zo(t),"errors",Eo,zo(t)),t._subscribeToRealTimeEvents(),t}return e=p,r=[{key:"_subscribeToRealTimeEvents",value:function(){var t=this;jo.forEach((function(e){Zt.on(e,(function(r){switch(e){case"comment.created":t.distribute(r),t._updateReferenceStore(r);break;case"comment.addReaction":case"comment.removeReaction":var n=r.reactor,o=n.reactionName,i=n.userId,a=n.updatedAt,s=r.comments;if(s&&s.length){var c=s[0],l=t.findById(c.commentId);if(l&&Ut(l,{updatedAt:a})){var f=l.toJS(),h="comment.addReaction"===e?"addReaction":"removeReaction",p=Qr(f.myReactions,o,h,i);u.dispatcher.comment.load({data:[No(No(No({},f),c),{},{myReactions:p})]})}}break;default:var d=r.comments;if(d&&d.length){var y=d[0],v=t.findById(y.commentId);v&&Ut(v,y)&&t.distribute(r)}}}))}))}},{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return t.commentId}},{key:"findById",value:function(t){return this.state.get(t)}},{key:"findErrorById",value:function(t){return this.errors.get(t)}},{key:"_create",value:function(t){var e=new jc(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(No(No({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"_updateReferenceStore",value:(c=Ro(Co().mark((function t(e){var r;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.dispatcher.post){t.next=2;break}return t.abrupt("return",e);case 2:return r=e.comments,t.next=5,Promise.all(r.filter((function(t){return t.referenceType===So.Post})).map((function(t){var e=t.commentId,r=t.referenceId;return u.dispatcher.post.addComment({postId:r,commentId:e})})));case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)})},{key:"session.reset",value:function(){this.clear()}},{key:"distribute",value:function(t){return["file","user","comment"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}},{key:"grab",value:function(t){var e=t.comments,r=!(!e||!e.length);return r&&u.dispatcher.comment.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.err,r=t.commentId;this.errors.set(r,e||new ASCError("Unknown"))}},{key:"fetch",value:(s=Ro(Co().mark((function t(e){var r,n;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.get("/api/v3/comments/list").set(tw.authorizationBearerHeader).query(Po().stringify({commentIds:[e]},{arrayFormat:"brackets"})).catch(lr);case 3:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.comment.setError({err:t.t0,commentId:e}),t.t0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return s.apply(this,arguments)})},{key:"query",value:(a=Ro(Co().mark((function t(e){var r,n;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v3/comments").set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"create",value:(i=Ro(Co().mark((function t(e){var r,n,o,i=this;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.post("/api/v3/comments").set(tw.authorizationBearerHeader).send(e).catch(lr);case 3:if(r=t.sent,n=r.body,this.distribute(n),u.dispatcher.post){t.next=8;break}return t.abrupt("return",n);case 8:return o=n.comments,t.next=11,Promise.all(o.filter((function(t){return t.referenceType===So.Post})).map((function(t){var e=t.commentId,r=t.referenceId;return u.dispatcher.post.addComment({postId:r,commentId:e})})));case 11:return o.map((function(t){var e=t.parentId;return e&&i.state.get(e)})).filter(Boolean).map((function(t){var e=t.toJS(),r=e.childrenNumber;return u.dispatcher.comment.load({data:[No(No({},e),{},{childrenNumber:r+1})]})})),t.abrupt("return",n);case 15:throw t.prev=15,t.t0=t.catch(0),u.dispatcher.comment.setError({err:t.t0,commentId:-1}),t.t0;case 19:case"end":return t.stop()}}),t,this,[[0,15]])}))),function(t){return i.apply(this,arguments)})},{key:"update",value:(o=Ro(Co().mark((function t(e){var r,n;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.put("/api/v3/comments/".concat(e.commentId)).set(tw.authorizationBearerHeader).send(e).catch(lr);case 3:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",!0);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.comment.setError({err:t.t0,commentId:e.commentId}),t.t0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return o.apply(this,arguments)})},{key:"delete",value:(n=Ro(Co().mark((function t(e){var r,n,o,i,a,s,c,l,f,h,p,d,y,v;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commentId,n=e.permanent,t.prev=1,t.next=4,ft.delete("/api/v4/comments/".concat(e.commentId)).set(tw.authorizationBearerHeader).send(e).catch(lr);case 4:return o=t.sent,i=o.body,a=i.success,(s=this.state.get(r))&&(c=s.toJS(),l=Array.from(this.state.values()),f=l.filter((function(t){return t.parentId===r})).map((function(t){return t.toJS()})),h=f.map((function(t){return t.commentId})),u.dispatcher.comment.unload({data:f.concat(c),options:{softDelete:!n}}),u.dispatcher.post.removeComments({postId:c.referenceId,commentIds:h.concat(r)}),p=s.parentId,(d=p&&this.state.get(p))&&(y=d.toJS(),(v=y.childrenNumber)>1&&u.dispatcher.comment.load({data:[No(No({},y),{},{childrenNumber:v-1})]}))),t.abrupt("return",a);case 12:throw t.prev=12,t.t0=t.catch(1),u.dispatcher.comment.setError({err:t.t0,commentId:r}),t.t0;case 16:case"end":return t.stop()}}),t,this,[[1,12]])}))),function(t){return n.apply(this,arguments)})}],r&&Mo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(u.StateStore),_o=Ho(wo.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Eo=Ho(wo.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Ho(wo.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(wo.prototype,"session.reset"),wo.prototype),Ho(wo.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(wo.prototype,"grab"),wo.prototype),Ho(wo.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(wo.prototype,"load"),wo.prototype),Ho(wo.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(wo.prototype,"unload"),wo.prototype),Ho(wo.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(wo.prototype,"setError"),wo.prototype),Ho(wo.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(wo.prototype,"fetch"),wo.prototype),Ho(wo.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(wo.prototype,"query"),wo.prototype),Ho(wo.prototype,"create",[u.effect],Object.getOwnPropertyDescriptor(wo.prototype,"create"),wo.prototype),Ho(wo.prototype,"update",[u.effect],Object.getOwnPropertyDescriptor(wo.prototype,"update"),wo.prototype),Ho(wo.prototype,"delete",[u.effect],Object.getOwnPropertyDescriptor(wo.prototype,"delete"),wo.prototype),wo);function Ko(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Qo,Xo,Jo,Zo=(Yo(Vo={},ko.FirstCreated,(function(t,e){return t.createdAt-e.createdAt})),Yo(Vo,ko.LastCreated,(function(t,e){var r=t.createdAt;return e.createdAt-r})),Vo),ti=($o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Yo(this,"pagingDirection","previous"),this.parameters=e;var r=e.first,n=e.last;this.recordsPerPage=r||n||10}var e,r;return e=t,r=[{key:"models",get:function(){var t=this.parameters,e=t.referenceType,r=t.referenceId,n=t.filterByParentId,o=t.parentId,i=t.isDeleted,a=t.hasFlag,u=t.sortBy,s=Array.from(da.state.values());return e&&(s=s.filter((function(t){return t.referenceType===e}))),r&&(s=s.filter((function(t){return t.referenceId===r}))),n&&(s=s.filter((function(t){return t.parentId===o}))),void 0!==i&&(s=s.filter((function(t){return t.isDeleted===i}))),a&&(s=s.filter((function(t){return t.flagCount>0}))),u&&Zo[u]&&s.sort(Zo[u]),s}},{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"loadNextData",value:function(t){var e=this.parameters,r={referenceType:e.referenceType,referenceId:e.referenceId,parentId:e.parentId,filterByParentId:e.filterByParentId,isDeleted:e.isDeleted,options:{token:t,first:e.first,last:e.last}};return u.dispatcher.comment.query(r)}},{key:"refreshPaginationToken",value:function(){return this.loadNextData()}}],r&&Ko(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}($o.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor($o.prototype,"models"),$o.prototype),$o);function ei(t){return function(t){if(Array.isArray(t))return ri(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ri(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ri(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ni(t){return ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ni(t)}function oi(t,e,r){return oi=fi()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&si(o,r.prototype),o},oi.apply(null,arguments)}function ii(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ai(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ui(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function si(t,e){return si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},si(t,e)}function ci(t,e){if(e&&("object"===ni(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return li(t)}function li(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function hi(t){return hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hi(t)}function pi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function di(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var yi,vi=(Qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&si(t,e)}(a,t);var e,r,n,o,i=(e=a,r=fi(),function(){var t,n=hi(e);if(r){var o=hi(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return ci(this,t)});function a(t){var e;ai(this,a),ii(li(e=i.call(this)),"dataStatus",Xo,li(e)),ii(li(e),"loadingStatus",Jo,li(e)),pi(li(e),"_disposers",[]);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return e._transaction=oi(t,n),e._setInitialState(),e._loadData(),e}return n=a,(o=[{key:"model",get:function(){return this._transaction.model&&this._transaction.model.modelForLiveData(this)}},{key:"dispose",value:function(){this._transaction.dispose&&this._transaction.dispose(),this.removeAllListeners(),this._disposers.forEach((function(t){return t()})),this._disposers=[],this._oldData=void 0,this._transaction={},this.loadingStatus=d.Error,this.dataStatus=y.Error}},{key:"_setInitialState",value:function(){if(!this._transaction.dataLoadHook||"function"!=typeof this._transaction.dataLoadHook)throw this.loadingStatus=d.Error,this.dataStatus=y.Error,new ASCError("Syntax error: dataLoadHook is not defined");void 0===this._transaction.model?(this.loadingStatus=d.Loading,this.dataStatus=y.NotExist):this._transaction.model.isStillFresh&&!this._transaction.model.isLocal?(this.loadingStatus=d.Loaded,this.dataStatus=y.Fresh):(this.loadingStatus=d.Loading,this.dataStatus=y.Local)}},{key:"_loadData",value:function(){var t=this;this.loadingStatus===d.Loading&&this._transaction.dataLoadHook().then((function(){t.loadingStatus=d.Loaded,t.dataStatus=y.Fresh,t._transaction.model.isLocal&&t._transaction.model.resetInitialLocalFlag()})).catch((function(){t.loadingStatus=d.Error,t.dataStatus=y.Error}))}},{key:"_setupLiveReactions",value:function(){var t=this;this._disposers=[(0,X.observe)(this,"dataStatus",(function(e){t.emit("dataStatusChanged",{oldValue:e.oldValue,newValue:e.newValue})})),(0,X.observe)(this,"loadingStatus",(function(e){t.emit("loadingStatusChanged",{oldValue:e.oldValue,newValue:e.newValue})})),(0,X.reaction)((function(){return!(!t._transaction.model||!t._transaction.model.updateToken)&&t._transaction.model.toJS()}),(function(e){if(e&&(void 0===t._oldData||!xt()(t._oldData,e))){var r=t.model;r&&(t._oldData=e,setTimeout((function(){t.emit("dataUpdated",r)}),0))}})),(0,X.reaction)((function(){return t._transaction.error}),(function(e){t.loadingStatus=d.Error,t.dataStatus=y.Error,t.emit("dataError",e)})),(0,X.reaction)((function(){return void 0===t._transaction.model}),(function(){void 0!==t._oldData&&(t.loadingStatus=d.Error,t.dataStatus=y.Error,t.emit("dataError",new ASCError("This object is no longer valid")))}))]}}])&&ui(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),a}(jn),Xo=di(Qo.prototype,"dataStatus",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=di(Qo.prototype,"loadingStatus",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di(Qo.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(Qo.prototype,"model"),Qo.prototype),Qo);function mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gi(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var bi,wi,_i=(yi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._commentId=e}var e,r;return e=t,(r=[{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"dataLoadHook",value:function(){return u.dispatcher.comment.fetch(this._commentId)}},{key:"model",get:function(){return da.findById(this._commentId)}},{key:"error",get:function(){return da.findErrorById(this._commentId)||da.findErrorById(-1)}}])&&mi(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),gi(yi.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(yi.prototype,"model"),yi.prototype),gi(yi.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(yi.prototype,"error"),yi.prototype),yi);function Ei(t){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(t)}function Oi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Si(t,e){return Si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Si(t,e)}function xi(t,e){if(e&&("object"===Ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ki(t)}function ki(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ji(t){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ji(t)}function Ti(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Li=(bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Si(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ji(n);if(o){var r=ji(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return xi(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e,r,n){r&&Object.defineProperty(t,"_commentId",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(ki(e=i.call(this)),0,wi,ki(e)),e._parameters=t,e}return e=a,(r=[{key:"dataLoadHook",value:function(){var t=this;return u.dispatcher.comment.create(this._parameters).then((function(e){var r=e.comments;t._commentId=r[0].commentId})).catch((function(){t._commentId=-1}))}},{key:"error",get:function(){return da.findErrorById(this._commentId)}}])&&Oi(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(_i),wi=Ti(bi.prototype,"_commentId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ti(bi.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(bi.prototype,"error"),bi.prototype),bi);function Pi(t){return function(t){if(Array.isArray(t))return Ai(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ai(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ai(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ci=function(t){var e,r,n,o=ot(t,{data:Q().object().when("dataType",{is:xo.Text,then:Q().object({text:Q().string().required()})}),dataType:(e=Q().string().required()).valid.apply(e,Pi(Object.values(xo))),referenceType:(r=Q().string().required()).valid.apply(r,Pi(Object.values(So))),referenceId:Q().string().required(),parentId:Q().string().optional(),metadata:Q().object().optional().default({}),mentionees:Q().array().items(Q().object({type:(n=Q().string()).valid.apply(n,Pi(Object.values(To))).required(),userIds:Q().array().items(Q().string()).optional()})).optional()});return new vi(Li,o)};function Ii(t){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(t)}function Ri(){Ri=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ii(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Di(t){return function(t){if(Array.isArray(t))return Ni(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ni(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ni(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fi(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Mi=function(){var t,e=(t=Ri().mark((function t(e){var r,n,o;return Ri().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=ot(e,{commentId:Q().string().required(),data:Q().object().when("dataType",{is:xo.Text,then:Q().object({text:Q().string().required()})}),dataType:(r=Q().string()).valid.apply(r,Di(Object.values(xo))).when("metadata",{is:Q().exist(),then:Q().optional(),otherwise:Q().required()}),metadata:Q().object().optional(),mentionees:Q().array().items(Q().object({type:(n=Q().string()).valid.apply(n,Di(Object.values(To))).required(),userIds:Q().array().items(Q().string()).optional()})).optional()}),t.next=3,u.dispatcher.comment.update(o);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Fi(i,n,o,a,u,"next",t)}function u(t){Fi(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),Bi=["text"];function Ui(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ui(Object(r),!0).forEach((function(e){Gi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ui(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qi(t){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(t)}function Hi(){Hi=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==qi(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Vi(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var $i=function(){var t,e=(t=Hi().mark((function t(e){var r,n,o,i=arguments;return Hi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],n=ot({commentId:e,permanent:r},{commentId:Q().string().required(),permanent:Q().boolean().required()}),t.next=4,u.dispatcher.comment.delete(n);case 4:return o=t.sent,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Vi(i,n,o,a,u,"next",t)}function u(t){Vi(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Wi(t){return Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(t)}function Ki(){Ki=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Wi(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Yi(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Qi=function(){var t,e=(t=Ki().mark((function t(e){var r,n,o,i;return Ki().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot(e,{commentId:Q().string().required(),reactionName:Q().string().required()}),n=r.commentId,o=r.reactionName,i=da.findById(n)){t.next=4;break}throw new ASCInvalidParameterError("unknown commentId");case 4:return t.abrupt("return",co.addReaction({reactableModel:i.toJS(),reactionName:o}));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Yi(i,n,o,a,u,"next",t)}function u(t){Yi(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Xi(t){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(t)}function Ji(){Ji=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Xi(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Zi(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var ta=function(){var t,e=(t=Ji().mark((function t(e){var r,n,o,i;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot(e,{commentId:Q().string().required(),reactionName:Q().string().required()}),n=r.commentId,o=r.reactionName,i=da.findById(n)){t.next=4;break}throw new ASCInvalidParameterError("unknown commentId");case 4:return t.abrupt("return",co.removeReaction({reactableModel:i.toJS(),reactionName:o}));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Zi(i,n,o,a,u,"next",t)}function u(t){Zi(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function ea(t){return ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ea(t)}function ra(){ra=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ea(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function na(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var oa=function(){var t,e=(t=ra().mark((function t(e){var r,n;return ra().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot({commentId:e},{commentId:Q().string().required()}),n=da.findById(r.commentId)){t.next=4;break}throw new ASCInvalidParameterError("unknown commentId");case 4:return t.abrupt("return",gl.flag(n));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){na(i,n,o,a,u,"next",t)}function u(t){na(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function ia(t){return ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(t)}function aa(){aa=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ia(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function ua(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var sa=function(){var t,e=(t=aa().mark((function t(e){var r,n;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot({commentId:e},{commentId:Q().string().required()}),n=da.findById(r.commentId)){t.next=4;break}throw new ASCInvalidParameterError("unknown commentId");case 4:return t.abrupt("return",gl.unflag(n));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ua(i,n,o,a,u,"next",t)}function u(t){ua(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function ca(t){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(t)}function la(){la=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ca(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function fa(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var ha,pa=function(){var t,e=(t=la().mark((function t(e){var r,n;return la().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot({commentId:e},{commentId:Q().string().required()}),n=da.findById(r.commentId)){t.next=4;break}throw new ASCInvalidParameterError("unknown commentId");case 4:return t.abrupt("return",gl.isFlaggedByMe(n));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){fa(i,n,o,a,u,"next",t)}function u(t){fa(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),da=new Wo,ya={queryComments:function(t){var e,r,n=ot(t,{referenceType:(e=Q().string().optional()).valid.apply(e,ei(Object.values(So))),referenceId:Q().string().optional(),parentId:Q().string().optional(),filterByParentId:Q().boolean().optional(),isDeleted:Q().boolean().optional(),hasFlag:Q().boolean().optional(),first:Q().number().optional(),last:Q().number().optional(),sortBy:(r=Q().string().optional()).valid.apply(r,ei(Object.values(ko))).default(ko.LastCreated)});return new Hn(ti,n)},commentForId:function(t){var e=ot({commentId:t},{commentId:Q().string().required()});return new vi(_i,e.commentId)},createComment:Ci,editComment:Mi,createTextComment:function(t){var e=t.text,r=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Bi);return Ci(zi(zi({},r),{},{dataType:xo.Text,data:{text:e}}))},editTextComment:function(t){var e=t.commentId,r=t.text,n=t.metadata,o=t.mentionees;return Mi({commentId:e,data:{text:r},dataType:xo.Text,metadata:n,mentionees:o})},deleteComment:$i,addReaction:Qi,removeReaction:ta,flag:oa,unflag:sa,isFlaggedByMe:pa},va=function(t,e){var r=t.displayName,n=e.displayName;return r===n?0:r<n?-1:1},ma=function(t,e){return t.createdAt-e.createdAt},ga=function(t,e){var r=t.createdAt;return e.createdAt-r},ba=function(t,e){var r=t.lastActivity;return e.lastActivity-r},wa=function(t,e){return t.channelSegment-e.channelSegment};function _a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ea(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_a(Object(r),!0).forEach((function(e){Sa(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Oa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xa=(ha=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Sa(this,"dispose",(function(){})),this.parameters=t}var r,n;return r=e,(n=[{key:"models",get:function(){var e=fc.values,r=this.parameters,n=r.keyword,o=r.filter,i=r.sortBy;return n&&(e=e.filter((function(t){return[t.userId,t.displayName].filter(Boolean).find((function(t){var e,r=/[\u0300-\u036f]/gi.test(n.normalize("NFD"))?t.toLowerCase():(e=t,Mt()(e.normalize("NFD"))).toLowerCase(),o=n.toLowerCase();return r.startsWith(o)}))}))),o===iu.Flagged&&(e=e.filter((function(t){return 0!==t.flagCount}))),i&&i in t&&e.sort(t[i]),e}},{key:"loadNextData",value:function(t,e){var r=u.dispatcher.user.query(Ea(Ea({},this.parameters),{},{options:{limit:e,token:t}})),n=r.promise,o=r.dispose;return this.dispose=o,n}}])&&Oa(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(ha.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(ha.prototype,"models"),ha.prototype),ha);function ka(t){return function(t){if(Array.isArray(t))return ja(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ja(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ja(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ta,La=function(){var t,e,r=ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{keyword:Q().string().optional(),filter:(t=Q().string().optional()).valid.apply(t,ka(Object.values(iu))),sortBy:(e=Q().string()).valid.apply(e,ka(Object.values(au))).default(au.DisplayName)});return new Hn(xa,r)};function Pa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Aa(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ca=(Ta=function(){function t(e){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(){},(r="dispose")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this.parameters=e}var e,r;return e=t,(r=[{key:"model",get:function(){return fc.findById(this.parameters.userId)}},{key:"error",get:function(){return fc.findErrorById(this.parameters.userId)}},{key:"dataLoadHook",value:function(){var t=u.dispatcher.user.fetch(this.parameters),e=t.promise,r=t.dispose;return this.dispose=r,e}}])&&Pa(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Aa(Ta.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(Ta.prototype,"model"),Ta.prototype),Aa(Ta.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(Ta.prototype,"error"),Ta.prototype),Ta),Ia=function(t){var e=ot({userId:t},{userId:Q().string().required()});return new vi(Ca,e)};function Ra(t){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(t)}function Da(){Da=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ra(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Na(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Fa=function(){var t,e=(t=Da().mark((function t(e){var r;return Da().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,Q().object({userId:Q().string().required(),displayName:Q().string().optional(),description:Q().string().optional().allow(""),avatarFileId:Q().string().optional().allow(null),avatarCustomUrl:Q().string().optional().allow(null),roles:Q().array().optional().items(Q().string()),metadata:Q().object().optional()}).min(2)),t.next=3,u.dispatcher.user.update(r).promise;case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Na(i,n,o,a,u,"next",t)}function u(t){Na(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Ma(t){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(t)}function Ba(){Ba=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ma(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ua(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var za=function(){var t,e=(t=Ba().mark((function t(e){var r,n;return Ba().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasOwnProperty("userId")){t.next=3;break}return Z(),t.abrupt("return",za(e.userId));case 3:if(r=ot({userId:e},{userId:Q().string().required()}),n=fc.findById(r.userId)){t.next=7;break}throw new ASCInvalidParameterError("unknown userId");case 7:return t.abrupt("return",gl.flag(n));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ua(i,n,o,a,u,"next",t)}function u(t){Ua(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Ga(t){return Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(t)}function qa(){qa=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ga(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ha(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Va=function(){var t,e=(t=qa().mark((function t(e){var r,n;return qa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasOwnProperty("userId")){t.next=3;break}return Z(),t.abrupt("return",Va(e.userId));case 3:if(r=ot({userId:e},{userId:Q().string().required()}),n=fc.findById(r.userId)){t.next=7;break}throw new ASCInvalidParameterError("unknown userId");case 7:return t.abrupt("return",gl.unflag(n));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ha(i,n,o,a,u,"next",t)}function u(t){Ha(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function $a(t){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(t)}function Wa(){Wa=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==$a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ka(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Ya=function(){var t,e=(t=Wa().mark((function t(e){var r,n;return Wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasOwnProperty("userId")){t.next=3;break}return Z(),t.abrupt("return",Ya(e.userId));case 3:if(r=ot({userId:e},{userId:Q().string().required()}),n=fc.findById(r.userId)){t.next=7;break}throw new ASCInvalidParameterError("unknown userId");case 7:return t.abrupt("return",gl.isFlaggedByMe(n));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ka(i,n,o,a,u,"next",t)}function u(t){Ka(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Qa(t){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(t)}function Xa(){Xa=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Qa(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ja(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Za,tu=function(){var t,e=(t=Xa().mark((function t(e){var r;return Xa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({userId:e},{userId:Q().string().required()}),t.abrupt("return",u.dispatcher.follow.follow(r).promise);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ja(i,n,o,a,u,"next",t)}function u(t){Ja(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function eu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ru,nu=(Za=function(){function t(e){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(){},(r="dispose")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this.parameters=e}var e,r;return e=t,(r=[{key:"model",get:function(){return hc.findByConnection(this.parameters.sourceUserId,this.parameters.targetUserId)}},{key:"dataLoadHook",value:function(){return u.dispatcher.follow.getFollowInfo({userId:this.parameters.targetUserId})}}])&&eu(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(Za.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(Za.prototype,"model"),Za.prototype),Za),ou=function(t,e){var r=ot({sourceUserId:t,targetUserId:e},{sourceUserId:Q().string().required(),targetUserId:Q().string().required()});return new vi(nu,r)},iu=Object.freeze({All:"all",Flagged:"flagged"}),au=Object.freeze({DisplayName:"displayName",FirstCreated:"firstCreated",LastCreated:"lastCreated"}),uu=Object.freeze({All:"all",Accepted:"accepted",Pending:"pending",None:"none"}),su=["follow.created","follow.requested","follow.accepted","follow.unfollowed","follow.requestCanceled","follow.requestDeclined","follow.followerDeleted"];function cu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cu(Object(r),!0).forEach((function(e){hu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pu=(ru=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),hu(this,"dispose",(function(){})),this.parameters=e}var e,r;return e=t,(r=[{key:"models",get:function(){var t=hc.values,e=this.parameters,r=e.userId,n=e.status;return(t=t.filter((function(t){return(n===uu.All||t.status===n)&&t.to===r}))).map((function(t){return fc.findById(t.from)})).filter(Boolean)}},{key:"loadNextData",value:function(t,e){return u.dispatcher.follow.getFollowers(lu(lu({},this.parameters),{},{options:{limit:e,token:t}}))}}])&&fu(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(ru.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(ru.prototype,"models"),ru.prototype),ru);function du(t){return function(t){if(Array.isArray(t))return yu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return yu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yu(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vu,mu=function(t,e){var r,n=ot({userId:t,status:e},{userId:Q().string().required(),status:(r=Q().string()).valid.apply(r,du(Object.values(uu))).required()});return new Hn(pu,n)};function gu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function bu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gu(Object(r),!0).forEach((function(e){_u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Eu=(vu=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_u(this,"dispose",(function(){})),this.parameters=e}var e,r;return e=t,(r=[{key:"models",get:function(){var t=hc.values,e=this.parameters,r=e.userId,n=e.status;return(t=t.filter((function(t){return(n===uu.All||t.status===n)&&t.from===r}))).map((function(t){return fc.findById(t.to)})).filter(Boolean)}},{key:"loadNextData",value:function(t,e){return u.dispatcher.follow.getFollowings(bu(bu({},this.parameters),{},{options:{limit:e,token:t}}))}}])&&wu(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(vu.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(vu.prototype,"models"),vu.prototype),vu);function Ou(t){return function(t){if(Array.isArray(t))return Su(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Su(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Su(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Su(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xu=function(t,e){var r,n=ot({userId:t,status:e},{userId:Q().string().required(),status:(r=Q().string()).valid.apply(r,Ou(Object.values(uu))).required()});return new Hn(Eu,n)};function ku(t){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(t)}function ju(){ju=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ku(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Tu(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Lu=function(){var t,e=(t=ju().mark((function t(e){var r;return ju().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({userId:e},{userId:Q().string().required()}),t.abrupt("return",u.dispatcher.follow.followAccept(r));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Tu(i,n,o,a,u,"next",t)}function u(t){Tu(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Pu(t){return Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(t)}function Au(){Au=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Pu(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Cu(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Iu=function(){var t,e=(t=Au().mark((function t(e){var r;return Au().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({userId:e},{userId:Q().string().required()}),t.abrupt("return",u.dispatcher.follow.followDecline(r));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Cu(i,n,o,a,u,"next",t)}function u(t){Cu(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Ru(t){return Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(t)}function Du(){Du=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ru(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Nu(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Fu,Mu=function(){var t,e=(t=Du().mark((function t(e){var r;return Du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({userId:e},{userId:Q().string().required()}),t.abrupt("return",u.dispatcher.follow.deleteFollower(r));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Nu(i,n,o,a,u,"next",t)}function u(t){Nu(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Bu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Uu=(Fu=function(){function t(e){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(){},(r="dispose")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this.parameters=e}var e,r;return e=t,(r=[{key:"model",get:function(){return pc.findById(this.parameters.userId)}},{key:"dataLoadHook",value:function(){return u.dispatcher.followCount.fetch(this.parameters.userId).promise}}])&&Bu(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(Fu.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(Fu.prototype,"model"),Fu.prototype),Fu),zu=function(t){var e=ot({userId:t},{userId:Q().string().required()});return new vi(Uu,e)};function Gu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qu(t,e,r){return e&&Gu(t.prototype,e),r&&Gu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Vu=qu((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Hu(this,"userForId",(function(t){return Z(),Ia(t)})),Hu(this,"getAllUsers",(function(t){return Z(),La({sortBy:t})})),Hu(this,"searchUserByDisplayName",(function(t){return Z(),La({keyword:t})})),Hu(this,"flag",za),Hu(this,"unflag",Va),Hu(this,"isFlaggedByMe",Ya),Z()}));Hu(Vu,"queryUsers",(function(){return La.apply(void 0,arguments)})),Hu(Vu,"getUser",(function(){return Ia.apply(void 0,arguments)})),Hu(Vu,"flag",(function(){return za.apply(void 0,arguments)})),Hu(Vu,"unflag",(function(){return Va.apply(void 0,arguments)})),Hu(Vu,"isFlaggedByMe",(function(){return Ya.apply(void 0,arguments)})),Hu(Vu,"getFollowers",(function(){return mu.apply(void 0,arguments)})),Hu(Vu,"getFollowings",(function(){return xu.apply(void 0,arguments)})),Hu(Vu,"getFollowInfo",(function(){return ou.apply(void 0,arguments)})),Hu(Vu,"deleteFollower",(function(){return Mu.apply(void 0,arguments)})),Hu(Vu,"follow",(function(){return tu.apply(void 0,arguments)})),Hu(Vu,"followAccept",(function(){return Lu.apply(void 0,arguments)})),Hu(Vu,"followDecline",(function(){return Iu.apply(void 0,arguments)})),Hu(Vu,"getFollowCount",(function(){return zu.apply(void 0,arguments)}));var $u,Wu,Ku,Yu=m(5455),Qu=m.n(Yu);function Xu(t){return Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(t)}function Ju(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ju(Object(r),!0).forEach((function(e){as(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ju(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ts(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function es(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rs(t,e){return rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rs(t,e)}function ns(t,e){if(e&&("object"===Xu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return os(t)}function os(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function is(t){return is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},is(t)}function as(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function us(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ss=($u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rs(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=is(n);if(o){var r=is(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ns(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),ts(os(t=i.call(this,"user")),"state",Wu,os(t)),ts(os(t),"errors",Ku,os(t)),t._subscribeToRealTimeEvents(),t}return e=a,r=[{key:"_subscribeToRealTimeEvents",value:function(){var t=this;["user.updated","user.deleted","user.flagged","user.unflagged","user.flagCleared"].forEach((function(e){Zt.on(e,(function(e){if(!Qu()(e.users)){var r=e.users[0],n=t.findById(r.userId);n&&Ut(n,r)&&t.distribute(e)}}))}))}},{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return t.userId}},{key:"findById",value:function(t){return this.state.get(t)}},{key:"findErrorById",value:function(t){return this.errors.get(t)}},{key:"_create",value:function(t){var e=new bb(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(Zu(Zu({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.clear()}},{key:"distribute",value:function(t){return["file","user"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}},{key:"grab",value:function(t){var e=t.users,r=!(!e||!e.length);return r&&u.dispatcher.user.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.userId,r=t.err;this.errors.set(e,r||new ASCError("Unknown"))}},{key:"query",value:function(t){var e=this,r=se.rpc("v3/user.query",t),n=r.promise,o=r.dispose;return{promise:n.then((function(t){return e.distribute(t)})),dispose:o}}},{key:"fetch",value:function(t){var e=this,r=se.rpc("v3/user.get",t),n=r.promise,o=r.dispose;return{promise:n.then((function(t){return e.distribute(t)})).catch((function(e){return u.dispatcher.user.setError(Zu(Zu({},t),{},{err:e})),Promise.reject(e)})),dispose:o}}},{key:"update",value:function(t){var e=this,r=se.rpc("v3/user.update",t),n=r.promise,o=r.dispose;return{promise:n.then((function(t){return e.distribute(t)})).catch((function(e){return u.dispatcher.user.setError(Zu(Zu({},t),{},{err:e})),Promise.reject(e)})),dispose:o}}}],r&&es(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(u.StateStore),Wu=us($u.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Ku=us($u.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),us($u.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor($u.prototype,"session.reset"),$u.prototype),us($u.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor($u.prototype,"grab"),$u.prototype),us($u.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor($u.prototype,"load"),$u.prototype),us($u.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor($u.prototype,"unload"),$u.prototype),us($u.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor($u.prototype,"setError"),$u.prototype),us($u.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor($u.prototype,"query"),$u.prototype),us($u.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor($u.prototype,"fetch"),$u.prototype),us($u.prototype,"update",[u.effect],Object.getOwnPropertyDescriptor($u.prototype,"update"),$u.prototype),$u);function cs(t){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(t)}function ls(){ls=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==cs(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function fs(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function hs(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){fs(i,n,o,a,u,"next",t)}function u(t){fs(i,n,o,a,u,"throw",t)}a(void 0)}))}}var ps=function(){var t=hs(ls().mark((function t(e,r){var n;return ls().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.getItem(r);case 2:(n=t.sent)&&u.dispatcher[e].load({data:n,options:{isLocal:!0}});case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),ds=function(t,e){var r=Array.from(t.values()).map((function(t){return t.toJS()}));K.setItem(e,r)},ys=function(){var t=hs(ls().mark((function t(e,r,n){var o,i=arguments;return ls().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.length>3&&void 0!==i[3]?i[3]:500,t.next=3,ps(e,r);case 3:(0,X.autorun)((function(){return ds(n,r)}),{delay:o});case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();function vs(t){return vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(t)}function ms(t){return function(t){if(Array.isArray(t))return gs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return gs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gs(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ws(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _s(t,e){return _s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_s(t,e)}function Es(t,e){if(e&&("object"===vs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Os(t){return Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(t)}var Ss,xs,ks,js=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_s(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Os(n);if(o){var r=Os(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Es(this,t)});function a(){return bs(this,a),i.apply(this,arguments)}return e=a,r=[{key:"Schema",value:function(t){var e;return{createdAt:t.date().optional(),updatedAt:t.date().optional(),from:t.string().required(),to:t.string().required(),status:(e=t.string()).valid.apply(e,ms(Object.values(uu))).required()}}}],r&&ws(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function Ts(t){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(t)}function Ls(){Ls=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ts(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ps(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function As(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ps(i,n,o,a,u,"next",t)}function u(t){Ps(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Cs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Is(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cs(Object(r),!0).forEach((function(e){Us(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Rs(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ds(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ns(t,e){return Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ns(t,e)}function Fs(t,e){if(e&&("object"===Ts(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ms(t)}function Ms(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bs(t){return Bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bs(t)}function Us(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zs(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Gs=(Ss=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ns(t,e)}(d,t);var e,r,n,o,i,a,s,c,l,f,h,p=(f=d,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bs(f);if(h){var r=Bs(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Fs(this,t)});function d(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),Rs(Ms(t=p.call(this,"follow")),"state",xs,Ms(t)),Rs(Ms(t),"errors",ks,Ms(t)),t._subscribeToRealTimeEvents(),t}return e=d,r=[{key:"_subscribeToRealTimeEvents",value:function(){var t=this;su.forEach((function(e){Zt.on(e,(function(e){var r=e.from,n=e.to,o=e.status,i=e.updatedAt,a=t.findByConnection(r,n);a&&Ut(a,{updatedAt:i})&&t._update({from:r,to:n,status:o,updatedAt:i}),t._create(e)}))}))}},{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return"".concat(t.from,":").concat(t.to)}},{key:"_create",value:function(t){var e=new js(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(Is(Is({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"findByConnection",value:function(t,e){return this.state.get(this._uniqueId({from:t,to:e}))}},{key:"session.reset",value:function(){this.clear()}},{key:"distribute",value:function(t){return["file","user","follow","followCount"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){u.dispatcher[e].grab(t)})),t}},{key:"grab",value:function(t){var e=t.follows,r=t.followCounts,n=!(!e||!e.length),o=!(!r||!r.length);return n&&u.dispatcher.follow.load({data:e}),o&&u.dispatcher.followCount.load({data:r}),n}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.from,r=t.to,n=t.err;this.errors.set(this._uniqueId({from:e,to:r}),n||new ASCError("Unknown"))}},{key:"getFollowers",value:(l=As(Ls().mark((function t(e){var r,n,o,i;return Ls().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=tw.currentUser.userId,n=r===e.userId?"/api/v4/me/followers":"/api/v4/users/".concat(e.userId,"/followers"),t.next=4,ft.get(n).set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 4:return o=t.sent,i=o.body,this.distribute(i),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"getFollowings",value:(c=As(Ls().mark((function t(e){var r,n,o,i;return Ls().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=tw.currentUser.userId,n=r===e.userId?"/api/v4/me/following":"/api/v4/users/".concat(e.userId,"/following"),t.next=4,ft.get(n).set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 4:return o=t.sent,i=o.body,this.distribute(i),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"getFollowInfo",value:(s=As(Ls().mark((function t(e){var r,n,o,i,a,u;return Ls().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=tw.currentUser.userId,n=r===e.userId?"/api/v4/me/followInfo":"/api/v4/users/".concat(e.userId,"/followInfo"),t.next=4,ft.get(n).set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 4:if(o=t.sent,i=o.body,this.distribute(i),!(a=i.follows)||!a.length){t.next=11;break}return u=a[0].status,t.abrupt("return",u);case 11:return t.abrupt("return",uu.None);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"follow",value:(a=As(Ls().mark((function t(e){var r,n;return Ls().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.post("/api/v4/me/following/".concat(e.userId)).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"followAccept",value:(i=As(Ls().mark((function t(e){var r,n;return Ls().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.post("/api/v4/me/followers/".concat(e.userId)).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"followDecline",value:(o=As(Ls().mark((function t(e){var r,n;return Ls().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.delete("/api/v4/me/following/".concat(e.userId)).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"deleteFollower",value:(n=As(Ls().mark((function t(e){var r,n;return Ls().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.delete("/api/v4/me/followers/".concat(e.userId)).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}],r&&Ds(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(u.StateStore),xs=zs(Ss.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),ks=zs(Ss.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),zs(Ss.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(Ss.prototype,"session.reset"),Ss.prototype),zs(Ss.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(Ss.prototype,"grab"),Ss.prototype),zs(Ss.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(Ss.prototype,"load"),Ss.prototype),zs(Ss.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(Ss.prototype,"unload"),Ss.prototype),zs(Ss.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(Ss.prototype,"setError"),Ss.prototype),zs(Ss.prototype,"getFollowers",[u.effect],Object.getOwnPropertyDescriptor(Ss.prototype,"getFollowers"),Ss.prototype),zs(Ss.prototype,"getFollowings",[u.effect],Object.getOwnPropertyDescriptor(Ss.prototype,"getFollowings"),Ss.prototype),zs(Ss.prototype,"getFollowInfo",[u.effect],Object.getOwnPropertyDescriptor(Ss.prototype,"getFollowInfo"),Ss.prototype),zs(Ss.prototype,"follow",[u.effect],Object.getOwnPropertyDescriptor(Ss.prototype,"follow"),Ss.prototype),zs(Ss.prototype,"followAccept",[u.effect],Object.getOwnPropertyDescriptor(Ss.prototype,"followAccept"),Ss.prototype),zs(Ss.prototype,"followDecline",[u.effect],Object.getOwnPropertyDescriptor(Ss.prototype,"followDecline"),Ss.prototype),zs(Ss.prototype,"deleteFollower",[u.effect],Object.getOwnPropertyDescriptor(Ss.prototype,"deleteFollower"),Ss.prototype),Ss);function qs(t){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(t)}function Hs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $s(t,e){return $s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$s(t,e)}function Ws(t,e){if(e&&("object"===qs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ks(t){return Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ks(t)}var Ys,Qs,Xs,Js=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$s(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ks(n);if(o){var r=Ks(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Ws(this,t)});function a(){return Hs(this,a),i.apply(this,arguments)}return e=a,r=[{key:"Schema",value:function(t){return{userId:t.string().required(),followerCount:t.number().required(),followingCount:t.number().required(),pendingCount:t.number().required()}}}],r&&Vs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function Zs(t){return Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(t)}function tc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ec(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tc(Object(r),!0).forEach((function(e){sc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rc(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function nc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function oc(t,e){return oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oc(t,e)}function ic(t,e){if(e&&("object"===Zs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ac(t)}function ac(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uc(t){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uc(t)}function sc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cc(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var lc=(Ys=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oc(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uc(n);if(o){var r=uc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ic(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),rc(ac(t=i.call(this,"followCount")),"state",Qs,ac(t)),rc(ac(t),"errors",Xs,ac(t)),t}return e=a,r=[{key:"findById",value:function(t){return this.state.get(t)}},{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return t.userId}},{key:"_create",value:function(t){var e=new Js(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(ec(ec({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.clear()}},{key:"grab",value:function(t){var e=t.follows,r=!(!e||!e.length);return r&&u.dispatcher.follow.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.userId,r=t.err;this.errors.set(e,r||new ASCError("Unknown"))}},{key:"fetch",value:function(t){var e=this.findById(t);return{promise:new Promise((function(t,r){e?t({followerCount:e.followerCount,followingCount:e.followingCount,pendingCount:e.pendingCount}):r(new Error("No data"))}))}}}],r&&nc(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(u.StateStore),Qs=cc(Ys.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Xs=cc(Ys.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),cc(Ys.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(Ys.prototype,"session.reset"),Ys.prototype),cc(Ys.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(Ys.prototype,"grab"),Ys.prototype),cc(Ys.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(Ys.prototype,"load"),Ys.prototype),cc(Ys.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(Ys.prototype,"unload"),Ys.prototype),cc(Ys.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(Ys.prototype,"setError"),Ys.prototype),cc(Ys.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(Ys.prototype,"fetch"),Ys.prototype),Ys),fc=new ss,hc=new Gs,pc=new lc;ys(fc._name,"users",fc.state);var dc=Vu;function yc(t){return yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(t)}function vc(t){return function(t){if(Array.isArray(t))return mc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return mc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mc(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function bc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gc(Object(r),!0).forEach((function(e){kc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ec(t,e){return Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ec(t,e)}function Oc(t,e){if(e&&("object"===yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sc(t)}function Sc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xc(t){return xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xc(t)}function kc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ec(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xc(n);if(o){var r=xc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Oc(this,t)});function a(){var t;wc(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return kc(Sc(t=i.call.apply(i,[this].concat(r))),"createComputedProps",(function(){return{get user(){var t=fc.findById(this.userId);return t?t.toJS():null}}})),t}return e=a,r=[{key:"Schema",value:function(t){var e,r,n;return bc(bc(bc({commentId:t.string().required(),userId:t.string().required(),parentId:t.string().optional(),rootId:t.string().optional(),referenceId:t.string().required(),referenceType:(e=t.string()).valid.apply(e,vc(Object.values(So))),dataType:(r=t.string()).valid.apply(r,vc(Object.values(xo))),data:t.object().required(),metadata:t.object().empty([null]).default({}),path:t.string().default("").allow("").optional(),childrenNumber:t.number().integer().greater(-1).default(0),isDeleted:t.boolean().default(!1),mentionees:t.array().items(t.object({type:(n=t.string()).valid.apply(n,vc(Object.values(To))).required(),userIds:t.array().items(t.string()).optional()})).optional()},ur(t,cb.Comment)),Oo(t,xr.Comment)),{},{createdAt:t.date().default(Date.now()),editedAt:t.date().default(Date.now()),updatedAt:t.date().default(Date.now())})}}],r&&_c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar),Tc=Object.freeze({GlobalFeed:"global",CommunityFeed:"community",UserFeed:"user",MyFeed:"my",Content:"content"}),Lc=Object.freeze({TextPost:"text",ImagePost:"image",VideoPost:"video",FilePost:"file",LivestreamPost:"liveStream",PollPost:"poll"}),Pc=Object.freeze({FirstCreated:"firstCreated",LastCreated:"lastCreated"}),Ac=Object.freeze({User:"user"}),Cc=["post.created","post.updated","post.deleted","post.approved","post.declined","post.flagged","post.unflagged","post.addReaction","post.removeReaction"],Ic=Object.freeze({Image:"image",Video:"video",File:"file"});function Rc(t){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(t)}function Dc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dc(Object(r),!0).forEach((function(e){Fc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Uc(t,e){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uc(t,e)}function zc(t,e){if(e&&("object"===Rc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gc(t){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gc(t)}var qc,Hc,Vc=[Tc.CommunityFeed,Tc.UserFeed,Tc.Content],$c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uc(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gc(n);if(o){var r=Gc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return zc(this,t)});function a(){return Mc(this,a),i.apply(this,arguments)}return e=a,r=[{key:"Schema",value:function(t){var e;return Nc(Nc(Nc({postId:t.string().required(),postedUserId:t.string().required(),targetId:t.string().required(),targetType:(e=t.string().required()).valid.apply(e,Vc),feedId:t.string().optional(),dataType:t.string().required(),data:t.object(),metadata:t.object().empty([null]).default({}),isDeleted:t.boolean().default(!1),commentsCount:t.number().integer().greater(-1).default(0),comments:t.array().items(t.string()).default([]),parentPostId:t.string(),children:t.array().items(t.string()).default([])},ur(t,cb.Post)),Oo(t,xr.Post)),{},{tags:t.array().items(t.string()).default([]),createdAt:t.date().default(Date.now()),updatedAt:t.date().default(Date.now()),editedAt:t.date().default(Date.now()),mentionees:t.array().items(t.object().keys({type:t.string(),userIds:t.array().items(t.string())})),path:t.string().default("").allow("").optional(),attachments:t.array().items(t.object().keys({type:t.string().required(),fileId:t.string().required()})).optional()})}}],r&&Bc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar),Wc=function(t){if(t instanceof bb||"userId"in t&&"displayName"in t)return cb.User;if(t instanceof sb||"messageId"in t)return cb.Message;if(t instanceof $c||"postId"in t)return cb.Post;if(t instanceof jc||"commentId"in t)return cb.Comment;throw new ASCInvalidParameterError("model cannot be flagged")},Kc=function(t){if(t===cb.User)return{apiEndpoint:"user",apiEndpointFlag:"/api/v4/me/flags/{userId}",apiEndpointUnflag:"/api/v4/me/flags/{userId}",flaggedByMeEndpoint:"user.isFlagByMe",primaryKey:"userId"};if(t===cb.Message)return{apiEndpointFlag:"/api/v3/messages/{messageId}/flag",apiEndpointUnflag:"/api/v3/messages/{messageId}/unflag",flaggedByMeEndpoint:"/api/v3/messages/{messageId}/isFlaggedByMe",primaryKey:"messageId"};if(t===cb.Post)return{apiEndpointFlag:"/api/v3/posts/{postId}/flag",apiEndpointUnflag:"/api/v3/posts/{postId}/unflag",flaggedByMeEndpoint:"/api/v3/posts/{postId}/isflagbyme",primaryKey:"postId"};if(t===cb.Comment)return{apiEndpointFlag:"/api/v3/comments/{commentId}/flag",apiEndpointUnflag:"/api/v3/comments/{commentId}/unflag",flaggedByMeEndpoint:"/api/v3/comments/{commentId}/isflagbyme",primaryKey:"commentId"};throw new ASCInvalidParameterError("model cannot be flagged")};function Yc(t){return Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(t)}function Qc(){Qc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Yc(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Xc(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Jc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xc(i,n,o,a,u,"next",t)}function u(t){Xc(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Zc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tl(t,e){return tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tl(t,e)}function el(t,e){if(e&&("object"===Yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rl(t)}function rl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nl(t){return nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nl(t)}function ol(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var il=(qc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tl(t,e)}(l,t);var e,r,n,o,i,a,s,c=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nl(a);if(s){var r=nl(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return el(this,t)});function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),function(t,e,r,n){r&&Object.defineProperty(t,"flagsMap",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(rl(t=c.call(this,"report")),0,Hc,rl(t)),t}return e=l,r=[{key:"uniqueId",value:function(t,e){return"".concat(t,"#").concat(e)}},{key:"findById",value:function(t,e){return this.flagsMap.get(this.uniqueId(t,e))}},{key:"load",value:function(t){var e=this,r=t.data;(void 0===r?[]:r).filter((function(t){return cr()(t)})).forEach((function(t){var r=e.uniqueId(t.objectType,t.objectId);e.flagsMap.set(r,t)}))}},{key:"unload",value:function(t){var e=this,r=t.data;(void 0===r?[]:r).filter((function(t){return cr()(t)})).forEach((function(t){var r=t.objectType,n=t.objectId;return e.flagsMap.delete(e.uniqueId(r,n))}))}},{key:"flag",value:(i=Jc(Qc().mark((function t(e){var r,n,o,i,a,s,c;return Qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Wc(e),n=Kc(r),o=n.primaryKey,i=n.apiEndpointFlag,a=e[o],u.dispatcher.report.load({data:[{objectType:r,objectId:a,isFlaggedByMe:!0}]}),t.prev=4,t.next=7,ft.post(i.replace("{".concat(o,"}"),a)).set(tw.authorizationBearerHeader).catch(lr);case 7:return s=t.sent,c=s.body,["file","user","comment","post"].filter((function(t){return!!u.dispatcher[t]})).forEach((function(t){return u.dispatcher[t].grab(c)})),t.abrupt("return",!0);case 13:throw t.prev=13,t.t0=t.catch(4),u.dispatcher.report.load({data:[{objectType:r,objectId:a,isFlaggedByMe:void 0}]}),t.t0;case 17:case"end":return t.stop()}}),t,null,[[4,13]])}))),function(t){return i.apply(this,arguments)})},{key:"unflag",value:(o=Jc(Qc().mark((function t(e){var r,n,o,i,a,s,c;return Qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Wc(e),n=Kc(r),o=n.primaryKey,i=n.apiEndpointUnflag,a=e[o],u.dispatcher.report.load({data:[{objectType:r,objectId:a,isFlaggedByMe:!1}]}),t.prev=4,t.next=7,ft.delete(i.replace("{".concat(o,"}"),a)).set(tw.authorizationBearerHeader).catch(lr);case 7:return s=t.sent,c=s.body,["file","user","comment","post"].filter((function(t){return!!u.dispatcher[t]})).forEach((function(t){return u.dispatcher[t].grab(c)})),t.abrupt("return",!0);case 13:throw t.prev=13,t.t0=t.catch(4),u.dispatcher.report.load({data:[{objectType:r,objectId:a,isFlaggedByMe:void 0}]}),t.t0;case 17:case"end":return t.stop()}}),t,null,[[4,13]])}))),function(t){return o.apply(this,arguments)})},{key:"isFlaggedByMe",value:(n=Jc(Qc().mark((function t(e){var r,n,o,i,a,s,c,l,f;return Qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Wc(e),n=Kc(r),o=n.primaryKey,i=n.flaggedByMeEndpoint,a=e[o],!(s=this.flagsMap.get(this.uniqueId(r,a)))){t.next=6;break}return t.abrupt("return",s.isFlaggedByMe);case 6:if(e.hashFlag&&Sr(e.hashFlag).test(tw.currentUser.userId)||(c=!1),void 0===c){t.next=10;break}return u.dispatcher.report.load({data:[{objectType:r,objectId:a,isFlaggedByMe:c}]}),t.abrupt("return",c);case 10:return t.prev=10,t.next=13,ft.get(i.replace("{".concat(o,"}"),a)).set(tw.authorizationBearerHeader).query((h={},p="".concat(o),d=a,p in h?Object.defineProperty(h,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):h[p]=d,h)).catch(lr);case 13:return l=t.sent,f=l.body,u.dispatcher.report.load({data:[{objectType:r,objectId:a,isFlaggedByMe:!!f.result}]}),t.abrupt("return",!!f.isFlagByMe||!!f.result);case 19:throw t.prev=19,t.t0=t.catch(10),u.dispatcher.report.load({data:[{objectType:r,objectId:a,isFlaggedByMe:void 0}]}),t.t0;case 23:case"end":return t.stop()}var h,p,d}),t,this,[[10,19]])}))),function(t){return n.apply(this,arguments)})}],r&&Zc(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(u.StateStore),Hc=ol(qc.prototype,"flagsMap",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),ol(qc.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(qc.prototype,"load"),qc.prototype),ol(qc.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(qc.prototype,"unload"),qc.prototype),ol(qc.prototype,"flag",[u.effect],Object.getOwnPropertyDescriptor(qc.prototype,"flag"),qc.prototype),ol(qc.prototype,"unflag",[u.effect],Object.getOwnPropertyDescriptor(qc.prototype,"unflag"),qc.prototype),ol(qc.prototype,"isFlaggedByMe",[u.effect],Object.getOwnPropertyDescriptor(qc.prototype,"isFlaggedByMe"),qc.prototype),qc);function al(t){return al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(t)}function ul(){ul=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==al(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function sl(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var cl=function(){var t,e=(t=ul().mark((function t(e){return ul().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("hashFlag"in e){t.next=2;break}throw new ASCInvalidParameterError("model is not flaggable");case 2:return t.abrupt("return",u.dispatcher.report.flag(e));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sl(i,n,o,a,u,"next",t)}function u(t){sl(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function ll(t){return ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(t)}function fl(){fl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ll(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function hl(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var pl=function(){var t,e=(t=fl().mark((function t(e){return fl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("hashFlag"in e){t.next=2;break}throw new ASCInvalidParameterError("model is not flaggable");case 2:return t.abrupt("return",u.dispatcher.report.unflag(e));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hl(i,n,o,a,u,"next",t)}function u(t){hl(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function dl(t){return dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(t)}function yl(){yl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==dl(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function vl(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var ml=function(){var t,e=(t=yl().mark((function t(e){return yl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("hashFlag"in e){t.next=2;break}throw new ASCInvalidParameterError("model is not flaggable");case 2:return t.abrupt("return",u.dispatcher.report.isFlaggedByMe(e));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vl(i,n,o,a,u,"next",t)}function u(t){vl(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();new il;var gl={flag:cl,unflag:pl,isFlaggedByMe:ml},bl=Object.freeze({Standard:"standard",Private:"private",Live:"live",Community:"community",Conversation:"conversation",Broadcast:"broadcast"}),wl=Object.freeze({All:"all",Member:"member",NotMember:"notMember"}),_l=Object.freeze({DisplayName:"displayName",FirstCreated:"firstCreated",LastCreated:"lastCreated",LastActivity:"lastActivity"}),El=Object.freeze({None:"none",Member:"member",Banned:"banned"}),Ol=Object.freeze({get All(){return Z(),"all"},Muted:"muted",Banned:"banned",Member:"member"});function Sl(t){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(t)}function xl(t){return function(t){if(Array.isArray(t))return kl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return kl(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kl(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ll(t,e){return Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ll(t,e)}function Pl(t,e){if(e&&("object"===Sl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Al(t)}function Al(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cl(t){return Cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cl(t)}function Il(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Rl,Dl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ll(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cl(n);if(o){var r=Cl(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Pl(this,t)});function a(){var t;jl(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Il(Al(t=i.call.apply(i,[this].concat(r))),"createStaticProps",(function(t){return{get user(){return dc.getUser(t.userId)}}})),t}return e=a,r=[{key:"Schema",value:function(t){var e;return{userId:t.string().required(),channelId:t.string().required(),membership:(e=t.string()).valid.apply(e,xl(Object.values(El))).default(El.None),readToSegment:t.number().integer().default(0),lastMentionedSegment:t.number().integer().default(0),lastActivity:t.date(),isMuted:t.boolean().default(!1),isBanned:t.boolean().default(!1),muteTimeout:t.date().optional(),roles:t.array().items(t.string()).default([]),permissions:t.array().items(t.string()).default([]),createdAt:t.date().default(Date.now()),updatedAt:t.date().default(Date.now())}}}],r&&Tl(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar),Nl=function(t){var e=ot(t,Q().object({channelId:Q().string().required(),displayName:Q().string().allow("").optional(),avatarFileId:Q().string().optional(),tags:Q().array().items(Q().string()).optional(),metadata:Q().object().optional()}).or("displayName","avatarFileId","tags","metadata").required());return u.dispatcher.channel.update(e)};function Fl(t){return Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(t)}function Ml(t){return function(t){if(Array.isArray(t))return Bl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Bl(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bl(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ul(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ul(Object(r),!0).forEach((function(e){Ql(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ul(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ql(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hl(){return Hl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Vl(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Hl.apply(this,arguments)}function Vl(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yl(t)););return t}function $l(t,e){return $l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$l(t,e)}function Wl(t,e){if(e&&("object"===Fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kl(t)}function Kl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yl(t){return Yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yl(t)}function Ql(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xl(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Jl=(Rl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$l(t,e)}(u,t);var e,r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yl(o);if(i){var r=Yl(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Wl(this,t)});function u(){var t;Gl(this,u);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ql(Kl(t=a.call.apply(a,[this].concat(r))),"createStaticProps",(function(t){return{get moderate(){return new Bg(t.channelId)},get membership(){return new hg(t.channelId)},setDisplayName:function(e){return Nl({channelId:t.channelId,displayName:e})},setTags:function(e){return Nl({channelId:t.channelId,tags:e})},setMetadata:function(e){return Nl({channelId:t.channelId,metadata:e})}}})),t}return e=u,n=[{key:"Schema",value:function(t){var e;return{channelId:t.string().required(),displayName:t.string().optional().allow(null).allow(""),avatarFileId:t.string().allow(null),type:(e=t.string()).valid.apply(e,Ml(Object.values(bl))).required(),isDistinct:t.boolean().default(!1),memberCount:t.number().integer().greater(-1).default(0),messageCount:t.number().integer().greater(-1).default(0),metadata:t.object().empty([null]).default({}),tags:t.array().items(t.string()).default([]),lastActivity:t.date().default(new Date),isDeleted:t.boolean().default(!1),isMuted:t.boolean().default(!1),isRateLimited:t.boolean().default(!1),muteTimeout:t.date().optional(),rateLimitTimeout:t.date().optional(),rateLimit:t.number().integer().default(-1),rateLimitWindow:t.number().integer().default(0),messageAutoDeleteEnabled:t.boolean().default(!1),autoDeleteMessageByFlagLimit:t.number().integer().default(5),createdAt:t.date().default(Date.now()),updatedAt:t.date().default(Date.now())}}}],(r=[{key:"_myMembership",get:function(){if(tw.currentUser)return Wg.findById(this.channelId,tw.currentUser.userId)}},{key:"unreadCount",get:function(){var t=this._myMembership;if(t&&t.membership===El.Member)return Math.max(0,this.messageCount-t.readToSegment)}},{key:"hasMention",get:function(){var t=this._myMembership;return!!t&&t.readToSegment<t.lastMentionedSegment}},{key:"toJS",value:function(){return zl(zl({},Hl(Yl(u.prototype),"toJS",this).call(this)),{},{unreadCount:this.unreadCount,hasMention:this.hasMention})}}])&&ql(e.prototype,r),n&&ql(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(ar),Xl(Rl.prototype,"_myMembership",[X.computed],Object.getOwnPropertyDescriptor(Rl.prototype,"_myMembership"),Rl.prototype),Xl(Rl.prototype,"unreadCount",[X.computed],Object.getOwnPropertyDescriptor(Rl.prototype,"unreadCount"),Rl.prototype),Xl(Rl.prototype,"hasMention",[X.computed],Object.getOwnPropertyDescriptor(Rl.prototype,"hasMention"),Rl.prototype),Rl);function Zl(t){return Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(t)}var tf,ef,rf,nf=["channelId","type"];function of(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function af(){af=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Zl(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function uf(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function sf(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){uf(i,n,o,a,u,"next",t)}function u(t){uf(i,n,o,a,u,"throw",t)}a(void 0)}))}}function cf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cf(Object(r),!0).forEach((function(e){gf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ff(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function hf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function df(t,e){return df=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},df(t,e)}function yf(t,e){if(e&&("object"===Zl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vf(t)}function vf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mf(t){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mf(t)}function gf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bf(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var wf=(tf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&df(t,e)}(b,t);var e,r,n,o,i,a,s,c,l,f,h,p,d,y,v,m,g=(v=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mf(v);if(m){var r=mf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return yf(this,t)});function b(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return hf(this,b),ff(vf(t=g.call(this,"channel")),"state",ef,vf(t)),ff(vf(t),"errors",rf,vf(t)),e&&["channel.didBan","v3.channel.didCreate","v3.channel.didUpdate","v3.channel.didDelete","v3.channel.didJoin","v3.channel.didLeave","v3.channel.didAddUsers","v3.channel.didRemoveUsers","v3.channel.didBan","v3.channel.didUnBan","v3.channel.didMarkSeen"].forEach((function(e){se.on(e,(function(r){t.distribute(r),"channel.didBan"===e&&u.dispatcher.channel.onUserBanned(r)}))})),t}return e=b,r=[{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return t.channelId}},{key:"findById",value:function(t){return this.state.get(t)}},{key:"findErrorById",value:function(t){return this.errors.get(t)}},{key:"_create",value:function(t){var e=new Jl(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(lf(lf({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.clear()}},{key:"distribute",value:function(t){return["file","user","channelUser","channel"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}},{key:"grab",value:function(t){var e=t.channels,r=!(!e||!e.length);return r&&u.dispatcher.channel.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.channelId,r=t.err;this.errors.set(e,r||new ASCError("Unknown"))}},{key:"query",value:(y=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v3/channels").set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"fetch",value:(d=sf(af().mark((function t(e){var r,n,o,i;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.channelIds,n=e.options,t.prev=1,t.next=4,ft.get("/api/v3/channels/list").set(tw.authorizationBearerHeader).query(Po().stringify({channelIds:r,options:n},{arrayFormat:"brackets"})).catch(lr);case 4:return o=t.sent,i=o.body,this.distribute(i),t.abrupt("return",i);case 10:throw t.prev=10,t.t0=t.catch(1),r.forEach((function(e){return u.dispatcher.channel.setError({err:t.t0,channelId:e})})),t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(t){return d.apply(this,arguments)})},{key:"create",value:(p=sf(af().mark((function t(e){var r,n,o,i,a;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="/api/v3/channels",n=lf({},e),e.type===bl.Conversation&&(e.channelId,e.type,o=of(e,nf),r="/api/v3/channels/conversation",n=lf(lf({},o),{},{isDistinct:!0})),t.next=6,ft.post(r).set(tw.authorizationBearerHeader).send(n).catch(lr);case 6:return i=t.sent,a=i.body,this.distribute(a),t.abrupt("return",a);case 12:throw t.prev=12,t.t0=t.catch(0),u.dispatcher.channel.setError({err:t.t0,channelId:e.channelId}),t.t0;case 16:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(t){return p.apply(this,arguments)})},{key:"update",value:(h=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.put("/api/v3/channels/".concat(e.channelId)).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"delete",value:function(t){return se.rpc("v3/channel.delete",t).promise.then((function(e){var r=e.success;return u.dispatcher.channel.unload({data:[t]}),r}))}},{key:"join",value:(f=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.post("/api/v3/channels/".concat(e.channelId,"/join")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 3:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",!0);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0.code===E.UserIsBanned&&u.dispatcher.channel.onUserBanned({channelId:e.channelId,userIds:[tw.currentUser.userId]}),u.dispatcher.channel.setError({err:t.t0,channelId:e.channelId}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return f.apply(this,arguments)})},{key:"leave",value:(l=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.delete("/api/v3/channels/".concat(e.channelId,"/leave")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),u.dispatcher.channel.unload({data:[e]}),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"addMembers",value:(c=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.post("/api/v3/channels/".concat(e.channelId,"/users")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"removeMembers",value:(s=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.delete("/api/v3/channels/".concat(e.channelId,"/users")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"banMembers",value:(a=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.put("/api/v3/channels/".concat(e.channelId,"/users/ban")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"unbanMembers",value:(i=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.put("/api/v3/channels/".concat(e.channelId,"/users/unban")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"setRateLimit",value:function(t){return se.rpc("channel.setRateLimit",{channelId:t.channelId,rateLimit:t.rateLimit,rateLimitWindow:t.rateLimitWindow,rateLimitPeriod:t.period}).promise.then((function(){u.dispatcher.channel.load({data:[{channelId:t.channelId,isRateLimited:0!==t.rateLimit}],options:{ifExist:!0}})}))}},{key:"muteMembers",value:function(t){var e=t.channelId,r=t.userIds,n=t.period;return se.rpc("channel.setMutedUsers",{channelId:e,userIds:r,mutePeriod:n}).promise.then((function(){u.dispatcher.channelUser.load({data:r.map((function(t){return{userId:t,channelId:e,isMuted:0!==n}})),options:{ifExist:!0}})}))}},{key:"addRole",value:(o=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.post("/api/v3/channels/".concat(e.channelId,"/users/roles")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})},{key:"removeRole",value:(n=sf(af().mark((function t(e){var r,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.delete("/api/v3/channels/".concat(e.channelId,"/users/roles")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,n=r.body,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"onUserBanned",value:function(){}},{key:"onMessageCreated",value:function(t){var e=this.findById(t.channelId);e&&t.channelSegment>e.messageCount&&this._update({channelId:t.channelId,messageCount:t.channelSegment})}}],r&&pf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),b}(u.StateStore),ef=bf(tf.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),rf=bf(tf.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),bf(tf.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(tf.prototype,"session.reset"),tf.prototype),bf(tf.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"grab"),tf.prototype),bf(tf.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(tf.prototype,"load"),tf.prototype),bf(tf.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(tf.prototype,"unload"),tf.prototype),bf(tf.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(tf.prototype,"setError"),tf.prototype),bf(tf.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"query"),tf.prototype),bf(tf.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"fetch"),tf.prototype),bf(tf.prototype,"create",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"create"),tf.prototype),bf(tf.prototype,"update",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"update"),tf.prototype),bf(tf.prototype,"delete",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"delete"),tf.prototype),bf(tf.prototype,"join",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"join"),tf.prototype),bf(tf.prototype,"leave",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"leave"),tf.prototype),bf(tf.prototype,"addMembers",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"addMembers"),tf.prototype),bf(tf.prototype,"removeMembers",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"removeMembers"),tf.prototype),bf(tf.prototype,"banMembers",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"banMembers"),tf.prototype),bf(tf.prototype,"unbanMembers",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"unbanMembers"),tf.prototype),bf(tf.prototype,"setRateLimit",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"setRateLimit"),tf.prototype),bf(tf.prototype,"muteMembers",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"muteMembers"),tf.prototype),bf(tf.prototype,"addRole",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"addRole"),tf.prototype),bf(tf.prototype,"removeRole",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"removeRole"),tf.prototype),bf(tf.prototype,"onUserBanned",[u.reducer],Object.getOwnPropertyDescriptor(tf.prototype,"onUserBanned"),tf.prototype),bf(tf.prototype,"onMessageCreated",[u.effect],Object.getOwnPropertyDescriptor(tf.prototype,"onMessageCreated"),tf.prototype),tf),_f=Object.freeze({Text:"text",Image:"image",File:"file",Custom:"custom"}),Ef=Object.freeze({Channel:"channel",User:"user"});function Of(t){return Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(t)}var Sf,xf,kf,jf=["messageId"];function Tf(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Lf(){Lf=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Of(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Pf(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Af(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Pf(i,n,o,a,u,"next",t)}function u(t){Pf(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Cf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function If(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cf(Object(r),!0).forEach((function(e){zf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Rf(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Df(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ff(t,e){return Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ff(t,e)}function Mf(t,e){if(e&&("object"===Of(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bf(t)}function Bf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uf(t)}function zf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gf(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var qf,Hf,Vf,$f=(Sf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ff(t,e)}(h,t);var e,r,n,o,i,a,s,c,l,f=(c=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Uf(c);if(l){var r=Uf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Mf(this,t)});function h(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Df(this,h),Rf(Bf(t=f.call(this,"message")),"state",xf,Bf(t)),Rf(Bf(t),"errors",kf,Bf(t)),e&&(["v3.message.didCreate","v3.message.didUpdate","v3.message.didDelete"].forEach((function(e){se.on(e,(function(e){t.distribute(e)}))})),se.on("v3.message.didCreate",(function(t){t.messages.forEach((function(t){u.dispatcher.channel.onMessageCreated(t),u.dispatcher.channelUser.onMessageCreated(t)}))})),se.on("v3.message.didUpdate",(function(e){e.messages.forEach((function(e){u.dispatcher.channelUser.onMessageUpdated(e);var r=e.latestReaction;if(r&&r.userId===tw.currentUser.userId){var n=t.findById(e.messageId);n&&("add"!==r.eventName||n.myReactions.includes(r.reactionName)?"remove"===r.eventName&&n.myReactions.includes(r.reactionName)&&(n.myReactions=n.myReactions.filter((function(t){return t!==r.reactionName}))):n.myReactions.push(r.reactionName))}}))}))),t}return e=h,r=[{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return t.messageId}},{key:"findById",value:function(t){return this.state.get(t)}},{key:"findErrorById",value:function(t){return this.errors.get(t)}},{key:"_create",value:function(t){var e=new sb(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(If(If({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"channel.unload",value:function(t){var e=this,r=t.data,n=(void 0===r?[]:r).map((function(t){return t.channelId}));this.values.filter((function(t){return n.includes(t.channelId)})).forEach((function(t){return e._delete(t)}))}},{key:"channel.onUserBanned",value:function(t){var e=t.channelId,r=t.userIds;this.values.forEach((function(t){t.channelId===e&&r.includes(t.userId)&&!t.isDeleted&&t.update({isDeleted:!0,data:{}})}))}},{key:"session.reset",value:function(){this.clear()}},{key:"distribute",value:function(t){return["file","user","message"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}},{key:"grab",value:function(t){var e=t.messages,r=!(!e||!e.length);return r&&u.dispatcher.message.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o,a=i.isLocal?v.Syncing:v.Synced;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(If({syncState:a},t),i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.messageId,r=t.err;this.errors.set(e,r||new ASCError("Unknown"))}},{key:"query",value:(s=Af(Lf().mark((function t(e){var r,n;return Lf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v3/messages").set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"fetch",value:(a=Af(Lf().mark((function t(e){var r,n;return Lf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.get("/api/v3/messages/".concat(e)).set(tw.authorizationBearerHeader).catch(lr);case 3:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 9:return t.prev=9,t.t0=t.catch(0),u.dispatcher.message.setError({messageId:e,err:t.t0}),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return a.apply(this,arguments)})},{key:"create",value:(i=Af(Lf().mark((function t(e,r){var n,o;return Lf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.post("/api/v3/messages").set(tw.authorizationBearerHeader).send(If({messageId:r},e)).catch(lr);case 2:return n=t.sent,(o=n.body).messages[0].syncState=v.Synced,this.distribute(o),t.abrupt("return",o.messages[0]);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"update",value:(o=Af(Lf().mark((function t(e){var r,n,o,i;return Lf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.messageId,n=Tf(e,jf),t.prev=1,t.next=4,ft.put("/api/v3/messages/".concat(r)).set(tw.authorizationBearerHeader).send(n).catch(lr);case 4:return o=t.sent,i=o.body,this.distribute(i),t.abrupt("return",i);case 10:throw t.prev=10,t.t0=t.catch(1),u.dispatcher.message.load({data:[{messageId:r,syncState:v.Error}]}),u.dispatcher.message.setError({messageId:r,err:t.t0}),t.t0;case 15:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(t){return o.apply(this,arguments)})},{key:"delete",value:(n=Af(Lf().mark((function t(e){var r,n,o;return Lf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.messageId,t.prev=1,t.next=4,ft.delete("/api/v3/messages/".concat(r)).set(tw.authorizationBearerHeader).catch(lr);case 4:return n=t.sent,(o=n.body.success)&&this._update({messageId:r,data:{},fileId:void 0,isDeleted:!0},{ifExist:!0}),t.abrupt("return",o);case 10:throw t.prev=10,t.t0=t.catch(1),u.dispatcher.message.load({data:[{messageId:r,syncState:v.Error}]}),u.dispatcher.message.setError({messageId:r,err:t.t0}),t.t0;case 15:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(t){return n.apply(this,arguments)})}],r&&Nf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(u.StateStore),xf=Gf(Sf.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),kf=Gf(Sf.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Gf(Sf.prototype,"channel.unload",[u.reducer],Object.getOwnPropertyDescriptor(Sf.prototype,"channel.unload"),Sf.prototype),Gf(Sf.prototype,"channel.onUserBanned",[u.reducer],Object.getOwnPropertyDescriptor(Sf.prototype,"channel.onUserBanned"),Sf.prototype),Gf(Sf.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(Sf.prototype,"session.reset"),Sf.prototype),Gf(Sf.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(Sf.prototype,"grab"),Sf.prototype),Gf(Sf.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(Sf.prototype,"load"),Sf.prototype),Gf(Sf.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(Sf.prototype,"unload"),Sf.prototype),Gf(Sf.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(Sf.prototype,"setError"),Sf.prototype),Gf(Sf.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(Sf.prototype,"query"),Sf.prototype),Gf(Sf.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(Sf.prototype,"fetch"),Sf.prototype),Gf(Sf.prototype,"create",[u.effect],Object.getOwnPropertyDescriptor(Sf.prototype,"create"),Sf.prototype),Gf(Sf.prototype,"update",[u.effect],Object.getOwnPropertyDescriptor(Sf.prototype,"update"),Sf.prototype),Gf(Sf.prototype,"delete",[u.effect],Object.getOwnPropertyDescriptor(Sf.prototype,"delete"),Sf.prototype),Sf);function Wf(t){return Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(t)}function Kf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kf(Object(r),!0).forEach((function(e){ih(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qf(){Qf=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Wf(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Xf(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Jf(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xf(i,n,o,a,u,"next",t)}function u(t){Xf(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Zf(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function th(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eh(t,e){return eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},eh(t,e)}function rh(t,e){if(e&&("object"===Wf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nh(t)}function nh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oh(t)}function ih(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ah(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var uh=(qf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eh(t,e)}(u,t);var e,r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oh(o);if(i){var r=oh(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return rh(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),ih(nh(e=a.call(this)),"observers",[]),Zf(nh(e),"loadingStatus",Hf,nh(e)),Zf(nh(e),"error",Vf,nh(e)),e.transaction=t,e.reset(),setTimeout((function(){return e.load(e.transaction.firstPage)}),0),e}return e=u,r=[{key:"dataStatus",get:function(){return this.loadingStatus===d.Error?y.Error:this.loadingStatus===d.Loaded?y.Fresh:this.loadingStatus===d.NotLoading?this.models.length?y.Local:y.NotExist:void 0!==this.hasMore?y.Fresh:this.models.length?y.Local:y.NotExist}},{key:"models",get:function(){var t=this;return this.transaction.models?this.transaction.models.map((function(e){return e.modelForLiveData(t)})):[]}},{key:"prevPage",get:function(){var t=this;if(this.transaction.prevPage)return function(){return t.load(t.transaction.prevPage)}}},{key:"nextPage",get:function(){var t=this;if(this.transaction.nextPage)return function(){return t.load(t.transaction.nextPage)}}},{key:"reset",value:function(){var t=this;this.observers.length&&this.dispose(),this.loadingStatus=d.NotLoading,this.observers.push((0,X.observe)(this,"loadingStatus",(function(e){var r=e.oldValue,n=e.newValue;t.emit("loadingStatusChanged",{oldValue:r,newValue:n})})),(0,X.observe)(this,"dataStatus",(function(e){var r=e.oldValue,n=e.newValue;t.emit("dataStatusChanged",{oldValue:r,newValue:n})})),(0,X.observe)(this,"models",function(){var e=Jf(Qf().mark((function e(r){var n,o;return Qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.oldValue,o=r.newValue,e.next=3,(0,X.when)((function(){return t.loadingStatus===d.Loaded}));case 3:n&&n.length===t.models.length&&o!==t.models||t.emit("dataUpdated",t.models);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,X.observe)(this,"error",(function(e){var r=e.oldValue,n=e.newValue;!r&&n&&(t.loadingStatus=d.Error,t.emit("dataError",n))})))}},{key:"load",value:(n=Jf(Qf().mark((function t(e){var r;return Qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loadingStatus!==d.Loading){t.next=2;break}return t.abrupt("return",!1);case 2:return this.loadingStatus=d.Loading,this.error=void 0,t.prev=4,r="string"==typeof e?{token:e}:Yf({},e),t.next=8,this.transaction.load(r);case 8:return this.loadingStatus=d.Loaded,t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(4),this.loadingStatus=d.Error,this.error=t.t0,t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,this,[[4,12]])}))),function(t){return n.apply(this,arguments)})},{key:"dispose",value:function(){this.observers.forEach((function(t){return t()})),this.observers=[]}}],r&&th(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt.EventEmitter2),Hf=ah(qf.prototype,"loadingStatus",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.NotLoading}}),ah(qf.prototype,"dataStatus",[X.computed],Object.getOwnPropertyDescriptor(qf.prototype,"dataStatus"),qf.prototype),Vf=ah(qf.prototype,"error",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ah(qf.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(qf.prototype,"models"),qf.prototype),qf);function sh(t){return sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(t)}function ch(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ch(Object(r),!0).forEach((function(e){dh(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ch(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fh(){fh=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==sh(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function hh(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function ph(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var yh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),dh(this,"dispose",(function(){}))}var e,r,n,o;return e=t,r=[{key:"models",get:function(){throw new ASCError("transaction 'models' getter not implemented")}},{key:"modelIds",get:function(){return this.models.map((function(t){return t.uniqId}))}},{key:"firstPage",get:function(){throw new ASCError("transaction 'firstPage' getter not implemented")}},{key:"prevPage",get:function(){throw new ASCError("transaction 'prevPage' getter not implemented")}},{key:"nextPage",get:function(){throw new ASCError("transaction 'nextPage' getter not implemented")}},{key:"load",value:(n=fh().mark((function t(e){return fh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new ASCError("transaction 'load' function not implemented");case 1:case"end":return t.stop()}}),t)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){hh(i,r,o,a,u,"next",t)}function u(t){hh(i,r,o,a,u,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})},{key:"toJSON",value:function(){var t=this;return["firstPage","prevPage","nextPage"].reduce((function(e,r){return lh(lh({},e),{},dh({},r,t[r]))}),{})}}],r&&ph(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),vh=function(t,e){return void 0===t||e===t},mh=function(t,e){return void 0!==e?t.filter((function(t){return t.isDeleted===e})):t},gh=function(t){return t?btoa(JSON.stringify(t)):void 0};function bh(t){return bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(t)}var wh,_h,Eh,Oh,Sh,xh,kh,jh=["channelSegment"],Th=["override","direction"];function Lh(){Lh=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==bh(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ph(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ah(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ph(Object(r),!0).forEach((function(e){Gh(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ph(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ch(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Ih(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Rh(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Dh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nh(){return Nh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Fh(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Nh.apply(this,arguments)}function Fh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zh(t)););return t}function Mh(t,e){return Mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mh(t,e)}function Bh(t,e){if(e&&("object"===bh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Uh(t)}function Uh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zh(t)}function Gh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qh(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Hh=(wh=X.computed.struct,_h=X.computed.struct,Eh=X.computed.struct,Oh=X.action.bound,Sh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mh(t,e)}(c,t);var e,r,n,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zh(i);if(a){var r=zh(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Bh(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),Gh(Uh(e=s.call(this)),"disposeFns",[]),Gh(Uh(e),"pageSize",20),Gh(Uh(e),"serverPaging",{}),Rh(Uh(e),"startId",xh,Uh(e)),Rh(Uh(e),"endId",kh,Uh(e)),Gh(Uh(e),"attachedMode",!1),e.parameters=t,(0,X.runInAction)((function(){var t=e.parameters.channelSegment;if(e.attachedMode=void 0===t,e.startId=e.collection.length>0?e.collection[Math.max(0,e.collection.length-e.pageSize)].messageId:void 0,e.endId=void 0,!e.attachedMode&&e.collection.length){var r=e.collection.findIndex((function(e){return e.channelSegment===t}));-1===r&&(r=Math.max(0,e.collection.length-e.pageSize)),e.startId=e.collection[r].messageId;var n=Math.min(e.collection.length-1,e.startIndex+e.pageSize);e.endId=e.collection[n]&&e.collection[n].messageId}e.disposeFns=[(0,X.observe)(Uh(e),"startIndex",(function(t){var r=t.oldValue;void 0===t.newValue&&(e.startId=e.collection.length&&e.collection[r]?e.collection[r].messageId:void 0)})),(0,X.observe)(Uh(e),"endIndex",(function(t){var r=t.oldValue;0===t.newValue&&(e.endId=e.collection.length?e.collection[Math.min(r,e.collection.length-1)].messageId:void 0)})),(0,X.observe)(Uh(e),"collection",(function(t){var r=t.oldValue,n=t.newValue;void 0===e.startIndex&&!r.length&&n.length&&(e.startId=n[0].messageId)})),(0,X.observe)(Uh(e),"prevModels",(function(t){var r=t.oldValue;t.newValue.length>r.length&&(e.serverPaging.hasPrev=!0)}))]})),e}return e=c,r=[{key:"startIndex",get:function(){var t=this,e=(this.collection||[]).findIndex((function(e){return e.messageId===t.startId}));return-1!==e?e:void 0}},{key:"endIndex",get:function(){var t=this;if(!this.attachedMode)return this.collection.findIndex((function(e){return e.messageId===t.endId}))+1}},{key:"startMessage",get:function(){return this.startIndex?this.collection[this.startIndex]:{}}},{key:"endMessage",get:function(){if(void 0!==this.endIndex)return this.collection[this.endIndex-1]}},{key:"collection",get:function(){var t=this.parameters,e=t.channelId,r=t.type,n=t.isDeleted,o=t.filterByParentId,i=t.parentId,a=t.tags,u=t.excludeTags;return qy.values.filter((function(t){return vh(e,t.channelId)&&vh(r,t.type)&&vh(n,t.isDeleted)&&(!o||vh(i,t.parentId))&&(!a||t.tags.some((function(t){return a.includes(t)})))&&(!u||t.tags.every((function(t){return!u.includes(t)})))})).sort(wa)}},{key:"prevModels",get:function(){return this.collection.slice(0,this.startIndex)}},{key:"models",get:function(){return this.attachedMode?this.collection.slice(this.startIndex,void 0):this.collection.slice(this.startIndex,this.endIndex)}},{key:"modelIds",get:function(){return this.models.map((function(t){return t.messageId}))}},{key:"firstPage",get:function(){return void 0!==this.parameters.channelSegment?{after:this.parameters.channelSegment-1,first:this.pageSize,override:!0,direction:"next"}:{before:0,last:this.pageSize,override:!0,direction:"prev"}}},{key:"prevPage",get:function(){var t=this.models[0];if(this.serverPaging.hasPrev&&t&&1!==t.channelSegment)return{before:t.channelSegment,last:this.pageSize,direction:"prev"}}},{key:"nextPage",get:function(){var t=Ug.findById(this.parameters.channelId),e=this.models[this.models.length-1];if(this.serverPaging.hasNext&&e&&(!t||t.messageCount!==e.channelSegment))return{after:e.channelSegment,first:this.pageSize,direction:"next"}}},{key:"load",value:(n=Lh().mark((function t(){var e,r,n,o,i,a,s,c,l,f,h,p=arguments;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.length>0&&void 0!==p[0]?p[0]:{before:0,last:20,override:!0},(r=this.parameters).channelSegment,n=Ch(r,jh),o=e.override,i=e.direction,a=Ch(e,Th),t.next=5,u.dispatcher.message.query(Ah(Ah({},n),{},{options:{token:gh(a)}}));case 5:if(s=t.sent,c=s.messages,l=s.paging,"prev"===i?this.serverPaging.hasPrev=!!l.previous:"next"===i&&(this.serverPaging.hasNext=!!l.next,this.attachedMode=!l.next),c.length){t.next=11;break}return t.abrupt("return");case 11:f=c[0],h=c[c.length-1],o?(this.startId=f.messageId,this.endId=this.attachedMode?void 0:h.messageId):(this.startMessage&&(this.startId=f.channelSegment<this.startMessage.channelSegment?f.messageId:this.startMessage.messageId),this.endMessage?this.endId=this.endMessage.channelSegment<h.channelSegment?h.messageId:this.endMessage.messageId:this.endId=void 0);case 14:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){Ih(i,r,o,a,u,"next",t)}function u(t){Ih(i,r,o,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"dispose",value:function(){this.disposeFns.forEach((function(t){return t()}))}},{key:"toJSON",value:function(){return Ah(Ah({},Nh(zh(c.prototype),"toJSON",this).call(this)),{},{attachedMode:this.attachedMode,startIndex:this.startIndex,endIndex:this.endIndex,startId:this.startId,endId:this.endId,serverPaging:this.serverPaging,prevModels:this.prevModels.map((function(t){return t.channelSegment})),currentModels:this.models.map((function(t){return t.channelSegment}))})}}],r&&Dh(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(yh),xh=qh(Sh.prototype,"startId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=qh(Sh.prototype,"endId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh(Sh.prototype,"startIndex",[X.computed],Object.getOwnPropertyDescriptor(Sh.prototype,"startIndex"),Sh.prototype),qh(Sh.prototype,"endIndex",[X.computed],Object.getOwnPropertyDescriptor(Sh.prototype,"endIndex"),Sh.prototype),qh(Sh.prototype,"collection",[wh],Object.getOwnPropertyDescriptor(Sh.prototype,"collection"),Sh.prototype),qh(Sh.prototype,"prevModels",[_h],Object.getOwnPropertyDescriptor(Sh.prototype,"prevModels"),Sh.prototype),qh(Sh.prototype,"models",[Eh],Object.getOwnPropertyDescriptor(Sh.prototype,"models"),Sh.prototype),qh(Sh.prototype,"load",[Oh],Object.getOwnPropertyDescriptor(Sh.prototype,"load"),Sh.prototype),Sh);function Vh(t){return function(t){if(Array.isArray(t))return $h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wh,Kh=function(){var t,e=ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Q().object({channelId:Q().string().optional(),type:(t=Q().string()).valid.apply(t,Vh(Object.values(_f))),parentId:Q().string().allow(null).optional(),filterByParentId:Q().boolean().optional(),isDeleted:Q().boolean().optional(),tags:Q().array().items(Q().string()).optional(),excludeTags:Q().array().items(Q().string()).optional()}));return new uh(new Hh(e))};function Yh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qh(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Xh,Jh=(Wh=function(){function t(e){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(){},(r="dispose")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this.messageId=e}var e,r;return e=t,(r=[{key:"model",get:function(){return qy.findById(this.messageId)}},{key:"error",get:function(){return qy.findErrorById(this.messageId)}},{key:"dataLoadHook",value:function(){return u.dispatcher.message.fetch(this.messageId)}}])&&Yh(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Qh(Wh.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(Wh.prototype,"model"),Wh.prototype),Qh(Wh.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(Wh.prototype,"error"),Wh.prototype),Wh),Zh=function(t){var e=ot({messageId:t},{messageId:Q().string().required()});return new vi(Jh,e.messageId)};function tp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ep(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var rp,np,op=(Xh=function(){function t(e){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(){},(r="dispose")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this.fileId=e}var e,r;return e=t,(r=[{key:"model",get:function(){return gd.findById(this.fileId)}},{key:"error",get:function(){return gd.findErrorById(this.fileId)}},{key:"dataLoadHook",value:function(){return u.dispatcher.file.fetch(this.fileId)}}])&&tp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ep(Xh.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(Xh.prototype,"model"),Xh.prototype),ep(Xh.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(Xh.prototype,"error"),Xh.prototype),Xh);function ip(t){return ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(t)}function ap(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function up(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ap(Object(r),!0).forEach((function(e){pp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ap(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function sp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cp(t,e){return cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cp(t,e)}function lp(t,e){if(e&&("object"===ip(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fp(t)}function fp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hp(t)}function pp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var dp=(rp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cp(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hp(n);if(o){var r=hp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return lp(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),pp(fp(r=i.call(this,t)),"dispose",(function(){})),function(t,e,r,n){r&&Object.defineProperty(t,"fileId",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(fp(r),0,np,fp(r)),r.parameters=e,r}return e=a,(r=[{key:"dataLoadHook",value:function(){var t=this;return u.dispatcher.file.create(this.parameters).then((function(e){return(0,X.transaction)((function(){gd._move(t.fileId,up(up({},e),{},{syncState:v.Synced})),t.fileId=e.fileId})),e})).catch((function(e){return u.dispatcher.file.load({data:[{fileId:t.fileId,syncState:v.Error}],options:{isLocal:!0}}),u.dispatcher.file.setError({fileId:t.fileId,err:e}),Promise.reject(e)}))}}])&&sp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(op),np=function(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),void 0===(i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i)).initializer&&(Object.defineProperty(t,e,i),i=null),i}(rp.prototype,"fileId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rp),yp=function(t){return"string"==typeof t?jp.File:t.type&&t.type.includes("image/")?jp.Image:jp.File};function vp(t){return function(t){if(Array.isArray(t))return mp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return mp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mp(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gp=function(t){var e,r,n=ot(t,{file:Q().alternatives().try(Q().object(),Q().string()).required(),type:(e=Q().string()).valid.apply(e,vp(Object.values(jp))).optional(),feedType:Q().when("type",{is:jp.Video,then:(r=Q().string()).valid.apply(r,vp(Object.values(_))).optional().default(_.post),otherwise:Q().forbidden()}),onProgress:Q().func().optional()}),o=wt(),i=n.file.name||"untitled.bin",a=n.file.size||0,s=n.file.type||"bin",c={fileId:o,fileUrl:"undefined"!=typeof URL&&URL.createObjectURL&&URL.createObjectURL(n.file),feedType:n.feedType,type:n.type||yp(n.file),attributes:{name:i,extension:i.substring(i.lastIndexOf(".")+1),size:a,mimeType:s}};return u.dispatcher.file.load({data:[c],options:{isLocal:!0}}),new vi(dp,o,n)};function bp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _p=function(t){return gp(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bp(Object(r),!0).forEach((function(e){wp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({type:jp.Video},t))};function Ep(t){return Ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(t)}function Op(){Op=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ep(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Sp(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var xp=function(){var t,e=(t=Op().mark((function t(e){var r,n;return Op().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({fileId:e},{fileId:Q().string().required()}),t.next=3,u.dispatcher.file.deleteFile(r.fileId);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Sp(i,n,o,a,u,"next",t)}function u(t){Sp(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),kp=function(t){var e=ot({fileId:t},{fileId:Q().string().required()});return new vi(op,e.fileId)},jp=Object.freeze({Image:"image",File:"file",Video:"video"}),Tp=Object.freeze({Small:"small",Medium:"medium",Large:"large",Full:"full"}),Lp=Object.freeze({"1080p":"1080p","720p":"720p","480p":"480p","360p":"360p",original:"original"}),Pp=Object.freeze({uploaded:"uploaded",transcoding:"transcoding",transcoded:"transcoded",transcodeFailed:"transcodeFailed"});function Ap(t){return function(t){if(Array.isArray(t))return Cp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Cp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cp(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ip=function(t){var e,r=ot(t,{fileId:Q().string().required(),imageSize:(e=Q().string()).valid.apply(e,Ap(Object.values(Tp))).optional()}),n=r.fileId,o=r.imageSize;try{var i="".concat(ft.apiGatewayEndpoint,"/api/v3/files/").concat(n,"/download");return o?"".concat(i,"?size=").concat(o):i}catch(t){return void publicLogWarning('The proper file URL can not be obtained. Make sure that the SDK instance connectionStatus is "connected".')}},Rp=function(){return Z(),kp.apply(void 0,arguments)};function Dp(t){return Dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(t)}function Np(){Np=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Dp(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Fp(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Mp=function(){var t,e=(t=Np().mark((function t(){var e,r=arguments;return Np().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(),e=gp.apply(void 0,r),t.next=4,new Promise((function(t){e.once("loadingStatusChanged",t)}));case 4:return t.abrupt("return",e.model);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Fp(i,n,o,a,u,"next",t)}function u(t){Fp(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();function Bp(t){return Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(t)}function Up(){Up=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Bp(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function zp(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Gp=function(){var t,e=(t=Up().mark((function t(e){var r,n;return Up().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.files,n=e.onProgress,t.abrupt("return",Promise.all(r.map((function(t,e){return Mp({file:t,onProgress:n&&function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n.apply(void 0,[t,e].concat(o))}})}))));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zp(i,n,o,a,u,"next",t)}function u(t){zp(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function qp(t){return qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(t)}function Hp(t){return function(t){if(Array.isArray(t))return Vp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Vp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vp(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Kp(t,e){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kp(t,e)}function Yp(t,e){if(e&&("object"===qp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qp(t)}var Xp,Jp,Zp,td=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kp(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qp(n);if(o){var r=Qp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Yp(this,t)});function a(){return $p(this,a),i.apply(this,arguments)}return e=a,r=[{key:"Schema",value:function(t){var e,r,n;return{fileId:t.string().required(),fileUrl:t.string().optional(),feedType:(e=t.string()).valid.apply(e,Hp(Object.values(_))),type:t.string(),createdAt:t.date().default(new Date),updatedAt:t.date(),attributes:{name:t.string(),size:t.number(),extension:t.string(),mimeType:t.string(),metadata:t.object()},status:(r=t.string()).valid.apply(r,Hp(Object.values(Pp))),videoUrl:t.object().pattern((n=t.string()).valid.apply(n,Hp(Object.keys(Lp))),t.string()).allow(null),syncState:t.number().default(v.Default)}}}],r&&Wp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function ed(t){return ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(t)}function rd(){rd=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ed(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function nd(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function od(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nd(i,n,o,a,u,"next",t)}function u(t){nd(i,n,o,a,u,"throw",t)}a(void 0)}))}}function id(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ad(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?id(Object(r),!0).forEach((function(e){pd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):id(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ud(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function sd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cd(t,e){return cd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cd(t,e)}function ld(t,e){if(e&&("object"===ed(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fd(t)}function fd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hd(t)}function pd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dd(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var yd,vd,md=(Xp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cd(t,e)}(l,t);var e,r,n,o,i,a,s,c=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hd(a);if(s){var r=hd(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ld(this,t)});function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),ud(fd(t=c.call(this,"file")),"state",Jp,fd(t)),ud(fd(t),"errors",Zp,fd(t)),t}return e=l,r=[{key:"clear",value:function(){this.state.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return t.fileId}},{key:"findById",value:function(t){return this.state.get(t)}},{key:"findErrorById",value:function(t){return this.errors.get(t)}},{key:"_move",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.state.get(t);n&&(e&&n.update(e,r),this.state.set(this._uniqueId(n),n),this.state.delete(t))}},{key:"_create",value:function(t){var e=new td(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(ad(ad({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.clear()}},{key:"grab",value:function(t){var e=t.files,r=!(!e||!e.length);return r&&u.dispatcher.file.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o,a=i.isLocal?v.Syncing:v.Synced;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(ad({syncState:a},t),i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.fileId,r=t.err;this.errors.set(e,r||new ASCError("Unknown"))}},{key:"fetch",value:(i=od(rd().mark((function t(e){var r,n;return rd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v3/files/".concat(e)).set(tw.authorizationBearerHeader).catch(lr);case 2:return r=t.sent,n=r.body,u.dispatcher.file.load({data:[n]}),t.abrupt("return",this.findById(n.fileId));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"create",value:(o=od(rd().mark((function t(e){var r,n,o,i,a,u,s;return rd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.file,n=e.type,o=e.feedType,i=e.onProgress,a=ft.post(n===jp.Video?"/api/v4/videos":"/api/v3/files").unset("Content-Type").set(tw.authorizationBearerHeader).on("progress",(function(t){var e=t.direction,n=t.percent,o=void 0===n?100:n,a=t.loaded;i&&"upload"===e&&i({currentFile:r,currentPercent:o,currentLoaded:o/r.size,globalPercent:o,globalLoaded:a,total:r.size})})),n===jp.Video?a.attach("files",r).field("feedType",o):a.attach("file",r),t.next=5,new Promise((function(t,e){a.end((function(r,n){r&&e(r),t(n)}))})).catch(lr);case 5:return u=t.sent,s=u.body,t.abrupt("return",s[0]);case 8:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})},{key:"deleteFile",value:(n=od(rd().mark((function t(e){var r=this,n=arguments;return rd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n.length>1&&void 0!==n[1]?n[1]:{locally:!1}).locally){t.next=10;break}return t.prev=2,t.next=5,ft.delete("/api/v3/files/".concat(e)).set(tw.authorizationBearerHeader).catch(lr);case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",!1);case 10:return t.abrupt("return",Promise.resolve().then((function(){return r.state.delete(e)})));case 11:case"end":return t.stop()}}),t,null,[[2,7]])}))),function(t){return n.apply(this,arguments)})}],r&&sd(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(u.StateStore),Jp=dd(Xp.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Zp=dd(Xp.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),dd(Xp.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(Xp.prototype,"session.reset"),Xp.prototype),dd(Xp.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(Xp.prototype,"grab"),Xp.prototype),dd(Xp.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(Xp.prototype,"load"),Xp.prototype),dd(Xp.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(Xp.prototype,"unload"),Xp.prototype),dd(Xp.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(Xp.prototype,"setError"),Xp.prototype),dd(Xp.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(Xp.prototype,"fetch"),Xp.prototype),dd(Xp.prototype,"create",[u.effect],Object.getOwnPropertyDescriptor(Xp.prototype,"create"),Xp.prototype),dd(Xp.prototype,"deleteFile",[u.effect],Object.getOwnPropertyDescriptor(Xp.prototype,"deleteFile"),Xp.prototype),Xp),gd=new md,bd=e;function wd(t){return wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(t)}function _d(){_d=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==wd(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ed(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Od(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ed(i,n,o,a,u,"next",t)}function u(t){Ed(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Sd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xd(t,e){return xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xd(t,e)}function kd(t,e){if(e&&("object"===wd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jd(t)}function jd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Td(t)}var Ld=(yd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xd(t,e)}(c,t);var e,r,n,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Td(i);if(a){var r=Td(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return kd(this,t)});function c(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),function(t,e,r,n){r&&Object.defineProperty(t,"messageId",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(jd(r=s.call(this,t)),0,vd,jd(r)),r.parameters=e,r}return e=c,r=[{key:"dataLoadHook",value:(o=Od(_d().mark((function t(){var e;return _d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([_f.Image,_f.File].includes(this.parameters.type)){t.next=2;break}return t.abrupt("return",this.onlineCreation());case 2:if(e=gd.findById(this.parameters.fileId)){t.next=5;break}return t.abrupt("return",this.onlineCreation());case 5:if(e.syncState!==v.Synced){t.next=7;break}return t.abrupt("return",this.onlineCreation());case 7:return t.next=9,new Promise((function(t){var r=(0,X.observe)(e,"syncState",(function(){return r()||t()}))}));case 9:return this.parameters.fileId=e.fileId,t.abrupt("return",e.syncState===v.Synced?this.onlineCreation():Promise.reject());case 11:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onlineCreation",value:(n=Od(_d().mark((function t(){var e=this;return _d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.dispatcher.message.create(this.parameters,this.messageId).then((function(t){e.messageId=t.messageId})).catch((function(t){return u.dispatcher.message.load({data:[{messageId:e.messageId,syncState:v.Error}],options:{isLocal:!0}}),u.dispatcher.message.setError({messageId:e.messageId,err:t}),Promise.reject(t)})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&Sd(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(Jh),vd=function(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),void 0===(i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i)).initializer&&(Object.defineProperty(t,e,i),i=null),i}(yd.prototype,"messageId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yd);function Pd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ad(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cd(t){return function(t){if(Array.isArray(t))return Id(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Id(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Id(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Id(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Rd=function(t){var e,r,n=ot(t,{channelId:Q().string().required(),type:(e=Q().string()).valid.apply(e,Cd(Object.values(_f))).required(),data:Q().object().when("type",{is:_f.Text,then:Q().object({text:Q().string().required()})}).when("type",{is:_f.Image,then:Q().object({caption:Q().string().optional().allow("")})}).when("type",{is:_f.File,then:Q().object({caption:Q().string().optional().allow("")})}).when("type",{is:_f.Custom,then:Q().object().required()}),fileId:Q().string().when("type",{is:_f.Text,then:Q().string().invalid()}).when("type",{is:_f.Image,then:Q().string().required()}).when("type",{is:_f.File,then:Q().string().required()}).when("type",{is:_f.Custom,then:Q().string().optional()}),parentId:Q().string().optional(),tags:Q().array().items(Q().string()).optional(),metadata:Q().object().optional(),mentionees:Q().array().items(Q().object({type:(r=Q().string()).valid.apply(r,Cd(Object.values(Ef))).required(),userIds:Q().array().items(Q().string()).optional()})).optional()}),o=wt(),i=n.channelId,a=(Ug.findById(i)||{}).messageCount,s=void 0===a?0:a,c=qy.values.filter((function(t){return t.channelId===i})).sort(wa).pop(),l=c?c.channelSegment+1:s+1,f=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pd(Object(r),!0).forEach((function(e){Ad(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({messageId:o,userId:tw.currentUser.userId,channelSegment:l,syncState:v.Syncing},n);return(0,X.runInAction)((function(){u.dispatcher.message.load({data:[f],options:{isLocal:!0}}),u.dispatcher.channel.load({data:[{channelId:i,messageCount:s+1,lastActivity:new Date}],options:{ifExist:!0}})})),new vi(Ld,o,n)},Dd=["text"];function Nd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Fd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nd(Object(r),!0).forEach((function(e){Md(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Md(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Bd=function(t){var e=t.text,r=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Dd);return Rd(Fd(Fd({},r),{},{type:_f.Text,data:{text:e}}))},Ud=["caption","imageId"];function zd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zd(Object(r),!0).forEach((function(e){qd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hd=function(t){var e=t.caption,r=t.imageId,n=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Ud);return Rd(Gd(Gd({},n),{},{type:_f.Image,fileId:r,data:{caption:e}}))},Vd=["caption"];function $d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$d(Object(r),!0).forEach((function(e){Kd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yd=function(t){var e=t.caption,r=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Vd);return Rd(Wd(Wd({},r),{},{type:_f.File,data:{caption:e}}))};function Qd(t){return Qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(t)}function Xd(){Xd=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Qd(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Jd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jd(Object(r),!0).forEach((function(e){ty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ey(t){return function(t){if(Array.isArray(t))return ry(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ry(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ry(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ry(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ny(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var oy=function(){var t,e=(t=Xd().mark((function t(e){var r,n;return Xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ot(e,Q().object({messageId:Q().string().required(),data:Q().object().optional(),tags:Q().array().items(Q().string()),metadata:Q().object().optional(),mentionees:Q().array().items(Q().object({type:(r=Q().string()).valid.apply(r,ey(Object.values(Ef))).required(),userIds:Q().array().items(Q().string()).optional()})).optional()}).min(2)),u.dispatcher.message.load({data:[Zd(Zd({},n),{},{syncState:v.Syncing})]},{isLocal:!0}),t.next=4,u.dispatcher.message.update(n);case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ny(i,n,o,a,u,"next",t)}function u(t){ny(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function iy(t){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(t)}function ay(){ay=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==iy(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function uy(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var sy=function(){var t,e=(t=ay().mark((function t(e){var r;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({messageId:e},{messageId:Q().string().required()}),t.next=3,u.dispatcher.message.delete(r);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){uy(i,n,o,a,u,"next",t)}function u(t){uy(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function cy(t){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(t)}function ly(){ly=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==cy(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function fy(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var hy=function(){var t,e=(t=ly().mark((function t(e){var r,n,o,i;return ly().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot(e,{messageId:Q().string().required(),reactionName:Q().string().required()}),n=r.messageId,o=r.reactionName,i=qy.findById(n)){t.next=4;break}throw new ASCInvalidParameterError("unknown messageId");case 4:return t.abrupt("return",co.addReaction({reactableModel:i.toJS(),reactionName:o}));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){fy(i,n,o,a,u,"next",t)}function u(t){fy(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function py(t){return py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(t)}function dy(){dy=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==py(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function yy(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var vy=function(){var t,e=(t=dy().mark((function t(e){var r,n,o,i;return dy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot(e,{messageId:Q().string().required(),reactionName:Q().string().required()}),n=r.messageId,o=r.reactionName,i=qy.findById(n)){t.next=4;break}throw new ASCInvalidParameterError("unknown messageId");case 4:return t.abrupt("return",co.removeReaction({reactableModel:i.toJS(),reactionName:o}));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yy(i,n,o,a,u,"next",t)}function u(t){yy(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function my(t){return my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(t)}function gy(){gy=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==my(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function by(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var wy=function(){var t,e=(t=gy().mark((function t(e){var r,n;return gy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasOwnProperty("messageId")){t.next=3;break}return Z(),t.abrupt("return",wy(e.messageId));case 3:if(r=ot({messageId:e},{messageId:Q().string().required()}),n=qy.findById(r.messageId)){t.next=7;break}throw new ASCInvalidParameterError("unknown messageId");case 7:return t.abrupt("return",gl.flag(n));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){by(i,n,o,a,u,"next",t)}function u(t){by(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function _y(t){return _y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(t)}function Ey(){Ey=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==_y(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Oy(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Sy=function(){var t,e=(t=Ey().mark((function t(e){var r,n;return Ey().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasOwnProperty("messageId")){t.next=3;break}return Z(),t.abrupt("return",Sy(e.messageId));case 3:if(r=ot({messageId:e},{messageId:Q().string().required()}),n=qy.findById(r.messageId)){t.next=7;break}throw new ASCInvalidParameterError("unknown messageId");case 7:return t.abrupt("return",gl.unflag(n));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Oy(i,n,o,a,u,"next",t)}function u(t){Oy(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function xy(t){return xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(t)}function ky(){ky=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==xy(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function jy(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Ty=function(){var t,e=(t=ky().mark((function t(e){var r,n;return ky().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasOwnProperty("messageId")){t.next=3;break}return Z(),t.abrupt("return",Ty(e.messageId));case 3:if(r=ot({messageId:e},{messageId:Q().string().required()}),n=qy.findById(r.messageId)){t.next=7;break}throw new ASCInvalidParameterError("unknown messageId");case 7:return t.abrupt("return",gl.isFlaggedByMe(n));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){jy(i,n,o,a,u,"next",t)}function u(t){jy(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Ly(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Py,Ay=Q().array().items(Q().object({index:Q().number().min(0),length:Q().number().min(1),type:Q().valid.apply(Q(),(Py=Object.values(Ef),function(t){if(Array.isArray(t))return Ly(t)}(Py)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(Py)||function(t,e){if(t){if("string"==typeof t)return Ly(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ly(t,e):void 0}}(Py)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),userId:Q().string().when("type",{is:Q().valid(Ef.User),then:Q().required(),otherwise:Q().forbidden()})})).required();function Cy(t){try{return ot(t,{mentioned:Ay}).mentioned}catch(t){return[]}}function Iy(t){return Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iy(t)}function Ry(){Ry=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Iy(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Dy(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Ny(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Dy(i,n,o,a,u,"next",t)}function u(t){Dy(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Fy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var My=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z()}var e,r,n,o,i,a;return e=t,r=[{key:"messagesForChannel",value:function(t){return Z(),Kh(t)}},{key:"messageForId",value:function(t){return Z(),Zh(t)}},{key:"createTextMessage",value:function(t){return Z(),Rd({channelId:t.channelId,parentId:t.parentId,type:_f.Text,data:{text:t.text},tags:t.tags})}},{key:"addReaction",value:(a=Ny(Ry().mark((function t(e){return Ry().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(),t.abrupt("return",hy(e));case 2:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"removeReaction",value:(i=Ny(Ry().mark((function t(e){return Ry().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(),t.abrupt("return",vy(e));case 2:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})},{key:"flag",value:(o=Ny(Ry().mark((function t(e){return Ry().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(),t.abrupt("return",wy(e));case 2:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})},{key:"unflag",value:(n=Ny(Ry().mark((function t(e){return Ry().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(),t.abrupt("return",Sy(e));case 2:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})}],r&&Fy(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function By(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Uy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z();var r=ot({messageId:e},{messageId:Q().string().required()});this._messageId=r.messageId}var e,r;return e=t,(r=[{key:"messageId",get:function(){return this._messageId}},{key:"editText",value:function(t){return Z(),oy({messageId:this.messageId,data:{text:t}})}},{key:"delete",value:function(){return Z(),sy(this.messageId)}}])&&By(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Gy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z(),this._messageId=ot({messageId:e},{messageId:Q().string().required()})}var e,r;return e=t,(r=[{key:"messageId",get:function(){return this._messageId}},{key:"flag",value:function(){return wy(this.messageId)}},{key:"unflag",value:function(){return Sy(this.messageId)}},{key:"isFlaggedByMe",value:function(){return Ty(this.messageId)}}])&&zy(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),qy=new $f;Object.assign(My,r);var Hy,Vy,$y={createMentionMetadata:function(t){return{mentioned:ot(t,Ay)}},getMentionUsers:function(t){return Cy(t).filter((function(t){return t.type===Ef.User}))},getMentionChannels:function(t){return Cy(t).filter((function(t){return t.type===Ef.Channel}))}},Wy=My;function Ky(t){return Ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(t)}function Yy(){Yy=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ky(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Qy(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Xy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jy(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xy(Object(r),!0).forEach((function(e){sv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ev(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function rv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ov(t,e)}function iv(t,e){if(e&&("object"===Ky(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return av(t)}function av(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uv(t)}function sv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cv(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var lv,fv=(Hy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}(c,t);var e,r,n,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uv(i);if(a){var r=uv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return iv(this,t)});function c(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return rv(this,c),ev(av(t=s.call(this,"channelUser")),"state",Vy,av(t)),e&&["v3.channelUser.didUpdate"].forEach((function(e){se.on(e,(function(e){t.distribute(e)}))})),t}return e=c,r=[{key:"clear",value:function(){this.state.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return"".concat(t.channelId,"#").concat(t.userId)}},{key:"findById",value:function(t,e){return this.state.get(this._uniqueId({channelId:t,userId:e}))}},{key:"findListByChannelId",value:function(t){return Array.from(this.state.entries()).filter((function(e){return Zy(e,1)[0].startsWith("".concat(t,"#"))})).map((function(t){return Zy(t,2)[1]}))}},{key:"findListByUserId",value:function(t){return Array.from(this.state.entries()).filter((function(e){return Zy(e,1)[0].endsWith("#".concat(t))})).map((function(t){return Zy(t,2)[1]}))}},{key:"_create",value:function(t){var e=new Dl(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"channelId"in t&&!("userId"in t)?this.findListByChannelId(t.channelId).forEach((function(t){return e._delete(t,r)})):"userId"in t&&!("channelId"in t)?this.findListByUserId(t.userId).forEach((function(t){return e._delete(t,r)})):r.softDelete?this._save(Jy(Jy({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.state=new Map}},{key:"distribute",value:function(t){return["file","user","channelUser","channel"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}},{key:"grab",value:function(t){var e=t.channelUsers,r=!(!e||!e.length);return r&&u.dispatcher.channelUser.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"channel.unload",value:function(t){var e=this,r=t.data;(void 0===r?[]:r).forEach((function(t){cr()(t)&&e._delete({channelId:t.channelId})}))}},{key:"channel.onUserBanned",value:function(t){var e=this,r=t.channelId;t.userIds.forEach((function(t){var n=e.findById(r,t);n&&n.update({membership:El.Banned}),t===tw.currentUser.userId&&u.dispatcher.channelUser.stopReading({channelId:r,userId:t})}))}},{key:"query",value:(n=Yy().mark((function t(e){var r,n;return Yy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v4/channels/".concat(e.channelId,"/users")).set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 2:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){Qy(i,r,o,a,u,"next",t)}function u(t){Qy(i,r,o,a,u,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})},{key:"fetch",value:function(t){var e=se.rpc("channel.getChannelUsers",t),r=e.promise,n=e.dispose;return{promise:r.then((function(t){u.dispatcher.channelUser.load({data:t.results})})).catch((function(e){return u.dispatcher.channel.setError({err:e,channelId:t.channelId}),Promise.reject(e)})),dispose:n}}},{key:"startReading",value:function(t){var e=Ug.findById(t.channelId);return e&&this._save(Jy(Jy({},t),{},{readToSegment:e.messageCount})),se.rpc("channel.startReading",t).promise.catch((function(e){return e.code===E.UserIsBanned&&u.dispatcher.channel.onUserBanned({channelId:t.channelId,userIds:[t.userId]}),Promise.reject(e)}))}},{key:"stopReading",value:function(t){return se.rpc("channel.stopReading",t).promise}},{key:"onMessageCreated",value:function(t){var e=t.mentionees.find((function(t){return t.type===Ef.Channel})),r=tw.currentUser.userId,n=t.mentionees.find((function(t){return t.type===Ef.User})),o=!!n&&n.userIds.includes(r);if(e||o){var i=this.findById(t.channelId,r);i&&t.channelSegment>i.lastMentionedSegment&&this._update({userId:r,channelId:t.channelId,lastMentionedSegment:t.channelSegment})}}},{key:"onMessageUpdated",value:function(t){u.dispatcher.channelUser.onMessageCreated(t)}}],r&&nv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(u.StateStore),Vy=cv(Hy.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),cv(Hy.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(Hy.prototype,"session.reset"),Hy.prototype),cv(Hy.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(Hy.prototype,"grab"),Hy.prototype),cv(Hy.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(Hy.prototype,"load"),Hy.prototype),cv(Hy.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(Hy.prototype,"unload"),Hy.prototype),cv(Hy.prototype,"channel.unload",[u.reducer],Object.getOwnPropertyDescriptor(Hy.prototype,"channel.unload"),Hy.prototype),cv(Hy.prototype,"channel.onUserBanned",[u.reducer],Object.getOwnPropertyDescriptor(Hy.prototype,"channel.onUserBanned"),Hy.prototype),cv(Hy.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(Hy.prototype,"query"),Hy.prototype),cv(Hy.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(Hy.prototype,"fetch"),Hy.prototype),cv(Hy.prototype,"startReading",[u.effect],Object.getOwnPropertyDescriptor(Hy.prototype,"startReading"),Hy.prototype),cv(Hy.prototype,"stopReading",[u.effect],Object.getOwnPropertyDescriptor(Hy.prototype,"stopReading"),Hy.prototype),cv(Hy.prototype,"onMessageCreated",[u.effect],Object.getOwnPropertyDescriptor(Hy.prototype,"onMessageCreated"),Hy.prototype),cv(Hy.prototype,"onMessageUpdated",[u.effect],Object.getOwnPropertyDescriptor(Hy.prototype,"onMessageUpdated"),Hy.prototype),Hy);function hv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pv(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var dv=(lv=function(){function t(e){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(){},(r="dispose")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this.channelId=e}var e,r;return e=t,(r=[{key:"model",get:function(){return Ug.findById(this.channelId)}},{key:"error",get:function(){return Ug.findErrorById(this.channelId)}},{key:"dataLoadHook",value:function(){return u.dispatcher.channel.fetch({channelIds:[this.channelId]})}}])&&hv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),pv(lv.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(lv.prototype,"model"),lv.prototype),pv(lv.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(lv.prototype,"error"),lv.prototype),lv);function yv(t){return yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(t)}function vv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mv(t,e){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mv(t,e)}function gv(t,e){if(e&&("object"===yv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bv(t)}function bv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wv(t){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wv(t)}var _v,Ev=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mv(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wv(n);if(o){var r=wv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return gv(this,t)});function a(t){var e,r,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){},(n="dispose")in(r=bv(e=i.call(this,t.channelId)))?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,e.parameters=t,e}return e=a,(r=[{key:"dataLoadHook",value:function(){return u.dispatcher.channel.join(this.parameters)}}])&&vv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(dv),Ov=function(t){var e=ot({channelId:t},{channelId:Q().string().required()});return new vi(dv,e.channelId)};function Sv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var xv,kv=(_v=function(){function t(e){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(){},(r="dispose")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this.channelIds=e}var e,r;return e=t,(r=[{key:"models",get:function(){return this.channelIds.map((function(t){return Ug.findById(t)})).filter(Boolean)}},{key:"loadNextData",value:function(t,e){return u.dispatcher.channel.fetch({channelIds:this.channelIds,options:{token:t,limit:e}})}}])&&Sv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(_v.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(_v.prototype,"models"),_v.prototype),_v),jv=function(t){var e=ot({channelIds:t},{channelIds:Q().array().items(Q().string()).required()});return new Hn(kv,e.channelIds)};function Tv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tv(Object(r),!0).forEach((function(e){Av(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Av(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Cv=(xv=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Av(this,"dispose",(function(){})),this.parameters=t}var r,n;return r=e,n=[{key:"models",get:function(){var e=Ug.values,r=this.parameters,n=r.keyword,o=r.types,i=r.filter,a=r.isDeleted,u=r.tags,s=r.excludeTags,c=r.sortBy;return n&&(e=e.filter((function(t){var e=t.displayName;return e&&"".concat(e).toLowerCase().startsWith(n.toLowerCase())}))),o&&o.length&&(e=e.filter((function(t){var e=t.type;return o.includes(e)}))),i===wl.Member?e=e.filter((function(t){var e=t.channelId,r=Wg.findById(e,tw.currentUser.userId);return r&&r.membership===El.Member})):i===wl.NotMember&&(e=e.filter((function(t){var e=t.channelId,r=Wg.findById(e,tw.currentUser.userId);return!r||r.membership!==El.Member}))),e=function(t,e){return Array.isArray(e)?t.filter((function(t){return t.tags.some((function(t){return e.includes(t)}))})):t}(e=mh(e,a),u),e=function(t,e){return Array.isArray(e)?t.filter((function(t){return!t.tags.some((function(t){return e.includes(t)}))})):t}(e,s),c&&c in t&&e.sort(t[c]),e}},{key:"loadNextData",value:function(t,e){return u.dispatcher.channel.query(Lv(Lv({},this.parameters),{},{options:{token:t,limit:e}}))}}],n&&Pv(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(xv.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(xv.prototype,"models"),xv.prototype),xv);function Iv(t){return function(t){if(Array.isArray(t))return Rv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Rv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rv(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dv,Nv,Fv=function(){var t,e,r,n=ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Q().object({keyword:Q().string().optional(),types:Q().array().min(1).items((t=Q().string()).valid.apply(t,Iv(Object.values(bl)))).optional(),filter:(e=Q().string()).valid.apply(e,Iv(Object.values(wl))).default(wl.All),isDeleted:Q().boolean().optional(),tags:Q().array().min(1).items(Q().string()).optional(),excludeTags:Q().array().min(1).items(Q().string()).optional(),sortBy:(r=Q().string()).valid.apply(r,Iv(Object.values(_l))).optional().default(_l.LastCreated)}).min(1));return new Hn(Cv,n)};function Mv(t){return Mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(t)}function Bv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uv(t,e)}function zv(t,e){if(e&&("object"===Mv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gv(t)}function Gv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qv(t)}var Hv=(Dv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qv(n);if(o){var r=qv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return zv(this,t)});function a(t){var e,r,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){},(n="dispose")in(r=Gv(e=i.call(this,t.channelId)))?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,function(t,e,r,n){r&&Object.defineProperty(t,"channelId",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(Gv(e),0,Nv,Gv(e)),e.parameters=t,e}return e=a,(r=[{key:"dataLoadHook",value:function(){var t=this;return u.dispatcher.channel.create(this.parameters).then((function(e){t.channelId=e.channels[0].channelId}))}}])&&Bv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(dv),Nv=function(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),void 0===(i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i)).initializer&&(Object.defineProperty(t,e,i),i=null),i}(Dv.prototype,"channelId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dv);function Vv(t){return function(t){if(Array.isArray(t))return $v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$v(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wv=function(t){var e,r=ot(t,{channelId:Q().string().optional(),type:(e=Q().string()).valid.apply(e,Vv(Object.values(bl))).required(),displayName:Q().string().optional(),avatarFileId:Q().string().optional(),userIds:Q().array().items(Q().string()).optional(),tags:Q().array().items(Q().string()).optional(),metadata:Q().object().optional()});return[bl.Standard,bl.Private].includes(r.type)&&Z(0,"The ".concat(r.type," is not supported for creation anymore. Consider using the new types instead")),new vi(Hv,r)};function Kv(t){return Kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(t)}function Yv(){Yv=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Kv(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Qv(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Xv=function(){var t,e=(t=Yv().mark((function t(e){var r;return Yv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({channelId:e},{channelId:Q().string().required()}),t.abrupt("return",u.dispatcher.channel.delete(r));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Qv(i,n,o,a,u,"next",t)}function u(t){Qv(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Jv(t){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(t)}function Zv(){Zv=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Jv(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function tm(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var em=function(){var t,e=(t=Zv().mark((function t(e){var r;return Zv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({channelId:e.channelId},{channelId:Q().string().required()}),t.next=3,u.dispatcher.channel.join(r);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){tm(i,n,o,a,u,"next",t)}function u(t){tm(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function rm(t){return rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(t)}function nm(){nm=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==rm(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function om(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var im=function(){var t,e=(t=nm().mark((function t(e){var r;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({channelId:e},{channelId:Q().string().required()}),t.next=3,u.dispatcher.channel.leave(r);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){om(i,n,o,a,u,"next",t)}function u(t){om(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),am=function(t){var e=ot(t,{channelId:Q().string().required(),userIds:Q().array().items(Q().string()).required()});return u.dispatcher.channel.addMembers(e)},um=function(t){var e=ot(t,{channelId:Q().string().required(),userIds:Q().array().items(Q().string()).required()});return u.dispatcher.channel.removeMembers(e)},sm=function(t){var e=ot(t,{channelId:Q().string().required(),userIds:Q().array().items(Q().string()).required(),period:Q().number().integer().greater(-2).required()});return u.dispatcher.channel.muteMembers(e)};function cm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cm(Object(r),!0).forEach((function(e){fm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var hm,pm,dm=function(t){var e=ot(t,{channelId:Q().string().required(),userIds:Q().array().items(Q().string()).required()});return u.dispatcher.channel.muteMembers(lm(lm({},e),{},{period:0}))},ym=function(t){var e=ot(t,{channelId:Q().string().required(),userIds:Q().array().items(Q().string()).required()});return u.dispatcher.channel.banMembers(e)},vm=function(t){var e=ot(t,{channelId:Q().string().required(),userIds:Q().array().items(Q().string()).required()});return u.dispatcher.channel.unbanMembers(e)};function mm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mm(Object(r),!0).forEach((function(e){wm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _m,Em,Om=(wm(hm={},Ol.Muted,(function(t){return t.isMuted})),wm(hm,Ol.Banned,(function(t){return t.isBanned})),wm(hm,Ol.Member,(function(t){return t.membership===El.Member})),hm),Sm=(pm=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),wm(this,"dispose",(function(){})),this.parameters=e}var e,r;return e=t,r=[{key:"models",get:function(){var t=this.parameters,e=t.channelId,r=t.memberships,n=t.roles,o=Wg.findListByChannelId(e)||[];return r&&(o=o.filter((function(t){return r.some((function(e){return Om[e](t)}))}))),n&&(o=o.filter((function(t){return n.some((function(e){return t.roles.includes(e)}))}))),o}},{key:"loadNextData",value:function(t,e){return u.dispatcher.channelUser.query(gm(gm({},this.parameters),{},{options:{token:t,limit:e}}))}}],r&&bm(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(pm.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(pm.prototype,"models"),pm.prototype),pm);function xm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function km(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?km(Object(r),!0).forEach((function(e){Lm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):km(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Tm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pm(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Am=(_m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Lm(this,"dispose",(function(){})),function(t,e,r,n){r&&Object.defineProperty(t,"userIds",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,0,Em,this),this.parameters=e}var e,r;return e=t,(r=[{key:"models",get:function(){var t=this;return this.userIds.map((function(e){return Wg.findById(t.parameters.channelId,e)}))}},{key:"loadNextData",value:function(t,e){var r=this;return u.dispatcher.channelUser.query(jm(jm({},this.parameters),{},{options:{token:t,limit:e}})).then((function(t){var e;return t.channelUsers&&(e=r.userIds).push.apply(e,function(t){return function(t){if(Array.isArray(t))return xm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return xm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xm(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.channelUsers.map((function(t){return t.userId})))),t}))}}])&&Tm(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Em=Pm(_m.prototype,"userIds",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pm(_m.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(_m.prototype,"models"),_m.prototype),_m),Cm=["filter"];function Im(t){return function(t){if(Array.isArray(t))return Rm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Rm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rm(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dm(Object(r),!0).forEach((function(e){Fm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Mm=function(t){var e,r=t.filter,n=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Cm);"string"==typeof r&&(Z(),n=Nm(Nm({},n),{},{memberships:[r]}));var o=ot(n,{channelId:Q().string().required(),memberships:Q().array().min(1).items((e=Q().string()).valid.apply(e,Im(Object.values(Ol)))),roles:Q().array().min(1).items(Q().string()),search:Q().string().optional()});return new Hn(n.search?Am:Sm,o)},Bm=function(t){var e=ot({channelId:t},{channelId:Q().string().required()});return u.dispatcher.channelUser.startReading({channelId:e.channelId,userId:tw.currentUser.userId})},Um=function(t){var e=ot({channelId:t},{channelId:Q().string().required()});return u.dispatcher.channelUser.stopReading({channelId:e.channelId,userId:tw.currentUser.userId})},zm=function(t){var e=ot(t,{channelId:Q().string().required(),rateLimit:Q().number().integer().greater(0).required(),rateLimitWindow:Q().number().integer().greater(0).required(),period:Q().number().integer().greater(-2).required()});return u.dispatcher.channel.setRateLimit(e)},Gm=function(t){var e=ot({channelId:t},{channelId:Q().string().required()});return u.dispatcher.channel.setRateLimit({channelId:e.channelId,rateLimit:0,rateLimitWindow:0,period:0})},qm=function(t){var e=ot(t,{channelId:Q().string().required(),userIds:Q().array().items(Q().string()).required(),role:Q().string().required()});return u.dispatcher.channel.addRole(e)},Hm=function(t){var e=ot(t,{channelId:Q().string().required(),userIds:Q().array().items(Q().string()).required(),role:Q().string().required()});return u.dispatcher.channel.removeRole(e)},Vm=function(){return Fv({sortBy:_l.LastActivity})},$m=function(t){return Fv({tags:t,sortBy:_l.LastActivity})};function Wm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Km(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wm(Object(r),!0).forEach((function(e){Ym(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ym(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Qm=function(t){return Fv(Km(Km({},t),{},{sortBy:_l.LastActivity}))},Xm=function(t){return Nl(t)},Jm=function(t){return Nl(t)},Zm=function(t){return Nl(t)},tg=function(t){return Mm({channelId:t.channelId,memberships:t.filterType&&"all"!==t.filterType?[t.filterType]:void 0,roles:t.role?[t.role]:void 0})};function eg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rg(t,e,r){return e&&eg(t.prototype,e),r&&eg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ng(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var og,ig=rg((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ng(this,"channelForId",(function(){return Z(),Ov.apply(void 0,arguments)})),ng(this,"allChannels",(function(){return Z(),Vm.apply(void 0,arguments)})),ng(this,"channelsWithTags",(function(){return Z(),$m.apply(void 0,arguments)})),ng(this,"channelsWithFilters",(function(){return Z(),Qm.apply(void 0,arguments)})),ng(this,"createChannel",(function(){return Z(),Wv.apply(void 0,arguments)})),ng(this,"joinChannel",(function(t){Z();var e=ot({channelId:t.channelId},{channelId:Q().string().required()});return new vi(Ev,e)})),ng(this,"setDisplayName",(function(){return Z(),Xm.apply(void 0,arguments)})),ng(this,"setMetadata",(function(){return Z(),Jm.apply(void 0,arguments)})),ng(this,"setTags",(function(){return Z(),Zm.apply(void 0,arguments)})),Z()}));function ag(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}ng(ig,"getChannel",(function(){return Ov.apply(void 0,arguments)})),ng(ig,"getChannels",(function(){return jv.apply(void 0,arguments)})),ng(ig,"queryChannels",(function(){return Fv.apply(void 0,arguments)})),ng(ig,"createChannel",(function(){return Wv.apply(void 0,arguments)})),ng(ig,"updateChannel",(function(){return Nl.apply(void 0,arguments)})),ng(ig,"deleteChannel",(function(){return Xv.apply(void 0,arguments)})),ng(ig,"joinChannel",(function(){return em.apply(void 0,arguments)})),ng(ig,"leaveChannel",(function(){return im.apply(void 0,arguments)})),ng(ig,"addMembers",(function(){return am.apply(void 0,arguments)})),ng(ig,"removeMembers",(function(){return um.apply(void 0,arguments)})),ng(ig,"muteMembers",(function(){return sm.apply(void 0,arguments)})),ng(ig,"unmuteMembers",(function(){return dm.apply(void 0,arguments)})),ng(ig,"banMembers",(function(){return ym.apply(void 0,arguments)})),ng(ig,"unbanMembers",(function(){return vm.apply(void 0,arguments)})),ng(ig,"queryMembers",(function(){return Mm.apply(void 0,arguments)})),ng(ig,"startReading",(function(){return Bm.apply(void 0,arguments)})),ng(ig,"stopReading",(function(){return Um.apply(void 0,arguments)})),ng(ig,"setRateLimit",(function(){return zm.apply(void 0,arguments)})),ng(ig,"removeRateLimit",(function(){return Gm.apply(void 0,arguments)})),ng(ig,"addRole",(function(){return qm.apply(void 0,arguments)})),ng(ig,"removeRole",(function(){return Hm.apply(void 0,arguments)})),ng(ig,"allChannels",(function(){return Vm.apply(void 0,arguments)})),ng(ig,"channelsWithTags",(function(){return $m.apply(void 0,arguments)})),ng(ig,"channelsWithFilters",(function(){return Qm.apply(void 0,arguments)})),ng(ig,"setDisplayName",(function(){return Xm.apply(void 0,arguments)})),ng(ig,"setMetadata",(function(){return Jm.apply(void 0,arguments)})),ng(ig,"setTags",(function(){return Zm.apply(void 0,arguments)}));var ug=(og=function(){function t(e,r){var n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(){},(n="dispose")in this?Object.defineProperty(this,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[n]=o,this.channelId=e,this.userId=r}var e,r;return e=t,(r=[{key:"model",get:function(){return Wg.findById(this.channelId,this.userId)}},{key:"dataLoadHook",value:function(){var t=u.dispatcher.channelUser.fetch({channelId:this.channelId,userIds:[this.userId]}),e=t.promise,r=t.dispose;return this.dispose=r,e}}])&&ag(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(og.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(og.prototype,"model"),og.prototype),og);function sg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sg(Object(r),!0).forEach((function(e){lg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var hg=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=ot({channelId:e},{channelId:Q().string().required()});this._channelId=r.channelId}var e,r;return e=t,(r=[{key:"channelId",get:function(){return this._channelId}},{key:"members",value:function(){return tg({channelId:this.channelId})}},{key:"membersForFilter",value:function(t){return tg(cg({channelId:this.channelId},t))}},{key:"myMembership",get:function(){return this._memberLiveInstance||(this._memberLiveInstance=new vi(ug,this.channelId,tw.currentUser.userId)),this._memberLiveInstance}},{key:"leave",value:function(){return im(this.channelId)}},{key:"addMembers",value:function(t){return am(cg({channelId:this.channelId},t))}},{key:"removeMembers",value:function(t){return um(cg({channelId:this.channelId},t))}},{key:"startReading",value:function(){return Bm(this.channelId)}},{key:"stopReading",value:function(){return Um(this.channelId)}}])&&fg(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function pg(t){return pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(t)}function dg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vg(t,e){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vg(t,e)}function mg(t,e){if(e&&("object"===pg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gg(t)}var bg,wg,_g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vg(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gg(n);if(o){var r=gg(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return mg(this,t)});function a(){return dg(this,a),i.apply(this,arguments)}return e=a,r=[{key:"Schema",value:function(t){return{channelId:t.string().required(),privileges:t.array().items(t.string()).default([])}}}],r&&yg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function Eg(t){return Eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(t)}function Og(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Sg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kg(t,e){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kg(t,e)}function jg(t,e){if(e&&("object"===Eg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tg(t)}function Tg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lg(t)}function Pg(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ag,Cg=new(bg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kg(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lg(n);if(o){var r=Lg(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return jg(this,t)});function a(){var t;Sg(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Og(Tg(t=i.call.apply(i,[this].concat(r))),"privilegeListsMap",wg,Tg(t)),t}return e=a,(r=[{key:"findByChannelId",value:function(t){return this.privilegeListsMap.get(t)}},{key:"session.reset",value:function(){this.privilegeListsMap=new Map}},{key:"channel.unload",value:function(t){var e=this,r=t.data;(void 0===r?[]:r).forEach((function(t){e.privilegeListsMap.delete(t.channelId)}))}},{key:"load",value:function(t){var e=this,r=t.data;return(void 0===r?[]:r).filter((function(t){return cr()(t)})).map((function(t){return e._updateOrCreate(t)}))}},{key:"getStart",value:function(t){var e=t.channelId,r=se.rpc("channel.getPermissions",{channelIds:[e]}),n=r.promise,o=r.dispose;return{promise:n.then((function(t){u.dispatcher.privilegeList.load({data:[{channelId:e,privileges:t.results}]})})).catch((function(t){return u.dispatcher.channel.setError({err:t,channelId:e}),Promise.reject(t)})),dispose:o}}},{key:"_updateOrCreate",value:function(t){var e=this.privilegeListsMap.get(t.channelId);if(e)return e.update(t),e;var r=new _g(t);return this.privilegeListsMap.set(t.channelId,r),r}}])&&xg(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(u.StateStore),wg=Pg(bg.prototype,"privilegeListsMap",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Pg(bg.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(bg.prototype,"session.reset"),bg.prototype),Pg(bg.prototype,"channel.unload",[u.reducer],Object.getOwnPropertyDescriptor(bg.prototype,"channel.unload"),bg.prototype),Pg(bg.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(bg.prototype,"load"),bg.prototype),Pg(bg.prototype,"getStart",[u.effect],Object.getOwnPropertyDescriptor(bg.prototype,"getStart"),bg.prototype),bg)("privilegeList");function Ig(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Rg=(Ag=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._channelId=e}var e,r;return e=t,(r=[{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"dataLoadHook",value:function(){var t=u.dispatcher.privilegeList.getStart({channelId:this._channelId}),e=t.promise,r=t.dispose;return this._dispose=r,e}},{key:"model",get:function(){return Cg.findByChannelId(this._channelId)}}])&&Ig(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(Ag.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(Ag.prototype,"model"),Ag.prototype),Ag);function Dg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ng(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dg(Object(r),!0).forEach((function(e){Fg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Bg=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=ot({channelId:e},{channelId:Q().string().required()});this._channelId=r.channelId}var e,r;return e=t,(r=[{key:"channelId",get:function(){return this._channelId}},{key:"privileges",get:function(){var t,e;return this._privilegeListLiveInstance||(this._privilegeListLiveInstance=(t=this.channelId,e=ot({channelId:t},{channelId:Q().string().required()}),new vi(Rg,e.channelId))),this._privilegeListLiveInstance}},{key:"setRateLimit",value:function(t){return zm(Ng({channelId:this.channelId},t))}},{key:"removeRateLimit",value:function(){return Gm(this.channelId)}},{key:"muteMembers",value:function(t){return sm(Ng({channelId:this.channelId},t))}},{key:"unmuteMembers",value:function(t){return dm(Ng({channelId:this.channelId},t))}},{key:"banMembers",value:function(t){return ym(Ng({channelId:this.channelId},t))}},{key:"unbanMembers",value:function(t){return vm(Ng({channelId:this.channelId},t))}},{key:"addRole",value:function(t){return qm(Ng({channelId:this.channelId},t))}},{key:"removeRole",value:function(t){return Hm(Ng({channelId:this.channelId},t))}}])&&Mg(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ug=new wf;ys(Ug._name,"channels",Ug.state);var zg,Gg,qg,Hg,Vg,$g,Wg=new fv;function Kg(t){return Kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(t)}function Yg(t){return function(t){if(Array.isArray(t))return Qg(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Qg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qg(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xg(Object(r),!0).forEach((function(e){Zg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rb(){return rb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=nb(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},rb.apply(this,arguments)}function nb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ab(t)););return t}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ob(t,e)}function ib(t,e){if(e&&("object"===Kg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ab(t){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ab(t)}function ub(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var sb=(zg=X.computed.struct,Gg=X.computed.struct,qg=X.computed.struct,Hg=X.computed.struct,Vg=X.computed.struct,$g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}(u,t);var e,r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ab(o);if(i){var r=ab(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ib(this,t)});function u(){return tb(this,u),a.apply(this,arguments)}return e=u,r=[{key:"uniqId",get:function(){return this.messageId}},{key:"_getUser",value:function(t){var e=fc.findById(t);return e?e.toJS():void 0}},{key:"channel",get:function(){var t=Ug.findById(this.channelId);return t?t.toJS():void 0}},{key:"user",get:function(){return this._getUser(this.userId)}},{key:"file",get:function(){var t=this.fileId&&gd.findById(this.fileId);return t?t.toJS():void 0}},{key:"parent",get:function(){var t=this.parentId&&qy.findById(this.parentId);return t?t.toJS():void 0}},{key:"mentionedUsers",get:function(){var t=this,e=this.mentionees.find((function(t){return t.type===Ef.User}));return e?e.userIds.map((function(e){return t._getUser(e)})).filter(Boolean):[]}},{key:"toJS",value:function(){var t=this;return Jg(Jg({},rb(ab(u.prototype),"toJS",this).call(this)),{},{mentionees:this.mentionees.map((function(e){return e.type===Ef.User?Jg(Jg({},e),{},{users:t.mentionedUsers}):e})),channel:this.channel,user:this.user,file:this.file,parent:this.parent})}}],n=[{key:"Schema",value:function(t){var e;return Jg(Jg({messageId:t.string().required(),channelId:t.string().required(),userId:t.string().required(),parentId:t.string().optional().allow(null),childrenNumber:t.number().integer().greater(-1).default(0),type:t.string().default(_f.Text),data:t.object().optional().default({}),fileId:t.string().optional().allow("",null),channelSegment:t.number().integer().greater(-1).default(0),tags:t.array().items(t.string()).default([]),reactionsCount:t.number().default(0),mentionees:t.array().items(t.object({type:(e=t.string()).valid.apply(e,Yg(Object.values(Ef))),userIds:t.array().items(t.string())})).default([]),metadata:t.object().empty([null]).default({}),syncState:t.number().default(v.Default),isDeleted:t.boolean().default(!1),createdAt:t.date().default(new Date),updatedAt:t.date().default(new Date),editedAt:t.date()},ur(t,cb.Message)),Oo(t,xr.Message))}}],r&&eb(e.prototype,r),n&&eb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(ar),ub($g.prototype,"channel",[zg],Object.getOwnPropertyDescriptor($g.prototype,"channel"),$g.prototype),ub($g.prototype,"user",[Gg],Object.getOwnPropertyDescriptor($g.prototype,"user"),$g.prototype),ub($g.prototype,"file",[qg],Object.getOwnPropertyDescriptor($g.prototype,"file"),$g.prototype),ub($g.prototype,"parent",[Hg],Object.getOwnPropertyDescriptor($g.prototype,"parent"),$g.prototype),ub($g.prototype,"mentionedUsers",[Vg],Object.getOwnPropertyDescriptor($g.prototype,"mentionedUsers"),$g.prototype),$g),cb=Object.freeze({User:"user",Message:"message",Post:"post",Comment:"comment"});function lb(t){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lb(t)}function fb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},db(t,e)}function yb(t,e){if(e&&("object"===lb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vb(t)}function vb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mb(t){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mb(t)}function gb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var bb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mb(n);if(o){var r=mb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return yb(this,t)});function a(){var t;hb(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return gb(vb(t=i.call.apply(i,[this].concat(r))),"modelDataLifespan",Ot),gb(vb(t),"createComputedProps",(function(){return{get avatarFile(){var t=gd.findById(this.avatarFileId);return t?t.toJS():void 0}}})),t}return e=a,r=[{key:"Schema",value:function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fb(Object(r),!0).forEach((function(e){gb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({userId:t.string().required(),displayName:t.string().allow(null,"").default(""),avatarFileId:t.string().optional().allow(null),avatarCustomUrl:t.string().optional().allow(null),description:t.string().optional().allow("").allow(null),roles:t.array().items(t.string()).default([]),permissions:t.array().items(t.string()).default([]),metadata:t.object().empty([null]).default({}),createdAt:t.date(),updatedAt:t.date(),isDeleted:t.boolean().default(!1),isGlobalBan:t.boolean(),path:t.string().allow("").optional()},ur(t,cb.User))}}],r&&pb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function wb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _b=function(t){return function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return wb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.path.split("/user/"),1)[0]};function Eb(t){return Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eb(t)}function Ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xb(t,e,r){return e&&Sb(t.prototype,e),r&&Sb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kb(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jb(t,e)}function Tb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Pb(t);if(e){var o=Pb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Lb(this,r)}}function Lb(t,e){if(e&&("object"===Eb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pb(t)}var Ab,Cb,Ib,Rb,Db,Nb,Fb=function(t){kb(r,t);var e=Tb(r);function r(){return Ob(this,r),e.apply(this,arguments)}return xb(r,null,[{key:"Schema",value:function(t){return{userId:t.string().required(),displayName:t.string().allow("")}}}]),r}(ar),Mb=function(t){kb(r,t);var e=Tb(r);function r(){return Ob(this,r),e.apply(this,arguments)}return xb(r,null,[{key:"Schema",value:function(t){return{accessToken:t.string().required(),refreshToken:t.string().required(),users:t.array().required()}}}]),r}(ar);function Bb(t){return Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(t)}function Ub(){Ub=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Bb(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function zb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Gb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qb(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Hb(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){qb(i,n,o,a,u,"next",t)}function u(t){qb(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Vb(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function $b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Kb(t,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kb(t,e)}function Yb(t,e){if(e&&("object"===Bb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qb(t)}function Qb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xb(t)}function Jb(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Zb=(Ab=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kb(t,e)}(c,t);var e,r,n,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xb(i);if(a){var r=Xb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Yb(this,t)});function c(){var t;$b(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Vb(Qb(t=s.call.apply(s,[this].concat(r))),"currentUser",Cb,Qb(t)),Vb(Qb(t),"networkSettings",Ib,Qb(t)),Vb(Qb(t),"authStatus",Rb,Qb(t)),Vb(Qb(t),"connectionStatus",Db,Qb(t)),Vb(Qb(t),"lastNetworkError",Nb,Qb(t)),t}return e=c,r=[{key:"sessionData",get:function(){return this._sessionData}},{key:"authorizationBearerHeader",get:function(){if(this._sessionData)return{Authorization:"Bearer ".concat(this._sessionData.accessToken)}}},{key:"reset",value:function(){this.connectionStatus=p.Disconnected,this.authStatus=fe.NotAuthenticated,this._sessionData=void 0,this.currentUser=void 0,this.networkSettings=void 0,se.connectionData=void 0,se.disconnect(),Zt&&(Zt.connectionData=void 0,Zt.disconnect())}},{key:"authenticateAndConnectSet",value:function(t){var e=t.userId,r=t.displayName;this.currentUser=new Fb({userId:e,displayName:r}),this.connectionStatus=p.Connecting,this.authStatus=fe.Authenticating}},{key:"authenticateFinishedSet",value:function(t){var e=t.authData;this._sessionData=new Mb(e),this.authStatus=fe.Authenticated}},{key:"authenticateError",value:function(t){var e=t.err;this.authStatus=fe.AuthenticationFailed,this.connectionStatus=p.Disconnected,this._handleError(e)}},{key:"connectStart",value:function(t){if(this._sessionData){var e=this._sessionData,r=e.accessToken,n=e.users;if(se.connectionData={token:r},se.connect(),!t&&Zt.brokerEndpoint){var o=n.length&&n[0]._id;Zt.connectionData={token:r,userId:o,clientId:wt()},Zt.connect(),Zt.subscribe(_b(n[0]))}}}},{key:"connectFinished",value:(o=Hb(Ub().mark((function t(){var e,r,n,o;return Ub().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([se.rpc("v3/network-settings.getChat",{}).promise,se.rpc("v3/network-settings.getSocial",{}).promise]);case 2:e=t.sent,r=zb(e,2),n=r[0],o=r[1],this.networkSettings={chat:n,social:o.socialNetworkSetting},this.connectionStatus=p.Connected;case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"disconnected",value:function(){this.connectionStatus=p.Disconnected}},{key:"authenticateAndConnect",value:(n=Hb(Ub().mark((function t(e){var r,n,o,i,a,s,c;return Ub().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.userId,n=e.displayName,o=e.authToken,i=e.disableRTE,!this.currentUser){t.next=7;break}if(this.currentUser.userId!==r){t.next=5;break}return publicLogWarning("Attempt to register device with already existing user"),t.abrupt("return");case 5:publicLogInfo("Logout previous ".concat(this.currentUser.userId," and start authentication of ").concat(r)),u.dispatcher.session.reset();case 7:if(u.dispatcher.session.authenticateAndConnectSet({userId:r,displayName:n}),u.dispatcher.user.load({data:[{userId:r,displayName:n}],options:{isLocal:!0}}),this.authStatus!==fe.Authenticating){t.next=16;break}return t.next=12,Ue.requestAccessTokenWithApiKey(r,n,o);case 12:a=t.sent,s=a.body,(c=a.err)?u.dispatcher.session.authenticateError({err:c}):u.dispatcher.session.authenticateFinished(s,i);case 16:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"authenticateFinished",value:function(t,e){try{u.dispatcher.session.authenticateFinishedSet({authData:t}),u.dispatcher.session.connectStart(e)}catch(t){logError("SessionData state failed to update"),this._handleError(t)}}},{key:"handleConnectionError",value:function(t){var e=t.message,r=t.code,n=new ASCConnectionError(e);r&&(n.code=r),this._handleError(n)}},{key:"_handleError",value:function(t){U(t.code)&&(this.currentUser=void 0),this.lastNetworkError=t}}],r&&Wb(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(u.StateStore),Cb=Jb(Ab.prototype,"currentUser",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ib=Jb(Ab.prototype,"networkSettings",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rb=Jb(Ab.prototype,"authStatus",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fe.NotAuthenticated}}),Db=Jb(Ab.prototype,"connectionStatus",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.NotConnected}}),Nb=Jb(Ab.prototype,"lastNetworkError",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jb(Ab.prototype,"reset",[u.reducer],Object.getOwnPropertyDescriptor(Ab.prototype,"reset"),Ab.prototype),Jb(Ab.prototype,"authenticateAndConnectSet",[u.reducer],Object.getOwnPropertyDescriptor(Ab.prototype,"authenticateAndConnectSet"),Ab.prototype),Jb(Ab.prototype,"authenticateFinishedSet",[u.reducer],Object.getOwnPropertyDescriptor(Ab.prototype,"authenticateFinishedSet"),Ab.prototype),Jb(Ab.prototype,"authenticateError",[u.reducer],Object.getOwnPropertyDescriptor(Ab.prototype,"authenticateError"),Ab.prototype),Jb(Ab.prototype,"connectStart",[u.reducer],Object.getOwnPropertyDescriptor(Ab.prototype,"connectStart"),Ab.prototype),Jb(Ab.prototype,"connectFinished",[u.reducer],Object.getOwnPropertyDescriptor(Ab.prototype,"connectFinished"),Ab.prototype),Jb(Ab.prototype,"disconnected",[u.reducer],Object.getOwnPropertyDescriptor(Ab.prototype,"disconnected"),Ab.prototype),Jb(Ab.prototype,"authenticateAndConnect",[u.effect],Object.getOwnPropertyDescriptor(Ab.prototype,"authenticateAndConnect"),Ab.prototype),Jb(Ab.prototype,"authenticateFinished",[u.effect],Object.getOwnPropertyDescriptor(Ab.prototype,"authenticateFinished"),Ab.prototype),Jb(Ab.prototype,"handleConnectionError",[u.reducer],Object.getOwnPropertyDescriptor(Ab.prototype,"handleConnectionError"),Ab.prototype),Ab),tw=new Zb("session");function ew(t){return ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ew(t)}function rw(t){return function(t){if(Array.isArray(t))return nw(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return nw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nw(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ow(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aw(t,e,r){return e&&iw(t.prototype,e),r&&iw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uw(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sw(t,e)}function sw(t,e){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sw(t,e)}function cw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=fw(t);if(e){var o=fw(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lw(this,r)}}function lw(t,e){if(e&&("object"===ew(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fw(t){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fw(t)}var hw,pw=function(t){uw(r,t);var e=cw(r);function r(){return ow(this,r),e.apply(this,arguments)}return aw(r,null,[{key:"Schema",value:function(t){var e,r;return{maxResolution:(e=t.string()).valid.apply(e,rw(Object.values(Lp))).required(),minResolution:(r=t.string()).valid.apply(r,rw(Object.values(Lp))).required()}}}]),r}(ar),dw=function(t){uw(r,t);var e=cw(r);function r(){return ow(this,r),e.apply(this,arguments)}return aw(r,null,[{key:"Schema",value:function(t){return{contentType:t.string().valid(w.text).required(),allowed:t.boolean().required()}}}]),r}(ar),yw=function(t){uw(r,t);var e=cw(r);function r(){return ow(this,r),e.apply(this,arguments)}return aw(r,null,[{key:"Schema",value:function(t){return{contentType:t.string().valid(w.video).required(),allowed:t.boolean().required(),maxDurationSeconds:t.number().required(),transcodeConfig:t.object(pw.Schema(t)).required()}}}]),r}(ar),vw=function(t){uw(r,t);var e=cw(r);function r(){return ow(this,r),e.apply(this,arguments)}return aw(r,null,[{key:"Schema",value:function(t){var e;return{feedType:(e=t.string()).valid.apply(e,rw(Object.values(_))).required(),contentSettings:t.array().items(dw.Schema(t),yw.Schema(t)).required()}}}]),r}(ar);function mw(t){return mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mw(t)}function gw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function bw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ww(){ww=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==mw(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function _w(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Ew(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ow(t,e)}function Sw(t,e){if(e&&("object"===mw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xw(t)}function xw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kw(t)}function jw(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Tw=!1,Lw=(hw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}(l,t);var e,r,n,o,i,a,s,c=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kw(a);if(s){var r=kw(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Sw(this,t)});function l(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),Tw)throw new ASCError("Only one instance of the SDK Web Client can be created");var r=ot(t,{apiKey:Q().string().required(),apiEndpoint:Q().string().optional().default(""),mqttEndpoint:Q().string().optional().default(""),apiRegion:Q().string().optional().default(le.SG)}),n=r.apiKey,o=r.apiEndpoint,i=r.mqttEndpoint,a=r.apiRegion;return e=c.call(this),function(t){var e,r=t.apiRegion,n=t.apiEndpoint,o=t.mqttEndpoint,i=n||ye(he,r),a=o||ye("wss://sse.{region}.amity.co:443/mqtt",r);lt({endpoint:i}),e={endpoint:i},ue.configure(e),function(t){Xt.configure(t)}({endpoint:a})}({apiRegion:a,apiEndpoint:o,mqttEndpoint:i}),Be({apiKey:n}),Tw=!0,(0,X.observe)(xw(e),"connectionStatus",(function(t){setTimeout((function(){e.emit("connectionStatusChanged",{oldValue:t.oldValue,newValue:t.newValue})}))})),(0,X.reaction)((function(){return tw.lastNetworkError}),(function(t){e.emit("dataError",t)})),e}return e=l,r=[{key:"connectionStatus",get:function(){return tw.connectionStatus}},{key:"currentUserId",get:function(){return tw.currentUser&&tw.currentUser.userId}},{key:"networkSettings",get:function(){return tw.networkSettings}},{key:"currentUser",get:function(){if(this.currentUserId)return this._currentUser||(this._currentUser=Ia(this.currentUserId)),this._currentUser}},{key:"registerSession",value:(o=ww().mark((function t(e){var r,n,o,i,a;return ww().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,{userId:Q().string().required(),displayName:Q().string().allow(""),authToken:Q().string().allow(""),disableRTE:Q().boolean().optional()}),n=r.userId,o=r.displayName,i=r.authToken,a=r.disableRTE,t.next=3,u.dispatcher.session.authenticateAndConnect({userId:n,displayName:o,authToken:i,disableRTE:a});case 3:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){_w(i,r,n,a,u,"next",t)}function u(t){_w(i,r,n,a,u,"throw",t)}a(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"unregisterSession",value:function(){this._currentUser=null,u.dispatcher.session.reset()}},{key:"updateCurrentUser",value:function(t){if(!this.currentUserId)throw new ASCInvalidParameterError("Current user is not available");return Fa(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gw(Object(r),!0).forEach((function(e){bw(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({userId:this.currentUserId},t))}},{key:"setDisplayName",value:function(t){return this.updateCurrentUser({displayName:t})}},{key:"setAvatar",value:function(t){return Z(),this.setAvatarFileId(t)}},{key:"setAvatarFileId",value:function(t){return this.updateCurrentUser({avatarFileId:t})}},{key:"setAvatarCustomUrl",value:function(t){return this.updateCurrentUser({avatarCustomUrl:t})}},{key:"setDescription",value:function(t){return this.updateCurrentUser({description:t})}},{key:"setRoles",value:function(t){return this.updateCurrentUser({roles:t})}},{key:"setUserMetadata",value:function(t){return this.updateCurrentUser({metadata:t})}},{key:"createChannelRepository",value:function(){return new ig}}],n=[{key:"create",value:function(t){return new l(t)}},{key:"getFeedSettings",value:function(){return ft.get("/api/v3/network-settings/feed-setting").set(tw.authorizationBearerHeader).then((function(t){var e=t.body;return Object.fromEntries(e.feedSettings.map((function(t){var e=new vw(t);return[e.feedType,e.contentSettings]})))})).catch(lr)}}],r&&Ew(e.prototype,r),n&&Ew(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(rt),jw(hw.prototype,"connectionStatus",[X.computed],Object.getOwnPropertyDescriptor(hw.prototype,"connectionStatus"),hw.prototype),jw(hw.prototype,"currentUserId",[X.computed],Object.getOwnPropertyDescriptor(hw.prototype,"currentUserId"),hw.prototype),jw(hw.prototype,"networkSettings",[X.computed],Object.getOwnPropertyDescriptor(hw.prototype,"networkSettings"),hw.prototype),hw),Pw=Object.freeze({EditUser:"EDIT_USER",BanUser:"BAN_USER",CreateRole:"CREATE_ROLE",EditRole:"EDIT_ROLE",DeleteRole:"DELETE_ROLE",AssignRole:"ASSIGN_USER_ROLE",EditChannel:"EDIT_CHANNEL",EditChannelRatelimit:"EDIT_CHANNEL_RATELIMIT",MuteChannel:"MUTE_CHANNEL",CloseChannel:"CLOSE_CHANNEL",AddChannelUser:"ADD_CHANNEL_USER",EditChannelUser:"EDIT_CHANNEL_USER",RemoveChannelUser:"REMOVE_CHANNEL_USER",MuteChannelUser:"MUTE_CHANNEL_USER",BanChannelUser:"BAN_CHANNEL_USER",EditMessage:"EDIT_MESSAGE",DeleteMessage:"DELETE_MESSAGE",EditCommunity:"EDIT_COMMUNITY",DeleteCommunity:"DELETE_COMMUNITY",AddChannelCommunity:"ADD_COMMUNITY_USER",EditChannelCommunity:"EDIT_COMMUNITY_USER",RemoveChannelCommunity:"REMOVE_COMMUNITY_USER",MuteChannelCommunity:"MUTE_COMMUNITY_USER",BanChannelCommunity:"BAN_COMMUNITY_USER",EditUserFeedPost:"EDIT_USER_FEED_POST",DeleteUserFeedPost:"DELETE_USER_FEED_POST",EditUserFeedComment:"EDIT_USER_FEED_COMMENT",DeleteUserFeedComment:"DELETE_USER_FEED_COMMENT",EditCommunityFeedPost:"EDIT_COMMUNITY_FEED_POST",DeleteCommunityFeedPost:"DELETE_COMMUNITY_FEED_POST",EditCommunityFeedComment:"EDIT_COMMUNITY_FEED_COMMENT",DeleteCommunityFeedComment:"DELETE_COMMUNITY_FEED_COMMENT",CreateCommunityCategory:"CREATE_COMMUNITY_CATEGORY",EditCommunityCategory:"EDIT_COMMUNITY_CATEGORY",DeleteCommunityCategory:"DELETE_COMMUNITY_CATEGORY"}),Aw=Object.freeze({All:"all",Member:"member",NotMember:"notMember"}),Cw=Object.freeze({DisplayName:"displayName",FirstCreated:"firstCreated",LastCreated:"lastCreated"}),Iw=Object.freeze({Name:"name"}),Rw=Object.freeze({None:"none",Member:"member",Banned:"banned",Muted:"muted"}),Dw=Object.freeze({All:"all",Member:"member",NotMember:"notMember"}),Nw=Object.freeze({FirstCreated:"firstCreated",LastCreated:"lastCreated"}),Fw=Object.freeze({ONLY_ADMIN_CAN_POST:{needApprovalOnPostCreation:!1,onlyAdminCanPost:!0},ADMIN_REVIEW_POST_REQUIRED:{needApprovalOnPostCreation:!0,onlyAdminCanPost:!1},ANYONE_CAN_POST:{needApprovalOnPostCreation:!1,onlyAdminCanPost:!1}}),Mw={ONLY_ADMIN_CAN_POST:"ONLY_ADMIN_CAN_POST",ADMIN_REVIEW_POST_REQUIRED:"ADMIN_REVIEW_POST_REQUIRED",ANYONE_CAN_POST:"ANYONE_CAN_POST"},Bw="ONLY_ADMIN_CAN_POST",Uw=["community.updated","community.deleted","community.joined","community.left","community.roleAdded","community.roleRemoved","community.userAdded","community.userRemoved","community.userBanned","community.userUnbanned"],zw=m(9439),Gw=m.n(zw);function qw(t){return qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qw(t)}var Hw,Vw,$w,Ww=["targetType","targetId","options","useExperimental","useCustomRanking"],Kw=["postId"];function Yw(t){return function(t){if(Array.isArray(t))return Qw(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qw(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xw(){Xw=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==qw(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Jw(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Zw(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function t_(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Zw(i,n,o,a,u,"next",t)}function u(t){Zw(i,n,o,a,u,"throw",t)}a(void 0)}))}}function e_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?e_(Object(r),!0).forEach((function(e){c_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n_(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function o_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i_(t,e)}function a_(t,e){if(e&&("object"===qw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u_(t)}function u_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s_(t){return s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s_(t)}function c_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l_(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var f_,h_,p_,d_=function(t){var e=t.targetId,r=t.targetType,n=t.useCustomRanking;if(!Object.values(Tc).includes(r))throw new ASCInvalidParameterError("invalid feed type (".concat(r,")"));return r===Tc.GlobalFeed?{endpoint:"/api/".concat(n?"v5":"v4","/me/global-feeds"),params:{}}:{endpoint:"/api/v4/posts",params:{targetType:r,targetId:e}}},y_=(Hw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}(d,t);var e,r,n,o,i,a,s,c,l,f,h,p=(f=d,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s_(f);if(h){var r=s_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return a_(this,t)});function d(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),n_(u_(t=p.call(this,"post")),"state",Vw,u_(t)),n_(u_(t),"errors",$w,u_(t)),t._subscribeToRealTimeEvents(),t}return e=d,r=[{key:"_subscribeToRealTimeEvents",value:function(){var t=this;Cc.forEach((function(e){Zt.on(e,(function(r){switch(e){case"post.created":t.distribute(r);var n=r.posts;u.dispatcher.postCache.saveToExistingCache(r,(function(t){var e=t.targetId,r=t.targetType,o=n[0],i=o.targetType,a=o.targetId;return i===r&&a===e||r===Tc.GlobalFeed}));break;case"post.addReaction":case"post.removeReaction":var o=r.reactor,i=o.reactionName,a=o.userId,s=o.updatedAt,c=r.posts;if(c&&c.length){var l=c[0],f=t.findById(l.postId);if(f&&Ut(f,{updatedAt:s})){var h=f.toJS(),p="post.addReaction"===e?"addReaction":"removeReaction",d=Qr(h.myReactions,i,p,a);u.dispatcher.post.load({data:[r_(r_(r_({},h),l),{},{myReactions:d})]})}}break;default:var y=r.posts;if(y&&y.length){var v=y[0],m=t.findById(v.postId);m&&Ut(m,v)&&t.distribute(r)}}}))}))}},{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return t.postId}},{key:"findById",value:function(t){return this.state.get(t)}},{key:"findErrorById",value:function(t){return this.errors.get(t)}},{key:"_create",value:function(t){var e=new $c(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(r_(r_({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.state=new Map}},{key:"distribute",value:function(t){return["file","user","comment","post","feed","community","communityUser","communityCategory","poll","stream"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}},{key:"grab",value:function(t){var e=t.posts,r=t.postChildren,n=t.polls,o=!(!e||!e.length),i=!(!r||!r.length),a=!(!n||!n.length);return o&&u.dispatcher.post.load({data:e}),i&&u.dispatcher.post.load({data:r}),a&&u.dispatcher.poll.load({data:n}),o||i||a}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.err,r=t.postId;this.errors.set(r,e||new ASCError("Unknown"))}},{key:"query",value:(l=t_(Xw().mark((function t(e){var r,n,o,i,a,u,s,c,l,f,h;return Xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.targetType,n=e.targetId,o=e.options,i=e.useExperimental,a=e.useCustomRanking,u=Jw(e,Ww),s=d_({targetType:r,targetId:n,useExperimental:i,useCustomRanking:a}),c=s.endpoint,l=s.params,t.next=4,ft.get(c).set(tw.authorizationBearerHeader).query(Po().stringify(r_(r_(r_({},l),{},{options:o},u),{},{targetType:r}),{arrayFormat:"brackets"})).catch(lr);case 4:return f=t.sent,h=f.body,this.distribute(h),t.abrupt("return",h);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"fetch",value:(c=t_(Xw().mark((function t(e){var r,n,o;return Xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.postId,t.prev=1,t.next=4,ft.get("/api/v3/posts/".concat(r)).set(tw.authorizationBearerHeader).catch(lr);case 4:return n=t.sent,o=n.body,this.distribute(o),t.abrupt("return",o);case 10:throw t.prev=10,t.t0=t.catch(1),u.dispatcher.post.setError({err:t.t0,postId:"-1"}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(t){return c.apply(this,arguments)})},{key:"create",value:(s=t_(Xw().mark((function t(e){var r,n;return Xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.post("/api/v4/posts").set(tw.authorizationBearerHeader).send(e).catch(lr);case 3:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.post.setError({err:t.t0,postId:"-1"}),t.t0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return s.apply(this,arguments)})},{key:"update",value:(a=t_(Xw().mark((function t(e){var r,n,o,i;return Xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.postId,n=Jw(e,Kw),t.prev=1,t.next=4,ft.put("/api/v4/posts/".concat(r)).set(tw.authorizationBearerHeader).send(n);case 4:return o=t.sent,i=o.body,this.distribute(i),t.abrupt("return",!0);case 10:throw t.prev=10,t.t0=t.catch(1),u.dispatcher.post.setError({err:t.t0,postId:r}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(t){return a.apply(this,arguments)})},{key:"delete",value:(i=t_(Xw().mark((function t(e){var r,n,o,i,a,s,c,l,f,h;return Xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.postId,n=e.permanent,t.next=4,ft.delete("/api/v4/posts/".concat(r)).set(tw.authorizationBearerHeader).send(e).catch(lr);case 4:return o=t.sent,i=o.body,(a=i.success)&&(s=this.state.get(r))&&(c=s.children,l=void 0===c?[]:c,f=s.parentPostId,h=void 0===f?null:f,u.dispatcher.post.unload({data:[{postId:r}].concat(Yw(l.map((function(t){return{postId:t}})))),options:{softDelete:!n}}),h&&u.dispatcher.post.removeChild({postId:h,childId:r,permanent:n})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(0),u.dispatcher.post.setError({err:t.t0,postId:"-1"}),t.t0;case 15:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t){return i.apply(this,arguments)})},{key:"approve",value:(o=t_(Xw().mark((function t(e){var r,n;return Xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.post("/api/v3/posts/".concat(e,"/approve")).set(tw.authorizationBearerHeader).send({postId:e}).catch(lr);case 3:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.post.setError({err:t.t0,postId:"-1"}),t.t0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return o.apply(this,arguments)})},{key:"decline",value:(n=t_(Xw().mark((function t(e){var r,n;return Xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.post("/api/v3/posts/".concat(e,"/decline")).set(tw.authorizationBearerHeader).send({postId:e}).catch(lr);case 3:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.post.setError({err:t.t0,postId:"-1"}),t.t0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return n.apply(this,arguments)})},{key:"removeChild",value:function(t){var e=t.postId,r=t.childId,n=t.permanent,o=(this.state.get(e)||{}).children;(void 0===o?[]:o).includes(r)&&u.dispatcher.post.unload({data:[{postId:r}],options:{softDelete:!n}})}},{key:"addComment",value:function(t){var e=t.postId,r=t.commentId;if(this.state.has(e)){var n=this.state.get(e),o=n.comments,i=n.commentsCount;o.includes(r)||this._save({postId:e,comments:o.concat([r]),commentsCount:i+1})}}},{key:"removeComments",value:function(t){var e=t.postId,r=t.commentIds;if(this.state.has(e)){var n=this.state.get(e),o=n.comments,i=n.commentsCount;r.some((function(t){return o.includes(t)}))&&this._save({postId:e,comments:o.filter((function(t){return!r.includes(t)})),commentsCount:i-r.length})}}}],r&&o_(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(u.StateStore),Vw=l_(Hw.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),$w=l_(Hw.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),l_(Hw.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(Hw.prototype,"session.reset"),Hw.prototype),l_(Hw.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(Hw.prototype,"grab"),Hw.prototype),l_(Hw.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(Hw.prototype,"load"),Hw.prototype),l_(Hw.prototype,"unload",[u.effect],Object.getOwnPropertyDescriptor(Hw.prototype,"unload"),Hw.prototype),l_(Hw.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(Hw.prototype,"setError"),Hw.prototype),l_(Hw.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(Hw.prototype,"query"),Hw.prototype),l_(Hw.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(Hw.prototype,"fetch"),Hw.prototype),l_(Hw.prototype,"create",[u.effect],Object.getOwnPropertyDescriptor(Hw.prototype,"create"),Hw.prototype),l_(Hw.prototype,"update",[u.effect],Object.getOwnPropertyDescriptor(Hw.prototype,"update"),Hw.prototype),l_(Hw.prototype,"delete",[u.effect],Object.getOwnPropertyDescriptor(Hw.prototype,"delete"),Hw.prototype),l_(Hw.prototype,"approve",[u.effect],Object.getOwnPropertyDescriptor(Hw.prototype,"approve"),Hw.prototype),l_(Hw.prototype,"decline",[u.effect],Object.getOwnPropertyDescriptor(Hw.prototype,"decline"),Hw.prototype),l_(Hw.prototype,"removeChild",[u.reducer],Object.getOwnPropertyDescriptor(Hw.prototype,"removeChild"),Hw.prototype),l_(Hw.prototype,"addComment",[u.reducer],Object.getOwnPropertyDescriptor(Hw.prototype,"addComment"),Hw.prototype),l_(Hw.prototype,"removeComments",[u.reducer],Object.getOwnPropertyDescriptor(Hw.prototype,"removeComments"),Hw.prototype),Hw),v_=m(6642);function m_(t){return m_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m_(t)}function g_(t){return function(t){if(Array.isArray(t))return b_(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return b_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b_(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b_(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w_(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function __(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E_(t,e)}function O_(t,e){if(e&&("object"===m_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S_(t)}function S_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x_(t){return x_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x_(t)}function k_(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var j_,T_,L_=(f_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x_(n);if(o){var r=x_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return O_(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),w_(S_(t=i.call(this,"postCache")),"state",h_,S_(t)),w_(S_(t),"errors",p_,S_(t)),t}return e=a,r=[{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"keys",get:function(){return Array.from(this.state.keys())}},{key:"_uniqueId",value:function(t){var e,r,n;return(0,v_.stringify)((e=t,r=Object.keys(e).sort(),n=Object.create(null),r.forEach((function(t){n[t]=e[t]})),n))}},{key:"findByParams",value:function(t){return this.state.get(this._uniqueId(t))}},{key:"findByKey",value:function(t){return this.state.get(t)}},{key:"_create",value:function(t){var e=this._uniqueId(t);this.state.has(e)||this.state.set(e,[])}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete||this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.state=new Map}},{key:"saveToCache",value:function(t,e){e&&u.dispatcher.postCache.addCacheKey(e);var r=t.posts,n=!(!r||!r.length);return n&&u.dispatcher.postCache.load({data:r.map((function(t){return t.postId})),parameters:e}),n}},{key:"saveToExistingCache",value:function(t,e){var r=t.posts,n=!(!r||!r.length);return n&&u.dispatcher.postCache.load({data:r.map((function(t){return t.postId})),resolver:e}),n}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.parameters,i=t.resolver;if(o){var a=this.findByParams(o);a.push.apply(a,g_(n.filter((function(t){return!a.includes(t)}))))}else this.keys.forEach((function(t){if(!i||i((0,v_.parse)(t))){var r=e.findByKey(t),o=n.filter((function(t){return!r.includes(t)}));o.length&&r.unshift.apply(r,g_(o))}}))}},{key:"unload",value:function(t){var e=t.data,r=void 0===e?[]:e;r&&r.length&&this.values.forEach((function(t){t.forEach((function(t,e,n){r.includes(t)||n.splice(e,1)}))}))}},{key:"addCacheKey",value:function(t){this._create(t)}}],r&&__(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(u.StateStore),h_=k_(f_.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),p_=k_(f_.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),k_(f_.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(f_.prototype,"session.reset"),f_.prototype),k_(f_.prototype,"saveToCache",[u.effect],Object.getOwnPropertyDescriptor(f_.prototype,"saveToCache"),f_.prototype),k_(f_.prototype,"saveToExistingCache",[u.effect],Object.getOwnPropertyDescriptor(f_.prototype,"saveToExistingCache"),f_.prototype),k_(f_.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(f_.prototype,"load"),f_.prototype),k_(f_.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(f_.prototype,"unload"),f_.prototype),k_(f_.prototype,"addCacheKey",[u.effect],Object.getOwnPropertyDescriptor(f_.prototype,"addCacheKey"),f_.prototype),f_);function P_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function A_(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var C_,I_,R_=(j_=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r,n){r&&Object.defineProperty(t,"_postId",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,0,T_,this),this._postId=e}var e,r;return e=t,(r=[{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"dataLoadHook",value:function(){var t=this;return u.dispatcher.post.fetch({postId:this._postId}).catch((function(){t._postId="-1"}))}},{key:"model",get:function(){return AO.findById(this._postId)}},{key:"error",get:function(){return AO.findErrorById(this._postId)}}])&&P_(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),T_=A_(j_.prototype,"_postId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A_(j_.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(j_.prototype,"model"),j_.prototype),A_(j_.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(j_.prototype,"error"),j_.prototype),j_);function D_(t){return D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D_(t)}function N_(){N_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==D_(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function F_(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function M_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B_(t,e)}function U_(t,e){if(e&&("object"===D_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return z_(t)}function z_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G_(t){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G_(t)}var q_=(C_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}(c,t);var e,r,n,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=G_(i);if(a){var r=G_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return U_(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),function(t,e,r,n){r&&Object.defineProperty(t,"_postId",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(z_(e=s.call(this)),0,I_,z_(e)),e._parameters=t,e}return e=c,r=[{key:"dataLoadHook",value:(n=N_().mark((function t(){var e=this;return N_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.dispatcher.post.create(this._parameters).then((function(t){e._postId=t.posts[0].postId,u.dispatcher.postCache.saveToExistingCache(t,(function(t){var r=t.targetId,n=t.targetType,o=e._parameters,i=o.targetType,a=o.targetId;return i===n&&a===r||n===Tc.GlobalFeed}))})).catch((function(t){return e._postId="-1",Promise.reject(t)})));case 1:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){F_(i,r,o,a,u,"next",t)}function u(t){F_(i,r,o,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})}],r&&M_(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(R_),I_=function(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),void 0===(i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i)).initializer&&(Object.defineProperty(t,e,i),i=null),i}(C_.prototype,"_postId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C_),H_=["files","images"];function V_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V_(Object(r),!0).forEach((function(e){W_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K_(t){return function(t){if(Array.isArray(t))return Y_(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Y_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y_(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y_(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Q_=function(t){var e,r,n=t;if(t.data&&(t.data.files||t.data.images)){var o=t.data,i=o.files,a=o.images,u=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(o,H_),s=[];i&&(Z(),s.push.apply(s,K_(i.map((function(t){return{fileId:t,type:jp.File}}))))),a&&(Z(),s.push.apply(s,K_(a.map((function(t){return{fileId:t,type:jp.Image}}))))),n=$_($_({},t),{},{data:u,attachments:s})}var c=ot(n,Q().object({targetType:Q().string().required().valid(Tc.CommunityFeed,Tc.UserFeed,Tc.MyFeed,Tc.Content),targetId:Q().when("targetType",{switch:[{is:Tc.CommunityFeed,then:Q().string().required()},{is:Tc.UserFeed,then:Q().string().required()},{is:Tc.MyFeed,then:Q().optional().strip()},{is:Tc.Content,then:Q().string().required()}]}),dataType:Q().string().regex(/^[a-z][a-zA-Z0-9]+(\.[a-z][a-zA-Z0-9]+)?/i).optional(),data:Q().object({text:Q().string().when("attachments",{is:Q().array().min(1),then:Q().optional(),otherwise:Q().required()})}).when("dataType",{switch:[{is:Lc.LivestreamPost,then:Q().object({streamId:Q().string().required()}).required()},{is:Lc.PollPost,then:Q().object({pollId:Q().string().required()}).required()}]}).unknown(!0),tags:Q().array().items(Q().string()).optional(),attachments:Q().array().items(Q().object({fileId:Q().string().required(),type:(e=Q().string().required()).valid.apply(e,K_(Object.values(jp))).required()})).when("dataType",{is:Lc.LivestreamPost,then:Q().forbidden(),otherwise:Q().optional()}),metadata:Q().object().optional(),mentionees:Q().array().items(Q().object({type:(r=Q().string()).valid.apply(r,K_(Object.values(Ac))).required(),userIds:Q().array().items(Q().string()).optional()})).optional()}).required());return c.targetType===Tc.MyFeed&&(c.targetType=Tc.UserFeed,c.targetId=tw.currentUser.userId),new vi(q_,c)};function X_(t){return X_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X_(t)}function J_(){J_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==X_(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Z_(t){return function(t){if(Array.isArray(t))return tE(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tE(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tE(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eE(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var rE=function(){var t,e=(t=J_().mark((function t(e){var r,n,o;return J_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=ot(e,{postId:Q().string().required(),data:Q().object().required(),metadata:Q().object().optional(),tags:Q().array().items(Q().string()).optional(),mentionees:Q().array().items(Q().object({type:(r=Q().string()).valid.apply(r,Z_(Object.values(Ac))).required(),userIds:Q().array().items(Q().string()).optional()})).optional(),attachments:Q().array().items(Q().object({type:(n=Q().string()).valid.apply(n,Z_(Object.values(Ic))).required(),fileId:Q().string().required()})).optional()}),t.next=3,u.dispatcher.post.update(o);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){eE(i,n,o,a,u,"next",t)}function u(t){eE(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function nE(t){return nE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nE(t)}function oE(){oE=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==nE(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function iE(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function aE(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){iE(i,n,o,a,u,"next",t)}function u(t){iE(i,n,o,a,u,"throw",t)}a(void 0)}))}}function uE(t){return sE.apply(this,arguments)}function sE(){return(sE=aE(oE().mark((function t(e){var r;return oE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=AO.findById(e))||r.targetType!==Tc.CommunityFeed||!tT.findById(r.targetId)){t.next=4;break}return t.next=4,u.dispatcher.community.fetch(r.targetId).promise;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function cE(t){return cE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cE(t)}function lE(){lE=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==cE(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function fE(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var hE=function(){var t,e=(t=lE().mark((function t(e){var r,n,o,i=arguments;return lE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],n=ot({postId:e,permanent:r},{postId:Q().string().required(),permanent:Q().boolean().required()}),t.next=4,u.dispatcher.post.delete(n);case 4:if(!(o=t.sent)){t.next=8;break}return t.next=8,uE(n.postId);case 8:return t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){fE(i,n,o,a,u,"next",t)}function u(t){fE(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function pE(t){return pE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pE(t)}function dE(){dE=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==pE(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function yE(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var vE=function(){var t,e=(t=dE().mark((function t(e){var r;return dE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({postId:e},{postId:Q().string().required()}),t.next=3,u.dispatcher.post.approve(r.postId);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yE(i,n,o,a,u,"next",t)}function u(t){yE(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function mE(t){return mE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mE(t)}function gE(){gE=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==mE(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function bE(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var wE,_E,EE,OE=function(){var t,e=(t=gE().mark((function t(e){var r;return gE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({postId:e},{postId:Q().string().required()}),t.next=3,u.dispatcher.post.decline(r.postId);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){bE(i,n,o,a,u,"next",t)}function u(t){bE(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function SE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kE=(xE(wE={},Tc.CommunityFeed,(function(t){return t.targetType===Tc.CommunityFeed})),xE(wE,Tc.UserFeed,(function(t){return t.targetType===Tc.UserFeed})),wE),jE=(xE(_E={},Pc.FirstCreated,(function(t,e){return t.createdAt-e.createdAt})),xE(_E,Pc.LastCreated,(function(t,e){var r=t.createdAt;return e.createdAt-r})),_E),TE=(EE=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),xE(this,"dispose",(function(){})),xE(this,"pagingDirection","next");var r=e.targetType,n=e.targetId,o=e.feedType,i=e.dataTypes,a=e.matchingOnlyParentPost,u=e.limit,s=e.tags,c=e.mentionees,l=e.includeChildrenPosts,f=void 0!==l&&l,h=e.includeDeletedPosts,p=void 0!==h&&h,d=e.sortBy,y=void 0===d?Pc.LastCreated:d,v=e.useCustomRanking;this.targetType=r,this.targetId=n,this.feedType=o,this.dataTypes=i,this.matchingOnlyParentPost=a,this.includeChildrenPosts=f,this.includeDeletedPosts=p,this.sortBy=y,this.recordsPerPage=u,this.tags=s&&s.length?s:void 0,this.mentionees=c,this.useCustomRanking=v}var e,r;return e=t,r=[{key:"models",get:function(){var t=this,e=this.feedType?rS.findFeed(this.targetId,this.targetType,this.feedType):void 0,r=Array.from(AO.state.values());return e&&(r=r.filter((function(t){return t.feedId===e.feedId}))),this.includeChildrenPosts||(r=r.filter((function(t){return!t.parentPostId}))),this.targetType in kE&&(r=(r=r.filter(kE[this.targetType])).filter((function(e){return e.targetId===t.targetId}))),this.dataTypes&&(r=r.filter((function(e){return t.dataTypes.includes(e.dataType)}))),this.includeDeletedPosts||(r=r.filter((function(t){return!t.isDeleted}))),this.tags&&this.tags.length&&(r=r.filter((function(e){return e.tags.some((function(e){return(t.tags||[]).includes(e)}))}))),this.sortBy in jE&&r.sort(jE[this.sortBy]),r}},{key:"loadNextData",value:function(t,e){return u.dispatcher.post.query({targetType:this.targetType,targetId:this.targetId,dataTypes:this.dataTypes,matchingOnlyParentPost:this.matchingOnlyParentPost,isDeleted:this.includeDeletedPosts,feedType:this.feedType,tags:this.tags,sortBy:this.sortBy,mentionees:this.mentionees,useCustomRanking:this.useCustomRanking,options:{token:t,limit:e}})}}],r&&SE(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(EE.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(EE.prototype,"models"),EE.prototype),EE);function LE(t){return LE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LE(t)}var PE,AE=["tags","sortBy","includeDeletedPosts"];function CE(){CE=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==LE(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function IE(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function RE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function DE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?RE(Object(r),!0).forEach((function(e){FE(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function NE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function FE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ME=(PE=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),FE(this,"dispose",(function(){})),FE(this,"includeDeletedPosts",!1);var r=e.tags,n=e.sortBy,o=void 0===n?Pc.LastCreated:n,i=e.includeDeletedPosts,a=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(e,AE);this.parameters=DE(DE({},a),{},{isDeleted:!!i&&null,sortBy:o,tags:r&&r.length?r:void 0}),this.includeDeletedPosts=i}var e,r,n,o;return e=t,r=[{key:"models",get:function(){var t=this,e=CO.findByParams(this.parameters)||[];return Array.from(e).filter(Boolean).map((function(e){var r=AO.findById(e);return t.includeDeletedPosts||r&&!r.isDeleted?r:void 0})).filter(Boolean)}},{key:"loadNextData",value:(n=CE().mark((function t(e,r){var n;return CE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.dispatcher.post.query(DE(DE({},this.parameters),{},{options:{token:e,limit:r},useExperimental:!0}));case 2:return n=t.sent,u.dispatcher.postCache.saveToCache(n,this.parameters),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){IE(i,r,o,a,u,"next",t)}function u(t){IE(i,r,o,a,u,"throw",t)}a(void 0)}))},function(t,e){return o.apply(this,arguments)})}],r&&NE(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(PE.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(PE.prototype,"models"),PE.prototype),PE),BE=["useExperimental"];function UE(t){return function(t){if(Array.isArray(t))return zE(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return zE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zE(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zE(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?GE(Object(r),!0).forEach((function(e){HE(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function HE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var VE=function(t){var e,r,n=t.useExperimental,o=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,BE),i=n?ME:TE,a=ot(qE(qE({},o),{},{tags:(o.tags||[]).filter(Boolean)}),{targetType:(e=Q().string().required()).valid.apply(e,UE(Object.values(Tc))),targetId:Q().string().when("targetType",{is:Q().valid(Tc.CommunityFeed,Tc.UserFeed),then:Q().required(),otherwise:Q().optional()}),feedType:Q().string().when("targetType",{is:Q().valid(Tc.CommunityFeed),then:Q().valid.apply(Q(),UE(Object.values(RO))).default(RO.Published),otherwise:Q().optional()}),dataTypes:Q().array().items(Q().string()).optional(),matchingOnlyParentPost:Q().boolean().optional().default(!1),includeChildrenPosts:Q().boolean().optional().default(!0),includeDeletedPosts:Q().boolean().optional().default(!1),tags:Q().array().items(Q().string()).optional(),sortBy:(r=Q().string().optional().allow(null)).valid.apply(r,UE(Object.values(Pc))).default(Pc.LastCreated),limit:Q().number().integer().min(1).optional(),useCustomRanking:Q().boolean().optional().default(!1),userId:Q().strip(),communityId:Q().strip()});return a.targetType===Tc.MyFeed&&(a.targetType=Tc.UserFeed,a.targetId=tw.currentUser.userId),new Hn(i,a)},$E=["includeChildrenPosts"];function WE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function KE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?WE(Object(r),!0).forEach((function(e){YE(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function YE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QE(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var XE=["includeChildrenPosts"];function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ZE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?JE(Object(r),!0).forEach((function(e){tO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function tO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eO(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var rO=["includeChildrenPosts"];function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function oO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nO(Object(r),!0).forEach((function(e){iO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function iO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aO(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var uO=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.includeChildrenPosts,r=void 0!==e&&e,n=aO(t,rO);return VE(oO(oO({},n),{},{targetType:Tc.UserFeed,targetId:n.userId,matchingOnlyParentPost:!0,includeChildrenPosts:r}))};function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sO(Object(r),!0).forEach((function(e){lO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fO(t){return fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fO(t)}function hO(){hO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==fO(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function pO(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var dO=function(){var t,e=(t=hO().mark((function t(e){var r,n,o,i;return hO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot(e,{postId:Q().string().required(),reactionName:Q().string().required()}),n=r.postId,o=r.reactionName,i=AO.findById(n)){t.next=4;break}throw new ASCInvalidParameterError("unknown postId");case 4:return t.abrupt("return",co.addReaction({reactableModel:i.toJS(),reactionName:o}));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){pO(i,n,o,a,u,"next",t)}function u(t){pO(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function yO(t){return yO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yO(t)}function vO(){vO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==yO(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function mO(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var gO=function(){var t,e=(t=vO().mark((function t(e){var r,n,o,i;return vO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot(e,{postId:Q().string().required(),reactionName:Q().string().required()}),n=r.postId,o=r.reactionName,i=AO.findById(n)){t.next=4;break}throw new ASCInvalidParameterError("unknown postId");case 4:return t.abrupt("return",co.removeReaction({reactableModel:i.toJS(),reactionName:o}));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){mO(i,n,o,a,u,"next",t)}function u(t){mO(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function bO(t){return bO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bO(t)}function wO(){wO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==bO(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function _O(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var EO=function(){var t,e=(t=wO().mark((function t(e){var r,n;return wO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot({postId:e},{postId:Q().string().required()}),n=AO.findById(r.postId)){t.next=4;break}throw new ASCInvalidParameterError("unknown postId");case 4:return t.abrupt("return",gl.flag(n));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_O(i,n,o,a,u,"next",t)}function u(t){_O(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function OO(t){return OO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OO(t)}function SO(){SO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==OO(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function xO(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var kO=function(){var t,e=(t=SO().mark((function t(e){var r,n;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot({postId:e},{postId:Q().string().required()}),n=AO.findById(r.postId)){t.next=4;break}throw new ASCInvalidParameterError("unknown postId");case 4:return t.abrupt("return",gl.unflag(n));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){xO(i,n,o,a,u,"next",t)}function u(t){xO(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function jO(t){return jO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jO(t)}function TO(){TO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==jO(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function LO(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var PO=function(){var t,e=(t=TO().mark((function t(e){var r,n;return TO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ot({postId:e},{postId:Q().string().required()}),n=AO.findById(r.postId)){t.next=4;break}throw new ASCInvalidParameterError("unknown postId");case 4:return t.abrupt("return",gl.isFlaggedByMe(n));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){LO(i,n,o,a,u,"next",t)}function u(t){LO(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),AO=new y_,CO=new L_,IO={postForId:function(t){var e=ot({postId:t},{postId:Q().string().required()});return new vi(R_,e.postId)},createPost:Q_,createTextPost:function(t){var e=t.text,r=t.targetType,n=t.targetId,o=t.metadata,i=t.tags,a=t.mentionees;return Q_({data:{text:e},metadata:o,targetType:r,targetId:n,tags:i,mentionees:a})},createImagePost:function(t){var e=t.imageIds,r=t.targetType,n=t.targetId,o=t.text,i=t.metadata,a=t.tags,u=t.mentionees;return Q_({attachments:e&&e.map((function(t){return{fileId:t,type:jp.Image}})),metadata:i,targetType:r,targetId:n,data:{text:o},tags:a,mentionees:u})},createFilePost:function(t){var e=t.fileIds,r=t.targetType,n=t.targetId,o=t.text,i=t.metadata,a=t.tags,u=t.mentionees;return Q_({attachments:e&&e.map((function(t){return{fileId:t,type:jp.File}})),metadata:i,targetType:r,targetId:n,data:{text:o},tags:a,mentionees:u})},createVideoPost:function(t){var e=t.videoIds,r=t.targetType,n=t.targetId,o=t.text,i=t.metadata,a=t.tags,u=t.mentionees;return Q_({attachments:e&&e.map((function(t){return{fileId:t,type:jp.Video}})),metadata:i,targetType:r,targetId:n,data:{text:o},tags:a,mentionees:u})},createLivestreamPost:function(t){var e=t.targetType,r=t.targetId,n=t.text,o=t.streamId,i=t.metadata,a=t.tags,u=t.mentionees;return Q_({metadata:i,targetType:e,targetId:r,data:{streamId:o,text:n},dataType:Lc.LivestreamPost,tags:a,mentionees:u})},updatePost:rE,deletePost:hE,approvePost:vE,declinePost:OE,addReaction:dO,removeReaction:gO,flag:EO,unflag:kO,isFlaggedByMe:PO,queryPosts:VE,queryAllPosts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.includeChildrenPosts,r=void 0!==e&&e,n=QE(t,$E);return VE(KE(KE({},n),{},{targetType:Tc.GlobalFeed,targetId:void 0,matchingOnlyParentPost:!0,includeChildrenPosts:r}))},queryCommunityPosts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.includeChildrenPosts,r=void 0!==e&&e,n=eO(t,XE);return VE(ZE(ZE({},n),{},{targetType:Tc.CommunityFeed,targetId:n.communityId,matchingOnlyParentPost:!0,includeChildrenPosts:r}))},queryUserPosts:uO,queryMyPosts:function(){return uO(cO(cO({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{userId:tw.currentUser.userId}))}},RO=Object.freeze({Published:"published",Reviewing:"reviewing",Declined:"declined"});function DO(t){return DO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DO(t)}function NO(t){return function(t){if(Array.isArray(t))return FO(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return FO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FO(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function UO(t,e){return UO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},UO(t,e)}function zO(t,e){if(e&&("object"===DO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function GO(t){return GO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},GO(t)}var qO,HO,VO=[Tc.CommunityFeed,Tc.UserFeed],$O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UO(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=GO(n);if(o){var r=GO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return zO(this,t)});function a(){return MO(this,a),i.apply(this,arguments)}return e=a,r=[{key:"Schema",value:function(t){var e,r;return{feedId:t.string().required(),feedType:(e=t.string().required()).valid.apply(e,NO(Object.values(RO))),postCount:t.number().integer().greater(-1).default(0),targetId:t.string().required(),targetType:(r=t.string().required()).valid.apply(r,VO),createdAt:t.date().default(Date.now()),updatedAt:t.date().default(Date.now())}}}],r&&BO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function WO(t){return WO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WO(t)}function KO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YO(t,e){return YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},YO(t,e)}function QO(t,e){if(e&&("object"===WO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return XO(t)}function XO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JO(t){return JO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},JO(t)}function ZO(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var tS,eS=(qO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YO(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=JO(n);if(o){var r=JO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return QO(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e,r,n){r&&Object.defineProperty(t,"feedsMap",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(XO(t=i.call(this,"feed")),0,HO,XO(t)),t}return e=a,r=[{key:"findFeed",value:function(t,e,r){return this.feedsMap.get(this._createUniqId({targetId:t,targetType:e,feedType:r}))}},{key:"findFeeds",value:function(t,e){var r=this;return Object.values(RO).map((function(n){return r.findFeed(t,e,n)})).filter((function(t){return!!t}))}},{key:"session.reset",value:function(){this.feedsMap=new Map}},{key:"grab",value:function(t){var e=t.feeds,r=!(!e||!e.length);return r&&u.dispatcher.feed.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data;return(void 0===r?[]:r).filter((function(t){return cr()(t)})).map((function(t){return e._updateOrCreate(t)}))}},{key:"_updateOrCreate",value:function(t){var e=this._createUniqId(t),r=this.feedsMap.get(e);return r?r.update(t):(r=new $O(t),this.feedsMap.set(e,r)),r}},{key:"_createUniqId",value:function(t){var e=t.targetId,r=t.targetType,n=t.feedType;return"".concat(e,"#").concat(r,"#").concat(n)}}],r&&KO(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(u.StateStore),HO=ZO(qO.prototype,"feedsMap",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),ZO(qO.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(qO.prototype,"session.reset"),qO.prototype),ZO(qO.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(qO.prototype,"grab"),qO.prototype),ZO(qO.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(qO.prototype,"load"),qO.prototype),qO),rS=new eS,nS={getGlobalFeed:function(){return Z(),IO.queryAllPosts.apply(IO,arguments)},getCommunityFeed:function(){return Z(),IO.queryCommunityPosts.apply(IO,arguments)},getUserFeed:function(){return Z(),IO.queryUserPosts.apply(IO,arguments)},getMyFeed:function(){return Z(),IO.queryMyPosts.apply(IO,arguments)}};function oS(t){return oS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oS(t)}function iS(t){return function(t){if(Array.isArray(t))return aS(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return aS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aS(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function sS(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?uS(Object(r),!0).forEach((function(e){cS(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function cS(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hS(){return hS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=pS(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},hS.apply(this,arguments)}function pS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vS(t)););return t}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dS(t,e)}function yS(t,e){if(e&&("object"===oS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vS(t){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vS(t)}function mS(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var gS=(tS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}(u,t);var e,r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vS(o);if(i){var r=vS(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return yS(this,t)});function u(){return lS(this,u),a.apply(this,arguments)}return e=u,r=[{key:"categories",get:function(){return this.categoryIds.map((function(t){var e=rT.findById(t);return e?e.toJS():void 0})).filter(Boolean)}},{key:"_getFeed",value:function(t){var e=rS.findFeed(this.communityId,Tc.CommunityFeed,t);return e?e.toJS():void 0}},{key:"publishedFeed",get:function(){return this._getFeed(RO.Published)}},{key:"reviewingFeed",get:function(){return this._getFeed(RO.Reviewing)}},{key:"declinedFeed",get:function(){return this._getFeed(RO.Declined)}},{key:"toJS",value:function(){return sS(sS({},hS(vS(u.prototype),"toJS",this).call(this)),{},{categories:this.categories,publishedFeed:this.publishedFeed,reviewingFeed:this.reviewingFeed,declinedFeed:this.declinedFeed})}}],n=[{key:"Schema",value:function(t){var e;return{communityId:t.string().required(),channelId:t.string().required(),displayName:t.string().required(),avatarFileId:t.string().optional().allow(null),description:t.string().optional().allow(null,""),userId:t.string(),tags:t.array().items(t.string()).default([]),metadata:t.object().empty([null]).default({}),postsCount:t.number().integer().greater(-1).default(0),membersCount:t.number().integer().greater(-1).default(0),categoryIds:t.array().items(t.string()).default([]),isJoined:t.boolean(),isOfficial:t.boolean(),isPublic:t.boolean(),isDeleted:t.boolean().default(!1),postSetting:(e=t.string().optional()).valid.apply(e,iS(Object.keys(Mw))).default(Bw),createdAt:t.date().default(new Date),updatedAt:t.date(),path:t.string().default("").allow("").optional()}}}],r&&fS(e.prototype,r),n&&fS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(ar),mS(tS.prototype,"categories",[X.computed],Object.getOwnPropertyDescriptor(tS.prototype,"categories"),tS.prototype),mS(tS.prototype,"publishedFeed",[X.computed],Object.getOwnPropertyDescriptor(tS.prototype,"publishedFeed"),tS.prototype),mS(tS.prototype,"reviewingFeed",[X.computed],Object.getOwnPropertyDescriptor(tS.prototype,"reviewingFeed"),tS.prototype),mS(tS.prototype,"declinedFeed",[X.computed],Object.getOwnPropertyDescriptor(tS.prototype,"declinedFeed"),tS.prototype),tS);function bS(t){return bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bS(t)}var wS,_S,ES,OS=["postSetting"],SS=["postSetting","communityId"],xS=["needApprovalOnPostCreation","onlyAdminCanPost"];function kS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jS(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kS(Object(r),!0).forEach((function(e){MS(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function TS(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function LS(){LS=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==bS(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function PS(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function AS(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){PS(i,n,o,a,u,"next",t)}function u(t){PS(i,n,o,a,u,"throw",t)}a(void 0)}))}}function CS(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function IS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},RS(t,e)}function DS(t,e){if(e&&("object"===bS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return NS(t)}function NS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FS(t){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},FS(t)}function MS(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BS(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function US(t){return["file","user","communityUser","communityCategory","community","feed"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}var zS=(wS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}(v,t);var e,r,n,o,i,a,s,c,l,f,h,p,d,y=(p=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=FS(p);if(d){var r=FS(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return DS(this,t)});function v(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),CS(NS(t=y.call(this,"community")),"communitiesMap",_S,NS(t)),CS(NS(t),"errorsMap",ES,NS(t)),t._subscribeToRealTimeEvents(),t}return e=v,r=[{key:"_subscribeToRealTimeEvents",value:function(){var t=this;Uw.forEach((function(e){Zt.on(e,(function(e){var r=e.communities;if(r&&r.length){var n=r[0],o=t.findById(n.communityId);o&&Ut(o,n)&&US(e)}}))}))}},{key:"findById",value:function(t){return this.communitiesMap.get(t)}},{key:"findErrorById",value:function(t){return this.errorsMap.get(t)}},{key:"session.reset",value:function(){this.communitiesMap=new Map}},{key:"grab",value:function(t){var e=t.communities,r=!(!e||!e.length);return r&&u.dispatcher.community.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options;return n.filter((function(t){return cr()(t)})).map((function(t){return e._mapCommunityPostSetting(t)})).map((function(t){return e._updateOrCreate(t,o)}))}},{key:"setError",value:function(t){var e=t.err,r=t.communityId;this.errorsMap.set(r,e||new ASCError("Unknown"))}},{key:"remove",value:function(t){var e=this,r=t.data;return(void 0===r?[]:r).filter((function(t){return cr()(t)})).map((function(t){return e.communitiesMap.delete(t.communityId)}))}},{key:"fetch",value:(h=AS(LS().mark((function t(e){var r,n;return LS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.get("/api/v3/communities/".concat(e)).set(tw.authorizationBearerHeader);case 3:return r=t.sent,US(n=r.body),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.community.setError({err:t.t0,communityId:e}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t){return h.apply(this,arguments)})},{key:"query",value:(f=AS(LS().mark((function t(e){var r,n;return LS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v3/communities").set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 2:return r=t.sent,US(n=r.body),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)})},{key:"recommended",value:(l=AS(LS().mark((function t(){var e,r;return LS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v3/communities/recommended").set(tw.authorizationBearerHeader);case 2:return e=t.sent,US(r=e.body),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})},{key:"trending",value:(c=AS(LS().mark((function t(){var e,r;return LS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v3/communities/top-trending").set(tw.authorizationBearerHeader);case 2:return e=t.sent,US(r=e.body),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})},{key:"create",value:(s=AS(LS().mark((function t(e){var r,n,o,i,a,s;return LS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.postSetting,n=void 0===r?void 0:r,o=TS(e,OS),i=jS(jS({},o),Fw[n]||Bw),t.prev=2,t.next=5,ft.post("/api/v3/communities").set(tw.authorizationBearerHeader).send(i).catch(lr);case 5:return a=t.sent,US(s=a.body),t.abrupt("return",s);case 11:throw t.prev=11,t.t0=t.catch(2),u.dispatcher.community.setError({err:t.t0,communityId:-1}),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])}))),function(t){return s.apply(this,arguments)})},{key:"update",value:(a=AS(LS().mark((function t(e){var r,n,o,i,a,s;return LS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.postSetting,n=void 0===r?void 0:r,o=e.communityId,i=TS(e,SS),t.prev=1,t.next=4,ft.put("/api/v3/communities/".concat(o)).set(tw.authorizationBearerHeader).send(jS(jS({},i),Fw[n])).catch(lr);case 4:return a=t.sent,US(s=a.body),t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(1),u.dispatcher.community.setError({err:t.t0,communityId:e.communityId}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),function(t){return a.apply(this,arguments)})},{key:"close",value:(i=AS(LS().mark((function t(e){var r,n;return LS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.delete("/api/v3/communities/".concat(e)).set(tw.authorizationBearerHeader).send({communityId:e}).catch(lr);case 3:return r=t.sent,(n=r.body.success)&&this._updateOrCreate({communityId:e,isDeleted:!0}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.community.setError({err:t.t0,communityId:e}),t.t0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return i.apply(this,arguments)})},{key:"join",value:(o=AS(LS().mark((function t(e){return LS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.post("/api/v3/communities/".concat(e,"/join")).set(tw.authorizationBearerHeader).send({communityId:e}).catch(lr);case 3:return US(t.sent.body),t.abrupt("return",!0);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.community.setError({err:t.t0,communityId:e}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t){return o.apply(this,arguments)})},{key:"leave",value:(n=AS(LS().mark((function t(e){return LS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.delete("/api/v3/communities/".concat(e,"/leave")).set(tw.authorizationBearerHeader).send({communityId:e}).catch(lr);case 3:return US(t.sent.body),t.abrupt("return",!0);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.community.setError({err:t.t0,communityId:e}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t){return n.apply(this,arguments)})},{key:"_updateOrCreate",value:function(t,e){var r=this.communitiesMap.has(t.communityId),n=r?this.communitiesMap.get(t.communityId):new gS(t,e);return r?n.update(t):this.communitiesMap.set(t.communityId,n),n}},{key:"_mapCommunityPostSetting",value:function(t){var e=t.needApprovalOnPostCreation,r=t.onlyAdminCanPost,n=TS(t,xS);return jS({postSetting:Gw()(Fw,{needApprovalOnPostCreation:e,onlyAdminCanPost:r})||Bw},n)}}],r&&IS(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(u.StateStore),_S=BS(wS.prototype,"communitiesMap",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),ES=BS(wS.prototype,"errorsMap",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),BS(wS.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(wS.prototype,"session.reset"),wS.prototype),BS(wS.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"grab"),wS.prototype),BS(wS.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(wS.prototype,"load"),wS.prototype),BS(wS.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(wS.prototype,"setError"),wS.prototype),BS(wS.prototype,"remove",[u.reducer],Object.getOwnPropertyDescriptor(wS.prototype,"remove"),wS.prototype),BS(wS.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"fetch"),wS.prototype),BS(wS.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"query"),wS.prototype),BS(wS.prototype,"recommended",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"recommended"),wS.prototype),BS(wS.prototype,"trending",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"trending"),wS.prototype),BS(wS.prototype,"create",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"create"),wS.prototype),BS(wS.prototype,"update",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"update"),wS.prototype),BS(wS.prototype,"close",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"close"),wS.prototype),BS(wS.prototype,"join",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"join"),wS.prototype),BS(wS.prototype,"leave",[u.effect],Object.getOwnPropertyDescriptor(wS.prototype,"leave"),wS.prototype),wS);function GS(t){return GS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GS(t)}function qS(t){return function(t){if(Array.isArray(t))return HS(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return HS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HS(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},WS(t,e)}function KS(t,e){if(e&&("object"===GS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return YS(t)}function YS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QS(t){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},QS(t)}function XS(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var JS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=QS(n);if(o){var r=QS(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return KS(this,t)});function a(){var t;VS(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return XS(YS(t=i.call.apply(i,[this].concat(r))),"createComputedProps",(function(){return{get isBanned(){return this.communityMembership===Rw.Banned},get isMuted(){return this.communityMembership===Rw.Muted}}})),t}return e=a,r=[{key:"Schema",value:function(t){var e;return{communityId:t.string().required(),userId:t.string().required(),communityMembership:(e=t.string().required()).valid.apply(e,qS(Object.values(Rw))),metadata:t.object().empty([null]).default({}),lastActivity:t.date().default(new Date),createdAt:t.date().default(new Date),updatedAt:t.date().default(new Date),roles:t.array().items(t.string()).default([]),permissions:t.array().items(t.string()).default([])}}}],r&&$S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function ZS(t){return ZS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZS(t)}var tx,ex,rx=["communityId"];function nx(){nx=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ZS(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function ox(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function ix(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function ax(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ix(i,n,o,a,u,"next",t)}function u(t){ix(i,n,o,a,u,"throw",t)}a(void 0)}))}}function ux(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sx(t,e)}function cx(t,e){if(e&&("object"===ZS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lx(t)}function lx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fx(t)}function hx(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function px(t){return["file","user","communityCategory","community","communityUser","feed"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}var dx=(tx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}(d,t);var e,r,n,o,i,a,s,c,l,f,h,p=(f=d,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fx(f);if(h){var r=fx(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return cx(this,t)});function d(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),function(t,e,r,n){r&&Object.defineProperty(t,"communityUsersMap",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(lx(t=p.call(this,"communityUser")),0,ex,lx(t)),t}return e=d,r=[{key:"findByCommunityIdAndUserId",value:function(t,e){var r=this._createUniqId({communityId:t,userId:e});return this.communityUsersMap.get(r)}},{key:"findByCommunityId",value:function(t){return Array.from(this.communityUsersMap.values()).filter((function(e){return e.communityId===t}))}},{key:"session.reset",value:function(){this.communityUsersMap=new Map}},{key:"grab",value:function(t){var e=t.communityUsers,r=!(!e||!e.length);return r&&u.dispatcher.communityUser.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options;return n.filter((function(t){return cr()(t)})).map((function(t){return e._updateOrCreate(t,o)}))}},{key:"remove",value:function(t){var e=this,r=t.data;return(void 0===r?[]:r).filter((function(t){return cr()(t)})).map((function(t){return e._createUniqId(t)})).map((function(t){return e.communityUsersMap.delete(t)}))}},{key:"query",value:(l=ax(nx().mark((function t(e){var r,n,o,i;return nx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.communityId,n=ox(e,rx),t.next=3,ft.get("/api/v3/communities/".concat(r,"/users")).set(tw.authorizationBearerHeader).query(Po().stringify(n,{arrayFormat:"brackets"})).catch(lr);case 3:return o=t.sent,px(i=o.body),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)})},{key:"addMembers",value:(c=ax(nx().mark((function t(e){var r,n;return nx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.post("/api/v3/communities/".concat(e.communityId,"/users")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,px(n=r.body),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)})},{key:"removeMembers",value:(s=ax(nx().mark((function t(e){var r,n;return nx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.delete("/api/v3/communities/".concat(e.communityId,"/users")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,px(n=r.body),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"assignRolesToUsers",value:(a=ax(nx().mark((function t(e){var r,n;return nx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.post("/api/v4/communities/".concat(e.communityId,"/users/roles")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,px(n=r.body),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"removeRolesFromUsers",value:(i=ax(nx().mark((function t(e){var r,n;return nx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.delete("/api/v4/communities/".concat(e.communityId,"/users/roles")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return r=t.sent,px(n=r.body),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})},{key:"ban",value:(o=ax(nx().mark((function t(e){return nx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.put("/api/v3/communities/".concat(e.communityId,"/users/ban")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return px(t.sent.body),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})},{key:"unban",value:(n=ax(nx().mark((function t(e){return nx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.put("/api/v3/communities/".concat(e.communityId,"/users/unban")).set(tw.authorizationBearerHeader).send(e).catch(lr);case 2:return px(t.sent.body),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"clear",value:function(){this.communityUsersMap.clear()}},{key:"_createUniqId",value:function(t){return"".concat(t.communityId,"#").concat(t.userId)}},{key:"_updateOrCreate",value:function(t,e){var r=this._createUniqId(t);return this.communityUsersMap.has(r)?this.communityUsersMap.get(r).update(t):this.communityUsersMap.set(r,new JS(t,e)),this.communityUsersMap.get(r)}}],r&&ux(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(u.StateStore),ex=hx(tx.prototype,"communityUsersMap",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),hx(tx.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(tx.prototype,"session.reset"),tx.prototype),hx(tx.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(tx.prototype,"grab"),tx.prototype),hx(tx.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(tx.prototype,"load"),tx.prototype),hx(tx.prototype,"remove",[u.reducer],Object.getOwnPropertyDescriptor(tx.prototype,"remove"),tx.prototype),hx(tx.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(tx.prototype,"query"),tx.prototype),hx(tx.prototype,"addMembers",[u.effect],Object.getOwnPropertyDescriptor(tx.prototype,"addMembers"),tx.prototype),hx(tx.prototype,"removeMembers",[u.effect],Object.getOwnPropertyDescriptor(tx.prototype,"removeMembers"),tx.prototype),hx(tx.prototype,"assignRolesToUsers",[u.effect],Object.getOwnPropertyDescriptor(tx.prototype,"assignRolesToUsers"),tx.prototype),hx(tx.prototype,"removeRolesFromUsers",[u.effect],Object.getOwnPropertyDescriptor(tx.prototype,"removeRolesFromUsers"),tx.prototype),hx(tx.prototype,"ban",[u.effect],Object.getOwnPropertyDescriptor(tx.prototype,"ban"),tx.prototype),hx(tx.prototype,"unban",[u.effect],Object.getOwnPropertyDescriptor(tx.prototype,"unban"),tx.prototype),tx);function yx(t){return yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(t)}function vx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gx(t,e){return gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gx(t,e)}function bx(t,e){if(e&&("object"===yx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wx(t)}function wx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_x(t)}function Ex(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ox,Sx,xx,kx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gx(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_x(n);if(o){var r=_x(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return bx(this,t)});function a(){var t;vx(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ex(wx(t=i.call.apply(i,[this].concat(r))),"modelDataLifespan",3e5),t}return e=a,r=[{key:"Schema",value:function(t){return{categoryId:t.string().required(),name:t.string().required(),avatarFileId:t.string().allow(null),createdAt:t.date().default(new Date),updatedAt:t.date().default(new Date),isDeleted:t.boolean().default(!1)}}}],r&&mx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function jx(t){return jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(t)}function Tx(){Tx=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==jx(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Lx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Px(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lx(Object(r),!0).forEach((function(e){Bx(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lx(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ax(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Cx(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ax(i,n,o,a,u,"next",t)}function u(t){Ax(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Ix(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Rx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dx(t,e){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dx(t,e)}function Nx(t,e){if(e&&("object"===jx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fx(t)}function Fx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mx(t)}function Bx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ux(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var zx,Gx,qx=(Ox=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dx(t,e)}(c,t);var e,r,n,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mx(i);if(a){var r=Mx(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Nx(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),Ix(Fx(t=s.call(this,"communityCategory")),"categoriesMap",Sx,Fx(t)),Ix(Fx(t),"errorsMap",xx,Fx(t)),t}return e=c,r=[{key:"findById",value:function(t){return this.categoriesMap.get(t)}},{key:"findErrorById",value:function(t){return this.errorsMap.get(t)}},{key:"session.reset",value:function(){this.categoriesMap=new Map}},{key:"grab",value:function(t){var e=t.categories,r=!(!e||!e.length);return r&&u.dispatcher.communityCategory.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options;return n.filter((function(t){return cr()(t)})).map((function(t){return e._updateOrCreate(t,o)}))}},{key:"remove",value:function(t){var e=this,r=t.data;return(void 0===r?[]:r).filter((function(t){return cr()(t)})).map((function(t){return e.categoriesMap.delete(t.categoryId)}))}},{key:"setError",value:function(t){var e=t.err,r=t.categoryId;this.errorsMap.set(r,e||new ASCError("Unknown"))}},{key:"fetch",value:(o=Cx(Tx().mark((function t(e){var r,n;return Tx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.get("/api/v3/community-categories/list").set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 3:return r=t.sent,n=r.body,["files","communityCategory"].filter((function(t){return u.dispatcher[t]})).forEach((function(t){return u.dispatcher[t].grab(n)})),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.communityCategory.setError(Px(Px({},e),{},{err:t.t0})),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t){return o.apply(this,arguments)})},{key:"query",value:(n=Cx(Tx().mark((function t(e){var r,n;return Tx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.get("/api/v3/community-categories").set(tw.authorizationBearerHeader).query(Po().stringify(e,{arrayFormat:"brackets"})).catch(lr);case 2:return r=t.sent,n=r.body,["file","communityCategory"].filter((function(t){return u.dispatcher[t]})).forEach((function(t){return u.dispatcher[t].grab(n)})),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"_updateOrCreate",value:function(t,e){var r=this.categoriesMap.has(t.categoryId),n=r?this.categoriesMap.get(t.categoryId):new kx(t,e);return r?n.update(t):this.categoriesMap.set(t.categoryId,n),n}}],r&&Rx(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(u.StateStore),Sx=Ux(Ox.prototype,"categoriesMap",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),xx=Ux(Ox.prototype,"errorsMap",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Ux(Ox.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(Ox.prototype,"session.reset"),Ox.prototype),Ux(Ox.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(Ox.prototype,"grab"),Ox.prototype),Ux(Ox.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(Ox.prototype,"load"),Ox.prototype),Ux(Ox.prototype,"remove",[u.reducer],Object.getOwnPropertyDescriptor(Ox.prototype,"remove"),Ox.prototype),Ux(Ox.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(Ox.prototype,"setError"),Ox.prototype),Ux(Ox.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(Ox.prototype,"fetch"),Ox.prototype),Ux(Ox.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(Ox.prototype,"query"),Ox.prototype),Ox);function Hx(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $x(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Wx,Kx,Yx=(zx=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r,n){r&&Object.defineProperty(t,"communityIds",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,0,Gx,this),this.recordsPerPage=Number(e)}var e,r;return e=t,(r=[{key:"models",get:function(){return this.communityIds.map((function(t){return tT.findById(t)})).filter(Boolean)}},{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"loadNextData",value:function(t,e){var r=this;return u.dispatcher.community.recommended({options:{token:t,limit:e}}).then((function(t){var e,n=t.communities.map((function(t){return t.communityId})).filter((function(t){return!r.communityIds.includes(t)}));return(e=r.communityIds).push.apply(e,function(t){return function(t){if(Array.isArray(t))return Hx(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Hx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hx(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n)),t}))}}])&&Vx(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Gx=$x(zx.prototype,"communityIds",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$x(zx.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(zx.prototype,"models"),zx.prototype),zx);function Qx(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jx(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Zx,tk,ek,rk=(Wx=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r,n){r&&Object.defineProperty(t,"communityIds",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,0,Kx,this),this.recordsPerPage=Number(e)}var e,r;return e=t,(r=[{key:"models",get:function(){return this.communityIds.map((function(t){return tT.findById(t)})).filter(Boolean)}},{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"loadNextData",value:function(t,e){var r=this;return u.dispatcher.community.trending({options:{token:t,limit:e}}).then((function(t){var e,n=t.communities.map((function(t){return t.communityId})).filter((function(t){return!r.communityIds.includes(t)}));return(e=r.communityIds).push.apply(e,function(t){return function(t){if(Array.isArray(t))return Qx(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Qx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qx(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n)),t}))}}])&&Xx(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Kx=Jx(Wx.prototype,"communityIds",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Jx(Wx.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(Wx.prototype,"models"),Wx.prototype),Wx),nk=function(t,e){return t.createdAt-e.createdAt},ok=function(t,e){var r=t.createdAt;return e.createdAt-r};function ik(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ak(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uk(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var sk,ck=(uk(Zx={},Dw.Member,(function(t){return t.isJoined})),uk(Zx,Dw.NotMember,(function(t){return!t.isJoined})),Zx),lk=(uk(tk={},Cw.DisplayName,(function(t,e){return t.displayName<e.displayName?-1:1})),uk(tk,Cw.FirstCreated,nk),uk(tk,Cw.LastCreated,ok),tk),fk=(ek=function(){function t(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dw.All,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Cw.LastCreated,u=arguments.length>6?arguments[6]:void 0;ik(this,t),this.keyword=e,this.categoryId=r,this.isDeleted=n,this.tags=o,this.filter=i,this.sortBy=a,this.recordsPerPage=Number(u)}var e,r;return e=t,(r=[{key:"models",get:function(){var t=this,e=Array.from(tT.communitiesMap.values());return this.keyword&&this.keyword.length&&(e=e.filter((function(e){return e.displayName.toLowerCase().startsWith(t.keyword.toLowerCase())}))),this.categoryId&&(e=e.filter((function(e){return e.categoryIds.includes(t.categoryId)}))),void 0!==this.isDeleted&&(e=e.filter((function(e){return e.isDeleted===t.isDeleted}))),this.tags.length>0&&(e=e.filter((function(e){var r=e.tags;return t.tags.some((function(t){return r.includes(t)}))}))),this.filter in ck&&(e=e.filter(ck[this.filter])),this.sortBy in lk&&e.sort(lk[this.sortBy]),e}},{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"loadNextData",value:function(t,e){return u.dispatcher.community.query({keyword:this.keyword,categoryId:this.categoryId,isDeleted:this.isDeleted,tags:this.tags,filter:this.filter,sortBy:this.sortBy,options:{token:t,limit:e}})}}])&&ak(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(ek.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(ek.prototype,"models"),ek.prototype),ek);function hk(t){return function(t){if(Array.isArray(t))return pk(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return pk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pk(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pk(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yk(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var vk,mk,gk=(sk=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._communityId=e}var e,r;return e=t,(r=[{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"dataLoadHook",value:function(){return u.dispatcher.community.fetch(this._communityId)}},{key:"model",get:function(){return tT.findById(this._communityId)}},{key:"error",get:function(){return tT.findErrorById(this._communityId)}}])&&dk(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),yk(sk.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(sk.prototype,"model"),sk.prototype),yk(sk.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(sk.prototype,"error"),sk.prototype),sk);function bk(t){return bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bk(t)}function wk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _k(t,e){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_k(t,e)}function Ek(t,e){if(e&&("object"===bk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ok(t)}function Ok(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sk(t){return Sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sk(t)}var xk=(vk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_k(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sk(n);if(o){var r=Sk(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Ek(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e,r,n){r&&Object.defineProperty(t,"_communityId",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(Ok(e=i.call(this)),0,mk,Ok(e)),e.parameters=t,e}return e=a,(r=[{key:"dataLoadHook",value:function(){var t=this;return u.dispatcher.community.create(this.parameters).then((function(e){var r=e.communities;t._communityId=r[0].communityId})).catch((function(){t._communityId=-1}))}}])&&wk(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(gk),mk=function(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),void 0===(i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i)).initializer&&(Object.defineProperty(t,e,i),i=null),i}(vk.prototype,"_communityId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vk);function kk(t){return function(t){if(Array.isArray(t))return jk(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return jk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jk(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jk(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tk=function(t){var e,r=ot(t,{avatarFileId:Q().string().optional().allow(null),categoryIds:Q().array().items(Q().string()).default([]),description:Q().string().allow(""),displayName:Q().string().required(),isOfficial:Q().boolean().optional(),isPublic:Q().boolean().default(!0),metadata:Q().object().default({}),postSetting:(e=Q().string().optional()).valid.apply(e,kk(Object.keys(Mw))),tags:Q().array().items(Q().string()).default([]),userIds:Q().array().items(Q().string()).default([])});return new vi(xk,r)};function Lk(t){return Lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lk(t)}function Pk(){Pk=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Lk(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ak(t){return function(t){if(Array.isArray(t))return Ck(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ck(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ck(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ck(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ik(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Rk=function(){var t,e=(t=Pk().mark((function t(e){var r,n;return Pk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ot(e,{avatarFileId:Q().string().optional().allow(null),categoryIds:Q().array().items(Q().string()).optional(),communityId:Q().string().required(),description:Q().string().optional().allow(null,""),displayName:Q().string().optional(),isOfficial:Q().boolean().optional(),isPublic:Q().boolean().optional(),metadata:Q().object().optional(),postSetting:(r=Q().string().optional()).valid.apply(r,Ak(Object.keys(Mw))),tags:Q().array().items(Q().string()).optional()}),t.next=3,u.dispatcher.community.update(n);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ik(i,n,o,a,u,"next",t)}function u(t){Ik(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Dk(t){return Dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dk(t)}function Nk(){Nk=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Dk(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Fk(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Mk=function(){var t,e=(t=Nk().mark((function t(e){var r,n;return Nk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({communityId:e},{communityId:Q().string().required()}),t.next=3,u.dispatcher.community.close(r.communityId);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Fk(i,n,o,a,u,"next",t)}function u(t){Fk(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Bk(t){return Bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bk(t)}function Uk(){Uk=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Bk(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function zk(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Gk=function(){var t,e=(t=Uk().mark((function t(e){var r,n;return Uk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({communityId:e},{communityId:Q().string().required()}),t.next=3,u.dispatcher.community.join(r.communityId);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zk(i,n,o,a,u,"next",t)}function u(t){zk(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function qk(t){return qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qk(t)}function Hk(){Hk=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==qk(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Vk(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var $k=function(){var t,e=(t=Hk().mark((function t(e){var r,n;return Hk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({communityId:e},{communityId:Q().string().required()}),t.next=3,u.dispatcher.community.leave(r.communityId);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Vk(i,n,o,a,u,"next",t)}function u(t){Vk(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Wk(t){return Wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wk(t)}function Kk(){Kk=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Wk(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Yk(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Qk=function(){var t,e=(t=Kk().mark((function t(e){var r;return Kk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,{communityId:Q().string().required(),userIds:Q().array().items(Q().string()).required()}),t.next=3,u.dispatcher.communityUser.addMembers(r);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Yk(i,n,o,a,u,"next",t)}function u(t){Yk(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Xk(t){return Xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xk(t)}function Jk(){Jk=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Xk(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Zk(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var tj=function(){var t,e=(t=Jk().mark((function t(e){var r;return Jk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,{communityId:Q().string().required(),userIds:Q().array().items(Q().string()).required()}),t.next=3,u.dispatcher.communityUser.removeMembers(r);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Zk(i,n,o,a,u,"next",t)}function u(t){Zk(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function ej(t){return ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ej(t)}function rj(){rj=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ej(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function nj(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var oj=function(){var t,e=(t=rj().mark((function t(e){var r;return rj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,{communityId:Q().string().required(),roles:Q().array().items(Q().string()).required(),userIds:Q().array().items(Q().string()).required()}),t.next=3,u.dispatcher.communityUser.assignRolesToUsers(r);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nj(i,n,o,a,u,"next",t)}function u(t){nj(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function ij(t){return ij="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ij(t)}function aj(){aj=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ij(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function uj(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var sj=function(){var t,e=(t=aj().mark((function t(e){var r,n,o,i;return aj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,{communityId:Q().string().required(),role:Q().string().required(),userIds:Q().array().items(Q().string()).required()}),n=r.communityId,o=r.role,i=r.userIds,t.abrupt("return",oj({communityId:n,roles:[o],userIds:i}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){uj(i,n,o,a,u,"next",t)}function u(t){uj(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function cj(t){return cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cj(t)}function lj(){lj=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==cj(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function fj(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var hj=function(){var t,e=(t=lj().mark((function t(e){var r;return lj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,{communityId:Q().string().required(),roles:Q().array().items(Q().string()).required(),userIds:Q().array().items(Q().string()).required()}),t.next=3,u.dispatcher.communityUser.removeRolesFromUsers(r);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){fj(i,n,o,a,u,"next",t)}function u(t){fj(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function pj(t){return pj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pj(t)}function dj(){dj=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==pj(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function yj(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var vj=function(){var t,e=(t=dj().mark((function t(e){var r,n,o,i;return dj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,{communityId:Q().string().required(),role:Q().string().required(),userIds:Q().array().items(Q().string()).required()}),n=r.communityId,o=r.role,i=r.userIds,t.abrupt("return",hj({communityId:n,roles:[o],userIds:i}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yj(i,n,o,a,u,"next",t)}function u(t){yj(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function mj(t){return mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mj(t)}function gj(){gj=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==mj(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function bj(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var wj=function(){var t,e=(t=gj().mark((function t(e){var r;return gj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,{communityId:Q().string().required(),userIds:Q().array().items(Q().string()).required()}),t.next=3,u.dispatcher.communityUser.ban(r);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){bj(i,n,o,a,u,"next",t)}function u(t){bj(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function _j(t){return _j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_j(t)}function Ej(){Ej=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==_j(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Oj(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var Sj,xj=function(){var t,e=(t=Ej().mark((function t(e){var r;return Ej().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot(e,{communityId:Q().string().required(),userIds:Q().array().items(Q().string()).required()}),t.next=3,u.dispatcher.communityUser.unban(r);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Oj(i,n,o,a,u,"next",t)}function u(t){Oj(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function kj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Tj,Lj,Pj,Aj,Cj=(Tj={},Pj=function(t,e){return t.name<e.name?-1:1},(Lj=Iw.Name)in Tj?Object.defineProperty(Tj,Lj,{value:Pj,enumerable:!0,configurable:!0,writable:!0}):Tj[Lj]=Pj,Tj),Ij=(Sj=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Iw.Name;kj(this,t),this.isDeleted=e,this.sortBy=r}var e,r;return e=t,(r=[{key:"models",get:function(){var t=this,e=Array.from(rT.categoriesMap.values());return void 0!==this.isDeleted&&(e=e.filter((function(e){return e.isDeleted===t.isDeleted}))),this.sortBy in Cj&&e.sort(Cj[this.sortBy]),e}},{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"loadNextData",value:function(t,e){return u.dispatcher.communityCategory.query({isDeleted:this.isDeleted,sortBy:this.sortBy,options:{token:t,limit:e}})}}])&&jj(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(Sj.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(Sj.prototype,"models"),Sj.prototype),Sj);function Rj(t){return function(t){if(Array.isArray(t))return Dj(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Dj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dj(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dj(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fj(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Mj,Bj=(Aj=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.categoryId=e}var e,r;return e=t,(r=[{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"dataLoadHook",value:function(){return u.dispatcher.communityCategory.fetch({categoryIds:[this.categoryId]})}},{key:"model",get:function(){return rT.findById(this.categoryId)}},{key:"error",get:function(){return rT.findErrorById(this.categoryId)}}])&&Nj(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Fj(Aj.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(Aj.prototype,"model"),Aj.prototype),Fj(Aj.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(Aj.prototype,"error"),Aj.prototype),Aj);function Uj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var zj,Gj,qj=(Mj=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.categoryIds=e}var e,r;return e=t,(r=[{key:"models",get:function(){return this.categoryIds.map((function(t){return rT.categoriesMap.get(t)})).filter(Boolean)}},{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"loadNextData",value:function(){return u.dispatcher.communityCategory.fetch({categoryIds:this.categoryIds})}}])&&Uj(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(Mj.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(Mj.prototype,"models"),Mj.prototype),Mj);function Hj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wj,Kj=($j(zj={},Cw.FirstCreated,nk),$j(zj,Cw.LastCreated,ok),zj),Yj=(Gj=function(){function t(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Cw.LastCreated,i=arguments.length>4?arguments[4]:void 0;Hj(this,t),this.communityId=e,this.memberships=r,this.roles=n,this.sortBy=o,this.search=i}var e,r;return e=t,(r=[{key:"models",get:function(){var t=this,e=eT.findByCommunityId(this.communityId);return this.memberships&&this.memberships.length&&(e=e.filter((function(e){return t.memberships.includes(e.communityMembership)}))),this.roles&&this.roles.length&&(e=e.filter((function(e){return t.roles.every((function(t){return e.roles.includes(t)}))}))),this.sortBy in Kj&&e.sort(Kj[this.sortBy]),e}},{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"loadNextData",value:function(t,e){return u.dispatcher.communityUser.query({communityId:this.communityId,memberships:this.memberships,roles:this.roles,sortBy:this.sortBy,search:this.search,options:{token:t,limit:e}})}}])&&Vj(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(Gj.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(Gj.prototype,"models"),Gj.prototype),Gj);function Qj(t){return function(t){if(Array.isArray(t))return Xj(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Xj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xj(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xj(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Zj=(Wj=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._communityId=e,this._userId=r}var e,r;return e=t,(r=[{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"dataLoadHook",value:function(){var t=this;return new Promise((function(e){e(eT.findByCommunityIdAndUserId(t._communityId,t._userId))}))}},{key:"model",get:function(){return eT.findByCommunityIdAndUserId(this._communityId,this._userId)}}])&&Jj(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(Wj.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(Wj.prototype,"model"),Wj.prototype),Wj),tT=new zS,eT=new dx,rT=new qx,nT={getRecommendedCommunities:function(){var t=ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{limit:Q().number().integer().min(1).optional()});return new Hn(Yx,t.limit)},getTopTrendingCommunities:function(){var t=ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{limit:Q().number().integer().min(1).optional()});return new Hn(rk,t.limit)},allCommunitiesWithFilters:function(){var t,e,r=ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{search:Q().string().optional().allow(""),categoryId:Q().string().optional(),isDeleted:Q().boolean().optional(),tags:Q().array().optional().items(Q().string()),filter:(t=Q().string().optional()).valid.apply(t,hk(Object.values(Aw))).default(Aw.All),sortBy:(e=Q().string().optional()).valid.apply(e,hk(Object.values(Cw))).default(Cw.LastCreated),limit:Q().number().integer().min(1).optional()});return new Hn(fk,r.search,r.categoryId,r.isDeleted,r.tags,r.filter,r.sortBy,r.limit)},communityForId:function(t){var e=ot({communityId:t},{communityId:Q().string().required()});return new vi(gk,e.communityId)},createCommunity:Tk,createCommunityByAdmin:function(){return Z(),Tk.apply(void 0,arguments)},updateCommunity:Rk,updateCommunityByAdmin:function(){return Z(),Rk.apply(void 0,arguments)},closeCommunity:Mk,joinCommunity:Gk,leaveCommunity:$k,addMembers:Qk,removeMembers:tj,assignRoleToUsers:sj,assignRolesToUsers:oj,removeRoleFromUsers:vj,removeRolesFromUsers:hj,banUsers:wj,unbanUsers:xj,queryCategories:function(){var t,e=ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isDeleted:Q().boolean(),sortBy:(t=Q().string().optional()).valid.apply(t,Rj(Object.values(Iw))).default(Iw.Name)});return new Hn(Ij,e.isDeleted,e.sortBy)},categoryForId:function(t){var e=ot({categoryId:t},{categoryId:Q().string().required()});return new vi(Bj,e.categoryId)},categoriesForIds:function(){var t=ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categoryIds:[]},{categoryIds:Q().array().items(Q().string()).required()});return new Hn(qj,t.categoryIds)},getCommunityMembers:function(t){var e,r,n=ot(t,{communityId:Q().string().required(),memberships:Q().array().items((e=Q().string()).valid.apply(e,Qj(Object.values(Rw)))).optional(),roles:Q().array().items(Q().string()).optional(),sortBy:(r=Q().string().optional()).valid.apply(r,Qj(Object.values(Nw))),search:Q().string().optional()});return n.search&&eT.clear(),new Hn(Yj,n.communityId,n.memberships,n.roles,n.sortBy,n.search)},memberByCommunityIdAndUserId:function(t){var e=ot(t,{communityId:Q().string().required(),userId:Q().string().required()});return new vi(Zj,e.communityId,e.userId)}},oT=Object.freeze({Idle:"idle",Live:"live",Ended:"ended",Recorded:"recorded"}),iT=Object.freeze({SD:"SD",HD:"HD",FHD:"FHD"}),aT=Object.freeze({FirstCreated:"firstCreated",LastCreated:"lastCreated"});function uT(t){return uT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uT(t)}function sT(t){return function(t){if(Array.isArray(t))return cT(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return cT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cT(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cT(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hT(t,e){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hT(t,e)}function pT(t,e){if(e&&("object"===uT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function dT(t){return dT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dT(t)}var yT,vT,mT,gT=function(t){return t.object({name:t.string(),version:t.string()})},bT=function(t){return t.object({url:t.string().required(),components:t.object({origin:t.string(),appName:t.string(),streamName:t.string(),query:t.string()})})},wT=function(t){return t.object({url:t.string().required(),duration:t.number().default(0),startTime:t.number().default(0),stopTime:t.number().default(0)})},_T=function(t,e){return t.object().keys({flv:e(t),hls:e(t),rtmp:e(t)}).min(1)},ET=function(t,e){return t.object().keys({flv:e(t),mp4:e(t),m3u8:e(t)}).min(1)},OT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hT(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dT(n);if(o){var r=dT(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return pT(this,t)});function a(){return lT(this,a),i.apply(this,arguments)}return e=a,r=[{key:"Schema",value:function(t){var e,r;return{streamId:t.string().required(),title:t.string().optional().allow(null,"").default(""),thumbnailFileId:t.string().optional().allow(null),description:t.string().optional().allow(null,"").default(""),userId:t.string(),status:(e=t.string().required()).valid.apply(e,sT(Object.values(oT))),platform:gT(t).optional(),resolution:(r=t.string()).valid.apply(r,sT(Object.values(iT))),streamerUrl:bT(t),watcherUrl:_T(t,bT),recordings:t.array().items(ET(t,wT)),isReconnecting:t.boolean().default(!1),isDeleted:t.boolean().default(!1),metadata:t.object().empty([null]).default({}),startedAt:t.date(),endedAt:t.date(),createdAt:t.date().default(Date.now()),updatedAt:t.date().default(Date.now())}}}],r&&fT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function ST(t){return ST="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ST(t)}function xT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kT(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xT(Object(r),!0).forEach((function(e){RT(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function jT(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function TT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function PT(t,e){return PT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},PT(t,e)}function AT(t,e){if(e&&("object"===ST(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return CT(t)}function CT(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IT(t){return IT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},IT(t)}function RT(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DT(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var NT,FT=(yT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PT(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=IT(n);if(o){var r=IT(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return AT(this,t)});function a(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return TT(this,a),jT(CT(t=i.call(this,"stream")),"state",vT,CT(t)),jT(CT(t),"errors",mT,CT(t)),e&&["v3.video-streaming.didStart","v3.video-streaming.didStop","v3.video-streaming.didRecord"].forEach((function(e){se.on(e,(function(e){t.distribute(e)}))})),t}return e=a,r=[{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return t.streamId}},{key:"findById",value:function(t){return this.state.get(t)}},{key:"findErrorById",value:function(t){return this.errors.get(t)}},{key:"_create",value:function(t){var e=new OT(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(kT(kT({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.clear()}},{key:"distribute",value:function(t){return["file","user","stream"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}},{key:"grab",value:function(t){var e=t.videoStreamings,r=!(!e||!e.length);return r&&u.dispatcher.stream.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.streamId,r=t.err;this.errors.set(e,r||new ASCError("Unknown"))}},{key:"query",value:function(t){var e=this,r=se.rpc("v3/video-streaming.query",t),n=r.promise,o=r.dispose;return{promise:n.then((function(t){return e.distribute(t.results),t})),dispose:o}}},{key:"fetch",value:function(t){var e=this,r=se.rpc("v3/video-streaming.get",t),n=r.promise,o=r.dispose;return{promise:n.then((function(t){return e.distribute(t)})).catch((function(e){return u.dispatcher.stream.setError(kT(kT({},t),{},{error:e})),Promise.reject(e)})),dispose:o}}},{key:"create",value:function(t){var e=this,r=se.rpc("v3/video-streaming.create",t),n=r.promise,o=r.dispose;return{promise:n.then((function(t){return e.distribute(t)})).catch((function(e){return u.dispatcher.stream.setError(kT(kT({},t),{},{error:e})),Promise.reject(e)})),dispose:o}}},{key:"update",value:function(t){var e=this,r=se.rpc("v3/video-streaming.update",t),n=r.promise,o=r.dispose;return{promise:n.then((function(t){return e.distribute(t)})).catch((function(e){return u.dispatcher.stream.setError(kT(kT({},t),{},{error:e})),Promise.reject(e)})),dispose:o}}},{key:"delete",value:function(t){var e=this,r=se.rpc("v3/video-streaming.delete",t),n=r.promise,o=r.dispose;return{promise:n.then((function(t){return e.distribute(t)})).catch((function(e){return u.dispatcher.stream.setError(kT(kT({},t),{},{error:e})),Promise.reject(e)})),dispose:o}}},{key:"dispose",value:function(t){var e=this,r=se.rpc("v3/video-streaming.dispose",t),n=r.promise,o=r.dispose;return{promise:n.then((function(t){return e.distribute(t)})).catch((function(e){return u.dispatcher.stream.setError(kT(kT({},t),{},{error:e})),Promise.reject(e)})),dispose:o}}}],r&&LT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(u.StateStore),vT=DT(yT.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),mT=DT(yT.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),DT(yT.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(yT.prototype,"session.reset"),yT.prototype),DT(yT.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(yT.prototype,"grab"),yT.prototype),DT(yT.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(yT.prototype,"load"),yT.prototype),DT(yT.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(yT.prototype,"unload"),yT.prototype),DT(yT.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(yT.prototype,"setError"),yT.prototype),DT(yT.prototype,"query",[u.effect],Object.getOwnPropertyDescriptor(yT.prototype,"query"),yT.prototype),DT(yT.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(yT.prototype,"fetch"),yT.prototype),DT(yT.prototype,"create",[u.effect],Object.getOwnPropertyDescriptor(yT.prototype,"create"),yT.prototype),DT(yT.prototype,"update",[u.effect],Object.getOwnPropertyDescriptor(yT.prototype,"update"),yT.prototype),DT(yT.prototype,"delete",[u.effect],Object.getOwnPropertyDescriptor(yT.prototype,"delete"),yT.prototype),DT(yT.prototype,"dispose",[u.effect],Object.getOwnPropertyDescriptor(yT.prototype,"dispose"),yT.prototype),yT);function MT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function BT(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?MT(Object(r),!0).forEach((function(e){zT(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function UT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zT(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var GT=(NT=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zT(this,"dispose",(function(){})),this.parameters=t}var r,n;return r=e,(n=[{key:"models",get:function(){var e,r,n=SL.values,o=this.parameters,i=o.statuses,a=o.isDeleted,u=o.sortBy;return e=n,r=i,n=Array.isArray(r)?e.filter((function(t){return r.includes(t.status)})):e,(n=mh(n,a)).sort(t[u]),n}},{key:"loadNextData",value:function(t,e){var r=u.dispatcher.stream.query(BT(BT({},this.parameters),{},{options:{limit:e,token:t}})),n=r.promise,o=r.dispose;return this.dispose=o,n}}])&&UT(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(NT.prototype,"models",[X.computed],Object.getOwnPropertyDescriptor(NT.prototype,"models"),NT.prototype),NT);function qT(t){return function(t){if(Array.isArray(t))return HT(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return HT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HT(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HT(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var VT,$T=function(){var t,e,r=ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{statuses:Q().array().optional().items((t=Q().string()).valid.apply(t,qT(Object.values(oT)))),isDeleted:Q().boolean().optional(),sortBy:(e=Q().string()).valid.apply(e,qT(Object.values(aT))).default(aT.LastCreated)});return new Hn(GT,r)};function WT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function KT(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var YT,QT,XT=(VT=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"dispose",(function(){})),this.streamId=e}var e,r;return e=t,(r=[{key:"model",get:function(){return SL.findById(this.streamId)}},{key:"error",get:function(){return SL.findErrorById(this.streamId)||SL.findErrorById(-1)}},{key:"dataLoadHook",value:function(){var t=u.dispatcher.stream.fetch({streamId:this.streamId}),e=t.promise,r=t.dispose;return this.dispose=r,e}}])&&WT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),KT(VT.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(VT.prototype,"model"),VT.prototype),KT(VT.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(VT.prototype,"error"),VT.prototype),VT),JT=function(t){var e=ot({streamId:t},{streamId:Q().string().required()});return new vi(XT,e.streamId)};function ZT(t){return ZT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZT(t)}function tL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eL(t,e){return eL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},eL(t,e)}function rL(t,e){if(e&&("object"===ZT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nL(t)}function nL(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oL(t){return oL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oL(t)}function iL(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var aL=(YT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eL(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oL(n);if(o){var r=oL(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return rL(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e,r,n){r&&Object.defineProperty(t,"streamId",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(nL(e=i.call(this,wt())),0,QT,nL(e)),e.parameters=t,e}return e=a,(r=[{key:"error",get:function(){return SL.findErrorById(this.streamId)}},{key:"dataLoadHook",value:function(){var t=this,e=u.dispatcher.stream.create(this.parameters),r=e.promise,n=e.dispose;return this.dispose=n,r.then((function(e){var r=e.videoStreamings;t.streamId=r[0].streamId})).catch((function(){t.streamId=-1}))}}])&&tL(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(XT),QT=iL(YT.prototype,"streamId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iL(YT.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(YT.prototype,"error"),YT.prototype),YT);function uL(t){return function(t){if(Array.isArray(t))return sL(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return sL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sL(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sL(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cL=function(t){var e,r=ot(t,{title:Q().string().required(),thumbnailFileId:Q().string().optional().allow(null),description:Q().string().optional(),resolution:(e=Q().string().optional()).valid.apply(e,uL(Object.values(iT))),metadata:Q().object().optional().default({})});return new vi(aL,r)};function lL(t){return lL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lL(t)}function fL(){fL=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==lL(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function hL(t){return function(t){if(Array.isArray(t))return pL(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return pL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pL(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pL(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dL(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var yL=function(){var t,e=(t=fL().mark((function t(e){var r,n;return fL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ot(e,Q().object({streamId:Q().string().required(),title:Q().string().optional(),thumbnailFileId:Q().string().optional().allow(null),description:Q().string().optional(),resolution:(r=Q().string().optional()).valid.apply(r,hL(Object.values(iT))),metadata:Q().object().optional()}).min(2)),t.next=3,u.dispatcher.stream.update(n).promise;case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){dL(i,n,o,a,u,"next",t)}function u(t){dL(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function vL(t){return vL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vL(t)}function mL(){mL=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==vL(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function gL(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var bL=function(){var t,e=(t=mL().mark((function t(e){var r;return mL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({streamId:e},{streamId:Q().string().required()}),t.next=3,u.dispatcher.stream.delete(r).promise;case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gL(i,n,o,a,u,"next",t)}function u(t){gL(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function wL(t){return wL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wL(t)}function _L(){_L=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==wL(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function EL(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var OL=function(){var t,e=(t=_L().mark((function t(e){var r;return _L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({streamId:e},{streamId:Q().string().required()}),t.next=3,u.dispatcher.stream.dispose(r).promise;case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){EL(i,n,o,a,u,"next",t)}function u(t){EL(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),SL=new FT,xL=Object.freeze({Text:"text"}),kL=Object.freeze({Single:"single",Multiple:"multiple"}),jL=Object.freeze({Closed:"closed",Open:"open"});function TL(t){return TL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TL(t)}function LL(t){return function(t){if(Array.isArray(t))return PL(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return PL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?PL(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PL(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IL(t,e){return IL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},IL(t,e)}function RL(t,e){if(e&&("object"===TL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function DL(t){return DL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DL(t)}var NL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IL(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=DL(n);if(o){var r=DL(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return RL(this,t)});function a(){return AL(this,a),i.apply(this,arguments)}return e=a,r=[{key:"Schema",value:function(t){var e,r,n;return{pollId:t.string().required(),userId:t.string().required(),question:t.string().required(),answers:t.array().items(t.object({id:t.string().required(),dataType:(e=t.string().required()).valid.apply(e,LL(Object.values(xL))),data:t.string().required(),voteCount:t.number().required(),isVotedByUser:t.boolean().required()})).required(),answerType:(r=t.string().required()).valid.apply(r,LL(Object.values(kL))),closedAt:t.date().optional(),closedIn:t.number().optional(),createdAt:t.date().optional(),updatedAt:t.date().optional(),isDeleted:t.boolean().default(!1),isVoted:t.boolean().default(!1),status:(n=t.string()).valid.apply(n,LL(Object.values(jL)))}}}],r&&CL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ar);function FL(t){return FL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FL(t)}var ML,BL,UL,zL=["pollId"];function GL(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function qL(){qL=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==FL(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function HL(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function VL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){HL(i,n,o,a,u,"next",t)}function u(t){HL(i,n,o,a,u,"throw",t)}a(void 0)}))}}function $L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function WL(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$L(Object(r),!0).forEach((function(e){tP(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function KL(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function YL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QL(t,e){return QL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},QL(t,e)}function XL(t,e){if(e&&("object"===FL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return JL(t)}function JL(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(t){return ZL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ZL(t)}function tP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eP(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var rP,nP,oP=(ML=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QL(t,e)}(h,t);var e,r,n,o,i,a,s,c,l,f=(c=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ZL(c);if(l){var r=ZL(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return XL(this,t)});function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),KL(JL(t=f.call(this,"poll")),"state",BL,JL(t)),KL(JL(t),"errors",UL,JL(t)),t}return e=h,r=[{key:"clear",value:function(){this.state.clear(),this.errors.clear()}},{key:"values",get:function(){return Array.from(this.state.values())}},{key:"_uniqueId",value:function(t){return t.pollId}},{key:"findById",value:function(t){return this.state.get(t)}},{key:"findErrorById",value:function(t){return this.errors.get(t)}},{key:"_create",value:function(t){var e=new NL(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.state.set(this._uniqueId(t),e),e}},{key:"_update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.get(this._uniqueId(t));return r&&r.update(t,e),r}},{key:"_save",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.has(this._uniqueId(t))?this._update(t,e):e.ifExist||this._create(t,e)}},{key:"_delete",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).softDelete?this._save(WL(WL({},t),{},{isDeleted:!0})):this.state.delete(this._uniqueId(t))}},{key:"session.reset",value:function(){this.clear()}},{key:"distribute",value:function(t){return["poll","user","file"].filter((function(t){return u.dispatcher[t]})).forEach((function(e){return u.dispatcher[e].grab(t)})),t}},{key:"grab",value:function(t){var e=t.polls,r=!(!e||!e.length);return r&&u.dispatcher.poll.load({data:e}),r}},{key:"load",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._save(t,i)}))}},{key:"unload",value:function(t){var e=this,r=t.data,n=void 0===r?[]:r,o=t.options,i=void 0===o?{}:o;n.filter((function(t){return cr()(t)})).forEach((function(t){return e._delete(t,i)}))}},{key:"setError",value:function(t){var e=t.pollId,r=t.err;this.errors.set(e,r||new ASCError("Unknown"))}},{key:"create",value:(s=VL(qL().mark((function t(e){var r,n;return qL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.post("/api/v3/polls").set(tw.authorizationBearerHeader).send(e).catch(lr);case 3:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.poll.setError({pollId:"-1",err:t.t0}),t.t0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return s.apply(this,arguments)})},{key:"update",value:(a=VL(qL().mark((function t(e){var r,n,o,i;return qL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.pollId,n=GL(e,zL),t.prev=1,t.next=4,ft.put("/api/v3/polls/".concat(r)).set(tw.authorizationBearerHeader).send(n).catch(lr);case 4:return o=t.sent,i=o.body,this.distribute(i),t.abrupt("return",i);case 10:throw t.prev=10,t.t0=t.catch(1),u.dispatcher.poll.setError({pollId:"-1",err:t.t0}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(t){return a.apply(this,arguments)})},{key:"votePoll",value:(i=VL(qL().mark((function t(e){var r,n,o,i;return qL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.pollId,n=e.answerIds,t.prev=1,t.next=4,ft.post("/api/v3/polls/".concat(r,"/votes")).set(tw.authorizationBearerHeader).send({answerIds:n}).catch(lr);case 4:return o=t.sent,i=o.body,this.distribute(i),t.abrupt("return",i);case 10:throw t.prev=10,t.t0=t.catch(1),u.dispatcher.poll.setError({pollId:"-1",err:t.t0}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(t){return i.apply(this,arguments)})},{key:"fetch",value:(o=VL(qL().mark((function t(e){var r,n;return qL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.get("/api/v3/polls/".concat(e)).set(tw.authorizationBearerHeader).catch(lr);case 3:return r=t.sent,n=r.body,this.distribute(n),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),u.dispatcher.poll.setError({pollId:"-1",err:t.t0}),t.t0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t){return o.apply(this,arguments)})},{key:"delete",value:(n=VL(qL().mark((function t(e){var r,n;return qL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.delete("/api/v3/polls/".concat(e.pollId)).set(tw.authorizationBearerHeader).catch(lr);case 2:return r=t.sent,(n=r.body.success)&&this._delete({pollId:e.pollId},{softDelete:!0}),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}],r&&YL(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(u.StateStore),BL=eP(ML.prototype,"state",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),UL=eP(ML.prototype,"errors",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),eP(ML.prototype,"session.reset",[u.reducer],Object.getOwnPropertyDescriptor(ML.prototype,"session.reset"),ML.prototype),eP(ML.prototype,"grab",[u.effect],Object.getOwnPropertyDescriptor(ML.prototype,"grab"),ML.prototype),eP(ML.prototype,"load",[u.reducer],Object.getOwnPropertyDescriptor(ML.prototype,"load"),ML.prototype),eP(ML.prototype,"unload",[u.reducer],Object.getOwnPropertyDescriptor(ML.prototype,"unload"),ML.prototype),eP(ML.prototype,"setError",[u.reducer],Object.getOwnPropertyDescriptor(ML.prototype,"setError"),ML.prototype),eP(ML.prototype,"create",[u.effect],Object.getOwnPropertyDescriptor(ML.prototype,"create"),ML.prototype),eP(ML.prototype,"update",[u.effect],Object.getOwnPropertyDescriptor(ML.prototype,"update"),ML.prototype),eP(ML.prototype,"votePoll",[u.effect],Object.getOwnPropertyDescriptor(ML.prototype,"votePoll"),ML.prototype),eP(ML.prototype,"fetch",[u.effect],Object.getOwnPropertyDescriptor(ML.prototype,"fetch"),ML.prototype),eP(ML.prototype,"delete",[u.effect],Object.getOwnPropertyDescriptor(ML.prototype,"delete"),ML.prototype),ML);function iP(t){return iP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iP(t)}function aP(){aP=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==iP(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function uP(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function sP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cP(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var lP=(rP=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r,n){r&&Object.defineProperty(t,"_pollId",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,0,nP,this),this._parameters=e}var e,r,n,o;return e=t,r=[{key:"dispose",value:function(){void 0!==this._dispose&&this._dispose()}},{key:"dataLoadHook",value:(n=aP().mark((function t(){var e=this;return aP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.dispatcher.poll.create(this._parameters).then((function(t){e._pollId=t.polls[0].pollId})).catch((function(){e._pollId="-1"})));case 1:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){uP(i,r,o,a,u,"next",t)}function u(t){uP(i,r,o,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"model",get:function(){return IP.findById(this._pollId)}},{key:"error",get:function(){return IP.findErrorById(this._pollId)}}],r&&sP(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),nP=cP(rP.prototype,"_pollId",[X.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cP(rP.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(rP.prototype,"model"),rP.prototype),cP(rP.prototype,"error",[X.computed],Object.getOwnPropertyDescriptor(rP.prototype,"error"),rP.prototype),rP);function fP(t){return function(t){if(Array.isArray(t))return hP(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return hP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hP(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hP(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pP=function(t){var e,r,n=ot(t,{question:Q().string().required(),answers:Q().array().items(Q().object({dataType:(e=Q().string().required()).valid.apply(e,fP(Object.values(xL))),data:Q().string().required()})).required(),answerType:(r=Q().string().required()).valid.apply(r,fP(Object.values(kL))),closedIn:Q().number().min(0).required()});return new vi(lP,n)};function dP(t){return dP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dP(t)}function yP(){yP=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==dP(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function vP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mP(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vP(Object(r),!0).forEach((function(e){gP(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function gP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bP(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var wP=function(){var t,e=(t=yP().mark((function t(e){var r;return yP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({pollId:e},{pollId:Q().string().required()}),t.next=3,u.dispatcher.poll.update(mP(mP({},r),{},{status:jL.Closed}));case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){bP(i,n,o,a,u,"next",t)}function u(t){bP(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function _P(t){return _P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_P(t)}function EP(){EP=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==_P(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function OP(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var SP=function(){var t,e=(t=EP().mark((function t(e){var r;return EP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot({pollId:e},{pollId:Q().string().required()}),t.abrupt("return",u.dispatcher.poll.delete(r));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){OP(i,n,o,a,u,"next",t)}function u(t){OP(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function xP(t){return xP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xP(t)}function kP(){kP=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==xP(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function jP(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}var TP,LP=function(){var t,e=(t=kP().mark((function t(e,r){var n;return kP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ot({pollId:e,answerIds:r},{pollId:Q().string().required(),answerIds:Q().array().items(Q().string()).required()}),t.next=3,u.dispatcher.poll.votePoll(n);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){jP(i,n,o,a,u,"next",t)}function u(t){jP(i,n,o,a,u,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function PP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var AP=(TP=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"dispose",(function(){})),this.parameters=e}var e,r;return e=t,(r=[{key:"model",get:function(){return IP.findById(this.parameters.pollId)}},{key:"dataLoadHook",value:function(){return u.dispatcher.poll.fetch(this.parameters.pollId)}}])&&PP(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}(TP.prototype,"model",[X.computed],Object.getOwnPropertyDescriptor(TP.prototype,"model"),TP.prototype),TP),CP=function(t){var e=ot({pollId:t},{pollId:Q().string().required()});return new vi(AP,e)},IP=new oP;function RP(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var DP=function(t,e){var r=t.path;switch(e){case pe.POST:return"".concat(r,"/post/+");case pe.COMMENT:return"".concat(r,"/post/+/comment/+");case pe.POST_AND_COMMENT:return"".concat(r,"/post/#");case pe.COMMUNTIY:default:return r}},NP=function(t,e){var r=t.path;switch(e){case pe.COMMENT:return"".concat(r,"/comment/+");case pe.POST:default:return r}},FP=function(t){return t.path},MP=function(t,e){var r=t.path.split("/");r.splice(1,0,"social");var n=r.join("/");switch(e){case pe.POST:return"".concat(n,"/post/+");case pe.COMMENT:return"".concat(n,"/post/+/comment/+");case pe.POST_AND_COMMENT:return"".concat(n,"/post/#");case pe.USER:default:return n}},BP=function(t){if(!tw.sessionData)throw new ASCError("Can not access the current user avatar. You should register a session first.");var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return RP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RP(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(tw.sessionData.users[0].path.split("/user/"),2),r=e[0],n=e[1];switch(t){case de.MY_FOLLOWERS:return"".concat(r,"/membership/").concat(n,"/+/+");case de.MY_FOLLOWINGS:default:return"".concat(r,"/membership/+/").concat(n,"/+")}};function UP(t){return UP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UP(t)}function zP(){zP=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==UP(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function GP(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function qP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var HP=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n,o;return e=t,r=[{key:"configure",value:function(t,e){var r=ye(he,e);Be({apiKey:t}),lt({endpoint:r})}},{key:"createAuthToken",value:(n=zP().mark((function e(r,n,o){var i,a,u,s,c,l;return zP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.configure(r,n),i=o.userId,a=o.displayName,u=o.authToken,e.next=4,Ue.requestAccessTokenWithApiKey(i,a,u,"/api/v3/sessions");case 4:return s=e.sent,c=s.body,l=s.err,e.abrupt("return",{accessToken:c.accessToken,err:l});case 8:case"end":return e.stop()}}),e)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){GP(i,r,o,a,u,"next",t)}function u(t){GP(i,r,o,a,u,"throw",t)}a(void 0)}))},function(t,e,r){return o.apply(this,arguments)})}],r&&qP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),VP=HP,$P=Lw,WP=function(){throw new Error(["This method has a hard deprecation. Pass the apiEndpoint while constructing the Client instance.","ex: Client.create({ apiKey, apiEndpoint })"].join("\n"))},KP=oT,YP=iT,QP=aT,XP=kL,JP=xL,ZP=jL}(),g}()}).call(this,r(57).setImmediate)},function(t,e,r){var n=r(79);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}t.exports=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(80).default;function o(){"use strict";t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(L){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=f;var p={};function d(){}function y(){}function v(){}var m={};l(m,u,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(j([])));b&&b!==r&&i.call(b,u)&&(m=b);var w=v.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(o,a,u,s){var c=h(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,u,s)}),(function(t){r("throw",t,u,s)})):e.resolve(f).then((function(t){l.value=t,u(l)}),(function(t){return r("throw",t,u,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function O(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=h(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return y.prototype=v,l(w,"constructor",v),l(v,"constructor",y),y.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},_(E.prototype),l(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,u,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),s=i.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function r(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(c){return void r(c)}u.done?e(s):Promise.resolve(s).then(n,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function u(t){r(a,o,i,u,s,"next",t)}function s(t){r(a,o,i,u,s,"throw",t)}u(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(148),o=r(149),i=r(59),a=r(150);t.exports=function(t,e){return n(t)||o(t,e)||i(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(s){u=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(84),o=r(60),i=r(152),a=r(82);function u(e){var r="function"===typeof Map?new Map:void 0;return t.exports=u=function(t){if(null===t||!i(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return a(t,arguments,n(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,u(e)}t.exports=u,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(59);t.exports=function(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=n(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){s=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw a}}}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(155),o=r(156),i=r(59),a=r(157);t.exports=function(t){return n(t)||o(t)||i(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(81);t.exports=function(t){if(Array.isArray(t))return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(60);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(84),o=r(83),i=r(162);t.exports=function(t){var e=o();return function(){var r,o=n(t);if(e){var a=n(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return i(this,r)}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(80).default,o=r(85);t.exports=function(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"ServerStyleSheet",(function(){return Ut})),r.d(e,"StyleSheetConsumer",(function(){return ot})),r.d(e,"StyleSheetContext",(function(){return nt})),r.d(e,"StyleSheetManager",(function(){return lt})),r.d(e,"ThemeConsumer",(function(){return Ct})),r.d(e,"ThemeContext",(function(){return At})),r.d(e,"ThemeProvider",(function(){return It})),r.d(e,"__PRIVATE__",(function(){return qt})),r.d(e,"createGlobalStyle",(function(){return Mt})),r.d(e,"css",(function(){return wt})),r.d(e,"isStyledComponent",(function(){return w})),r.d(e,"keyframes",(function(){return Bt})),r.d(e,"useTheme",(function(){return Gt})),r.d(e,"version",(function(){return E})),r.d(e,"withTheme",(function(){return zt}));var n=r(74),o=r(0),i=r.n(o),a=r(73),u=r.n(a),s=r(120),c=r(121),l=r(76),f=r(33),h=r.n(f);function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var d=function(t,e){for(var r=[t[0]],n=0,o=e.length;n<o;n+=1)r.push(e[n],t[n+1]);return r},y=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!Object(n.typeOf)(t)},v=Object.freeze([]),m=Object.freeze({});function g(t){return"function"==typeof t}function b(t){return t.displayName||t.name||"Component"}function w(t){return t&&"string"==typeof t.styledComponentId}var _="undefined"!=typeof t&&(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",E="5.3.5",O="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)),x={};function k(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var j=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,r=0;r<t;r++)e+=this.groupSizes[r];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,o=n;t>=o;)(o<<=1)<0&&k(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var i=n;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(t+1),u=0,s=e.length;u<s;u++)this.tag.insertRule(a,e[u])&&(this.groupSizes[t]++,a++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],r=this.indexOfGroup(t),n=r+e;this.groupSizes[t]=0;for(var o=r;o<n;o++)this.tag.deleteRule(r)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var r=this.groupSizes[t],n=this.indexOfGroup(t),o=n+r,i=n;i<o;i++)e+=this.tag.getRule(i)+"/*!sc*/\n";return e},t}(),T=new Map,L=new Map,P=1,A=function(t){if(T.has(t))return T.get(t);for(;L.has(P);)P++;var e=P++;return T.set(t,e),L.set(e,t),e},C=function(t){return L.get(t)},I=function(t,e){e>=P&&(P=e+1),T.set(t,e),L.set(e,t)},R="style["+_+'][data-styled-version="5.3.5"]',D=new RegExp("^"+_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),N=function(t,e,r){for(var n,o=r.split(","),i=0,a=o.length;i<a;i++)(n=o[i])&&t.registerName(e,n)},F=function(t,e){for(var r=(e.textContent||"").split("/*!sc*/\n"),n=[],o=0,i=r.length;o<i;o++){var a=r[o].trim();if(a){var u=a.match(D);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(I(c,s),N(t,c,u[3]),t.getTag().insertRules(s,n)),n.length=0}else n.push(a)}}},M=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},B=function(t){var e=document.head,r=t||e,n=document.createElement("style"),o=function(t){for(var e=t.childNodes,r=e.length;r>=0;r--){var n=e[r];if(n&&1===n.nodeType&&n.hasAttribute(_))return n}}(r),i=void 0!==o?o.nextSibling:null;n.setAttribute(_,"active"),n.setAttribute("data-styled-version","5.3.5");var a=M();return a&&n.setAttribute("nonce",a),r.insertBefore(n,i),n},U=function(){function t(t){var e=this.element=B(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,r=0,n=e.length;r<n;r++){var o=e[r];if(o.ownerNode===t)return o}k(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),z=function(){function t(t){var e=this.element=B(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var r=document.createTextNode(e),n=this.nodes[t];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),G=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),q=O,H={isServer:!O,useCSSOMInjection:!S},V=function(){function t(t,e,r){void 0===t&&(t=m),void 0===e&&(e={}),this.options=p({},H,{},t),this.gs=e,this.names=new Map(r),this.server=!!t.isServer,!this.server&&O&&q&&(q=!1,function(t){for(var e=document.querySelectorAll(R),r=0,n=e.length;r<n;r++){var o=e[r];o&&"active"!==o.getAttribute(_)&&(F(t,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}t.registerId=function(t){return A(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,r){return void 0===r&&(r=!0),new t(p({},this.options,{},e),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(r=(e=this.options).isServer,n=e.useCSSOMInjection,o=e.target,t=r?new G(o):n?new U(o):new z(o),new j(t)));var t,e,r,n,o},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(A(t),this.names.has(t))this.names.get(t).add(e);else{var r=new Set;r.add(e),this.names.set(t,r)}},e.insertRules=function(t,e,r){this.registerName(t,e),this.getTag().insertRules(A(t),r)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(A(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),r=e.length,n="",o=0;o<r;o++){var i=C(o);if(void 0!==i){var a=t.names.get(i),u=e.getGroup(o);if(a&&u&&a.size){var s=_+".g"+o+'[id="'+i+'"]',c="";void 0!==a&&a.forEach((function(t){t.length>0&&(c+=t+",")})),n+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return n}(this)},t}(),$=/(a)(d)/gi,W=function(t){return String.fromCharCode(t+(t>25?39:97))};function K(t){var e,r="";for(e=Math.abs(t);e>52;e=e/52|0)r=W(e%52)+r;return(W(e%52)+r).replace($,"$1-$2")}var Y=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},Q=function(t){return Y(5381,t)};function X(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(g(r)&&!w(r))return!1}return!0}var J=Q("5.3.5"),Z=function(){function t(t,e,r){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&X(t),this.componentId=e,this.baseHash=Y(J,e),this.baseStyle=r,V.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,r){var n=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(t,e,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&e.hasNameForId(n,this.staticRulesId))o.push(this.staticRulesId);else{var i=gt(this.rules,t,e,r).join(""),a=K(Y(this.baseHash,i)>>>0);if(!e.hasNameForId(n,a)){var u=r(i,"."+a,void 0,n);e.insertRules(n,a,u)}o.push(a),this.staticRulesId=a}else{for(var s=this.rules.length,c=Y(this.baseHash,r.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var p=gt(h,t,e,r),d=Array.isArray(p)?p.join(""):p;c=Y(c,d+f),l+=d}}if(l){var y=K(c>>>0);if(!e.hasNameForId(n,y)){var v=r(l,"."+y,void 0,n);e.insertRules(n,y,v)}o.push(y)}}return o.join(" ")},t}(),tt=/^\s*\/\/.*$/gm,et=[":","[",".","#"];function rt(t){var e,r,n,o,i=void 0===t?m:t,a=i.options,u=void 0===a?m:a,c=i.plugins,l=void 0===c?v:c,f=new s.a(u),h=[],p=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(r,n,o,i,a,u,s,c,l,f){switch(r){case 1:if(0===l&&64===n.charCodeAt(0))return t(n+";"),"";break;case 2:if(0===c)return n+"/*|*/";break;case 3:switch(c){case 102:case 112:return t(o[0]+n),"";default:return n+(0===f?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(e)}}}((function(t){h.push(t)})),d=function(t,n,i){return 0===n&&-1!==et.indexOf(i[r.length])||i.match(o)?t:"."+e};function y(t,i,a,u){void 0===u&&(u="&");var s=t.replace(tt,""),c=i&&a?a+" "+i+" { "+s+" }":s;return e=u,r=i,n=new RegExp("\\"+r+"\\b","g"),o=new RegExp("(\\"+r+"\\b){2,}"),f(a||!i?"":i,c)}return f.use([].concat(l,[function(t,e,o){2===t&&o.length&&o[0].lastIndexOf(r)>0&&(o[0]=o[0].replace(n,d))},p,function(t){if(-2===t){var e=h;return h=[],e}}])),y.hash=l.length?l.reduce((function(t,e){return e.name||k(15),Y(t,e.name)}),5381).toString():"",y}var nt=i.a.createContext(),ot=nt.Consumer,it=i.a.createContext(),at=(it.Consumer,new V),ut=rt();function st(){return Object(o.useContext)(nt)||at}function ct(){return Object(o.useContext)(it)||ut}function lt(t){var e=Object(o.useState)(t.stylisPlugins),r=e[0],n=e[1],a=st(),s=Object(o.useMemo)((function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),c=Object(o.useMemo)((function(){return rt({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return Object(o.useEffect)((function(){u()(r,t.stylisPlugins)||n(t.stylisPlugins)}),[t.stylisPlugins]),i.a.createElement(nt.Provider,{value:s},i.a.createElement(it.Provider,{value:c},t.children))}var ft=function(){function t(t,e){var r=this;this.inject=function(t,e){void 0===e&&(e=ut);var n=r.name+e.hash;t.hasNameForId(r.id,n)||t.insertRules(r.id,n,e(r.rules,n,"@keyframes"))},this.toString=function(){return k(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=ut),this.name+t.hash},t}(),ht=/([A-Z])/,pt=/([A-Z])/g,dt=/^ms-/,yt=function(t){return"-"+t.toLowerCase()};function vt(t){return ht.test(t)?t.replace(pt,yt).replace(dt,"-ms-"):t}var mt=function(t){return null==t||!1===t||""===t};function gt(t,e,r,n){if(Array.isArray(t)){for(var o,i=[],a=0,u=t.length;a<u;a+=1)""!==(o=gt(t[a],e,r,n))&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}return mt(t)?"":w(t)?"."+t.styledComponentId:g(t)?"function"!=typeof(s=t)||s.prototype&&s.prototype.isReactComponent||!e?t:gt(t(e),e,r,n):t instanceof ft?r?(t.inject(r,n),t.getName(n)):t:y(t)?function t(e,r){var n,o,i=[];for(var a in e)e.hasOwnProperty(a)&&!mt(e[a])&&(Array.isArray(e[a])&&e[a].isCss||g(e[a])?i.push(vt(a)+":",e[a],";"):y(e[a])?i.push.apply(i,t(e[a],a)):i.push(vt(a)+": "+(n=a,(null==(o=e[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||n in c.a?String(o).trim():o+"px")+";")));return r?[r+" {"].concat(i,["}"]):i}(t):t.toString();var s}var bt=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function wt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return g(t)||y(t)?bt(gt(d(v,[t].concat(r)))):0===r.length&&1===t.length&&"string"==typeof t[0]?t:bt(gt(d(t,r)))}new Set;var _t=function(t,e,r){return void 0===r&&(r=m),t.theme!==r.theme&&t.theme||e||r.theme},Et=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ot=/(^-|-$)/g;function St(t){return t.replace(Et,"-").replace(Ot,"")}var xt=function(t){return K(Q(t)>>>0)};function kt(t){return"string"==typeof t&&!0}var jt=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},Tt=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function Lt(t,e,r){var n=t[r];jt(e)&&jt(n)?Pt(n,e):t[r]=e}function Pt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var a=i[o];if(jt(a))for(var u in a)Tt(u)&&Lt(t,a[u],u)}return t}var At=i.a.createContext(),Ct=At.Consumer;function It(t){var e=Object(o.useContext)(At),r=Object(o.useMemo)((function(){return function(t,e){return t?g(t)?t(e):Array.isArray(t)||"object"!=typeof t?k(8):e?p({},e,{},t):t:k(14)}(t.theme,e)}),[t.theme,e]);return t.children?i.a.createElement(At.Provider,{value:r},t.children):null}var Rt={};function Dt(t,e,r){var n=w(t),a=!kt(t),u=e.attrs,s=void 0===u?v:u,c=e.componentId,f=void 0===c?function(t,e){var r="string"!=typeof t?"sc":St(t);Rt[r]=(Rt[r]||0)+1;var n=r+"-"+xt("5.3.5"+r+Rt[r]);return e?e+"-"+n:n}(e.displayName,e.parentComponentId):c,d=e.displayName,y=void 0===d?function(t){return kt(t)?"styled."+t:"Styled("+b(t)+")"}(t):d,_=e.displayName&&e.componentId?St(e.displayName)+"-"+e.componentId:e.componentId||f,E=n&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,O=e.shouldForwardProp;n&&t.shouldForwardProp&&(O=e.shouldForwardProp?function(r,n,o){return t.shouldForwardProp(r,n,o)&&e.shouldForwardProp(r,n,o)}:t.shouldForwardProp);var S,x=new Z(r,_,n?t.componentStyle:void 0),k=x.isStatic&&0===s.length,j=function(t,e){return function(t,e,r,n){var i=t.attrs,a=t.componentStyle,u=t.defaultProps,s=t.foldedComponentIds,c=t.shouldForwardProp,f=t.styledComponentId,h=t.target,d=function(t,e,r){void 0===t&&(t=m);var n=p({},e,{theme:t}),o={};return r.forEach((function(t){var e,r,i,a=t;for(e in g(a)&&(a=a(n)),a)n[e]=o[e]="className"===e?(r=o[e],i=a[e],r&&i?r+" "+i:r||i):a[e]})),[n,o]}(_t(e,Object(o.useContext)(At),u)||m,e,i),y=d[0],v=d[1],b=function(t,e,r,n){var o=st(),i=ct();return e?t.generateAndInjectStyles(m,o,i):t.generateAndInjectStyles(r,o,i)}(a,n,y),w=r,_=v.$as||e.$as||v.as||e.as||h,E=kt(_),O=v!==e?p({},e,{},v):e,S={};for(var x in O)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?S.as=O[x]:(c?c(x,l.a,_):!E||Object(l.a)(x))&&(S[x]=O[x]));return e.style&&v.style!==e.style&&(S.style=p({},e.style,{},v.style)),S.className=Array.prototype.concat(s,f,b!==f?b:null,e.className,v.className).filter(Boolean).join(" "),S.ref=w,Object(o.createElement)(_,S)}(S,t,e,k)};return j.displayName=y,(S=i.a.forwardRef(j)).attrs=E,S.componentStyle=x,S.displayName=y,S.shouldForwardProp=O,S.foldedComponentIds=n?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):v,S.styledComponentId=_,S.target=n?t.target:t,S.withComponent=function(t){var n=e.componentId,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(e,["componentId"]),i=n&&n+"-"+(kt(t)?t:St(b(t)));return Dt(t,p({},o,{attrs:E,componentId:i}),r)},Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=n?Pt({},t.defaultProps,e):e}}),S.toString=function(){return"."+S.styledComponentId},a&&h()(S,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),S}var Nt=function(t){return function t(e,r,o){if(void 0===o&&(o=m),!Object(n.isValidElementType)(r))return k(1,String(r));var i=function(){return e(r,o,wt.apply(void 0,arguments))};return i.withConfig=function(n){return t(e,r,p({},o,{},n))},i.attrs=function(n){return t(e,r,p({},o,{attrs:Array.prototype.concat(o.attrs,n).filter(Boolean)}))},i}(Dt,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(t){Nt[t]=Nt(t)}));var Ft=function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=X(t),V.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(t,e,r,n){var o=n(gt(this.rules,e,r,n).join(""),""),i=this.componentId+t;r.insertRules(i,i,o)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,r,n){t>2&&V.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,e,r,n)},t}();function Mt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var a=wt.apply(void 0,[t].concat(r)),u="sc-global-"+xt(JSON.stringify(a)),s=new Ft(a,u);function c(t){var e=st(),r=ct(),n=Object(o.useContext)(At),i=Object(o.useRef)(e.allocateGSInstance(u)).current;return e.server&&l(i,t,e,n,r),Object(o.useLayoutEffect)((function(){if(!e.server)return l(i,t,e,n,r),function(){return s.removeStyles(i,e)}}),[i,t,e,n,r]),null}function l(t,e,r,n,o){if(s.isStatic)s.renderStyles(t,x,r,o);else{var i=p({},e,{theme:_t(e,n,c.defaultProps)});s.renderStyles(t,i,r,o)}}return i.a.memo(c)}function Bt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=wt.apply(void 0,[t].concat(r)).join(""),i=xt(o);return new ft(i,o)}var Ut=function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var r=M();return"<style "+[r&&'nonce="'+r+'"',_+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?k(2):t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)return k(2);var r=((e={})[_]="",e["data-styled-version"]="5.3.5",e.dangerouslySetInnerHTML={__html:t.instance.toString()},e),n=M();return n&&(r.nonce=n),[i.a.createElement("style",p({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new V({isServer:!0}),this.sealed=!1}var e=t.prototype;return e.collectStyles=function(t){return this.sealed?k(2):i.a.createElement(lt,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return k(3)},t}(),zt=function(t){var e=i.a.forwardRef((function(e,r){var n=Object(o.useContext)(At),a=t.defaultProps,u=_t(e,n,a);return i.a.createElement(t,p({},e,{theme:u,ref:r}))}));return h()(e,t),e.displayName="WithTheme("+b(t)+")",e},Gt=function(){return Object(o.useContext)(At)},qt={StyleSheet:V,masterSheet:at};e.default=Nt}.call(this,r(58))},function(t,e,r){"use strict";var n,o=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case a:case s:case u:case p:case d:return t;default:switch(t=t&&t.$$typeof){case f:case l:case h:case v:case y:case c:return t;default:return e}}case i:return e}}}n=Symbol.for("react.module.reference"),e.ContextConsumer=l,e.ContextProvider=c,e.Element=o,e.ForwardRef=h,e.Fragment=a,e.Lazy=v,e.Memo=y,e.Portal=i,e.Profiler=s,e.StrictMode=u,e.Suspense=p,e.SuspenseList=d,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return g(t)===l},e.isContextProvider=function(t){return g(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return g(t)===h},e.isFragment=function(t){return g(t)===a},e.isLazy=function(t){return g(t)===v},e.isMemo=function(t){return g(t)===y},e.isPortal=function(t){return g(t)===i},e.isProfiler=function(t){return g(t)===s},e.isStrictMode=function(t){return g(t)===u},e.isSuspense=function(t){return g(t)===p},e.isSuspenseList=function(t){return g(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===s||t===u||t===p||t===d||t===m||"object"===typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===h||t.$$typeof===n||void 0!==t.getModuleId)},e.typeOf=g},function(t,e,r){"use strict";t.exports=r(166)},function(t,e,r){"use strict";var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,u=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case f:case h:case a:case s:case u:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case m:case v:case c:return t;default:return e}}case i:return e}}}function O(t){return E(t)===h}e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=o,e.ForwardRef=p,e.Fragment=a,e.Lazy=m,e.Memo=v,e.Portal=i,e.Profiler=s,e.StrictMode=u,e.Suspense=d,e.isAsyncMode=function(t){return O(t)||E(t)===f},e.isConcurrentMode=O,e.isContextConsumer=function(t){return E(t)===l},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return E(t)===p},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===m},e.isMemo=function(t){return E(t)===v},e.isPortal=function(t){return E(t)===i},e.isProfiler=function(t){return E(t)===s},e.isStrictMode=function(t){return E(t)===u},e.isSuspense=function(t){return E(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===s||t===u||t===d||t===y||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===v||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===w||t.$$typeof===_||t.$$typeof===g)},e.typeOf=E},function(t,e,r){"use strict";var n=r(0),o=r(168);function i(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function s(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(u[t]=e,t=0;t<e.length;t++)a.add(e[t])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},d={};function y(t,e,r,n,o,i,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new y(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new y(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new y(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new y(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new y(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new y(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new y(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new y(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new y(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(t){return t[1].toUpperCase()}function b(t,e,r,n){var o=v.hasOwnProperty(e)?v[e]:null;(null!==o?0!==o.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,r,n){if(null===e||"undefined"===typeof e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,o,n)&&(r=null),n||null===o?function(t){return!!f.call(d,t)||!f.call(p,t)&&(h.test(t)?d[t]=!0:(p[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):o.mustUseProperty?t[o.propertyName]=null===r?3!==o.type&&"":r:(e=o.attributeName,n=o.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,g);v[e]=new y(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,g);v[e]=new y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,g);v[e]=new y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new y(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new y(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=R&&t[R]||t["@@iterator"])?t:null}var N,F=Object.assign;function M(t){if(void 0===N)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);N=e&&e[1]||""}return"\n"+N+t}var B=!1;function U(t,e){if(!t||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=n.stack.split("\n"),a=o.length-1,u=i.length-1;1<=a&&0<=u&&o[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(o[a]!==i[u]){if(1!==a||1!==u)do{if(a--,0>--u||o[a]!==i[u]){var s="\n"+o[a].replace(" at new "," at ");return t.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",t.displayName)),s}}while(1<=a&&0<=u);break}}}finally{B=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?M(t):""}function z(t){switch(t.tag){case 5:return M(t.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case O:return"Fragment";case E:return"Portal";case x:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case j:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(e=t.displayName||null)?e:G(t.type)||"Memo";case C:e=t._payload,t=t._init;try{return G(t(e))}catch(r){}}return null}function q(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function V(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function $(t){t._valueTracker||(t._valueTracker=function(t){var e=V(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){n=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function W(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=V(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var r=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function Q(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=H(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var r=H(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,r):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function tt(t,e,r){"number"===e&&K(t.ownerDocument)===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var et=Array.isArray;function rt(t,e,r,n){if(t=t.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<t.length;r++)o=e.hasOwnProperty("$"+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&n&&(t[r].defaultSelected=!0)}else{for(r=""+H(r),e=null,o=0;o<t.length;o++){if(t[o].value===r)return t[o].selected=!0,void(n&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(i(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ot(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(i(92));if(et(r)){if(1<r.length)throw Error(i(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:H(r)}}function it(t,e){var r=H(e.value),n=H(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ut(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,lt,ft=(lt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return lt(t,e)}))}:lt);function ht(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];function yt(t,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function vt(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=yt(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,o):t[r]=o}}Object.keys(pt).forEach((function(t){dt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var mt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(t,e){if(e){if(mt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(i(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(i(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(i(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,Ot=null,St=null;function xt(t){if(t=wo(t)){if("function"!==typeof Et)throw Error(i(280));var e=t.stateNode;e&&(e=Eo(e),Et(t.stateNode,t.type,e))}}function kt(t){Ot?St?St.push(t):St=[t]:Ot=t}function jt(){if(Ot){var t=Ot,e=St;if(St=Ot=null,xt(t),e)for(t=0;t<e.length;t++)xt(e[t])}}function Tt(t,e){return t(e)}function Lt(){}var Pt=!1;function At(t,e,r){if(Pt)return t(e,r);Pt=!0;try{return Tt(t,e,r)}finally{Pt=!1,(null!==Ot||null!==St)&&(Lt(),jt())}}function Ct(t,e){var r=t.stateNode;if(null===r)return null;var n=Eo(r);if(null===n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!==typeof r)throw Error(i(231,e,typeof r));return r}var It=!1;if(l)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){It=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch(lt){It=!1}function Dt(t,e,r,n,o,i,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(l){this.onError(l)}}var Nt=!1,Ft=null,Mt=!1,Bt=null,Ut={onError:function(t){Nt=!0,Ft=t}};function zt(t,e,r,n,o,i,a,u,s){Nt=!1,Ft=null,Dt.apply(Ut,arguments)}function Gt(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function qt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(Gt(t)!==t)throw Error(i(188))}function Vt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Gt(t)))throw Error(i(188));return e!==t?null:t}for(var r=t,n=e;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(n=o.return)){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Ht(o),t;if(a===n)return Ht(o),e;a=a.sibling}throw Error(i(188))}if(r.return!==n.return)r=o,n=a;else{for(var u=!1,s=o.child;s;){if(s===r){u=!0,r=o,n=a;break}if(s===n){u=!0,n=o,r=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===r){u=!0,r=a,n=o;break}if(s===n){u=!0,n=a,r=o;break}s=s.sibling}if(!u)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?t:e}(t))?$t(t):null}function $t(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=$t(t);if(null!==e)return e;t=t.sibling}return null}var Wt=o.unstable_scheduleCallback,Kt=o.unstable_cancelCallback,Yt=o.unstable_shouldYield,Qt=o.unstable_requestPaint,Xt=o.unstable_now,Jt=o.unstable_getCurrentPriorityLevel,Zt=o.unstable_ImmediatePriority,te=o.unstable_UserBlockingPriority,ee=o.unstable_NormalPriority,re=o.unstable_LowPriority,ne=o.unstable_IdlePriority,oe=null,ie=null;var ae=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(ue(t)/se|0)|0},ue=Math.log,se=Math.LN2;var ce=64,le=4194304;function fe(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function he(t,e){var r=t.pendingLanes;if(0===r)return 0;var n=0,o=t.suspendedLanes,i=t.pingedLanes,a=268435455&r;if(0!==a){var u=a&~o;0!==u?n=fe(u):0!==(i&=a)&&(n=fe(i))}else 0!==(a=r&~o)?n=fe(a):0!==i&&(n=fe(i));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&o)&&((o=n&-n)>=(i=e&-e)||16===o&&0!==(4194240&i)))return e;if(0!==(4&n)&&(n|=16&r),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)o=1<<(r=31-ae(e)),n|=t[r],e&=~o;return n}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function de(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ye(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ve(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function me(t,e,r){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=r}function ge(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ae(r),o=1<<n;o&e|t[n]&e&&(t[n]|=e),r&=~o}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,Ee,Oe,Se,xe,ke=!1,je=[],Te=null,Le=null,Pe=null,Ae=new Map,Ce=new Map,Ie=[],Re="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Le=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Ae.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ce.delete(e.pointerId)}}function Ne(t,e,r,n,o,i){return null===t||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},null!==e&&(null!==(e=wo(e))&&Ee(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==o&&-1===e.indexOf(o)&&e.push(o),t)}function Fe(t){var e=bo(t.target);if(null!==e){var r=Gt(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=qt(r)))return t.blockedOn=e,void xe(t.priority,(function(){Oe(r)}))}else if(3===e&&r.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function Me(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r)return null!==(e=wo(r))&&Ee(e),t.blockedOn=r,!1;var n=new(r=t.nativeEvent).constructor(r.type,r);wt=n,r.target.dispatchEvent(n),wt=null,e.shift()}return!0}function Be(t,e,r){Me(t)&&r.delete(e)}function Ue(){ke=!1,null!==Te&&Me(Te)&&(Te=null),null!==Le&&Me(Le)&&(Le=null),null!==Pe&&Me(Pe)&&(Pe=null),Ae.forEach(Be),Ce.forEach(Be)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,ke||(ke=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ue)))}function Ge(t){function e(e){return ze(e,t)}if(0<je.length){ze(je[0],t);for(var r=1;r<je.length;r++){var n=je[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Te&&ze(Te,t),null!==Le&&ze(Le,t),null!==Pe&&ze(Pe,t),Ae.forEach(e),Ce.forEach(e),r=0;r<Ie.length;r++)(n=Ie[r]).blockedOn===t&&(n.blockedOn=null);for(;0<Ie.length&&null===(r=Ie[0]).blockedOn;)Fe(r),null===r.blockedOn&&Ie.shift()}var qe=w.ReactCurrentBatchConfig,He=!0;function Ve(t,e,r,n){var o=be,i=qe.transition;qe.transition=null;try{be=1,We(t,e,r,n)}finally{be=o,qe.transition=i}}function $e(t,e,r,n){var o=be,i=qe.transition;qe.transition=null;try{be=4,We(t,e,r,n)}finally{be=o,qe.transition=i}}function We(t,e,r,n){if(He){var o=Ye(t,e,r,n);if(null===o)Hn(t,e,n,Ke,r),De(t,n);else if(function(t,e,r,n,o){switch(e){case"focusin":return Te=Ne(Te,t,e,r,n,o),!0;case"dragenter":return Le=Ne(Le,t,e,r,n,o),!0;case"mouseover":return Pe=Ne(Pe,t,e,r,n,o),!0;case"pointerover":var i=o.pointerId;return Ae.set(i,Ne(Ae.get(i)||null,t,e,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Ce.set(i,Ne(Ce.get(i)||null,t,e,r,n,o)),!0}return!1}(o,t,e,r,n))n.stopPropagation();else if(De(t,n),4&e&&-1<Re.indexOf(t)){for(;null!==o;){var i=wo(o);if(null!==i&&_e(i),null===(i=Ye(t,e,r,n))&&Hn(t,e,n,Ke,r),i===o)break;o=i}null!==o&&n.stopPropagation()}else Hn(t,e,n,null,r)}}var Ke=null;function Ye(t,e,r,n){if(Ke=null,null!==(t=bo(t=_t(n))))if(null===(e=Gt(t)))t=null;else if(13===(r=e.tag)){if(null!==(t=qt(e)))return t;t=null}else if(3===r){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case re:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tr(){if(Ze)return Ze;var t,e,r=Je,n=r.length,o="value"in Xe?Xe.value:Xe.textContent,i=o.length;for(t=0;t<n&&r[t]===o[t];t++);var a=n-t;for(e=1;e<=a&&r[n-e]===o[i-e];e++);return Ze=o.slice(t,1<e?1-e:void 0)}function er(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rr(){return!0}function nr(){return!1}function or(t){function e(e,r,n,o,i){for(var a in this._reactName=e,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),e}var ir,ar,ur,sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=or(sr),lr=F({},sr,{view:0,detail:0}),fr=or(lr),hr=F({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&"mousemove"===t.type?(ir=t.screenX-ur.screenX,ar=t.screenY-ur.screenY):ar=ir=0,ur=t),ir)},movementY:function(t){return"movementY"in t?t.movementY:ar}}),pr=or(hr),dr=or(F({},hr,{dataTransfer:0})),yr=or(F({},lr,{relatedTarget:0})),vr=or(F({},sr,{animationName:0,elapsedTime:0,pseudoElement:0})),mr=F({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gr=or(mr),br=or(F({},sr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Er[t])&&!!e[t]}function Sr(){return Or}var xr=F({},lr,{key:function(t){if(t.key){var e=wr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=er(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_r[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return"keypress"===t.type?er(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?er(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),kr=or(xr),jr=or(F({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tr=or(F({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Lr=or(F({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=F({},hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=or(Pr),Cr=[9,13,27,32],Ir=l&&"CompositionEvent"in window,Rr=null;l&&"documentMode"in document&&(Rr=document.documentMode);var Dr=l&&"TextEvent"in window&&!Rr,Nr=l&&(!Ir||Rr&&8<Rr&&11>=Rr),Fr=String.fromCharCode(32),Mr=!1;function Br(t,e){switch(t){case"keyup":return-1!==Cr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var zr=!1;var Gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Gr[t.type]:"textarea"===e}function Hr(t,e,r,n){kt(n),0<(e=$n(e,"onChange")).length&&(r=new cr("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vr=null,$r=null;function Wr(t){Mn(t,0)}function Kr(t){if(W(_o(t)))return t}function Yr(t,e){if("change"===t)return e}var Qr=!1;if(l){var Xr;if(l){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Xr=Jr}else Xr=!1;Qr=Xr&&(!document.documentMode||9<document.documentMode)}function tn(){Vr&&(Vr.detachEvent("onpropertychange",en),$r=Vr=null)}function en(t){if("value"===t.propertyName&&Kr($r)){var e=[];Hr(e,$r,t,_t(t)),At(Wr,e)}}function rn(t,e,r){"focusin"===t?(tn(),$r=r,(Vr=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function nn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Kr($r)}function on(t,e){if("click"===t)return Kr(e)}function an(t,e){if("input"===t||"change"===t)return Kr(e)}var un="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function sn(t,e){if(un(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!f.call(e,o)||!un(t[o],e[o]))return!1}return!0}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ln(t,e){var r,n=cn(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=cn(n)}}function fn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hn(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=K((t=e.contentWindow).document)}return e}function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function dn(t){var e=hn(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&fn(r.ownerDocument.documentElement,r)){if(null!==n&&pn(r))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if((t=(e=r.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=void 0===n.end?i:Math.min(n.end,o),!t.extend&&i>n&&(o=n,n=i,i=o),o=ln(r,i);var a=ln(r,n);o&&a&&(1!==t.rangeCount||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=r;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<e.length;r++)(t=e[r]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yn=l&&"documentMode"in document&&11>=document.documentMode,vn=null,mn=null,gn=null,bn=!1;function wn(t,e,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==vn||vn!==K(n)||("selectionStart"in(n=vn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},gn&&sn(gn,n)||(gn=n,0<(n=$n(mn,"onSelect")).length&&(e=new cr("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vn)))}function _n(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var En={animationend:_n("Animation","AnimationEnd"),animationiteration:_n("Animation","AnimationIteration"),animationstart:_n("Animation","AnimationStart"),transitionend:_n("Transition","TransitionEnd")},On={},Sn={};function xn(t){if(On[t])return On[t];if(!En[t])return t;var e,r=En[t];for(e in r)if(r.hasOwnProperty(e)&&e in Sn)return On[t]=r[e];return t}l&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var kn=xn("animationend"),jn=xn("animationiteration"),Tn=xn("animationstart"),Ln=xn("transitionend"),Pn=new Map,An="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(t,e){Pn.set(t,e),s(e,[t])}for(var In=0;In<An.length;In++){var Rn=An[In];Cn(Rn.toLowerCase(),"on"+(Rn[0].toUpperCase()+Rn.slice(1)))}Cn(kn,"onAnimationEnd"),Cn(jn,"onAnimationIteration"),Cn(Tn,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Ln,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Fn(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,function(t,e,r,n,o,a,u,s,c){if(zt.apply(this,arguments),Nt){if(!Nt)throw Error(i(198));var l=Ft;Nt=!1,Ft=null,Mt||(Mt=!0,Bt=l)}}(n,e,void 0,t),t.currentTarget=null}function Mn(t,e){e=0!==(4&e);for(var r=0;r<t.length;r++){var n=t[r],o=n.event;n=n.listeners;t:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var u=n[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&o.isPropagationStopped())break t;Fn(o,u,c),i=s}else for(a=0;a<n.length;a++){if(s=(u=n[a]).instance,c=u.currentTarget,u=u.listener,s!==i&&o.isPropagationStopped())break t;Fn(o,u,c),i=s}}}if(Mt)throw t=Bt,Mt=!1,Bt=null,t}function Bn(t,e){var r=e[vo];void 0===r&&(r=e[vo]=new Set);var n=t+"__bubble";r.has(n)||(qn(e,t,2,!1),r.add(n))}function Un(t,e,r){var n=0;e&&(n|=4),qn(r,t,n,e)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Gn(t){if(!t[zn]){t[zn]=!0,a.forEach((function(e){"selectionchange"!==e&&(Nn.has(e)||Un(e,!1,t),Un(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zn]||(e[zn]=!0,Un("selectionchange",!1,e))}}function qn(t,e,r,n){switch(Qe(e)){case 1:var o=Ve;break;case 4:o=$e;break;default:o=We}r=o.bind(null,e,r,t),o=void 0,!It||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(o=!0),n?void 0!==o?t.addEventListener(e,r,{capture:!0,passive:o}):t.addEventListener(e,r,!0):void 0!==o?t.addEventListener(e,r,{passive:o}):t.addEventListener(e,r,!1)}function Hn(t,e,r,n,o){var i=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var u=n.stateNode.containerInfo;if(u===o||8===u.nodeType&&u.parentNode===o)break;if(4===a)for(a=n.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;a=a.return}for(;null!==u;){if(null===(a=bo(u)))return;if(5===(s=a.tag)||6===s){n=i=a;continue t}u=u.parentNode}}n=n.return}At((function(){var n=i,o=_t(r),a=[];t:{var u=Pn.get(t);if(void 0!==u){var s=cr,c=t;switch(t){case"keypress":if(0===er(r))break t;case"keydown":case"keyup":s=kr;break;case"focusin":c="focus",s=yr;break;case"focusout":c="blur",s=yr;break;case"beforeblur":case"afterblur":s=yr;break;case"click":if(2===r.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tr;break;case kn:case jn:case Tn:s=vr;break;case Ln:s=Lr;break;case"scroll":s=fr;break;case"wheel":s=Ar;break;case"copy":case"cut":case"paste":s=gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=jr}var l=0!==(4&e),f=!l&&"scroll"===t,h=l?null!==u?u+"Capture":null:u;l=[];for(var p,d=n;null!==d;){var y=(p=d).stateNode;if(5===p.tag&&null!==y&&(p=y,null!==h&&(null!=(y=Ct(d,h))&&l.push(Vn(d,y,p)))),f)break;d=d.return}0<l.length&&(u=new s(u,c,null,r,o),a.push({event:u,listeners:l}))}}if(0===(7&e)){if(s="mouseout"===t||"pointerout"===t,(!(u="mouseover"===t||"pointerover"===t)||r===wt||!(c=r.relatedTarget||r.fromElement)||!bo(c)&&!c[yo])&&(s||u)&&(u=o.window===o?o:(u=o.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=n,null!==(c=(c=r.relatedTarget||r.toElement)?bo(c):null)&&(c!==(f=Gt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=n),s!==c)){if(l=pr,y="onMouseLeave",h="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=jr,y="onPointerLeave",h="onPointerEnter",d="pointer"),f=null==s?u:_o(s),p=null==c?u:_o(c),(u=new l(y,d+"leave",s,r,o)).target=f,u.relatedTarget=p,y=null,bo(o)===n&&((l=new l(h,d+"enter",c,r,o)).target=p,l.relatedTarget=f,y=l),f=y,s&&c)t:{for(h=c,d=0,p=l=s;p;p=Wn(p))d++;for(p=0,y=h;y;y=Wn(y))p++;for(;0<d-p;)l=Wn(l),d--;for(;0<p-d;)h=Wn(h),p--;for(;d--;){if(l===h||null!==h&&l===h.alternate)break t;l=Wn(l),h=Wn(h)}l=null}else l=null;null!==s&&Kn(a,u,s,l,!1),null!==c&&null!==f&&Kn(a,f,c,l,!0)}if("select"===(s=(u=n?_o(n):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var v=Yr;else if(qr(u))if(Qr)v=an;else{v=nn;var m=rn}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(v=on);switch(v&&(v=v(t,n))?Hr(a,v,r,o):(m&&m(t,u,n),"focusout"===t&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&tt(u,"number",u.value)),m=n?_o(n):window,t){case"focusin":(qr(m)||"true"===m.contentEditable)&&(vn=m,mn=n,gn=null);break;case"focusout":gn=mn=vn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(a,r,o);break;case"selectionchange":if(yn)break;case"keydown":case"keyup":wn(a,r,o)}var g;if(Ir)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else zr?Br(t,r)&&(b="onCompositionEnd"):"keydown"===t&&229===r.keyCode&&(b="onCompositionStart");b&&(Nr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==b?"onCompositionEnd"===b&&zr&&(g=tr()):(Je="value"in(Xe=o)?Xe.value:Xe.textContent,zr=!0)),0<(m=$n(n,b)).length&&(b=new br(b,t,null,r,o),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=Ur(r))&&(b.data=g))),(g=Dr?function(t,e){switch(t){case"compositionend":return Ur(e);case"keypress":return 32!==e.which?null:(Mr=!0,Fr);case"textInput":return(t=e.data)===Fr&&Mr?null:t;default:return null}}(t,r):function(t,e){if(zr)return"compositionend"===t||!Ir&&Br(t,e)?(t=tr(),Ze=Je=Xe=null,zr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nr&&"ko"!==e.locale?null:e.data}}(t,r))&&(0<(n=$n(n,"onBeforeInput")).length&&(o=new br("onBeforeInput","beforeinput",null,r,o),a.push({event:o,listeners:n}),o.data=g))}Mn(a,e)}))}function Vn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function $n(t,e){for(var r=e+"Capture",n=[];null!==t;){var o=t,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ct(t,r))&&n.unshift(Vn(t,i,o)),null!=(i=Ct(t,e))&&n.push(Vn(t,i,o))),t=t.return}return n}function Wn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kn(t,e,r,n,o){for(var i=e._reactName,a=[];null!==r&&r!==n;){var u=r,s=u.alternate,c=u.stateNode;if(null!==s&&s===n)break;5===u.tag&&null!==c&&(u=c,o?null!=(s=Ct(r,i))&&a.unshift(Vn(r,s,u)):o||null!=(s=Ct(r,i))&&a.push(Vn(r,s,u))),r=r.return}0!==a.length&&t.push({event:e,listeners:a})}var Yn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Xn(t){return("string"===typeof t?t:""+t).replace(Yn,"\n").replace(Qn,"")}function Jn(t,e,r){if(e=Xn(e),Xn(t)!==e&&r)throw Error(i(425))}function Zn(){}var to=null,eo=null;function ro(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(t){return io.resolve(null).then(t).catch(uo)}:no;function uo(t){setTimeout((function(){throw t}))}function so(t,e){var r=e,n=0;do{var o=r.nextSibling;if(t.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0===n)return t.removeChild(o),void Ge(e);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=o}while(r);Ge(e)}function co(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function lo(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var fo=Math.random().toString(36).slice(2),ho="__reactFiber$"+fo,po="__reactProps$"+fo,yo="__reactContainer$"+fo,vo="__reactEvents$"+fo,mo="__reactListeners$"+fo,go="__reactHandles$"+fo;function bo(t){var e=t[ho];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yo]||r[ho]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=lo(t);null!==t;){if(r=t[ho])return r;t=lo(t)}return e}r=(t=r).parentNode}return null}function wo(t){return!(t=t[ho]||t[yo])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _o(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(i(33))}function Eo(t){return t[po]||null}var Oo=[],So=-1;function xo(t){return{current:t}}function ko(t){0>So||(t.current=Oo[So],Oo[So]=null,So--)}function jo(t,e){So++,Oo[So]=t.current,t.current=e}var To={},Lo=xo(To),Po=xo(!1),Ao=To;function Co(t,e){var r=t.type.contextTypes;if(!r)return To;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=e[o];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Io(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ro(){ko(Po),ko(Lo)}function Do(t,e,r){if(Lo.current!==To)throw Error(i(168));jo(Lo,e),jo(Po,r)}function No(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(i(108,q(t)||"Unknown",o));return F({},r,n)}function Fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||To,Ao=Lo.current,jo(Lo,t),jo(Po,Po.current),!0}function Mo(t,e,r){var n=t.stateNode;if(!n)throw Error(i(169));r?(t=No(t,e,Ao),n.__reactInternalMemoizedMergedChildContext=t,ko(Po),ko(Lo),jo(Lo,t)):ko(Po),jo(Po,r)}var Bo=null,Uo=!1,zo=!1;function Go(t){null===Bo?Bo=[t]:Bo.push(t)}function qo(){if(!zo&&null!==Bo){zo=!0;var t=0,e=be;try{var r=Bo;for(be=1;t<r.length;t++){var n=r[t];do{n=n(!0)}while(null!==n)}Bo=null,Uo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(t+1)),Wt(Zt,qo),o}finally{be=e,zo=!1}}return null}var Ho=[],Vo=0,$o=null,Wo=0,Ko=[],Yo=0,Qo=null,Xo=1,Jo="";function Zo(t,e){Ho[Vo++]=Wo,Ho[Vo++]=$o,$o=t,Wo=e}function ti(t,e,r){Ko[Yo++]=Xo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Qo=t;var n=Xo;t=Jo;var o=32-ae(n)-1;n&=~(1<<o),r+=1;var i=32-ae(e)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,Xo=1<<32-ae(e)+o|r<<o|n,Jo=i+t}else Xo=1<<i|r<<o|n,Jo=t}function ei(t){null!==t.return&&(Zo(t,1),ti(t,1,0))}function ri(t){for(;t===$o;)$o=Ho[--Vo],Ho[Vo]=null,Wo=Ho[--Vo],Ho[Vo]=null;for(;t===Qo;)Qo=Ko[--Yo],Ko[Yo]=null,Jo=Ko[--Yo],Ko[Yo]=null,Xo=Ko[--Yo],Ko[Yo]=null}var ni=null,oi=null,ii=!1,ai=null;function ui(t,e){var r=Ac(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,null===(e=t.deletions)?(t.deletions=[r],t.flags|=16):e.push(r)}function si(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ni=t,oi=co(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ni=t,oi=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(r=null!==Qo?{id:Xo,overflow:Jo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},(r=Ac(18,null,null,0)).stateNode=e,r.return=t,t.child=r,ni=t,oi=null,!0);default:return!1}}function ci(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function li(t){if(ii){var e=oi;if(e){var r=e;if(!si(t,e)){if(ci(t))throw Error(i(418));e=co(r.nextSibling);var n=ni;e&&si(t,e)?ui(n,r):(t.flags=-4097&t.flags|2,ii=!1,ni=t)}}else{if(ci(t))throw Error(i(418));t.flags=-4097&t.flags|2,ii=!1,ni=t}}}function fi(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ni=t}function hi(t){if(t!==ni)return!1;if(!ii)return fi(t),ii=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ro(t.type,t.memoizedProps)),e&&(e=oi)){if(ci(t))throw pi(),Error(i(418));for(;e;)ui(t,e),e=co(e.nextSibling)}if(fi(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(i(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){oi=co(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}oi=null}}else oi=ni?co(t.stateNode.nextSibling):null;return!0}function pi(){for(var t=oi;t;)t=co(t.nextSibling)}function di(){oi=ni=null,ii=!1}function yi(t){null===ai?ai=[t]:ai.push(t)}var vi=w.ReactCurrentBatchConfig;function mi(t,e){if(t&&t.defaultProps){for(var r in e=F({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}var gi=xo(null),bi=null,wi=null,_i=null;function Ei(){_i=wi=bi=null}function Oi(t){var e=gi.current;ko(gi),t._currentValue=e}function Si(t,e,r){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function xi(t,e){bi=t,_i=wi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(wu=!0),t.firstContext=null)}function ki(t){var e=t._currentValue;if(_i!==t)if(t={context:t,memoizedValue:e,next:null},null===wi){if(null===bi)throw Error(i(308));wi=t,bi.dependencies={lanes:0,firstContext:t}}else wi=wi.next=t;return e}var ji=null;function Ti(t){null===ji?ji=[t]:ji.push(t)}function Li(t,e,r,n){var o=e.interleaved;return null===o?(r.next=r,Ti(e)):(r.next=o.next,o.next=r),e.interleaved=r,Pi(t,n)}function Pi(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}var Ai=!1;function Ci(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ii(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Di(t,e,r){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ts)){var o=n.pending;return null===o?e.next=e:(e.next=o.next,o.next=e),n.pending=e,Pi(t,r)}return null===(o=n.interleaved)?(e.next=e,Ti(n)):(e.next=o.next,o.next=e),n.interleaved=e,Pi(t,r)}function Ni(t,e,r){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&r))){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ge(t,r)}}function Fi(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?o=i=a:i=i.next=a,r=r.next}while(null!==r);null===i?o=i=e:i=i.next=e}else o=i=e;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Mi(t,e,r,n){var o=t.updateQueue;Ai=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var s=u,c=s.next;s.next=null,null===a?i=c:a.next=c,a=s;var l=t.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==i){var f=o.baseState;for(a=0,l=c=s=null,u=i;;){var h=u.lane,p=u.eventTime;if((n&h)===h){null!==l&&(l=l.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var d=t,y=u;switch(h=e,p=r,y.tag){case 1:if("function"===typeof(d=y.payload)){f=d.call(p,f,h);break t}f=d;break t;case 3:d.flags=-65537&d.flags|128;case 0:if(null===(h="function"===typeof(d=y.payload)?d.call(p,f,h):d)||void 0===h)break t;f=F({},f,h);break t;case 2:Ai=!0}}null!==u.callback&&0!==u.lane&&(t.flags|=64,null===(h=o.effects)?o.effects=[u]:h.push(u))}else p={eventTime:p,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=p,s=f):l=l.next=p,a|=h;if(null===(u=u.next)){if(null===(u=o.shared.pending))break;u=(h=u).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===l&&(s=f),o.baseState=s,o.firstBaseUpdate=c,o.lastBaseUpdate=l,null!==(e=o.shared.interleaved)){o=e;do{a|=o.lane,o=o.next}while(o!==e)}else null===i&&(o.shared.lanes=0);Ns|=a,t.lanes=a,t.memoizedState=f}}function Bi(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!==typeof o)throw Error(i(191,o));o.call(n)}}}var Ui=(new n.Component).refs;function zi(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:F({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var Gi={isMounted:function(t){return!!(t=t._reactInternals)&&Gt(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=tc(),o=ec(t),i=Ri(n,o);i.payload=e,void 0!==r&&null!==r&&(i.callback=r),null!==(e=Di(t,i,o))&&(rc(e,t,o,n),Ni(e,t,o))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=tc(),o=ec(t),i=Ri(n,o);i.tag=1,i.payload=e,void 0!==r&&null!==r&&(i.callback=r),null!==(e=Di(t,i,o))&&(rc(e,t,o,n),Ni(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=tc(),n=ec(t),o=Ri(r,n);o.tag=2,void 0!==e&&null!==e&&(o.callback=e),null!==(e=Di(t,o,n))&&(rc(e,t,n,r),Ni(e,t,n))}};function qi(t,e,r,n,o,i,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,i,a):!e.prototype||!e.prototype.isPureReactComponent||(!sn(r,n)||!sn(o,i))}function Hi(t,e,r){var n=!1,o=To,i=e.contextType;return"object"===typeof i&&null!==i?i=ki(i):(o=Io(e)?Ao:Lo.current,i=(n=null!==(n=e.contextTypes)&&void 0!==n)?Co(t,o):To),e=new e(r,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Gi,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vi(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gi.enqueueReplaceState(e,e.state,null)}function $i(t,e,r,n){var o=t.stateNode;o.props=r,o.state=t.memoizedState,o.refs=Ui,Ci(t);var i=e.contextType;"object"===typeof i&&null!==i?o.context=ki(i):(i=Io(e)?Ao:Lo.current,o.context=Co(t,i)),o.state=t.memoizedState,"function"===typeof(i=e.getDerivedStateFromProps)&&(zi(t,e,i,r),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&Gi.enqueueReplaceState(o,o.state,null),Mi(t,r,o,n),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308)}function Wi(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,t));var o=n,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=o.refs;e===Ui&&(e=o.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(i(284));if(!r._owner)throw Error(i(290,t))}return t}function Ki(t,e){throw t=Object.prototype.toString.call(e),Error(i(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yi(t){return(0,t._init)(t._payload)}function Qi(t){function e(e,r){if(t){var n=e.deletions;null===n?(e.deletions=[r],e.flags|=16):n.push(r)}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=Ic(t,e)).index=0,t.sibling=null,t}function a(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags|=2,r):n:(e.flags|=2,r):(e.flags|=1048576,r)}function u(e){return t&&null===e.alternate&&(e.flags|=2),e}function s(t,e,r,n){return null===e||6!==e.tag?((e=Fc(r,t.mode,n)).return=t,e):((e=o(e,r)).return=t,e)}function c(t,e,r,n){var i=r.type;return i===O?f(t,e,r.props.children,n,r.key):null!==e&&(e.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&Yi(i)===e.type)?((n=o(e,r.props)).ref=Wi(t,e,r),n.return=t,n):((n=Rc(r.type,r.key,r.props,null,t.mode,n)).ref=Wi(t,e,r),n.return=t,n)}function l(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Mc(r,t.mode,n)).return=t,e):((e=o(e,r.children||[])).return=t,e)}function f(t,e,r,n,i){return null===e||7!==e.tag?((e=Dc(r,t.mode,n,i)).return=t,e):((e=o(e,r)).return=t,e)}function h(t,e,r){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fc(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(r=Rc(e.type,e.key,e.props,null,t.mode,r)).ref=Wi(t,null,e),r.return=t,r;case E:return(e=Mc(e,t.mode,r)).return=t,e;case C:return h(t,(0,e._init)(e._payload),r)}if(et(e)||D(e))return(e=Dc(e,t.mode,r,null)).return=t,e;Ki(t,e)}return null}function p(t,e,r,n){var o=null!==e?e.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==o?null:s(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return r.key===o?c(t,e,r,n):null;case E:return r.key===o?l(t,e,r,n):null;case C:return p(t,e,(o=r._init)(r._payload),n)}if(et(r)||D(r))return null!==o?null:f(t,e,r,n,null);Ki(t,r)}return null}function d(t,e,r,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return s(e,t=t.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return c(e,t=t.get(null===n.key?r:n.key)||null,n,o);case E:return l(e,t=t.get(null===n.key?r:n.key)||null,n,o);case C:return d(t,e,r,(0,n._init)(n._payload),o)}if(et(n)||D(n))return f(e,t=t.get(r)||null,n,o,null);Ki(e,n)}return null}function y(o,i,u,s){for(var c=null,l=null,f=i,y=i=0,v=null;null!==f&&y<u.length;y++){f.index>y?(v=f,f=null):v=f.sibling;var m=p(o,f,u[y],s);if(null===m){null===f&&(f=v);break}t&&f&&null===m.alternate&&e(o,f),i=a(m,i,y),null===l?c=m:l.sibling=m,l=m,f=v}if(y===u.length)return r(o,f),ii&&Zo(o,y),c;if(null===f){for(;y<u.length;y++)null!==(f=h(o,u[y],s))&&(i=a(f,i,y),null===l?c=f:l.sibling=f,l=f);return ii&&Zo(o,y),c}for(f=n(o,f);y<u.length;y++)null!==(v=d(f,o,y,u[y],s))&&(t&&null!==v.alternate&&f.delete(null===v.key?y:v.key),i=a(v,i,y),null===l?c=v:l.sibling=v,l=v);return t&&f.forEach((function(t){return e(o,t)})),ii&&Zo(o,y),c}function v(o,u,s,c){var l=D(s);if("function"!==typeof l)throw Error(i(150));if(null==(s=l.call(s)))throw Error(i(151));for(var f=l=null,y=u,v=u=0,m=null,g=s.next();null!==y&&!g.done;v++,g=s.next()){y.index>v?(m=y,y=null):m=y.sibling;var b=p(o,y,g.value,c);if(null===b){null===y&&(y=m);break}t&&y&&null===b.alternate&&e(o,y),u=a(b,u,v),null===f?l=b:f.sibling=b,f=b,y=m}if(g.done)return r(o,y),ii&&Zo(o,v),l;if(null===y){for(;!g.done;v++,g=s.next())null!==(g=h(o,g.value,c))&&(u=a(g,u,v),null===f?l=g:f.sibling=g,f=g);return ii&&Zo(o,v),l}for(y=n(o,y);!g.done;v++,g=s.next())null!==(g=d(y,o,v,g.value,c))&&(t&&null!==g.alternate&&y.delete(null===g.key?v:g.key),u=a(g,u,v),null===f?l=g:f.sibling=g,f=g);return t&&y.forEach((function(t){return e(o,t)})),ii&&Zo(o,v),l}return function t(n,i,a,s){if("object"===typeof a&&null!==a&&a.type===O&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:t:{for(var c=a.key,l=i;null!==l;){if(l.key===c){if((c=a.type)===O){if(7===l.tag){r(n,l.sibling),(i=o(l,a.props.children)).return=n,n=i;break t}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===C&&Yi(c)===l.type){r(n,l.sibling),(i=o(l,a.props)).ref=Wi(n,l,a),i.return=n,n=i;break t}r(n,l);break}e(n,l),l=l.sibling}a.type===O?((i=Dc(a.props.children,n.mode,s,a.key)).return=n,n=i):((s=Rc(a.type,a.key,a.props,null,n.mode,s)).ref=Wi(n,i,a),s.return=n,n=s)}return u(n);case E:t:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){r(n,i.sibling),(i=o(i,a.children||[])).return=n,n=i;break t}r(n,i);break}e(n,i),i=i.sibling}(i=Mc(a,n.mode,s)).return=n,n=i}return u(n);case C:return t(n,i,(l=a._init)(a._payload),s)}if(et(a))return y(n,i,a,s);if(D(a))return v(n,i,a,s);Ki(n,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(r(n,i.sibling),(i=o(i,a)).return=n,n=i):(r(n,i),(i=Fc(a,n.mode,s)).return=n,n=i),u(n)):r(n,i)}}var Xi=Qi(!0),Ji=Qi(!1),Zi={},ta=xo(Zi),ea=xo(Zi),ra=xo(Zi);function na(t){if(t===Zi)throw Error(i(174));return t}function oa(t,e){switch(jo(ra,e),jo(ea,t),jo(ta,Zi),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:st(null,"");break;default:e=st(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ko(ta),jo(ta,e)}function ia(){ko(ta),ko(ea),ko(ra)}function aa(t){na(ra.current);var e=na(ta.current),r=st(e,t.type);e!==r&&(jo(ea,t),jo(ta,r))}function ua(t){ea.current===t&&(ko(ta),ko(ea))}var sa=xo(0);function ca(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var la=[];function fa(){for(var t=0;t<la.length;t++)la[t]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,pa=w.ReactCurrentBatchConfig,da=0,ya=null,va=null,ma=null,ga=!1,ba=!1,wa=0,_a=0;function Ea(){throw Error(i(321))}function Oa(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!un(t[r],e[r]))return!1;return!0}function Sa(t,e,r,n,o,a){if(da=a,ya=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ha.current=null===t||null===t.memoizedState?uu:su,t=r(n,o),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(i(301));a+=1,ma=va=null,e.updateQueue=null,ha.current=cu,t=r(n,o)}while(ba)}if(ha.current=au,e=null!==va&&null!==va.next,da=0,ma=va=ya=null,ga=!1,e)throw Error(i(300));return t}function xa(){var t=0!==wa;return wa=0,t}function ka(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ya.memoizedState=ma=t:ma=ma.next=t,ma}function ja(){if(null===va){var t=ya.alternate;t=null!==t?t.memoizedState:null}else t=va.next;var e=null===ma?ya.memoizedState:ma.next;if(null!==e)ma=e,va=t;else{if(null===t)throw Error(i(310));t={memoizedState:(va=t).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?ya.memoizedState=ma=t:ma=ma.next=t}return ma}function Ta(t,e){return"function"===typeof e?e(t):e}function La(t){var e=ja(),r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=t;var n=va,o=n.baseQueue,a=r.pending;if(null!==a){if(null!==o){var u=o.next;o.next=a.next,a.next=u}n.baseQueue=o=a,r.pending=null}if(null!==o){a=o.next,n=n.baseState;var s=u=null,c=null,l=a;do{var f=l.lane;if((da&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=n):c=c.next=h,ya.lanes|=f,Ns|=f}l=l.next}while(null!==l&&l!==a);null===c?u=n:c.next=s,un(n,e.memoizedState)||(wu=!0),e.memoizedState=n,e.baseState=u,e.baseQueue=c,r.lastRenderedState=n}if(null!==(t=r.interleaved)){o=t;do{a=o.lane,ya.lanes|=a,Ns|=a,o=o.next}while(o!==t)}else null===o&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Pa(t){var e=ja(),r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=t;var n=r.dispatch,o=r.pending,a=e.memoizedState;if(null!==o){r.pending=null;var u=o=o.next;do{a=t(a,u.action),u=u.next}while(u!==o);un(a,e.memoizedState)||(wu=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Aa(){}function Ca(t,e){var r=ya,n=ja(),o=e(),a=!un(n.memoizedState,o);if(a&&(n.memoizedState=o,wu=!0),n=n.queue,Ha(Da.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||null!==ma&&1&ma.memoizedState.tag){if(r.flags|=2048,Ba(9,Ra.bind(null,r,n,o,e),void 0,null),null===Ls)throw Error(i(349));0!==(30&da)||Ia(r,e,o)}return o}function Ia(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},null===(e=ya.updateQueue)?(e={lastEffect:null,stores:null},ya.updateQueue=e,e.stores=[t]):null===(r=e.stores)?e.stores=[t]:r.push(t)}function Ra(t,e,r,n){e.value=r,e.getSnapshot=n,Na(e)&&Fa(t)}function Da(t,e,r){return r((function(){Na(e)&&Fa(t)}))}function Na(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!un(t,r)}catch(n){return!0}}function Fa(t){var e=Pi(t,1);null!==e&&rc(e,t,1,-1)}function Ma(t){var e=ka();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},e.queue=t,t=t.dispatch=ru.bind(null,ya,t),[e.memoizedState,t]}function Ba(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=ya.updateQueue)?(e={lastEffect:null,stores:null},ya.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Ua(){return ja().memoizedState}function za(t,e,r,n){var o=ka();ya.flags|=t,o.memoizedState=Ba(1|e,r,void 0,void 0===n?null:n)}function Ga(t,e,r,n){var o=ja();n=void 0===n?null:n;var i=void 0;if(null!==va){var a=va.memoizedState;if(i=a.destroy,null!==n&&Oa(n,a.deps))return void(o.memoizedState=Ba(e,r,i,n))}ya.flags|=t,o.memoizedState=Ba(1|e,r,i,n)}function qa(t,e){return za(8390656,8,t,e)}function Ha(t,e){return Ga(2048,8,t,e)}function Va(t,e){return Ga(4,2,t,e)}function $a(t,e){return Ga(4,4,t,e)}function Wa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ka(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,Ga(4,4,Wa.bind(null,e,t),r)}function Ya(){}function Qa(t,e){var r=ja();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Oa(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Xa(t,e){var r=ja();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Oa(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ja(t,e,r){return 0===(21&da)?(t.baseState&&(t.baseState=!1,wu=!0),t.memoizedState=r):(un(r,e)||(r=ye(),ya.lanes|=r,Ns|=r,t.baseState=!0),e)}function Za(t,e){var r=be;be=0!==r&&4>r?r:4,t(!0);var n=pa.transition;pa.transition={};try{t(!1),e()}finally{be=r,pa.transition=n}}function tu(){return ja().memoizedState}function eu(t,e,r){var n=ec(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nu(t))ou(e,r);else if(null!==(r=Li(t,e,r,n))){rc(r,t,n,tc()),iu(r,e,n)}}function ru(t,e,r){var n=ec(t),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nu(t))ou(e,o);else{var i=t.alternate;if(0===t.lanes&&(null===i||0===i.lanes)&&null!==(i=e.lastRenderedReducer))try{var a=e.lastRenderedState,u=i(a,r);if(o.hasEagerState=!0,o.eagerState=u,un(u,a)){var s=e.interleaved;return null===s?(o.next=o,Ti(e)):(o.next=s.next,s.next=o),void(e.interleaved=o)}}catch(c){}null!==(r=Li(t,e,o,n))&&(rc(r,t,n,o=tc()),iu(r,e,n))}}function nu(t){var e=t.alternate;return t===ya||null!==e&&e===ya}function ou(t,e){ba=ga=!0;var r=t.pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function iu(t,e,r){if(0!==(4194240&r)){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ge(t,r)}}var au={readContext:ki,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},uu={readContext:ki,useCallback:function(t,e){return ka().memoizedState=[t,void 0===e?null:e],t},useContext:ki,useEffect:qa,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,za(4194308,4,Wa.bind(null,e,t),r)},useLayoutEffect:function(t,e){return za(4194308,4,t,e)},useInsertionEffect:function(t,e){return za(4,2,t,e)},useMemo:function(t,e){var r=ka();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ka();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=eu.bind(null,ya,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},ka().memoizedState=t},useState:Ma,useDebugValue:Ya,useDeferredValue:function(t){return ka().memoizedState=t},useTransition:function(){var t=Ma(!1),e=t[0];return t=Za.bind(null,t[1]),ka().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ya,o=ka();if(ii){if(void 0===r)throw Error(i(407));r=r()}else{if(r=e(),null===Ls)throw Error(i(349));0!==(30&da)||Ia(n,e,r)}o.memoizedState=r;var a={value:r,getSnapshot:e};return o.queue=a,qa(Da.bind(null,n,a,t),[t]),n.flags|=2048,Ba(9,Ra.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ka(),e=Ls.identifierPrefix;if(ii){var r=Jo;e=":"+e+"R"+(r=(Xo&~(1<<32-ae(Xo)-1)).toString(32)+r),0<(r=wa++)&&(e+="H"+r.toString(32)),e+=":"}else e=":"+e+"r"+(r=_a++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},su={readContext:ki,useCallback:Qa,useContext:ki,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:Va,useLayoutEffect:$a,useMemo:Xa,useReducer:La,useRef:Ua,useState:function(){return La(Ta)},useDebugValue:Ya,useDeferredValue:function(t){return Ja(ja(),va.memoizedState,t)},useTransition:function(){return[La(Ta)[0],ja().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ca,useId:tu,unstable_isNewReconciler:!1},cu={readContext:ki,useCallback:Qa,useContext:ki,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:Va,useLayoutEffect:$a,useMemo:Xa,useReducer:Pa,useRef:Ua,useState:function(){return Pa(Ta)},useDebugValue:Ya,useDeferredValue:function(t){var e=ja();return null===va?e.memoizedState=t:Ja(e,va.memoizedState,t)},useTransition:function(){return[Pa(Ta)[0],ja().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ca,useId:tu,unstable_isNewReconciler:!1};function lu(t,e){try{var r="",n=e;do{r+=z(n),n=n.return}while(n);var o=r}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:t,source:e,stack:o,digest:null}}function fu(t,e,r){return{value:t,source:null,stack:null!=r?r:null,digest:null!=e?e:null}}function hu(t,e){try{console.error(e.value)}catch(r){setTimeout((function(){throw r}))}}var pu="function"===typeof WeakMap?WeakMap:Map;function du(t,e,r){(r=Ri(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hs||(Hs=!0,Vs=n),hu(0,e)},r}function yu(t,e,r){(r=Ri(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var o=e.value;r.payload=function(){return n(o)},r.callback=function(){hu(0,e)}}var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){hu(0,e),"function"!==typeof n&&(null===$s?$s=new Set([this]):$s.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}function vu(t,e,r){var n=t.pingCache;if(null===n){n=t.pingCache=new pu;var o=new Set;n.set(e,o)}else void 0===(o=n.get(e))&&(o=new Set,n.set(e,o));o.has(r)||(o.add(r),t=xc.bind(null,t,e,r),e.then(t,t))}function mu(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function gu(t,e,r,n,o){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((e=Ri(-1,1)).tag=2,Di(r,e,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=o,t)}var bu=w.ReactCurrentOwner,wu=!1;function _u(t,e,r,n){e.child=null===t?Ji(e,null,r,n):Xi(e,t.child,r,n)}function Eu(t,e,r,n,o){r=r.render;var i=e.ref;return xi(e,o),n=Sa(t,e,r,n,i,o),r=xa(),null===t||wu?(ii&&r&&ei(e),e.flags|=1,_u(t,e,n,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Hu(t,e,o))}function Ou(t,e,r,n,o){if(null===t){var i=r.type;return"function"!==typeof i||Cc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Rc(r.type,null,n,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=i,Su(t,e,i,n,o))}if(i=t.child,0===(t.lanes&o)){var a=i.memoizedProps;if((r=null!==(r=r.compare)?r:sn)(a,n)&&t.ref===e.ref)return Hu(t,e,o)}return e.flags|=1,(t=Ic(i,n)).ref=e.ref,t.return=e,e.child=t}function Su(t,e,r,n,o){if(null!==t){var i=t.memoizedProps;if(sn(i,n)&&t.ref===e.ref){if(wu=!1,e.pendingProps=n=i,0===(t.lanes&o))return e.lanes=t.lanes,Hu(t,e,o);0!==(131072&t.flags)&&(wu=!0)}}return ju(t,e,r,n,o)}function xu(t,e,r){var n=e.pendingProps,o=n.children,i=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jo(Is,Cs),Cs|=r;else{if(0===(1073741824&r))return t=null!==i?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jo(Is,Cs),Cs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,jo(Is,Cs),Cs|=n}else null!==i?(n=i.baseLanes|r,e.memoizedState=null):n=r,jo(Is,Cs),Cs|=n;return _u(t,e,o,r),e.child}function ku(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ju(t,e,r,n,o){var i=Io(r)?Ao:Lo.current;return i=Co(e,i),xi(e,o),r=Sa(t,e,r,n,i,o),n=xa(),null===t||wu?(ii&&n&&ei(e),e.flags|=1,_u(t,e,r,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Hu(t,e,o))}function Tu(t,e,r,n,o){if(Io(r)){var i=!0;Fo(e)}else i=!1;if(xi(e,o),null===e.stateNode)qu(t,e),Hi(e,r,n),$i(e,r,n,o),n=!0;else if(null===t){var a=e.stateNode,u=e.memoizedProps;a.props=u;var s=a.context,c=r.contextType;"object"===typeof c&&null!==c?c=ki(c):c=Co(e,c=Io(r)?Ao:Lo.current);var l=r.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==n||s!==c)&&Vi(e,a,n,c),Ai=!1;var h=e.memoizedState;a.state=h,Mi(e,n,a,o),s=e.memoizedState,u!==n||h!==s||Po.current||Ai?("function"===typeof l&&(zi(e,r,l,n),s=e.memoizedState),(u=Ai||qi(e,r,u,n,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=s),a.props=n,a.state=s,a.context=c,n=u):("function"===typeof a.componentDidMount&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ii(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:mi(e.type,u),a.props=c,f=e.pendingProps,h=a.context,"object"===typeof(s=r.contextType)&&null!==s?s=ki(s):s=Co(e,s=Io(r)?Ao:Lo.current);var p=r.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&Vi(e,a,n,s),Ai=!1,h=e.memoizedState,a.state=h,Mi(e,n,a,o);var d=e.memoizedState;u!==f||h!==d||Po.current||Ai?("function"===typeof p&&(zi(e,r,p,n),d=e.memoizedState),(c=Ai||qi(e,r,c,n,h,d,s)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,s)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=d),a.props=n,a.state=d,a.context=s,n=c):("function"!==typeof a.componentDidUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Lu(t,e,r,n,i,o)}function Lu(t,e,r,n,o,i){ku(t,e);var a=0!==(128&e.flags);if(!n&&!a)return o&&Mo(e,r,!1),Hu(t,e,i);n=e.stateNode,bu.current=e;var u=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&a?(e.child=Xi(e,t.child,null,i),e.child=Xi(e,null,u,i)):_u(t,e,u,i),e.memoizedState=n.state,o&&Mo(e,r,!0),e.child}function Pu(t){var e=t.stateNode;e.pendingContext?Do(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Do(0,e.context,!1),oa(t,e.containerInfo)}function Au(t,e,r,n,o){return di(),yi(o),e.flags|=256,_u(t,e,r,n),e.child}var Cu,Iu,Ru,Du={dehydrated:null,treeContext:null,retryLane:0};function Nu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fu(t,e,r){var n,o=e.pendingProps,a=sa.current,u=!1,s=0!==(128&e.flags);if((n=s)||(n=(null===t||null!==t.memoizedState)&&0!==(2&a)),n?(u=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),jo(sa,1&a),null===t)return li(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(s=o.children,t=o.fallback,u?(o=e.mode,u=e.child,s={mode:"hidden",children:s},0===(1&o)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Nc(s,o,0,null),t=Dc(t,o,r,null),u.return=e,t.return=e,u.sibling=t,e.child=u,e.child.memoizedState=Nu(r),e.memoizedState=Du,t):Mu(e,s));if(null!==(a=t.memoizedState)&&null!==(n=a.dehydrated))return function(t,e,r,n,o,a,u){if(r)return 256&e.flags?(e.flags&=-257,Bu(t,e,u,n=fu(Error(i(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=n.fallback,o=e.mode,n=Nc({mode:"visible",children:n.children},o,0,null),(a=Dc(a,o,u,null)).flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,0!==(1&e.mode)&&Xi(e,t.child,null,u),e.child.memoizedState=Nu(u),e.memoizedState=Du,a);if(0===(1&e.mode))return Bu(t,e,u,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var s=n.dgst;return n=s,Bu(t,e,u,n=fu(a=Error(i(419)),n,void 0))}if(s=0!==(u&t.childLanes),wu||s){if(null!==(n=Ls)){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|u))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Pi(t,o),rc(n,t,o,-1))}return yc(),Bu(t,e,u,n=fu(Error(i(421))))}return"$?"===o.data?(e.flags|=128,e.child=t.child,e=jc.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,oi=co(o.nextSibling),ni=e,ii=!0,ai=null,null!==t&&(Ko[Yo++]=Xo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Xo=t.id,Jo=t.overflow,Qo=e),(e=Mu(e,n.children)).flags|=4096,e)}(t,e,s,o,n,a,r);if(u){u=o.fallback,s=e.mode,n=(a=t.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&s)&&e.child!==a?((o=e.child).childLanes=0,o.pendingProps=c,e.deletions=null):(o=Ic(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==n?u=Ic(n,u):(u=Dc(u,s,r,null)).flags|=2,u.return=e,o.return=e,o.sibling=u,e.child=o,o=u,u=e.child,s=null===(s=t.child.memoizedState)?Nu(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=t.childLanes&~r,e.memoizedState=Du,o}return t=(u=t.child).sibling,o=Ic(u,{mode:"visible",children:o.children}),0===(1&e.mode)&&(o.lanes=r),o.return=e,o.sibling=null,null!==t&&(null===(r=e.deletions)?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=o,e.memoizedState=null,o}function Mu(t,e){return(e=Nc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Bu(t,e,r,n){return null!==n&&yi(n),Xi(e,t.child,null,r),(t=Mu(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Uu(t,e,r){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Si(t.return,e,r)}function zu(t,e,r,n,o){var i=t.memoizedState;null===i?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function Gu(t,e,r){var n=e.pendingProps,o=n.revealOrder,i=n.tail;if(_u(t,e,n.children,r),0!==(2&(n=sa.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Uu(t,r,e);else if(19===t.tag)Uu(t,r,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(jo(sa,n),0===(1&e.mode))e.memoizedState=null;else switch(o){case"forwards":for(r=e.child,o=null;null!==r;)null!==(t=r.alternate)&&null===ca(t)&&(o=r),r=r.sibling;null===(r=o)?(o=e.child,e.child=null):(o=r.sibling,r.sibling=null),zu(e,!1,o,r,i);break;case"backwards":for(r=null,o=e.child,e.child=null;null!==o;){if(null!==(t=o.alternate)&&null===ca(t)){e.child=o;break}t=o.sibling,o.sibling=r,r=o,o=t}zu(e,!0,r,null,i);break;case"together":zu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qu(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hu(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),Ns|=e.lanes,0===(r&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(i(153));if(null!==e.child){for(r=Ic(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Ic(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function Vu(t,e){if(!ii)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function $u(t){var e=null!==t.alternate&&t.alternate.child===t.child,r=0,n=0;if(e)for(var o=t.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=t,o=o.sibling;else for(o=t.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Wu(t,e,r){var n=e.pendingProps;switch(ri(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $u(e),null;case 1:case 17:return Io(e.type)&&Ro(),$u(e),null;case 3:return n=e.stateNode,ia(),ko(Po),ko(Lo),fa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(hi(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ai&&(ac(ai),ai=null))),$u(e),null;case 5:ua(e);var o=na(ra.current);if(r=e.type,null!==t&&null!=e.stateNode)Iu(t,e,r,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(i(166));return $u(e),null}if(t=na(ta.current),hi(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ho]=e,n[po]=a,t=0!==(1&e.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(o=0;o<Dn.length;o++)Bn(Dn[o],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":Q(n,a),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Bn("invalid",n);break;case"textarea":ot(n,a),Bn("invalid",n)}for(var s in gt(r,a),o=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?n.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jn(n.textContent,c,t),o=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jn(n.textContent,c,t),o=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Bn("scroll",n)}switch(r){case"input":$(n),Z(n,a,!0);break;case"textarea":$(n),at(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=Zn)}n=o,e.updateQueue=n,null!==n&&(e.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ut(r)),"http://www.w3.org/1999/xhtml"===t?"script"===r?((t=s.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),"select"===r&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[ho]=e,t[po]=n,Cu(t,e),e.stateNode=t;t:{switch(s=bt(r,n),r){case"dialog":Bn("cancel",t),Bn("close",t),o=n;break;case"iframe":case"object":case"embed":Bn("load",t),o=n;break;case"video":case"audio":for(o=0;o<Dn.length;o++)Bn(Dn[o],t);o=n;break;case"source":Bn("error",t),o=n;break;case"img":case"image":case"link":Bn("error",t),Bn("load",t),o=n;break;case"details":Bn("toggle",t),o=n;break;case"input":Q(t,n),o=Y(t,n),Bn("invalid",t);break;case"option":default:o=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},o=F({},n,{value:void 0}),Bn("invalid",t);break;case"textarea":ot(t,n),o=nt(t,n),Bn("invalid",t)}for(a in gt(r,o),c=o)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?vt(t,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&ft(t,l):"children"===a?"string"===typeof l?("textarea"!==r||""!==l)&&ht(t,l):"number"===typeof l&&ht(t,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Bn("scroll",t):null!=l&&b(t,a,l,s))}switch(r){case"input":$(t),Z(t,n,!1);break;case"textarea":$(t),at(t);break;case"option":null!=n.value&&t.setAttribute("value",""+H(n.value));break;case"select":t.multiple=!!n.multiple,null!=(a=n.value)?rt(t,!!n.multiple,a,!1):null!=n.defaultValue&&rt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return $u(e),null;case 6:if(t&&null!=e.stateNode)Ru(0,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(i(166));if(r=na(ra.current),na(ta.current),hi(e)){if(n=e.stateNode,r=e.memoizedProps,n[ho]=e,(a=n.nodeValue!==r)&&null!==(t=ni))switch(t.tag){case 3:Jn(n.nodeValue,r,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&t.mode))}a&&(e.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ho]=e,e.stateNode=n}return $u(e),null;case 13:if(ko(sa),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&e.mode)&&0===(128&e.flags))pi(),di(),e.flags|=98560,a=!1;else if(a=hi(e),null!==n&&null!==n.dehydrated){if(null===t){if(!a)throw Error(i(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ho]=e}else di(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;$u(e),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=r,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&sa.current)?0===Rs&&(Rs=3):yc())),null!==e.updateQueue&&(e.flags|=4),$u(e),null);case 4:return ia(),null===t&&Gn(e.stateNode.containerInfo),$u(e),null;case 10:return Oi(e.type._context),$u(e),null;case 19:if(ko(sa),null===(a=e.memoizedState))return $u(e),null;if(n=0!==(128&e.flags),null===(s=a.rendering))if(n)Vu(a,!1);else{if(0!==Rs||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(s=ca(t))){for(e.flags|=128,Vu(a,!1),null!==(n=s.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;null!==r;)t=n,(a=r).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return jo(sa,1&sa.current|2),e.child}t=t.sibling}null!==a.tail&&Xt()>Gs&&(e.flags|=128,n=!0,Vu(a,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=ca(s))){if(e.flags|=128,n=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.flags|=4),Vu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!ii)return $u(e),null}else 2*Xt()-a.renderingStartTime>Gs&&1073741824!==r&&(e.flags|=128,n=!0,Vu(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(null!==(r=a.last)?r.sibling=s:e.child=s,a.last=s)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Xt(),e.sibling=null,r=sa.current,jo(sa,n?1&r|2:1&r),e):($u(e),null);case 22:case 23:return fc(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Cs)&&($u(e),6&e.subtreeFlags&&(e.flags|=8192)):$u(e),null;case 24:case 25:return null}throw Error(i(156,e.tag))}function Ku(t,e){switch(ri(e),e.tag){case 1:return Io(e.type)&&Ro(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ia(),ko(Po),ko(Lo),fa(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return ua(e),null;case 13:if(ko(sa),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(i(340));di()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return ko(sa),null;case 4:return ia(),null;case 10:return Oi(e.type._context),null;case 22:case 23:return fc(),null;default:return null}}Cu=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Iu=function(t,e,r,n){var o=t.memoizedProps;if(o!==n){t=e.stateNode,na(ta.current);var i,a=null;switch(r){case"input":o=Y(t,o),n=Y(t,n),a=[];break;case"select":o=F({},o,{value:void 0}),n=F({},n,{value:void 0}),a=[];break;case"textarea":o=nt(t,o),n=nt(t,n),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(t.onclick=Zn)}for(l in gt(r,n),r=null,o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l){var s=o[l];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=null!=o?o[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(i in s)!s.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&s[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(l,r)),r=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Bn("scroll",t),a||s===c||(a=[])):(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}},Ru=function(t,e,r,n){r!==n&&(e.flags|=4)};var Yu=!1,Qu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(t,e){var r=t.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Sc(t,e,n)}else r.current=null}function ts(t,e,r){try{r()}catch(n){Sc(t,e,n)}}var es=!1;function rs(t,e,r){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,void 0!==i&&ts(e,r,i)}o=o.next}while(o!==n)}}function ns(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function os(t){var e=t.ref;if(null!==e){var r=t.stateNode;t.tag,t=r,"function"===typeof e?e(t):e.current=t}}function is(t){var e=t.alternate;null!==e&&(t.alternate=null,is(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ho],delete e[po],delete e[vo],delete e[mo],delete e[go])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function as(t){return 5===t.tag||3===t.tag||4===t.tag}function us(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||as(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ss(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==e.onclick||(e.onclick=Zn));else if(4!==n&&null!==(t=t.child))for(ss(t,e,r),t=t.sibling;null!==t;)ss(t,e,r),t=t.sibling}function cs(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==n&&null!==(t=t.child))for(cs(t,e,r),t=t.sibling;null!==t;)cs(t,e,r),t=t.sibling}var ls=null,fs=!1;function hs(t,e,r){for(r=r.child;null!==r;)ps(t,e,r),r=r.sibling}function ps(t,e,r){if(ie&&"function"===typeof ie.onCommitFiberUnmount)try{ie.onCommitFiberUnmount(oe,r)}catch(u){}switch(r.tag){case 5:Qu||Zu(r,e);case 6:var n=ls,o=fs;ls=null,hs(t,e,r),fs=o,null!==(ls=n)&&(fs?(t=ls,r=r.stateNode,8===t.nodeType?t.parentNode.removeChild(r):t.removeChild(r)):ls.removeChild(r.stateNode));break;case 18:null!==ls&&(fs?(t=ls,r=r.stateNode,8===t.nodeType?so(t.parentNode,r):1===t.nodeType&&so(t,r),Ge(t)):so(ls,r.stateNode));break;case 4:n=ls,o=fs,ls=r.stateNode.containerInfo,fs=!0,hs(t,e,r),ls=n,fs=o;break;case 0:case 11:case 14:case 15:if(!Qu&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&ts(r,e,a),o=o.next}while(o!==n)}hs(t,e,r);break;case 1:if(!Qu&&(Zu(r,e),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){Sc(r,e,u)}hs(t,e,r);break;case 21:hs(t,e,r);break;case 22:1&r.mode?(Qu=(n=Qu)||null!==r.memoizedState,hs(t,e,r),Qu=n):hs(t,e,r);break;default:hs(t,e,r)}}function ds(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new Xu),e.forEach((function(e){var n=Tc.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}function ys(t,e){var r=e.deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var a=t,u=e,s=u;t:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break t;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break t}s=s.return}if(null===ls)throw Error(i(160));ps(a,u,o),ls=null,fs=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(l){Sc(o,e,l)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vs(e,t),e=e.sibling}function vs(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ys(e,t),ms(t),4&n){try{rs(3,t,t.return),ns(3,t)}catch(v){Sc(t,t.return,v)}try{rs(5,t,t.return)}catch(v){Sc(t,t.return,v)}}break;case 1:ys(e,t),ms(t),512&n&&null!==r&&Zu(r,r.return);break;case 5:if(ys(e,t),ms(t),512&n&&null!==r&&Zu(r,r.return),32&t.flags){var o=t.stateNode;try{ht(o,"")}catch(v){Sc(t,t.return,v)}}if(4&n&&null!=(o=t.stateNode)){var a=t.memoizedProps,u=null!==r?r.memoizedProps:a,s=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===s&&"radio"===a.type&&null!=a.name&&X(o,a),bt(s,u);var l=bt(s,a);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?vt(o,h):"dangerouslySetInnerHTML"===f?ft(o,h):"children"===f?ht(o,h):b(o,f,h,l)}switch(s){case"input":J(o,a);break;case"textarea":it(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var d=a.value;null!=d?rt(o,!!a.multiple,d,!1):p!==!!a.multiple&&(null!=a.defaultValue?rt(o,!!a.multiple,a.defaultValue,!0):rt(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(v){Sc(t,t.return,v)}}break;case 6:if(ys(e,t),ms(t),4&n){if(null===t.stateNode)throw Error(i(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(v){Sc(t,t.return,v)}}break;case 3:if(ys(e,t),ms(t),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ge(e.containerInfo)}catch(v){Sc(t,t.return,v)}break;case 4:default:ys(e,t),ms(t);break;case 13:ys(e,t),ms(t),8192&(o=t.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(zs=Xt())),4&n&&ds(t);break;case 22:if(f=null!==r&&null!==r.memoizedState,1&t.mode?(Qu=(l=Qu)||f,ys(e,t),Qu=l):ys(e,t),ms(t),8192&n){if(l=null!==t.memoizedState,(t.stateNode.isHidden=l)&&!f&&0!==(1&t.mode))for(Ju=t,f=t.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(d=(p=Ju).child,p.tag){case 0:case 11:case 14:case 15:rs(4,p,p.return);break;case 1:Zu(p,p.return);var y=p.stateNode;if("function"===typeof y.componentWillUnmount){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Sc(n,r,v)}}break;case 5:Zu(p,p.return);break;case 22:if(null!==p.memoizedState){_s(h);continue}}null!==d?(d.return=p,Ju=d):_s(h)}f=f.sibling}t:for(f=null,h=t;;){if(5===h.tag){if(null===f){f=h;try{o=h.stateNode,l?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=yt("display",u))}catch(v){Sc(t,t.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(v){Sc(t,t.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;null===h.sibling;){if(null===h.return||h.return===t)break t;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ys(e,t),ms(t),4&n&&ds(t);case 21:}}function ms(t){var e=t.flags;if(2&e){try{t:{for(var r=t.return;null!==r;){if(as(r)){var n=r;break t}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(ht(o,""),n.flags&=-33),cs(t,us(t),o);break;case 3:case 4:var a=n.stateNode.containerInfo;ss(t,us(t),a);break;default:throw Error(i(161))}}catch(u){Sc(t,t.return,u)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function gs(t,e,r){Ju=t,bs(t,e,r)}function bs(t,e,r){for(var n=0!==(1&t.mode);null!==Ju;){var o=Ju,i=o.child;if(22===o.tag&&n){var a=null!==o.memoizedState||Yu;if(!a){var u=o.alternate,s=null!==u&&null!==u.memoizedState||Qu;u=Yu;var c=Qu;if(Yu=a,(Qu=s)&&!c)for(Ju=o;null!==Ju;)s=(a=Ju).child,22===a.tag&&null!==a.memoizedState?Es(o):null!==s?(s.return=a,Ju=s):Es(o);for(;null!==i;)Ju=i,bs(i,e,r),i=i.sibling;Ju=o,Yu=u,Qu=c}ws(t)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ju=i):ws(t)}}function ws(t){for(;null!==Ju;){var e=Ju;if(0!==(8772&e.flags)){var r=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qu||ns(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Qu)if(null===r)n.componentDidMount();else{var o=e.elementType===e.type?r.memoizedProps:mi(e.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Bi(e,a,n);break;case 3:var u=e.updateQueue;if(null!==u){if(r=null,null!==e.child)switch(e.child.tag){case 5:case 1:r=e.child.stateNode}Bi(e,u,r)}break;case 5:var s=e.stateNode;if(null===r&&4&e.flags){r=s;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var l=e.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ge(h)}}}break;default:throw Error(i(163))}Qu||512&e.flags&&os(e)}catch(p){Sc(e,e.return,p)}}if(e===t){Ju=null;break}if(null!==(r=e.sibling)){r.return=e.return,Ju=r;break}Ju=e.return}}function _s(t){for(;null!==Ju;){var e=Ju;if(e===t){Ju=null;break}var r=e.sibling;if(null!==r){r.return=e.return,Ju=r;break}Ju=e.return}}function Es(t){for(;null!==Ju;){var e=Ju;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ns(4,e)}catch(s){Sc(e,r,s)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var o=e.return;try{n.componentDidMount()}catch(s){Sc(e,o,s)}}var i=e.return;try{os(e)}catch(s){Sc(e,i,s)}break;case 5:var a=e.return;try{os(e)}catch(s){Sc(e,a,s)}}}catch(s){Sc(e,e.return,s)}if(e===t){Ju=null;break}var u=e.sibling;if(null!==u){u.return=e.return,Ju=u;break}Ju=e.return}}var Os,Ss=Math.ceil,xs=w.ReactCurrentDispatcher,ks=w.ReactCurrentOwner,js=w.ReactCurrentBatchConfig,Ts=0,Ls=null,Ps=null,As=0,Cs=0,Is=xo(0),Rs=0,Ds=null,Ns=0,Fs=0,Ms=0,Bs=null,Us=null,zs=0,Gs=1/0,qs=null,Hs=!1,Vs=null,$s=null,Ws=!1,Ks=null,Ys=0,Qs=0,Xs=null,Js=-1,Zs=0;function tc(){return 0!==(6&Ts)?Xt():-1!==Js?Js:Js=Xt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Ts)&&0!==As?As&-As:null!==vi.transition?(0===Zs&&(Zs=ye()),Zs):0!==(t=be)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function rc(t,e,r,n){if(50<Qs)throw Qs=0,Xs=null,Error(i(185));me(t,r,n),0!==(2&Ts)&&t===Ls||(t===Ls&&(0===(2&Ts)&&(Fs|=r),4===Rs&&uc(t,As)),nc(t,n),1===r&&0===Ts&&0===(1&e.mode)&&(Gs=Xt()+500,Uo&&qo()))}function nc(t,e){var r=t.callbackNode;!function(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ae(i),u=1<<a,s=o[a];-1===s?0!==(u&r)&&0===(u&n)||(o[a]=pe(u,e)):s<=e&&(t.expiredLanes|=u),i&=~u}}(t,e);var n=he(t,t===Ls?As:0);if(0===n)null!==r&&Kt(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=r&&Kt(r),1===e)0===t.tag?function(t){Uo=!0,Go(t)}(sc.bind(null,t)):Go(sc.bind(null,t)),ao((function(){0===(6&Ts)&&qo()})),r=null;else{switch(we(n)){case 1:r=Zt;break;case 4:r=te;break;case 16:default:r=ee;break;case 536870912:r=ne}r=Lc(r,oc.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function oc(t,e){if(Js=-1,Zs=0,0!==(6&Ts))throw Error(i(327));var r=t.callbackNode;if(Ec()&&t.callbackNode!==r)return null;var n=he(t,t===Ls?As:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=vc(t,n);else{e=n;var o=Ts;Ts|=2;var a=dc();for(Ls===t&&As===e||(qs=null,Gs=Xt()+500,hc(t,e));;)try{gc();break}catch(s){pc(t,s)}Ei(),xs.current=a,Ts=o,null!==Ps?e=0:(Ls=null,As=0,e=Rs)}if(0!==e){if(2===e&&(0!==(o=de(t))&&(n=o,e=ic(t,o))),1===e)throw r=Ds,hc(t,0),uc(t,n),nc(t,Xt()),r;if(6===e)uc(t,n);else{if(o=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var r=e.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!un(i(),o))return!1}catch(u){return!1}}}if(r=e.child,16384&e.subtreeFlags&&null!==r)r.return=e,e=r;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(o)&&(2===(e=vc(t,n))&&(0!==(a=de(t))&&(n=a,e=ic(t,a))),1===e))throw r=Ds,hc(t,0),uc(t,n),nc(t,Xt()),r;switch(t.finishedWork=o,t.finishedLanes=n,e){case 0:case 1:throw Error(i(345));case 2:case 5:_c(t,Us,qs);break;case 3:if(uc(t,n),(130023424&n)===n&&10<(e=zs+500-Xt())){if(0!==he(t,0))break;if(((o=t.suspendedLanes)&n)!==n){tc(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=no(_c.bind(null,t,Us,qs),e);break}_c(t,Us,qs);break;case 4:if(uc(t,n),(4194240&n)===n)break;for(e=t.eventTimes,o=-1;0<n;){var u=31-ae(n);a=1<<u,(u=e[u])>o&&(o=u),n&=~a}if(n=o,10<(n=(120>(n=Xt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ss(n/1960))-n)){t.timeoutHandle=no(_c.bind(null,t,Us,qs),n);break}_c(t,Us,qs);break;default:throw Error(i(329))}}}return nc(t,Xt()),t.callbackNode===r?oc.bind(null,t):null}function ic(t,e){var r=Bs;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Us,Us=r,null!==e&&ac(e)),t}function ac(t){null===Us?Us=t:Us.push.apply(Us,t)}function uc(t,e){for(e&=~Ms,e&=~Fs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ae(e),n=1<<r;t[r]=-1,e&=~n}}function sc(t){if(0!==(6&Ts))throw Error(i(327));Ec();var e=he(t,0);if(0===(1&e))return nc(t,Xt()),null;var r=vc(t,e);if(0!==t.tag&&2===r){var n=de(t);0!==n&&(e=n,r=ic(t,n))}if(1===r)throw r=Ds,hc(t,0),uc(t,e),nc(t,Xt()),r;if(6===r)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_c(t,Us,qs),nc(t,Xt()),null}function cc(t,e){var r=Ts;Ts|=1;try{return t(e)}finally{0===(Ts=r)&&(Gs=Xt()+500,Uo&&qo())}}function lc(t){null!==Ks&&0===Ks.tag&&0===(6&Ts)&&Ec();var e=Ts;Ts|=1;var r=js.transition,n=be;try{if(js.transition=null,be=1,t)return t()}finally{be=n,js.transition=r,0===(6&(Ts=e))&&qo()}}function fc(){Cs=Is.current,ko(Is)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,oo(r)),null!==Ps)for(r=Ps.return;null!==r;){var n=r;switch(ri(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ro();break;case 3:ia(),ko(Po),ko(Lo),fa();break;case 5:ua(n);break;case 4:ia();break;case 13:case 19:ko(sa);break;case 10:Oi(n.type._context);break;case 22:case 23:fc()}r=r.return}if(Ls=t,Ps=t=Ic(t.current,null),As=Cs=e,Rs=0,Ds=null,Ms=Fs=Ns=0,Us=Bs=null,null!==ji){for(e=0;e<ji.length;e++)if(null!==(n=(r=ji[e]).interleaved)){r.interleaved=null;var o=n.next,i=r.pending;if(null!==i){var a=i.next;i.next=o,n.next=a}r.pending=n}ji=null}return t}function pc(t,e){for(;;){var r=Ps;try{if(Ei(),ha.current=au,ga){for(var n=ya.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ga=!1}if(da=0,ma=va=ya=null,ba=!1,wa=0,ks.current=null,null===r||null===r.return){Rs=1,Ds=e,Ps=null;break}t:{var a=t,u=r.return,s=r,c=e;if(e=As,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=mu(u);if(null!==d){d.flags&=-257,gu(d,u,s,0,e),1&d.mode&&vu(a,l,e),c=l;var y=(e=d).updateQueue;if(null===y){var v=new Set;v.add(c),e.updateQueue=v}else y.add(c);break t}if(0===(1&e)){vu(a,l,e),yc();break t}c=Error(i(426))}else if(ii&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,e),yi(lu(c,s));break t}}a=c=lu(c,s),4!==Rs&&(Rs=2),null===Bs?Bs=[a]:Bs.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Fi(a,du(0,c,e));break t;case 1:s=c;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===$s||!$s.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Fi(a,yu(a,s,e));break t}}a=a.return}while(null!==a)}wc(r)}catch(w){e=w,Ps===r&&null!==r&&(Ps=r=r.return);continue}break}}function dc(){var t=xs.current;return xs.current=au,null===t?au:t}function yc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ls||0===(268435455&Ns)&&0===(268435455&Fs)||uc(Ls,As)}function vc(t,e){var r=Ts;Ts|=2;var n=dc();for(Ls===t&&As===e||(qs=null,hc(t,e));;)try{mc();break}catch(o){pc(t,o)}if(Ei(),Ts=r,xs.current=n,null!==Ps)throw Error(i(261));return Ls=null,As=0,Rs}function mc(){for(;null!==Ps;)bc(Ps)}function gc(){for(;null!==Ps&&!Yt();)bc(Ps)}function bc(t){var e=Os(t.alternate,t,Cs);t.memoizedProps=t.pendingProps,null===e?wc(t):Ps=e,ks.current=null}function wc(t){var e=t;do{var r=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(r=Wu(r,e,Cs)))return void(Ps=r)}else{if(null!==(r=Ku(r,e)))return r.flags&=32767,void(Ps=r);if(null===t)return Rs=6,void(Ps=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ps=e);Ps=e=t}while(null!==e);0===Rs&&(Rs=5)}function _c(t,e,r){var n=be,o=js.transition;try{js.transition=null,be=1,function(t,e,r,n){do{Ec()}while(null!==Ks);if(0!==(6&Ts))throw Error(i(327));r=t.finishedWork;var o=t.finishedLanes;if(null===r)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var o=31-ae(r),i=1<<o;e[o]=0,n[o]=-1,t[o]=-1,r&=~i}}(t,a),t===Ls&&(Ps=Ls=null,As=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ws||(Ws=!0,Lc(ee,(function(){return Ec(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=js.transition,js.transition=null;var u=be;be=1;var s=Ts;Ts|=4,ks.current=null,function(t,e){if(to=He,pn(t=hn())){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(r=(r=t.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(_){r=null;break t}var u=0,s=-1,c=-1,l=0,f=0,h=t,p=null;e:for(;;){for(var d;h!==r||0!==o&&3!==h.nodeType||(s=u+o),h!==a||0!==n&&3!==h.nodeType||(c=u+n),3===h.nodeType&&(u+=h.nodeValue.length),null!==(d=h.firstChild);)p=h,h=d;for(;;){if(h===t)break e;if(p===r&&++l===o&&(s=u),p===a&&++f===n&&(c=u),null!==(d=h.nextSibling))break;p=(h=p).parentNode}h=d}r=-1===s||-1===c?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(eo={focusedElem:t,selectionRange:r},He=!1,Ju=e;null!==Ju;)if(t=(e=Ju).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ju=t;else for(;null!==Ju;){e=Ju;try{var y=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var v=y.memoizedProps,m=y.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:mi(e.type,v),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(_){Sc(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,Ju=t;break}Ju=e.return}y=es,es=!1}(t,r),vs(r,t),dn(eo),He=!!to,eo=to=null,t.current=r,gs(r,t,o),Qt(),Ts=s,be=u,js.transition=a}else t.current=r;if(Ws&&(Ws=!1,Ks=t,Ys=o),0===(a=t.pendingLanes)&&($s=null),function(t){if(ie&&"function"===typeof ie.onCommitFiberRoot)try{ie.onCommitFiberRoot(oe,t,void 0,128===(128&t.current.flags))}catch(e){}}(r.stateNode),nc(t,Xt()),null!==e)for(n=t.onRecoverableError,r=0;r<e.length;r++)n((o=e[r]).value,{componentStack:o.stack,digest:o.digest});if(Hs)throw Hs=!1,t=Vs,Vs=null,t;0!==(1&Ys)&&0!==t.tag&&Ec(),0!==(1&(a=t.pendingLanes))?t===Xs?Qs++:(Qs=0,Xs=t):Qs=0,qo()}(t,e,r,n)}finally{js.transition=o,be=n}return null}function Ec(){if(null!==Ks){var t=we(Ys),e=js.transition,r=be;try{if(js.transition=null,be=16>t?16:t,null===Ks)var n=!1;else{if(t=Ks,Ks=null,Ys=0,0!==(6&Ts))throw Error(i(331));var o=Ts;for(Ts|=4,Ju=t.current;null!==Ju;){var a=Ju,u=a.child;if(0!==(16&Ju.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,a)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var p=(f=Ju).sibling,d=f.return;if(is(f),f===l){Ju=null;break}if(null!==p){p.return=d,Ju=p;break}Ju=d}}}var y=a.alternate;if(null!==y){var v=y.child;if(null!==v){y.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Ju=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,Ju=u;else t:for(;null!==Ju;){if(0!==(2048&(a=Ju).flags))switch(a.tag){case 0:case 11:case 15:rs(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Ju=g;break t}Ju=a.return}}var b=t.current;for(Ju=b;null!==Ju;){var w=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Ju=w;else t:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:ns(9,s)}}catch(E){Sc(s,s.return,E)}if(s===u){Ju=null;break t}var _=s.sibling;if(null!==_){_.return=s.return,Ju=_;break t}Ju=s.return}}if(Ts=o,qo(),ie&&"function"===typeof ie.onPostCommitFiberRoot)try{ie.onPostCommitFiberRoot(oe,t)}catch(E){}n=!0}return n}finally{be=r,js.transition=e}}return!1}function Oc(t,e,r){t=Di(t,e=du(0,e=lu(r,e),1),1),e=tc(),null!==t&&(me(t,1,e),nc(t,e))}function Sc(t,e,r){if(3===t.tag)Oc(t,t,r);else for(;null!==e;){if(3===e.tag){Oc(e,t,r);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===$s||!$s.has(n))){e=Di(e,t=yu(e,t=lu(r,t),1),1),t=tc(),null!==e&&(me(e,1,t),nc(e,t));break}}e=e.return}}function xc(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&r,Ls===t&&(As&r)===r&&(4===Rs||3===Rs&&(130023424&As)===As&&500>Xt()-zs?hc(t,0):Ms|=r),nc(t,e)}function kc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=le,0===(130023424&(le<<=1))&&(le=4194304)));var r=tc();null!==(t=Pi(t,e))&&(me(t,e,r),nc(t,r))}function jc(t){var e=t.memoizedState,r=0;null!==e&&(r=e.retryLane),kc(t,r)}function Tc(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,o=t.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(e),kc(t,r)}function Lc(t,e){return Wt(t,e)}function Pc(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(t,e,r,n){return new Pc(t,e,r,n)}function Cc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ic(t,e){var r=t.alternate;return null===r?((r=Ac(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&t.flags,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Rc(t,e,r,n,o,a){var u=2;if(n=t,"function"===typeof t)Cc(t)&&(u=1);else if("string"===typeof t)u=5;else t:switch(t){case O:return Dc(r.children,o,a,e);case S:u=8,o|=8;break;case x:return(t=Ac(12,r,e,2|o)).elementType=x,t.lanes=a,t;case L:return(t=Ac(13,r,e,o)).elementType=L,t.lanes=a,t;case P:return(t=Ac(19,r,e,o)).elementType=P,t.lanes=a,t;case I:return Nc(r,o,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:u=10;break t;case j:u=9;break t;case T:u=11;break t;case A:u=14;break t;case C:u=16,n=null;break t}throw Error(i(130,null==t?t:typeof t,""))}return(e=Ac(u,r,e,o)).elementType=t,e.type=n,e.lanes=a,e}function Dc(t,e,r,n){return(t=Ac(7,t,n,e)).lanes=r,t}function Nc(t,e,r,n){return(t=Ac(22,t,n,e)).elementType=I,t.lanes=r,t.stateNode={isHidden:!1},t}function Fc(t,e,r){return(t=Ac(6,t,null,e)).lanes=r,t}function Mc(t,e,r){return(e=Ac(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bc(t,e,r,n,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ve(0),this.expirationTimes=ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(t,e,r,n,o,i,a,u,s){return t=new Bc(t,e,r,u,s),1===e?(e=1,!0===i&&(e|=8)):e=0,i=Ac(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ci(i),t}function zc(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}function Gc(t){if(!t)return To;t:{if(Gt(t=t._reactInternals)!==t||1!==t.tag)throw Error(i(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Io(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(i(171))}if(1===t.tag){var r=t.type;if(Io(r))return No(t,r,e)}return e}function qc(t,e,r,n,o,i,a,u,s){return(t=Uc(r,n,!0,t,0,i,0,u,s)).context=Gc(null),r=t.current,(i=Ri(n=tc(),o=ec(r))).callback=void 0!==e&&null!==e?e:null,Di(r,i,o),t.current.lanes=o,me(t,o,n),nc(t,n),t}function Hc(t,e,r,n){var o=e.current,i=tc(),a=ec(o);return r=Gc(r),null===e.context?e.context=r:e.pendingContext=r,(e=Ri(i,a)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Di(o,e,a))&&(rc(t,o,a,i),Ni(t,o,a)),a}function Vc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $c(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function Wc(t,e){$c(t,e),(t=t.alternate)&&$c(t,e)}Os=function(t,e,r){if(null!==t)if(t.memoizedProps!==e.pendingProps||Po.current)wu=!0;else{if(0===(t.lanes&r)&&0===(128&e.flags))return wu=!1,function(t,e,r){switch(e.tag){case 3:Pu(e),di();break;case 5:aa(e);break;case 1:Io(e.type)&&Fo(e);break;case 4:oa(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,o=e.memoizedProps.value;jo(gi,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(jo(sa,1&sa.current),e.flags|=128,null):0!==(r&e.child.childLanes)?Fu(t,e,r):(jo(sa,1&sa.current),null!==(t=Hu(t,e,r))?t.sibling:null);jo(sa,1&sa.current);break;case 19:if(n=0!==(r&e.childLanes),0!==(128&t.flags)){if(n)return Gu(t,e,r);e.flags|=128}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),jo(sa,sa.current),n)break;return null;case 22:case 23:return e.lanes=0,xu(t,e,r)}return Hu(t,e,r)}(t,e,r);wu=0!==(131072&t.flags)}else wu=!1,ii&&0!==(1048576&e.flags)&&ti(e,Wo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qu(t,e),t=e.pendingProps;var o=Co(e,Lo.current);xi(e,r),o=Sa(null,e,n,t,o,r);var a=xa();return e.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Io(n)?(a=!0,Fo(e)):a=!1,e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ci(e),o.updater=Gi,e.stateNode=o,o._reactInternals=e,$i(e,n,t,r),e=Lu(null,e,n,!0,a,r)):(e.tag=0,ii&&a&&ei(e),_u(null,e,o,r),e=e.child),e;case 16:n=e.elementType;t:{switch(qu(t,e),t=e.pendingProps,n=(o=n._init)(n._payload),e.type=n,o=e.tag=function(t){if("function"===typeof t)return Cc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===A)return 14}return 2}(n),t=mi(n,t),o){case 0:e=ju(null,e,n,t,r);break t;case 1:e=Tu(null,e,n,t,r);break t;case 11:e=Eu(null,e,n,t,r);break t;case 14:e=Ou(null,e,n,mi(n.type,t),r);break t}throw Error(i(306,n,""))}return e;case 0:return n=e.type,o=e.pendingProps,ju(t,e,n,o=e.elementType===n?o:mi(n,o),r);case 1:return n=e.type,o=e.pendingProps,Tu(t,e,n,o=e.elementType===n?o:mi(n,o),r);case 3:t:{if(Pu(e),null===t)throw Error(i(387));n=e.pendingProps,o=(a=e.memoizedState).element,Ii(t,e),Mi(e,n,null,r);var u=e.memoizedState;if(n=u.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Au(t,e,n,r,o=lu(Error(i(423)),e));break t}if(n!==o){e=Au(t,e,n,r,o=lu(Error(i(424)),e));break t}for(oi=co(e.stateNode.containerInfo.firstChild),ni=e,ii=!0,ai=null,r=Ji(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(di(),n===o){e=Hu(t,e,r);break t}_u(t,e,n,r)}e=e.child}return e;case 5:return aa(e),null===t&&li(e),n=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,u=o.children,ro(n,o)?u=null:null!==a&&ro(n,a)&&(e.flags|=32),ku(t,e),_u(t,e,u,r),e.child;case 6:return null===t&&li(e),null;case 13:return Fu(t,e,r);case 4:return oa(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Xi(e,null,n,r):_u(t,e,n,r),e.child;case 11:return n=e.type,o=e.pendingProps,Eu(t,e,n,o=e.elementType===n?o:mi(n,o),r);case 7:return _u(t,e,e.pendingProps,r),e.child;case 8:case 12:return _u(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(n=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,jo(gi,n._currentValue),n._currentValue=u,null!==a)if(un(a.value,u)){if(a.children===o.children&&!Po.current){e=Hu(t,e,r);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var c=s.firstContext;null!==c;){if(c.context===n){if(1===a.tag){(c=Ri(-1,r&-r)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=r,null!==(c=a.alternate)&&(c.lanes|=r),Si(a.return,r,e),s.lanes|=r;break}c=c.next}}else if(10===a.tag)u=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(i(341));u.lanes|=r,null!==(s=u.alternate)&&(s.lanes|=r),Si(u,r,e),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===e){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}_u(t,e,o.children,r),e=e.child}return e;case 9:return o=e.type,n=e.pendingProps.children,xi(e,r),n=n(o=ki(o)),e.flags|=1,_u(t,e,n,r),e.child;case 14:return o=mi(n=e.type,e.pendingProps),Ou(t,e,n,o=mi(n.type,o),r);case 15:return Su(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:mi(n,o),qu(t,e),e.tag=1,Io(n)?(t=!0,Fo(e)):t=!1,xi(e,r),Hi(e,n,o),$i(e,n,o,r),Lu(null,e,n,!0,t,r);case 19:return Gu(t,e,r);case 22:return xu(t,e,r)}throw Error(i(156,e.tag))};var Kc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function Qc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tl(t,e,r,n,o){var i=r._reactRootContainer;if(i){var a=i;if("function"===typeof o){var u=o;o=function(){var t=Vc(a);u.call(t)}}Hc(e,a,t,o)}else a=function(t,e,r,n,o){if(o){if("function"===typeof n){var i=n;n=function(){var t=Vc(a);i.call(t)}}var a=qc(e,n,t,0,null,!1,0,"",Zc);return t._reactRootContainer=a,t[yo]=a.current,Gn(8===t.nodeType?t.parentNode:t),lc(),a}for(;o=t.lastChild;)t.removeChild(o);if("function"===typeof n){var u=n;n=function(){var t=Vc(s);u.call(t)}}var s=Uc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=s,t[yo]=s.current,Gn(8===t.nodeType?t.parentNode:t),lc((function(){Hc(e,s,r,n)})),s}(r,e,t,o,n);return Vc(a)}Qc.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(i(409));Hc(t,e,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;lc((function(){Hc(null,t,null,null)})),e[yo]=null}},Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ie.length&&0!==e&&e<Ie[r].priority;r++);Ie.splice(r,0,t),0===r&&Fe(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fe(e.pendingLanes);0!==r&&(ge(e,1|r),nc(e,Xt()),0===(6&Ts)&&(Gs=Xt()+500,qo()))}break;case 13:lc((function(){var e=Pi(t,1);if(null!==e){var r=tc();rc(e,t,1,r)}})),Wc(t,1)}},Ee=function(t){if(13===t.tag){var e=Pi(t,134217728);if(null!==e)rc(e,t,134217728,tc());Wc(t,134217728)}},Oe=function(t){if(13===t.tag){var e=ec(t),r=Pi(t,e);if(null!==r)rc(r,t,e,tc());Wc(t,e)}},Se=function(){return be},xe=function(t,e){var r=be;try{return be=t,e()}finally{be=r}},Et=function(t,e,r){switch(e){case"input":if(J(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var o=Eo(n);if(!o)throw Error(i(90));W(n),J(n,o)}}}break;case"textarea":it(t,r);break;case"select":null!=(e=r.value)&&rt(t,!!r.multiple,e,!1)}},Tt=cc,Lt=lc;var el={usingClientEntryPoint:!1,Events:[wo,_o,Eo,kt,jt,cc]},rl={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nl={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Vt(t))?null:t.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{oe=ol.inject(nl),ie=ol}catch(lt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,e.createPortal=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(i(200));return zc(t,e,null,r)},e.createRoot=function(t,e){if(!Xc(t))throw Error(i(299));var r=!1,n="",o=Kc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(r=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(o=e.onRecoverableError)),e=Uc(t,1,!1,null,0,r,0,n,o),t[yo]=e.current,Gn(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(i(188));throw t=Object.keys(t).join(","),Error(i(268,t))}return t=null===(t=Vt(e))?null:t.stateNode},e.flushSync=function(t){return lc(t)},e.hydrate=function(t,e,r){if(!Jc(e))throw Error(i(200));return tl(null,t,e,!0,r)},e.hydrateRoot=function(t,e,r){if(!Xc(t))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,o=!1,a="",u=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(u=r.onRecoverableError)),e=qc(e,null,t,1,null!=r?r:null,o,0,a,u),t[yo]=e.current,Gn(t),n)for(t=0;t<n.length;t++)o=(o=(r=n[t])._getVersion)(r._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[r,o]:e.mutableSourceEagerHydrationData.push(r,o);return new Qc(e)},e.render=function(t,e,r){if(!Jc(e))throw Error(i(200));return tl(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(i(40));return!!t._reactRootContainer&&(lc((function(){tl(null,null,t,!1,(function(){t._reactRootContainer=null,t[yo]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Jc(r))throw Error(i(200));if(null==t||void 0===t._reactInternals)throw Error(i(38));return tl(t,e,r,!1,n)},e.version="18.2.0-next-9e3b772b8-20220608"},function(t,e,r){"use strict";t.exports=r(169)},function(t,e,r){"use strict";(function(t){function r(t,e){var r=t.length;t.push(e);t:for(;0<r;){var n=r-1>>>1,o=t[n];if(!(0<i(o,e)))break t;t[n]=e,t[r]=o,r=n}}function n(t){return 0===t.length?null:t[0]}function o(t){if(0===t.length)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,o=t.length,a=o>>>1;n<a;){var u=2*(n+1)-1,s=t[u],c=u+1,l=t[c];if(0>i(s,r))c<o&&0>i(l,s)?(t[n]=l,t[c]=r,n=c):(t[n]=s,t[u]=r,n=u);else{if(!(c<o&&0>i(l,r)))break t;t[n]=l,t[c]=r,n=c}}}return e}function i(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();e.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,p=3,d=!1,y=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof t?t:null;function w(t){for(var e=n(l);null!==e;){if(null===e.callback)o(l);else{if(!(e.startTime<=t))break;o(l),e.sortIndex=e.expirationTime,r(c,e)}e=n(l)}}function _(t){if(v=!1,w(t),!y)if(null!==n(c))y=!0,I(E);else{var e=n(l);null!==e&&R(_,e.startTime-t)}}function E(t,r){y=!1,v&&(v=!1,g(k),k=-1),d=!0;var i=p;try{for(w(r),h=n(c);null!==h&&(!(h.expirationTime>r)||t&&!L());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var u=a(h.expirationTime<=r);r=e.unstable_now(),"function"===typeof u?h.callback=u:h===n(c)&&o(c),w(r)}else o(c);h=n(c)}if(null!==h)var s=!0;else{var f=n(l);null!==f&&R(_,f.startTime-r),s=!1}return s}finally{h=null,p=i,d=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,S=!1,x=null,k=-1,j=5,T=-1;function L(){return!(e.unstable_now()-T<j)}function P(){if(null!==x){var t=e.unstable_now();T=t;var r=!0;try{r=x(!0,t)}finally{r?O():(S=!1,x=null)}}else S=!1}if("function"===typeof b)O=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,C=A.port2;A.port1.onmessage=P,O=function(){C.postMessage(null)}}else O=function(){m(P,0)};function I(t){x=t,S||(S=!0,O())}function R(t,r){k=m((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){y||d||(y=!0,I(E))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var r=p;p=e;try{return t()}finally{p=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=p;p=t;try{return e()}finally{p=r}},e.unstable_scheduleCallback=function(t,o,i){var a=e.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:f++,callback:o,priorityLevel:t,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>a?(t.sortIndex=i,r(l,t),null===n(c)&&t===n(l)&&(v?(g(k),k=-1):v=!0,R(_,i-a))):(t.sortIndex=u,r(c,t),y||d||(y=!0,I(E))),t},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(t){var e=p;return function(){var r=p;p=e;try{return t.apply(this,arguments)}finally{p=r}}}}).call(this,r(57).setImmediate)},function(t,e,r){var n=r(86),o=r(88),i=r(41),a=r(12),u=r(29),s=r(42),c=r(39),l=r(44),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||l(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!n(t).length;for(var r in t)if(f.call(t,r))return!1;return!0}},function(t,e,r){var n=r(87)(Object.keys,Object);t.exports=n},function(t,e,r){var n=r(27)(r(15),"DataView");t.exports=n},function(t,e,r){var n=r(61),o=r(176),i=r(18),a=r(90),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?h:u).test(a(t))}},function(t,e,r){var n=r(40),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(s){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n=r(177),o=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},function(t,e,r){var n=r(15)["__core-js_shared__"];t.exports=n},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,r){var n=r(27)(r(15),"Promise");t.exports=n},function(t,e,r){var n=r(27)(r(15),"Set");t.exports=n},function(t,e,r){var n=r(27)(r(15),"WeakMap");t.exports=n},function(t,e,r){var n=r(32),o=r(28);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(32),o=r(63),i=r(28),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},function(t,e,r){(function(t){var n=r(89),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=u}).call(this,r(43)(t))},function(t,e,r){var n;(function(){var r={24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"\xb5","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"};function o(t){return Number.parseFloat(t.toPrecision(3))}var i={toHumanString:function(t){var e=o(Number.parseFloat(t)),n=Math.max(Math.min(3*Math.floor(function(t){return 0===t?0:Math.floor(Math.log10(Math.abs(t)))}(e)/3),24),-24);return o(e/Math.pow(10,n)).toString()+r[n]}};void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e){t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||r.forEach((function(e){t.addRange(e)})),e&&e.focus()}}},function(t,e){e.removeRule=function(t){var e=t.index,r=t.parentStyleSheet,n=r.cssRules||r.rules;for(e=Math.max(e,n.length-1);e>=0;){if(n[e]===t){r.deleteRule(e);break}e--}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.divWrapper=void 0;var n=r(1),o=n.__importStar(r(0)),i=n.__importDefault(r(190)),a=o.createElement,u=function(t,e,r,o){var i;return a(t,e?n.__assign(((i={})[e]=o,i),r):n.__assign(n.__assign({},o),r))};e.divWrapper=function(t,e,r,n){return a("div",null,u(t,e,r,n))};e.default=function(t,e,r){void 0===r&&(r=u);return function n(o,u,s){void 0===u&&(u=e),void 0===s&&(s=null);var c="string"===typeof o;if(c)return function(t){return n(t,o||e,u)};var l=function(e){return a(t,s,(function(t){return r(o,u,e,t)}))};return c?i.default(l):l}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1).__importDefault(r(191));e.default=function(t){return!t.prototype?n.default(t):t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=n.__importStar(r(0));e.default=function(t){var e=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(r,e),r.prototype.render=function(){return t(this.props,this.context)},r}(o.Component);return e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1).__importDefault(r(92)),o=function(t){return[t]};e.default=function(t,e){return void 0===e&&(e=o),function(r){return n.default(r,t.apply(void 0,e(r)))}}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&t.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&t.push(u);else t.push(n.toString())}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)}()},function(t,e,r){"use strict";r.r(e),r.d(e,"SkeletonTheme",(function(){return f})),r.d(e,"default",(function(){return l}));var n=r(13),o=r(3),i=r(19),a=r(0),u=["count","wrapper","className","containerClassName","containerTestId","circle","style"],s=["children"],c=a.createContext({});function l(t){for(var e,r,s,l=t.count,f=void 0===l?1:l,h=t.wrapper,p=t.className,d=t.containerClassName,y=t.containerTestId,v=t.circle,m=void 0!==v&&v,g=t.style,b=Object(i.a)(t,u),w=a.useContext(c),_=Object(o.a)({},b),E=0,O=Object.entries(b);E<O.length;E++){var S=Object(n.a)(O[E],2),x=S[0];"undefined"===typeof S[1]&&delete _[x]}var k=Object(o.a)(Object(o.a)(Object(o.a)({},w),_),{},{circle:m}),j=Object(o.a)(Object(o.a)({},g),function(t){var e=t.baseColor,r=t.highlightColor,n=t.width,o=t.height,i=t.borderRadius,a=t.circle,u=t.direction,s=t.duration,c=t.enableAnimation,l=void 0===c||c,f={};return"rtl"===u&&(f["--animation-direction"]="reverse"),"number"===typeof s&&(f["--animation-duration"]="".concat(s,"s")),l||(f["--pseudo-element-display"]="none"),"string"!==typeof n&&"number"!==typeof n||(f.width=n),"string"!==typeof o&&"number"!==typeof o||(f.height=o),"string"!==typeof i&&"number"!==typeof i||(f.borderRadius=i),a&&(f.borderRadius="50%"),"undefined"!==typeof e&&(f["--base-color"]=e),"undefined"!==typeof r&&(f["--highlight-color"]=r),f}(k)),T="react-loading-skeleton";p&&(T+=" ".concat(p));for(var L=null!==(e=k.inline)&&void 0!==e&&e,P=[],A=Math.ceil(f),C=0;C<A;C++){var I=j;if(A>f&&C===A-1){var R=null!==(r=I.width)&&void 0!==r?r:"100%",D=f%1,N="number"===typeof R?R*D:"calc(".concat(R," * ").concat(D,")");I=Object(o.a)(Object(o.a)({},I),{},{width:N})}var F=a.createElement("span",{className:T,style:I,key:C},"\u200c");L?P.push(F):P.push(a.createElement(a.Fragment,{key:C},F,a.createElement("br",null)))}return a.createElement("span",{className:d,"data-testid":y,"aria-live":"polite","aria-busy":null===(s=k.enableAnimation)||void 0===s||s},h?P.map((function(t,e){return a.createElement(h,{key:e},t)})):P)}function f(t){var e=t.children,r=Object(i.a)(t,s);return a.createElement(c.Provider,{value:r},e)}},function(t,e,r){(function(t,n){var o;(function(){var i,a="Expected a function",u="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,l=32,f=64,h=128,p=256,d=1/0,y=9007199254740991,v=NaN,m=4294967295,g=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",f],["rearg",p]],b="[object Arguments]",w="[object Array]",_="[object Boolean]",E="[object Date]",O="[object Error]",S="[object Function]",x="[object GeneratorFunction]",k="[object Map]",j="[object Number]",T="[object Object]",L="[object Promise]",P="[object RegExp]",A="[object Set]",C="[object String]",I="[object Symbol]",R="[object WeakMap]",D="[object ArrayBuffer]",N="[object DataView]",F="[object Float32Array]",M="[object Float64Array]",B="[object Int8Array]",U="[object Int16Array]",z="[object Int32Array]",G="[object Uint8Array]",q="[object Uint8ClampedArray]",H="[object Uint16Array]",V="[object Uint32Array]",$=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,X=RegExp(Y.source),J=RegExp(Q.source),Z=/<%-([\s\S]+?)%>/g,tt=/<%([\s\S]+?)%>/g,et=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,at=RegExp(it.source),ut=/^\s+/,st=/\s/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pt=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,Et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ot=/($^)/,St=/['\n\r\u2028\u2029\\]/g,xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",jt="a-z\\xdf-\\xf6\\xf8-\\xff",Tt="A-Z\\xc0-\\xd6\\xd8-\\xde",Lt="\\ufe0e\\ufe0f",Pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="['\u2019]",Ct="[\\ud800-\\udfff]",It="["+Pt+"]",Rt="["+xt+"]",Dt="\\d+",Nt="[\\u2700-\\u27bf]",Ft="["+jt+"]",Mt="[^\\ud800-\\udfff"+Pt+Dt+kt+jt+Tt+"]",Bt="\\ud83c[\\udffb-\\udfff]",Ut="[^\\ud800-\\udfff]",zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Gt="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+Tt+"]",Ht="(?:"+Ft+"|"+Mt+")",Vt="(?:"+qt+"|"+Mt+")",$t="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Wt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Kt="(?:"+Rt+"|"+Bt+")"+"?",Yt="[\\ufe0e\\ufe0f]?",Qt=Yt+Kt+("(?:\\u200d(?:"+[Ut,zt,Gt].join("|")+")"+Yt+Kt+")*"),Xt="(?:"+[Nt,zt,Gt].join("|")+")"+Qt,Jt="(?:"+[Ut+Rt+"?",Rt,zt,Gt,Ct].join("|")+")",Zt=RegExp(At,"g"),te=RegExp(Rt,"g"),ee=RegExp(Bt+"(?="+Bt+")|"+Jt+Qt,"g"),re=RegExp([qt+"?"+Ft+"+"+$t+"(?="+[It,qt,"$"].join("|")+")",Vt+"+"+Wt+"(?="+[It,qt+Ht,"$"].join("|")+")",qt+"?"+Ht+"+"+$t,qt+"+"+Wt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dt,Xt].join("|"),"g"),ne=RegExp("[\\u200d\\ud800-\\udfff"+xt+Lt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ie=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,ue={};ue[F]=ue[M]=ue[B]=ue[U]=ue[z]=ue[G]=ue[q]=ue[H]=ue[V]=!0,ue[b]=ue[w]=ue[D]=ue[_]=ue[N]=ue[E]=ue[O]=ue[S]=ue[k]=ue[j]=ue[T]=ue[P]=ue[A]=ue[C]=ue[R]=!1;var se={};se[b]=se[w]=se[D]=se[N]=se[_]=se[E]=se[F]=se[M]=se[B]=se[U]=se[z]=se[k]=se[j]=se[T]=se[P]=se[A]=se[C]=se[I]=se[G]=se[q]=se[H]=se[V]=!0,se[O]=se[S]=se[R]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},le=parseFloat,fe=parseInt,he="object"==typeof t&&t&&t.Object===Object&&t,pe="object"==typeof self&&self&&self.Object===Object&&self,de=he||pe||Function("return this")(),ye=e&&!e.nodeType&&e,ve=ye&&"object"==typeof n&&n&&!n.nodeType&&n,me=ve&&ve.exports===ye,ge=me&&he.process,be=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||ge&&ge.binding&&ge.binding("util")}catch(e){}}(),we=be&&be.isArrayBuffer,_e=be&&be.isDate,Ee=be&&be.isMap,Oe=be&&be.isRegExp,Se=be&&be.isSet,xe=be&&be.isTypedArray;function ke(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function je(t,e,r,n){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(n,a,r(a),t)}return n}function Te(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Le(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Pe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Ae(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}function Ce(t,e){return!!(null==t?0:t.length)&&Ge(t,e,0)>-1}function Ie(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}function Re(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function De(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function Ne(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function Fe(t,e,r,n){var o=null==t?0:t.length;for(n&&o&&(r=t[--o]);o--;)r=e(r,t[o],o,t);return r}function Me(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Be=$e("length");function Ue(t,e,r){var n;return r(t,(function(t,r,o){if(e(t,r,o))return n=r,!1})),n}function ze(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function Ge(t,e,r){return e===e?function(t,e,r){var n=r-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,r):ze(t,He,r)}function qe(t,e,r,n){for(var o=r-1,i=t.length;++o<i;)if(n(t[o],e))return o;return-1}function He(t){return t!==t}function Ve(t,e){var r=null==t?0:t.length;return r?Ye(t,e)/r:v}function $e(t){return function(e){return null==e?i:e[t]}}function We(t){return function(e){return null==t?i:t[e]}}function Ke(t,e,r,n,o){return o(t,(function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)})),r}function Ye(t,e){for(var r,n=-1,o=t.length;++n<o;){var a=e(t[n]);a!==i&&(r=r===i?a:r+a)}return r}function Qe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Xe(t){return t?t.slice(0,yr(t)+1).replace(ut,""):t}function Je(t){return function(e){return t(e)}}function Ze(t,e){return Re(e,(function(e){return t[e]}))}function tr(t,e){return t.has(e)}function er(t,e){for(var r=-1,n=t.length;++r<n&&Ge(e,t[r],0)>-1;);return r}function rr(t,e){for(var r=t.length;r--&&Ge(e,t[r],0)>-1;);return r}function nr(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var or=We({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),ir=We({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ar(t){return"\\"+ce[t]}function ur(t){return ne.test(t)}function sr(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function cr(t,e){return function(r){return t(e(r))}}function lr(t,e){for(var r=-1,n=t.length,o=0,i=[];++r<n;){var a=t[r];a!==e&&a!==s||(t[r]=s,i[o++]=r)}return i}function fr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function hr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function pr(t){return ur(t)?function(t){var e=ee.lastIndex=0;for(;ee.test(t);)++e;return e}(t):Be(t)}function dr(t){return ur(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.split("")}(t)}function yr(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var vr=We({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function t(e){var r=(e=null==e?de:mr.defaults(de.Object(),e,mr.pick(de,ie))).Array,n=e.Date,o=e.Error,st=e.Function,xt=e.Math,kt=e.Object,jt=e.RegExp,Tt=e.String,Lt=e.TypeError,Pt=r.prototype,At=st.prototype,Ct=kt.prototype,It=e["__core-js_shared__"],Rt=At.toString,Dt=Ct.hasOwnProperty,Nt=0,Ft=function(){var t=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Mt=Ct.toString,Bt=Rt.call(kt),Ut=de._,zt=jt("^"+Rt.call(Dt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gt=me?e.Buffer:i,qt=e.Symbol,Ht=e.Uint8Array,Vt=Gt?Gt.allocUnsafe:i,$t=cr(kt.getPrototypeOf,kt),Wt=kt.create,Kt=Ct.propertyIsEnumerable,Yt=Pt.splice,Qt=qt?qt.isConcatSpreadable:i,Xt=qt?qt.iterator:i,Jt=qt?qt.toStringTag:i,ee=function(){try{var t=pi(kt,"defineProperty");return t({},"",{}),t}catch(e){}}(),ne=e.clearTimeout!==de.clearTimeout&&e.clearTimeout,ce=n&&n.now!==de.Date.now&&n.now,he=e.setTimeout!==de.setTimeout&&e.setTimeout,pe=xt.ceil,ye=xt.floor,ve=kt.getOwnPropertySymbols,ge=Gt?Gt.isBuffer:i,be=e.isFinite,Be=Pt.join,We=cr(kt.keys,kt),gr=xt.max,br=xt.min,wr=n.now,_r=e.parseInt,Er=xt.random,Or=Pt.reverse,Sr=pi(e,"DataView"),xr=pi(e,"Map"),kr=pi(e,"Promise"),jr=pi(e,"Set"),Tr=pi(e,"WeakMap"),Lr=pi(kt,"create"),Pr=Tr&&new Tr,Ar={},Cr=Ui(Sr),Ir=Ui(xr),Rr=Ui(kr),Dr=Ui(jr),Nr=Ui(Tr),Fr=qt?qt.prototype:i,Mr=Fr?Fr.valueOf:i,Br=Fr?Fr.toString:i;function Ur(t){if(nu(t)&&!$a(t)&&!(t instanceof Hr)){if(t instanceof qr)return t;if(Dt.call(t,"__wrapped__"))return zi(t)}return new qr(t)}var zr=function(){function t(){}return function(e){if(!ru(e))return{};if(Wt)return Wt(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function Gr(){}function qr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $r(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Kr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Wr;++e<r;)this.add(t[e])}function Yr(t){var e=this.__data__=new $r(t);this.size=e.size}function Qr(t,e){var r=$a(t),n=!r&&Va(t),o=!r&&!n&&Qa(t),i=!r&&!n&&!o&&fu(t),a=r||n||o||i,u=a?Qe(t.length,Tt):[],s=u.length;for(var c in t)!e&&!Dt.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wi(c,s))||u.push(c);return u}function Xr(t){var e=t.length;return e?t[Yn(0,e-1)]:i}function Jr(t,e){return Fi(Ao(t),sn(e,0,t.length))}function Zr(t){return Fi(Ao(t))}function tn(t,e,r){(r!==i&&!Ga(t[e],r)||r===i&&!(e in t))&&an(t,e,r)}function en(t,e,r){var n=t[e];Dt.call(t,e)&&Ga(n,r)&&(r!==i||e in t)||an(t,e,r)}function rn(t,e){for(var r=t.length;r--;)if(Ga(t[r][0],e))return r;return-1}function nn(t,e,r,n){return pn(t,(function(t,o,i){e(n,t,r(t),i)})),n}function on(t,e){return t&&Co(e,Iu(e),t)}function an(t,e,r){"__proto__"==e&&ee?ee(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function un(t,e){for(var n=-1,o=e.length,a=r(o),u=null==t;++n<o;)a[n]=u?i:Tu(t,e[n]);return a}function sn(t,e,r){return t===t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function cn(t,e,r,n,o,a){var u,s=1&e,c=2&e,l=4&e;if(r&&(u=o?r(t,n,o,a):r(t)),u!==i)return u;if(!ru(t))return t;var f=$a(t);if(f){if(u=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!s)return Ao(t,u)}else{var h=vi(t),p=h==S||h==x;if(Qa(t))return xo(t,s);if(h==T||h==b||p&&!o){if(u=c||p?{}:gi(t),!s)return c?function(t,e){return Co(t,yi(t),e)}(t,function(t,e){return t&&Co(e,Ru(e),t)}(u,t)):function(t,e){return Co(t,di(t),e)}(t,on(u,t))}else{if(!se[h])return o?t:{};u=function(t,e,r){var n=t.constructor;switch(e){case D:return ko(t);case _:case E:return new n(+t);case N:return function(t,e){var r=e?ko(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case F:case M:case B:case U:case z:case G:case q:case H:case V:return jo(t,r);case k:return new n;case j:case C:return new n(t);case P:return function(t){var e=new t.constructor(t.source,vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case A:return new n;case I:return o=t,Mr?kt(Mr.call(o)):{}}var o}(t,h,s)}}a||(a=new Yr);var d=a.get(t);if(d)return d;a.set(t,u),su(t)?t.forEach((function(n){u.add(cn(n,e,r,n,t,a))})):ou(t)&&t.forEach((function(n,o){u.set(o,cn(n,e,r,o,t,a))}));var y=f?i:(l?c?ai:ii:c?Ru:Iu)(t);return Te(y||t,(function(n,o){y&&(n=t[o=n]),en(u,o,cn(n,e,r,o,t,a))})),u}function ln(t,e,r){var n=r.length;if(null==t)return!n;for(t=kt(t);n--;){var o=r[n],a=e[o],u=t[o];if(u===i&&!(o in t)||!a(u))return!1}return!0}function fn(t,e,r){if("function"!=typeof t)throw new Lt(a);return Ii((function(){t.apply(i,r)}),e)}function hn(t,e,r,n){var o=-1,i=Ce,a=!0,u=t.length,s=[],c=e.length;if(!u)return s;r&&(e=Re(e,Je(r))),n?(i=Ie,a=!1):e.length>=200&&(i=tr,a=!1,e=new Kr(e));t:for(;++o<u;){var l=t[o],f=null==r?l:r(l);if(l=n||0!==l?l:0,a&&f===f){for(var h=c;h--;)if(e[h]===f)continue t;s.push(l)}else i(e,f,n)||s.push(l)}return s}Ur.templateSettings={escape:Z,evaluate:tt,interpolate:et,variable:"",imports:{_:Ur}},Ur.prototype=Gr.prototype,Ur.prototype.constructor=Ur,qr.prototype=zr(Gr.prototype),qr.prototype.constructor=qr,Hr.prototype=zr(Gr.prototype),Hr.prototype.constructor=Hr,Vr.prototype.clear=function(){this.__data__=Lr?Lr(null):{},this.size=0},Vr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vr.prototype.get=function(t){var e=this.__data__;if(Lr){var r=e[t];return r===u?i:r}return Dt.call(e,t)?e[t]:i},Vr.prototype.has=function(t){var e=this.__data__;return Lr?e[t]!==i:Dt.call(e,t)},Vr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Lr&&e===i?u:e,this},$r.prototype.clear=function(){this.__data__=[],this.size=0},$r.prototype.delete=function(t){var e=this.__data__,r=rn(e,t);return!(r<0)&&(r==e.length-1?e.pop():Yt.call(e,r,1),--this.size,!0)},$r.prototype.get=function(t){var e=this.__data__,r=rn(e,t);return r<0?i:e[r][1]},$r.prototype.has=function(t){return rn(this.__data__,t)>-1},$r.prototype.set=function(t,e){var r=this.__data__,n=rn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Wr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(xr||$r),string:new Vr}},Wr.prototype.delete=function(t){var e=fi(this,t).delete(t);return this.size-=e?1:0,e},Wr.prototype.get=function(t){return fi(this,t).get(t)},Wr.prototype.has=function(t){return fi(this,t).has(t)},Wr.prototype.set=function(t,e){var r=fi(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Kr.prototype.add=Kr.prototype.push=function(t){return this.__data__.set(t,u),this},Kr.prototype.has=function(t){return this.__data__.has(t)},Yr.prototype.clear=function(){this.__data__=new $r,this.size=0},Yr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Yr.prototype.get=function(t){return this.__data__.get(t)},Yr.prototype.has=function(t){return this.__data__.has(t)},Yr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof $r){var n=r.__data__;if(!xr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Wr(n)}return r.set(t,e),this.size=r.size,this};var pn=Do(_n),dn=Do(En,!0);function yn(t,e){var r=!0;return pn(t,(function(t,n,o){return r=!!e(t,n,o)})),r}function vn(t,e,r){for(var n=-1,o=t.length;++n<o;){var a=t[n],u=e(a);if(null!=u&&(s===i?u===u&&!lu(u):r(u,s)))var s=u,c=a}return c}function mn(t,e){var r=[];return pn(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function gn(t,e,r,n,o){var i=-1,a=t.length;for(r||(r=bi),o||(o=[]);++i<a;){var u=t[i];e>0&&r(u)?e>1?gn(u,e-1,r,n,o):De(o,u):n||(o[o.length]=u)}return o}var bn=No(),wn=No(!0);function _n(t,e){return t&&bn(t,e,Iu)}function En(t,e){return t&&wn(t,e,Iu)}function On(t,e){return Ae(e,(function(e){return Za(t[e])}))}function Sn(t,e){for(var r=0,n=(e=_o(e,t)).length;null!=t&&r<n;)t=t[Bi(e[r++])];return r&&r==n?t:i}function xn(t,e,r){var n=e(t);return $a(t)?n:De(n,r(t))}function kn(t){return null==t?t===i?"[object Undefined]":"[object Null]":Jt&&Jt in kt(t)?function(t){var e=Dt.call(t,Jt),r=t[Jt];try{t[Jt]=i;var n=!0}catch(a){}var o=Mt.call(t);n&&(e?t[Jt]=r:delete t[Jt]);return o}(t):function(t){return Mt.call(t)}(t)}function jn(t,e){return t>e}function Tn(t,e){return null!=t&&Dt.call(t,e)}function Ln(t,e){return null!=t&&e in kt(t)}function Pn(t,e,n){for(var o=n?Ie:Ce,a=t[0].length,u=t.length,s=u,c=r(u),l=1/0,f=[];s--;){var h=t[s];s&&e&&(h=Re(h,Je(e))),l=br(h.length,l),c[s]=!n&&(e||a>=120&&h.length>=120)?new Kr(s&&h):i}h=t[0];var p=-1,d=c[0];t:for(;++p<a&&f.length<l;){var y=h[p],v=e?e(y):y;if(y=n||0!==y?y:0,!(d?tr(d,v):o(f,v,n))){for(s=u;--s;){var m=c[s];if(!(m?tr(m,v):o(t[s],v,n)))continue t}d&&d.push(v),f.push(y)}}return f}function An(t,e,r){var n=null==(t=Li(t,e=_o(e,t)))?t:t[Bi(Ji(e))];return null==n?i:ke(n,t,r)}function Cn(t){return nu(t)&&kn(t)==b}function In(t,e,r,n,o){return t===e||(null==t||null==e||!nu(t)&&!nu(e)?t!==t&&e!==e:function(t,e,r,n,o,a){var u=$a(t),s=$a(e),c=u?w:vi(t),l=s?w:vi(e),f=(c=c==b?T:c)==T,h=(l=l==b?T:l)==T,p=c==l;if(p&&Qa(t)){if(!Qa(e))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Yr),u||fu(t)?ni(t,e,r,n,o,a):function(t,e,r,n,o,i,a){switch(r){case N:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D:return!(t.byteLength!=e.byteLength||!i(new Ht(t),new Ht(e)));case _:case E:case j:return Ga(+t,+e);case O:return t.name==e.name&&t.message==e.message;case P:case C:return t==e+"";case k:var u=sr;case A:var s=1&n;if(u||(u=fr),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;n|=2,a.set(t,e);var l=ni(u(t),u(e),n,o,i,a);return a.delete(t),l;case I:if(Mr)return Mr.call(t)==Mr.call(e)}return!1}(t,e,c,r,n,o,a);if(!(1&r)){var d=f&&Dt.call(t,"__wrapped__"),y=h&&Dt.call(e,"__wrapped__");if(d||y){var v=d?t.value():t,m=y?e.value():e;return a||(a=new Yr),o(v,m,r,n,a)}}if(!p)return!1;return a||(a=new Yr),function(t,e,r,n,o,a){var u=1&r,s=ii(t),c=s.length,l=ii(e).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var h=s[f];if(!(u?h in e:Dt.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var y=!0;a.set(t,e),a.set(e,t);var v=u;for(;++f<c;){var m=t[h=s[f]],g=e[h];if(n)var b=u?n(g,m,h,e,t,a):n(m,g,h,t,e,a);if(!(b===i?m===g||o(m,g,r,n,a):b)){y=!1;break}v||(v="constructor"==h)}if(y&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(y=!1)}return a.delete(t),a.delete(e),y}(t,e,r,n,o,a)}(t,e,r,n,In,o))}function Rn(t,e,r,n){var o=r.length,a=o,u=!n;if(null==t)return!a;for(t=kt(t);o--;){var s=r[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var c=(s=r[o])[0],l=t[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in t))return!1}else{var h=new Yr;if(n)var p=n(l,f,c,t,e,h);if(!(p===i?In(f,l,3,n,h):p))return!1}}return!0}function Dn(t){return!(!ru(t)||(e=t,Ft&&Ft in e))&&(Za(t)?zt:bt).test(Ui(t));var e}function Nn(t){return"function"==typeof t?t:null==t?is:"object"==typeof t?$a(t)?Gn(t[0],t[1]):zn(t):ds(t)}function Fn(t){if(!xi(t))return We(t);var e=[];for(var r in kt(t))Dt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Mn(t){if(!ru(t))return function(t){var e=[];if(null!=t)for(var r in kt(t))e.push(r);return e}(t);var e=xi(t),r=[];for(var n in t)("constructor"!=n||!e&&Dt.call(t,n))&&r.push(n);return r}function Bn(t,e){return t<e}function Un(t,e){var n=-1,o=Ka(t)?r(t.length):[];return pn(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function zn(t){var e=hi(t);return 1==e.length&&e[0][2]?ji(e[0][0],e[0][1]):function(r){return r===t||Rn(r,t,e)}}function Gn(t,e){return Ei(t)&&ki(e)?ji(Bi(t),e):function(r){var n=Tu(r,t);return n===i&&n===e?Lu(r,t):In(e,n,3)}}function qn(t,e,r,n,o){t!==e&&bn(e,(function(a,u){if(o||(o=new Yr),ru(a))!function(t,e,r,n,o,a,u){var s=Ai(t,r),c=Ai(e,r),l=u.get(c);if(l)return void tn(t,r,l);var f=a?a(s,c,r+"",t,e,u):i,h=f===i;if(h){var p=$a(c),d=!p&&Qa(c),y=!p&&!d&&fu(c);f=c,p||d||y?$a(s)?f=s:Ya(s)?f=Ao(s):d?(h=!1,f=xo(c,!0)):y?(h=!1,f=jo(c,!0)):f=[]:au(c)||Va(c)?(f=s,Va(s)?f=bu(s):ru(s)&&!Za(s)||(f=gi(c))):h=!1}h&&(u.set(c,f),o(f,c,n,a,u),u.delete(c));tn(t,r,f)}(t,e,u,r,qn,n,o);else{var s=n?n(Ai(t,u),a,u+"",t,e,o):i;s===i&&(s=a),tn(t,u,s)}}),Ru)}function Hn(t,e){var r=t.length;if(r)return wi(e+=e<0?r:0,r)?t[e]:i}function Vn(t,e,r){e=e.length?Re(e,(function(t){return $a(t)?function(e){return Sn(e,1===t.length?t[0]:t)}:t})):[is];var n=-1;e=Re(e,Je(li()));var o=Un(t,(function(t,r,o){var i=Re(e,(function(e){return e(t)}));return{criteria:i,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(o,(function(t,e){return function(t,e,r){var n=-1,o=t.criteria,i=e.criteria,a=o.length,u=r.length;for(;++n<a;){var s=To(o[n],i[n]);if(s)return n>=u?s:s*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function $n(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],u=Sn(t,a);r(u,a)&&to(i,_o(a,t),u)}return i}function Wn(t,e,r,n){var o=n?qe:Ge,i=-1,a=e.length,u=t;for(t===e&&(e=Ao(e)),r&&(u=Re(t,Je(r)));++i<a;)for(var s=0,c=e[i],l=r?r(c):c;(s=o(u,l,s,n))>-1;)u!==t&&Yt.call(u,s,1),Yt.call(t,s,1);return t}function Kn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var o=e[r];if(r==n||o!==i){var i=o;wi(o)?Yt.call(t,o,1):ho(t,o)}}return t}function Yn(t,e){return t+ye(Er()*(e-t+1))}function Qn(t,e){var r="";if(!t||e<1||e>y)return r;do{e%2&&(r+=t),(e=ye(e/2))&&(t+=t)}while(e);return r}function Xn(t,e){return Ri(Ti(t,e,is),t+"")}function Jn(t){return Xr(Gu(t))}function Zn(t,e){var r=Gu(t);return Fi(r,sn(e,0,r.length))}function to(t,e,r,n){if(!ru(t))return t;for(var o=-1,a=(e=_o(e,t)).length,u=a-1,s=t;null!=s&&++o<a;){var c=Bi(e[o]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=u){var f=s[c];(l=n?n(f,c,s):i)===i&&(l=ru(f)?f:wi(e[o+1])?[]:{})}en(s,c,l),s=s[c]}return t}var eo=Pr?function(t,e){return Pr.set(t,e),t}:is,ro=ee?function(t,e){return ee(t,"toString",{configurable:!0,enumerable:!1,value:rs(e),writable:!0})}:is;function no(t){return Fi(Gu(t))}function oo(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=r(i);++o<i;)a[o]=t[o+e];return a}function io(t,e){var r;return pn(t,(function(t,n,o){return!(r=e(t,n,o))})),!!r}function ao(t,e,r){var n=0,o=null==t?n:t.length;if("number"==typeof e&&e===e&&o<=2147483647){for(;n<o;){var i=n+o>>>1,a=t[i];null!==a&&!lu(a)&&(r?a<=e:a<e)?n=i+1:o=i}return o}return uo(t,e,is,r)}function uo(t,e,r,n){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(e=r(e))!==e,s=null===e,c=lu(e),l=e===i;o<a;){var f=ye((o+a)/2),h=r(t[f]),p=h!==i,d=null===h,y=h===h,v=lu(h);if(u)var m=n||y;else m=l?y&&(n||p):s?y&&p&&(n||!d):c?y&&p&&!d&&(n||!v):!d&&!v&&(n?h<=e:h<e);m?o=f+1:a=f}return br(a,4294967294)}function so(t,e){for(var r=-1,n=t.length,o=0,i=[];++r<n;){var a=t[r],u=e?e(a):a;if(!r||!Ga(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function co(t){return"number"==typeof t?t:lu(t)?v:+t}function lo(t){if("string"==typeof t)return t;if($a(t))return Re(t,lo)+"";if(lu(t))return Br?Br.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fo(t,e,r){var n=-1,o=Ce,i=t.length,a=!0,u=[],s=u;if(r)a=!1,o=Ie;else if(i>=200){var c=e?null:Xo(t);if(c)return fr(c);a=!1,o=tr,s=new Kr}else s=e?[]:u;t:for(;++n<i;){var l=t[n],f=e?e(l):l;if(l=r||0!==l?l:0,a&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),u.push(l)}else o(s,f,r)||(s!==u&&s.push(f),u.push(l))}return u}function ho(t,e){return null==(t=Li(t,e=_o(e,t)))||delete t[Bi(Ji(e))]}function po(t,e,r,n){return to(t,e,r(Sn(t,e)),n)}function yo(t,e,r,n){for(var o=t.length,i=n?o:-1;(n?i--:++i<o)&&e(t[i],i,t););return r?oo(t,n?0:i,n?i+1:o):oo(t,n?i+1:0,n?o:i)}function vo(t,e){var r=t;return r instanceof Hr&&(r=r.value()),Ne(e,(function(t,e){return e.func.apply(e.thisArg,De([t],e.args))}),r)}function mo(t,e,n){var o=t.length;if(o<2)return o?fo(t[0]):[];for(var i=-1,a=r(o);++i<o;)for(var u=t[i],s=-1;++s<o;)s!=i&&(a[i]=hn(a[i]||u,t[s],e,n));return fo(gn(a,1),e,n)}function go(t,e,r){for(var n=-1,o=t.length,a=e.length,u={};++n<o;){var s=n<a?e[n]:i;r(u,t[n],s)}return u}function bo(t){return Ya(t)?t:[]}function wo(t){return"function"==typeof t?t:is}function _o(t,e){return $a(t)?t:Ei(t,e)?[t]:Mi(wu(t))}var Eo=Xn;function Oo(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:oo(t,e,r)}var So=ne||function(t){return de.clearTimeout(t)};function xo(t,e){if(e)return t.slice();var r=t.length,n=Vt?Vt(r):new t.constructor(r);return t.copy(n),n}function ko(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function jo(t,e){var r=e?ko(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function To(t,e){if(t!==e){var r=t!==i,n=null===t,o=t===t,a=lu(t),u=e!==i,s=null===e,c=e===e,l=lu(e);if(!s&&!l&&!a&&t>e||a&&u&&c&&!s&&!l||n&&u&&c||!r&&c||!o)return 1;if(!n&&!a&&!l&&t<e||l&&r&&o&&!n&&!a||s&&r&&o||!u&&o||!c)return-1}return 0}function Lo(t,e,n,o){for(var i=-1,a=t.length,u=n.length,s=-1,c=e.length,l=gr(a-u,0),f=r(c+l),h=!o;++s<c;)f[s]=e[s];for(;++i<u;)(h||i<a)&&(f[n[i]]=t[i]);for(;l--;)f[s++]=t[i++];return f}function Po(t,e,n,o){for(var i=-1,a=t.length,u=-1,s=n.length,c=-1,l=e.length,f=gr(a-s,0),h=r(f+l),p=!o;++i<f;)h[i]=t[i];for(var d=i;++c<l;)h[d+c]=e[c];for(;++u<s;)(p||i<a)&&(h[d+n[u]]=t[i++]);return h}function Ao(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function Co(t,e,r,n){var o=!r;r||(r={});for(var a=-1,u=e.length;++a<u;){var s=e[a],c=n?n(r[s],t[s],s,r,t):i;c===i&&(c=t[s]),o?an(r,s,c):en(r,s,c)}return r}function Io(t,e){return function(r,n){var o=$a(r)?je:nn,i=e?e():{};return o(r,t,li(n,2),i)}}function Ro(t){return Xn((function(e,r){var n=-1,o=r.length,a=o>1?r[o-1]:i,u=o>2?r[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,u&&_i(r[0],r[1],u)&&(a=o<3?i:a,o=1),e=kt(e);++n<o;){var s=r[n];s&&t(e,s,n,a)}return e}))}function Do(t,e){return function(r,n){if(null==r)return r;if(!Ka(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=kt(r);(e?i--:++i<o)&&!1!==n(a[i],i,a););return r}}function No(t){return function(e,r,n){for(var o=-1,i=kt(e),a=n(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===r(i[s],s,i))break}return e}}function Fo(t){return function(e){var r=ur(e=wu(e))?dr(e):i,n=r?r[0]:e.charAt(0),o=r?Oo(r,1).join(""):e.slice(1);return n[t]()+o}}function Mo(t){return function(e){return Ne(Zu(Vu(e).replace(Zt,"")),t,"")}}function Bo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=zr(t.prototype),n=t.apply(r,e);return ru(n)?n:r}}function Uo(t){return function(e,r,n){var o=kt(e);if(!Ka(e)){var a=li(r,3);e=Iu(e),r=function(t){return a(o[t],t,o)}}var u=t(e,r,n);return u>-1?o[a?e[u]:u]:i}}function zo(t){return oi((function(e){var r=e.length,n=r,o=qr.prototype.thru;for(t&&e.reverse();n--;){var u=e[n];if("function"!=typeof u)throw new Lt(a);if(o&&!s&&"wrapper"==si(u))var s=new qr([],!0)}for(n=s?n:r;++n<r;){var c=si(u=e[n]),l="wrapper"==c?ui(u):i;s=l&&Oi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[si(l[0])].apply(s,l[3]):1==u.length&&Oi(u)?s[c]():s.thru(u)}return function(){var t=arguments,n=t[0];if(s&&1==t.length&&$a(n))return s.plant(n).value();for(var o=0,i=r?e[o].apply(this,t):n;++o<r;)i=e[o].call(this,i);return i}}))}function Go(t,e,n,o,a,u,s,c,l,f){var p=e&h,d=1&e,y=2&e,v=24&e,m=512&e,g=y?i:Bo(t);return function i(){for(var h=arguments.length,b=r(h),w=h;w--;)b[w]=arguments[w];if(v)var _=ci(i),E=nr(b,_);if(o&&(b=Lo(b,o,a,v)),u&&(b=Po(b,u,s,v)),h-=E,v&&h<f){var O=lr(b,_);return Yo(t,e,Go,i.placeholder,n,b,O,c,l,f-h)}var S=d?n:this,x=y?S[t]:t;return h=b.length,c?b=Pi(b,c):m&&h>1&&b.reverse(),p&&l<h&&(b.length=l),this&&this!==de&&this instanceof i&&(x=g||Bo(x)),x.apply(S,b)}}function qo(t,e){return function(r,n){return function(t,e,r,n){return _n(t,(function(t,o,i){e(n,r(t),o,i)})),n}(r,t,e(n),{})}}function Ho(t,e){return function(r,n){var o;if(r===i&&n===i)return e;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=lo(r),n=lo(n)):(r=co(r),n=co(n)),o=t(r,n)}return o}}function Vo(t){return oi((function(e){return e=Re(e,Je(li())),Xn((function(r){var n=this;return t(e,(function(t){return ke(t,n,r)}))}))}))}function $o(t,e){var r=(e=e===i?" ":lo(e)).length;if(r<2)return r?Qn(e,t):e;var n=Qn(e,pe(t/pr(e)));return ur(e)?Oo(dr(n),0,t).join(""):n.slice(0,t)}function Wo(t){return function(e,n,o){return o&&"number"!=typeof o&&_i(e,n,o)&&(n=o=i),e=yu(e),n===i?(n=e,e=0):n=yu(n),function(t,e,n,o){for(var i=-1,a=gr(pe((e-t)/(n||1)),0),u=r(a);a--;)u[o?a:++i]=t,t+=n;return u}(e,n,o=o===i?e<n?1:-1:yu(o),t)}}function Ko(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=gu(e),r=gu(r)),t(e,r)}}function Yo(t,e,r,n,o,a,u,s,c,h){var p=8&e;e|=p?l:f,4&(e&=~(p?f:l))||(e&=-4);var d=[t,e,o,p?a:i,p?u:i,p?i:a,p?i:u,s,c,h],y=r.apply(i,d);return Oi(t)&&Ci(y,d),y.placeholder=n,Di(y,t,e)}function Qo(t){var e=xt[t];return function(t,r){if(t=gu(t),(r=null==r?0:br(vu(r),292))&&be(t)){var n=(wu(t)+"e").split("e");return+((n=(wu(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Xo=jr&&1/fr(new jr([,-0]))[1]==d?function(t){return new jr(t)}:ls;function Jo(t){return function(e){var r=vi(e);return r==k?sr(e):r==A?hr(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Zo(t,e,n,o,u,d,y,v){var m=2&e;if(!m&&"function"!=typeof t)throw new Lt(a);var g=o?o.length:0;if(g||(e&=-97,o=u=i),y=y===i?y:gr(vu(y),0),v=v===i?v:vu(v),g-=u?u.length:0,e&f){var b=o,w=u;o=u=i}var _=m?i:ui(t),E=[t,e,n,o,u,b,w,d,y,v];if(_&&function(t,e){var r=t[1],n=e[1],o=r|n,i=o<131,a=n==h&&8==r||n==h&&r==p&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!i&&!a)return t;1&n&&(t[2]=e[2],o|=1&r?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Lo(c,u,e[4]):u,t[4]=c?lr(t[3],s):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Po(c,u,e[6]):u,t[6]=c?lr(t[5],s):e[6]);(u=e[7])&&(t[7]=u);n&h&&(t[8]=null==t[8]?e[8]:br(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(E,_),t=E[0],e=E[1],n=E[2],o=E[3],u=E[4],!(v=E[9]=E[9]===i?m?0:t.length:gr(E[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)O=8==e||e==c?function(t,e,n){var o=Bo(t);return function a(){for(var u=arguments.length,s=r(u),c=u,l=ci(a);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:lr(s,l);return(u-=f.length)<n?Yo(t,e,Go,a.placeholder,i,s,f,i,i,n-u):ke(this&&this!==de&&this instanceof a?o:t,this,s)}}(t,e,v):e!=l&&33!=e||u.length?Go.apply(i,E):function(t,e,n,o){var i=1&e,a=Bo(t);return function e(){for(var u=-1,s=arguments.length,c=-1,l=o.length,f=r(l+s),h=this&&this!==de&&this instanceof e?a:t;++c<l;)f[c]=o[c];for(;s--;)f[c++]=arguments[++u];return ke(h,i?n:this,f)}}(t,e,n,o);else var O=function(t,e,r){var n=1&e,o=Bo(t);return function e(){return(this&&this!==de&&this instanceof e?o:t).apply(n?r:this,arguments)}}(t,e,n);return Di((_?eo:Ci)(O,E),t,e)}function ti(t,e,r,n){return t===i||Ga(t,Ct[r])&&!Dt.call(n,r)?e:t}function ei(t,e,r,n,o,a){return ru(t)&&ru(e)&&(a.set(e,t),qn(t,e,i,ei,a),a.delete(e)),t}function ri(t){return au(t)?i:t}function ni(t,e,r,n,o,a){var u=1&r,s=t.length,c=e.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(t),f=a.get(e);if(l&&f)return l==e&&f==t;var h=-1,p=!0,d=2&r?new Kr:i;for(a.set(t,e),a.set(e,t);++h<s;){var y=t[h],v=e[h];if(n)var m=u?n(v,y,h,e,t,a):n(y,v,h,t,e,a);if(m!==i){if(m)continue;p=!1;break}if(d){if(!Me(e,(function(t,e){if(!tr(d,e)&&(y===t||o(y,t,r,n,a)))return d.push(e)}))){p=!1;break}}else if(y!==v&&!o(y,v,r,n,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function oi(t){return Ri(Ti(t,i,Wi),t+"")}function ii(t){return xn(t,Iu,di)}function ai(t){return xn(t,Ru,yi)}var ui=Pr?function(t){return Pr.get(t)}:ls;function si(t){for(var e=t.name+"",r=Ar[e],n=Dt.call(Ar,e)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==t)return o.name}return e}function ci(t){return(Dt.call(Ur,"placeholder")?Ur:t).placeholder}function li(){var t=Ur.iteratee||as;return t=t===as?Nn:t,arguments.length?t(arguments[0],arguments[1]):t}function fi(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function hi(t){for(var e=Iu(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,ki(o)]}return e}function pi(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return Dn(r)?r:i}var di=ve?function(t){return null==t?[]:(t=kt(t),Ae(ve(t),(function(e){return Kt.call(t,e)})))}:ms,yi=ve?function(t){for(var e=[];t;)De(e,di(t)),t=$t(t);return e}:ms,vi=kn;function mi(t,e,r){for(var n=-1,o=(e=_o(e,t)).length,i=!1;++n<o;){var a=Bi(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&eu(o)&&wi(a,o)&&($a(t)||Va(t))}function gi(t){return"function"!=typeof t.constructor||xi(t)?{}:zr($t(t))}function bi(t){return $a(t)||Va(t)||!!(Qt&&t&&t[Qt])}function wi(t,e){var r=typeof t;return!!(e=null==e?y:e)&&("number"==r||"symbol"!=r&&_t.test(t))&&t>-1&&t%1==0&&t<e}function _i(t,e,r){if(!ru(r))return!1;var n=typeof e;return!!("number"==n?Ka(r)&&wi(e,r.length):"string"==n&&e in r)&&Ga(r[e],t)}function Ei(t,e){if($a(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!lu(t))||(nt.test(t)||!rt.test(t)||null!=e&&t in kt(e))}function Oi(t){var e=si(t),r=Ur[e];if("function"!=typeof r||!(e in Hr.prototype))return!1;if(t===r)return!0;var n=ui(r);return!!n&&t===n[0]}(Sr&&vi(new Sr(new ArrayBuffer(1)))!=N||xr&&vi(new xr)!=k||kr&&vi(kr.resolve())!=L||jr&&vi(new jr)!=A||Tr&&vi(new Tr)!=R)&&(vi=function(t){var e=kn(t),r=e==T?t.constructor:i,n=r?Ui(r):"";if(n)switch(n){case Cr:return N;case Ir:return k;case Rr:return L;case Dr:return A;case Nr:return R}return e});var Si=It?Za:gs;function xi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ct)}function ki(t){return t===t&&!ru(t)}function ji(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==i||t in kt(r)))}}function Ti(t,e,n){return e=gr(e===i?t.length-1:e,0),function(){for(var o=arguments,i=-1,a=gr(o.length-e,0),u=r(a);++i<a;)u[i]=o[e+i];i=-1;for(var s=r(e+1);++i<e;)s[i]=o[i];return s[e]=n(u),ke(t,this,s)}}function Li(t,e){return e.length<2?t:Sn(t,oo(e,0,-1))}function Pi(t,e){for(var r=t.length,n=br(e.length,r),o=Ao(t);n--;){var a=e[n];t[n]=wi(a,r)?o[a]:i}return t}function Ai(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Ci=Ni(eo),Ii=he||function(t,e){return de.setTimeout(t,e)},Ri=Ni(ro);function Di(t,e,r){var n=e+"";return Ri(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ct,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Te(g,(function(r){var n="_."+r[0];e&r[1]&&!Ce(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ft):[]}(n),r)))}function Ni(t){var e=0,r=0;return function(){var n=wr(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Fi(t,e){var r=-1,n=t.length,o=n-1;for(e=e===i?n:e;++r<e;){var a=Yn(r,o),u=t[a];t[a]=t[r],t[r]=u}return t.length=e,t}var Mi=function(t){var e=Na(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ot,(function(t,r,n,o){e.push(n?o.replace(dt,"$1"):r||t)})),e}));function Bi(t){if("string"==typeof t||lu(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ui(t){if(null!=t){try{return Rt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function zi(t){if(t instanceof Hr)return t.clone();var e=new qr(t.__wrapped__,t.__chain__);return e.__actions__=Ao(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Gi=Xn((function(t,e){return Ya(t)?hn(t,gn(e,1,Ya,!0)):[]})),qi=Xn((function(t,e){var r=Ji(e);return Ya(r)&&(r=i),Ya(t)?hn(t,gn(e,1,Ya,!0),li(r,2)):[]})),Hi=Xn((function(t,e){var r=Ji(e);return Ya(r)&&(r=i),Ya(t)?hn(t,gn(e,1,Ya,!0),i,r):[]}));function Vi(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=null==r?0:vu(r);return o<0&&(o=gr(n+o,0)),ze(t,li(e,3),o)}function $i(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return r!==i&&(o=vu(r),o=r<0?gr(n+o,0):br(o,n-1)),ze(t,li(e,3),o,!0)}function Wi(t){return(null==t?0:t.length)?gn(t,1):[]}function Ki(t){return t&&t.length?t[0]:i}var Yi=Xn((function(t){var e=Re(t,bo);return e.length&&e[0]===t[0]?Pn(e):[]})),Qi=Xn((function(t){var e=Ji(t),r=Re(t,bo);return e===Ji(r)?e=i:r.pop(),r.length&&r[0]===t[0]?Pn(r,li(e,2)):[]})),Xi=Xn((function(t){var e=Ji(t),r=Re(t,bo);return(e="function"==typeof e?e:i)&&r.pop(),r.length&&r[0]===t[0]?Pn(r,i,e):[]}));function Ji(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Zi=Xn(ta);function ta(t,e){return t&&t.length&&e&&e.length?Wn(t,e):t}var ea=oi((function(t,e){var r=null==t?0:t.length,n=un(t,e);return Kn(t,Re(e,(function(t){return wi(t,r)?+t:t})).sort(To)),n}));function ra(t){return null==t?t:Or.call(t)}var na=Xn((function(t){return fo(gn(t,1,Ya,!0))})),oa=Xn((function(t){var e=Ji(t);return Ya(e)&&(e=i),fo(gn(t,1,Ya,!0),li(e,2))})),ia=Xn((function(t){var e=Ji(t);return e="function"==typeof e?e:i,fo(gn(t,1,Ya,!0),i,e)}));function aa(t){if(!t||!t.length)return[];var e=0;return t=Ae(t,(function(t){if(Ya(t))return e=gr(t.length,e),!0})),Qe(e,(function(e){return Re(t,$e(e))}))}function ua(t,e){if(!t||!t.length)return[];var r=aa(t);return null==e?r:Re(r,(function(t){return ke(e,i,t)}))}var sa=Xn((function(t,e){return Ya(t)?hn(t,e):[]})),ca=Xn((function(t){return mo(Ae(t,Ya))})),la=Xn((function(t){var e=Ji(t);return Ya(e)&&(e=i),mo(Ae(t,Ya),li(e,2))})),fa=Xn((function(t){var e=Ji(t);return e="function"==typeof e?e:i,mo(Ae(t,Ya),i,e)})),ha=Xn(aa);var pa=Xn((function(t){var e=t.length,r=e>1?t[e-1]:i;return r="function"==typeof r?(t.pop(),r):i,ua(t,r)}));function da(t){var e=Ur(t);return e.__chain__=!0,e}function ya(t,e){return e(t)}var va=oi((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,o=function(e){return un(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Hr&&wi(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:ya,args:[o],thisArg:i}),new qr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var ma=Io((function(t,e,r){Dt.call(t,r)?++t[r]:an(t,r,1)}));var ga=Uo(Vi),ba=Uo($i);function wa(t,e){return($a(t)?Te:pn)(t,li(e,3))}function _a(t,e){return($a(t)?Le:dn)(t,li(e,3))}var Ea=Io((function(t,e,r){Dt.call(t,r)?t[r].push(e):an(t,r,[e])}));var Oa=Xn((function(t,e,n){var o=-1,i="function"==typeof e,a=Ka(t)?r(t.length):[];return pn(t,(function(t){a[++o]=i?ke(e,t,n):An(t,e,n)})),a})),Sa=Io((function(t,e,r){an(t,r,e)}));function xa(t,e){return($a(t)?Re:Un)(t,li(e,3))}var ka=Io((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var ja=Xn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&_i(t,e[0],e[1])?e=[]:r>2&&_i(e[0],e[1],e[2])&&(e=[e[0]]),Vn(t,gn(e,1),[])})),Ta=ce||function(){return de.Date.now()};function La(t,e,r){return e=r?i:e,e=t&&null==e?t.length:e,Zo(t,h,i,i,i,i,e)}function Pa(t,e){var r;if("function"!=typeof e)throw new Lt(a);return t=vu(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var Aa=Xn((function(t,e,r){var n=1;if(r.length){var o=lr(r,ci(Aa));n|=l}return Zo(t,n,e,r,o)})),Ca=Xn((function(t,e,r){var n=3;if(r.length){var o=lr(r,ci(Ca));n|=l}return Zo(e,n,t,r,o)}));function Ia(t,e,r){var n,o,u,s,c,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new Lt(a);function y(e){var r=n,a=o;return n=o=i,f=e,s=t.apply(a,r)}function v(t){return f=t,c=Ii(g,e),h?y(t):s}function m(t){var r=t-l;return l===i||r>=e||r<0||p&&t-f>=u}function g(){var t=Ta();if(m(t))return b(t);c=Ii(g,function(t){var r=e-(t-l);return p?br(r,u-(t-f)):r}(t))}function b(t){return c=i,d&&n?y(t):(n=o=i,s)}function w(){var t=Ta(),r=m(t);if(n=arguments,o=this,l=t,r){if(c===i)return v(l);if(p)return So(c),c=Ii(g,e),y(l)}return c===i&&(c=Ii(g,e)),s}return e=gu(e)||0,ru(r)&&(h=!!r.leading,u=(p="maxWait"in r)?gr(gu(r.maxWait)||0,e):u,d="trailing"in r?!!r.trailing:d),w.cancel=function(){c!==i&&So(c),f=0,n=l=o=c=i},w.flush=function(){return c===i?s:b(Ta())},w}var Ra=Xn((function(t,e){return fn(t,1,e)})),Da=Xn((function(t,e,r){return fn(t,gu(e)||0,r)}));function Na(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Lt(a);var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Na.Cache||Wr),r}function Fa(t){if("function"!=typeof t)throw new Lt(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Na.Cache=Wr;var Ma=Eo((function(t,e){var r=(e=1==e.length&&$a(e[0])?Re(e[0],Je(li())):Re(gn(e,1),Je(li()))).length;return Xn((function(n){for(var o=-1,i=br(n.length,r);++o<i;)n[o]=e[o].call(this,n[o]);return ke(t,this,n)}))})),Ba=Xn((function(t,e){var r=lr(e,ci(Ba));return Zo(t,l,i,e,r)})),Ua=Xn((function(t,e){var r=lr(e,ci(Ua));return Zo(t,f,i,e,r)})),za=oi((function(t,e){return Zo(t,p,i,i,i,e)}));function Ga(t,e){return t===e||t!==t&&e!==e}var qa=Ko(jn),Ha=Ko((function(t,e){return t>=e})),Va=Cn(function(){return arguments}())?Cn:function(t){return nu(t)&&Dt.call(t,"callee")&&!Kt.call(t,"callee")},$a=r.isArray,Wa=we?Je(we):function(t){return nu(t)&&kn(t)==D};function Ka(t){return null!=t&&eu(t.length)&&!Za(t)}function Ya(t){return nu(t)&&Ka(t)}var Qa=ge||gs,Xa=_e?Je(_e):function(t){return nu(t)&&kn(t)==E};function Ja(t){if(!nu(t))return!1;var e=kn(t);return e==O||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!au(t)}function Za(t){if(!ru(t))return!1;var e=kn(t);return e==S||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function tu(t){return"number"==typeof t&&t==vu(t)}function eu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function ru(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function nu(t){return null!=t&&"object"==typeof t}var ou=Ee?Je(Ee):function(t){return nu(t)&&vi(t)==k};function iu(t){return"number"==typeof t||nu(t)&&kn(t)==j}function au(t){if(!nu(t)||kn(t)!=T)return!1;var e=$t(t);if(null===e)return!0;var r=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Rt.call(r)==Bt}var uu=Oe?Je(Oe):function(t){return nu(t)&&kn(t)==P};var su=Se?Je(Se):function(t){return nu(t)&&vi(t)==A};function cu(t){return"string"==typeof t||!$a(t)&&nu(t)&&kn(t)==C}function lu(t){return"symbol"==typeof t||nu(t)&&kn(t)==I}var fu=xe?Je(xe):function(t){return nu(t)&&eu(t.length)&&!!ue[kn(t)]};var hu=Ko(Bn),pu=Ko((function(t,e){return t<=e}));function du(t){if(!t)return[];if(Ka(t))return cu(t)?dr(t):Ao(t);if(Xt&&t[Xt])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Xt]());var e=vi(t);return(e==k?sr:e==A?fr:Gu)(t)}function yu(t){return t?(t=gu(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function vu(t){var e=yu(t),r=e%1;return e===e?r?e-r:e:0}function mu(t){return t?sn(vu(t),0,m):0}function gu(t){if("number"==typeof t)return t;if(lu(t))return v;if(ru(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ru(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Xe(t);var r=gt.test(t);return r||wt.test(t)?fe(t.slice(2),r?2:8):mt.test(t)?v:+t}function bu(t){return Co(t,Ru(t))}function wu(t){return null==t?"":lo(t)}var _u=Ro((function(t,e){if(xi(e)||Ka(e))Co(e,Iu(e),t);else for(var r in e)Dt.call(e,r)&&en(t,r,e[r])})),Eu=Ro((function(t,e){Co(e,Ru(e),t)})),Ou=Ro((function(t,e,r,n){Co(e,Ru(e),t,n)})),Su=Ro((function(t,e,r,n){Co(e,Iu(e),t,n)})),xu=oi(un);var ku=Xn((function(t,e){t=kt(t);var r=-1,n=e.length,o=n>2?e[2]:i;for(o&&_i(e[0],e[1],o)&&(n=1);++r<n;)for(var a=e[r],u=Ru(a),s=-1,c=u.length;++s<c;){var l=u[s],f=t[l];(f===i||Ga(f,Ct[l])&&!Dt.call(t,l))&&(t[l]=a[l])}return t})),ju=Xn((function(t){return t.push(i,ei),ke(Nu,i,t)}));function Tu(t,e,r){var n=null==t?i:Sn(t,e);return n===i?r:n}function Lu(t,e){return null!=t&&mi(t,e,Ln)}var Pu=qo((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),t[e]=r}),rs(is)),Au=qo((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),Dt.call(t,e)?t[e].push(r):t[e]=[r]}),li),Cu=Xn(An);function Iu(t){return Ka(t)?Qr(t):Fn(t)}function Ru(t){return Ka(t)?Qr(t,!0):Mn(t)}var Du=Ro((function(t,e,r){qn(t,e,r)})),Nu=Ro((function(t,e,r,n){qn(t,e,r,n)})),Fu=oi((function(t,e){var r={};if(null==t)return r;var n=!1;e=Re(e,(function(e){return e=_o(e,t),n||(n=e.length>1),e})),Co(t,ai(t),r),n&&(r=cn(r,7,ri));for(var o=e.length;o--;)ho(r,e[o]);return r}));var Mu=oi((function(t,e){return null==t?{}:function(t,e){return $n(t,e,(function(e,r){return Lu(t,r)}))}(t,e)}));function Bu(t,e){if(null==t)return{};var r=Re(ai(t),(function(t){return[t]}));return e=li(e),$n(t,r,(function(t,r){return e(t,r[0])}))}var Uu=Jo(Iu),zu=Jo(Ru);function Gu(t){return null==t?[]:Ze(t,Iu(t))}var qu=Mo((function(t,e,r){return e=e.toLowerCase(),t+(r?Hu(e):e)}));function Hu(t){return Ju(wu(t).toLowerCase())}function Vu(t){return(t=wu(t))&&t.replace(Et,or).replace(te,"")}var $u=Mo((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Wu=Mo((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Ku=Fo("toLowerCase");var Yu=Mo((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Qu=Mo((function(t,e,r){return t+(r?" ":"")+Ju(e)}));var Xu=Mo((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Ju=Fo("toUpperCase");function Zu(t,e,r){return t=wu(t),(e=r?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var ts=Xn((function(t,e){try{return ke(t,i,e)}catch(r){return Ja(r)?r:new o(r)}})),es=oi((function(t,e){return Te(e,(function(e){e=Bi(e),an(t,e,Aa(t[e],t))})),t}));function rs(t){return function(){return t}}var ns=zo(),os=zo(!0);function is(t){return t}function as(t){return Nn("function"==typeof t?t:cn(t,1))}var us=Xn((function(t,e){return function(r){return An(r,t,e)}})),ss=Xn((function(t,e){return function(r){return An(t,r,e)}}));function cs(t,e,r){var n=Iu(e),o=On(e,n);null!=r||ru(e)&&(o.length||!n.length)||(r=e,e=t,t=this,o=On(e,Iu(e)));var i=!(ru(r)&&"chain"in r)||!!r.chain,a=Za(t);return Te(o,(function(r){var n=e[r];t[r]=n,a&&(t.prototype[r]=function(){var e=this.__chain__;if(i||e){var r=t(this.__wrapped__),o=r.__actions__=Ao(this.__actions__);return o.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,De([this.value()],arguments))})})),t}function ls(){}var fs=Vo(Re),hs=Vo(Pe),ps=Vo(Me);function ds(t){return Ei(t)?$e(Bi(t)):function(t){return function(e){return Sn(e,t)}}(t)}var ys=Wo(),vs=Wo(!0);function ms(){return[]}function gs(){return!1}var bs=Ho((function(t,e){return t+e}),0),ws=Qo("ceil"),_s=Ho((function(t,e){return t/e}),1),Es=Qo("floor");var Os=Ho((function(t,e){return t*e}),1),Ss=Qo("round"),xs=Ho((function(t,e){return t-e}),0);return Ur.after=function(t,e){if("function"!=typeof e)throw new Lt(a);return t=vu(t),function(){if(--t<1)return e.apply(this,arguments)}},Ur.ary=La,Ur.assign=_u,Ur.assignIn=Eu,Ur.assignInWith=Ou,Ur.assignWith=Su,Ur.at=xu,Ur.before=Pa,Ur.bind=Aa,Ur.bindAll=es,Ur.bindKey=Ca,Ur.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return $a(t)?t:[t]},Ur.chain=da,Ur.chunk=function(t,e,n){e=(n?_i(t,e,n):e===i)?1:gr(vu(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,u=0,s=r(pe(o/e));a<o;)s[u++]=oo(t,a,a+=e);return s},Ur.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,o=[];++e<r;){var i=t[e];i&&(o[n++]=i)}return o},Ur.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return De($a(n)?Ao(n):[n],gn(e,1))},Ur.cond=function(t){var e=null==t?0:t.length,r=li();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new Lt(a);return[r(t[0]),t[1]]})):[],Xn((function(r){for(var n=-1;++n<e;){var o=t[n];if(ke(o[0],this,r))return ke(o[1],this,r)}}))},Ur.conforms=function(t){return function(t){var e=Iu(t);return function(r){return ln(r,t,e)}}(cn(t,1))},Ur.constant=rs,Ur.countBy=ma,Ur.create=function(t,e){var r=zr(t);return null==e?r:on(r,e)},Ur.curry=function t(e,r,n){var o=Zo(e,8,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Ur.curryRight=function t(e,r,n){var o=Zo(e,c,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Ur.debounce=Ia,Ur.defaults=ku,Ur.defaultsDeep=ju,Ur.defer=Ra,Ur.delay=Da,Ur.difference=Gi,Ur.differenceBy=qi,Ur.differenceWith=Hi,Ur.drop=function(t,e,r){var n=null==t?0:t.length;return n?oo(t,(e=r||e===i?1:vu(e))<0?0:e,n):[]},Ur.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?oo(t,0,(e=n-(e=r||e===i?1:vu(e)))<0?0:e):[]},Ur.dropRightWhile=function(t,e){return t&&t.length?yo(t,li(e,3),!0,!0):[]},Ur.dropWhile=function(t,e){return t&&t.length?yo(t,li(e,3),!0):[]},Ur.fill=function(t,e,r,n){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&_i(t,e,r)&&(r=0,n=o),function(t,e,r,n){var o=t.length;for((r=vu(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:vu(n))<0&&(n+=o),n=r>n?0:mu(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Ur.filter=function(t,e){return($a(t)?Ae:mn)(t,li(e,3))},Ur.flatMap=function(t,e){return gn(xa(t,e),1)},Ur.flatMapDeep=function(t,e){return gn(xa(t,e),d)},Ur.flatMapDepth=function(t,e,r){return r=r===i?1:vu(r),gn(xa(t,e),r)},Ur.flatten=Wi,Ur.flattenDeep=function(t){return(null==t?0:t.length)?gn(t,d):[]},Ur.flattenDepth=function(t,e){return(null==t?0:t.length)?gn(t,e=e===i?1:vu(e)):[]},Ur.flip=function(t){return Zo(t,512)},Ur.flow=ns,Ur.flowRight=os,Ur.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var o=t[e];n[o[0]]=o[1]}return n},Ur.functions=function(t){return null==t?[]:On(t,Iu(t))},Ur.functionsIn=function(t){return null==t?[]:On(t,Ru(t))},Ur.groupBy=Ea,Ur.initial=function(t){return(null==t?0:t.length)?oo(t,0,-1):[]},Ur.intersection=Yi,Ur.intersectionBy=Qi,Ur.intersectionWith=Xi,Ur.invert=Pu,Ur.invertBy=Au,Ur.invokeMap=Oa,Ur.iteratee=as,Ur.keyBy=Sa,Ur.keys=Iu,Ur.keysIn=Ru,Ur.map=xa,Ur.mapKeys=function(t,e){var r={};return e=li(e,3),_n(t,(function(t,n,o){an(r,e(t,n,o),t)})),r},Ur.mapValues=function(t,e){var r={};return e=li(e,3),_n(t,(function(t,n,o){an(r,n,e(t,n,o))})),r},Ur.matches=function(t){return zn(cn(t,1))},Ur.matchesProperty=function(t,e){return Gn(t,cn(e,1))},Ur.memoize=Na,Ur.merge=Du,Ur.mergeWith=Nu,Ur.method=us,Ur.methodOf=ss,Ur.mixin=cs,Ur.negate=Fa,Ur.nthArg=function(t){return t=vu(t),Xn((function(e){return Hn(e,t)}))},Ur.omit=Fu,Ur.omitBy=function(t,e){return Bu(t,Fa(li(e)))},Ur.once=function(t){return Pa(2,t)},Ur.orderBy=function(t,e,r,n){return null==t?[]:($a(e)||(e=null==e?[]:[e]),$a(r=n?i:r)||(r=null==r?[]:[r]),Vn(t,e,r))},Ur.over=fs,Ur.overArgs=Ma,Ur.overEvery=hs,Ur.overSome=ps,Ur.partial=Ba,Ur.partialRight=Ua,Ur.partition=ka,Ur.pick=Mu,Ur.pickBy=Bu,Ur.property=ds,Ur.propertyOf=function(t){return function(e){return null==t?i:Sn(t,e)}},Ur.pull=Zi,Ur.pullAll=ta,Ur.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Wn(t,e,li(r,2)):t},Ur.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Wn(t,e,i,r):t},Ur.pullAt=ea,Ur.range=ys,Ur.rangeRight=vs,Ur.rearg=za,Ur.reject=function(t,e){return($a(t)?Ae:mn)(t,Fa(li(e,3)))},Ur.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,o=[],i=t.length;for(e=li(e,3);++n<i;){var a=t[n];e(a,n,t)&&(r.push(a),o.push(n))}return Kn(t,o),r},Ur.rest=function(t,e){if("function"!=typeof t)throw new Lt(a);return Xn(t,e=e===i?e:vu(e))},Ur.reverse=ra,Ur.sampleSize=function(t,e,r){return e=(r?_i(t,e,r):e===i)?1:vu(e),($a(t)?Jr:Zn)(t,e)},Ur.set=function(t,e,r){return null==t?t:to(t,e,r)},Ur.setWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:to(t,e,r,n)},Ur.shuffle=function(t){return($a(t)?Zr:no)(t)},Ur.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&_i(t,e,r)?(e=0,r=n):(e=null==e?0:vu(e),r=r===i?n:vu(r)),oo(t,e,r)):[]},Ur.sortBy=ja,Ur.sortedUniq=function(t){return t&&t.length?so(t):[]},Ur.sortedUniqBy=function(t,e){return t&&t.length?so(t,li(e,2)):[]},Ur.split=function(t,e,r){return r&&"number"!=typeof r&&_i(t,e,r)&&(e=r=i),(r=r===i?m:r>>>0)?(t=wu(t))&&("string"==typeof e||null!=e&&!uu(e))&&!(e=lo(e))&&ur(t)?Oo(dr(t),0,r):t.split(e,r):[]},Ur.spread=function(t,e){if("function"!=typeof t)throw new Lt(a);return e=null==e?0:gr(vu(e),0),Xn((function(r){var n=r[e],o=Oo(r,0,e);return n&&De(o,n),ke(t,this,o)}))},Ur.tail=function(t){var e=null==t?0:t.length;return e?oo(t,1,e):[]},Ur.take=function(t,e,r){return t&&t.length?oo(t,0,(e=r||e===i?1:vu(e))<0?0:e):[]},Ur.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?oo(t,(e=n-(e=r||e===i?1:vu(e)))<0?0:e,n):[]},Ur.takeRightWhile=function(t,e){return t&&t.length?yo(t,li(e,3),!1,!0):[]},Ur.takeWhile=function(t,e){return t&&t.length?yo(t,li(e,3)):[]},Ur.tap=function(t,e){return e(t),t},Ur.throttle=function(t,e,r){var n=!0,o=!0;if("function"!=typeof t)throw new Lt(a);return ru(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),Ia(t,e,{leading:n,maxWait:e,trailing:o})},Ur.thru=ya,Ur.toArray=du,Ur.toPairs=Uu,Ur.toPairsIn=zu,Ur.toPath=function(t){return $a(t)?Re(t,Bi):lu(t)?[t]:Ao(Mi(wu(t)))},Ur.toPlainObject=bu,Ur.transform=function(t,e,r){var n=$a(t),o=n||Qa(t)||fu(t);if(e=li(e,4),null==r){var i=t&&t.constructor;r=o?n?new i:[]:ru(t)&&Za(i)?zr($t(t)):{}}return(o?Te:_n)(t,(function(t,n,o){return e(r,t,n,o)})),r},Ur.unary=function(t){return La(t,1)},Ur.union=na,Ur.unionBy=oa,Ur.unionWith=ia,Ur.uniq=function(t){return t&&t.length?fo(t):[]},Ur.uniqBy=function(t,e){return t&&t.length?fo(t,li(e,2)):[]},Ur.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?fo(t,i,e):[]},Ur.unset=function(t,e){return null==t||ho(t,e)},Ur.unzip=aa,Ur.unzipWith=ua,Ur.update=function(t,e,r){return null==t?t:po(t,e,wo(r))},Ur.updateWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:po(t,e,wo(r),n)},Ur.values=Gu,Ur.valuesIn=function(t){return null==t?[]:Ze(t,Ru(t))},Ur.without=sa,Ur.words=Zu,Ur.wrap=function(t,e){return Ba(wo(e),t)},Ur.xor=ca,Ur.xorBy=la,Ur.xorWith=fa,Ur.zip=ha,Ur.zipObject=function(t,e){return go(t||[],e||[],en)},Ur.zipObjectDeep=function(t,e){return go(t||[],e||[],to)},Ur.zipWith=pa,Ur.entries=Uu,Ur.entriesIn=zu,Ur.extend=Eu,Ur.extendWith=Ou,cs(Ur,Ur),Ur.add=bs,Ur.attempt=ts,Ur.camelCase=qu,Ur.capitalize=Hu,Ur.ceil=ws,Ur.clamp=function(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=(r=gu(r))===r?r:0),e!==i&&(e=(e=gu(e))===e?e:0),sn(gu(t),e,r)},Ur.clone=function(t){return cn(t,4)},Ur.cloneDeep=function(t){return cn(t,5)},Ur.cloneDeepWith=function(t,e){return cn(t,5,e="function"==typeof e?e:i)},Ur.cloneWith=function(t,e){return cn(t,4,e="function"==typeof e?e:i)},Ur.conformsTo=function(t,e){return null==e||ln(t,e,Iu(e))},Ur.deburr=Vu,Ur.defaultTo=function(t,e){return null==t||t!==t?e:t},Ur.divide=_s,Ur.endsWith=function(t,e,r){t=wu(t),e=lo(e);var n=t.length,o=r=r===i?n:sn(vu(r),0,n);return(r-=e.length)>=0&&t.slice(r,o)==e},Ur.eq=Ga,Ur.escape=function(t){return(t=wu(t))&&J.test(t)?t.replace(Q,ir):t},Ur.escapeRegExp=function(t){return(t=wu(t))&&at.test(t)?t.replace(it,"\\$&"):t},Ur.every=function(t,e,r){var n=$a(t)?Pe:yn;return r&&_i(t,e,r)&&(e=i),n(t,li(e,3))},Ur.find=ga,Ur.findIndex=Vi,Ur.findKey=function(t,e){return Ue(t,li(e,3),_n)},Ur.findLast=ba,Ur.findLastIndex=$i,Ur.findLastKey=function(t,e){return Ue(t,li(e,3),En)},Ur.floor=Es,Ur.forEach=wa,Ur.forEachRight=_a,Ur.forIn=function(t,e){return null==t?t:bn(t,li(e,3),Ru)},Ur.forInRight=function(t,e){return null==t?t:wn(t,li(e,3),Ru)},Ur.forOwn=function(t,e){return t&&_n(t,li(e,3))},Ur.forOwnRight=function(t,e){return t&&En(t,li(e,3))},Ur.get=Tu,Ur.gt=qa,Ur.gte=Ha,Ur.has=function(t,e){return null!=t&&mi(t,e,Tn)},Ur.hasIn=Lu,Ur.head=Ki,Ur.identity=is,Ur.includes=function(t,e,r,n){t=Ka(t)?t:Gu(t),r=r&&!n?vu(r):0;var o=t.length;return r<0&&(r=gr(o+r,0)),cu(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&Ge(t,e,r)>-1},Ur.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=null==r?0:vu(r);return o<0&&(o=gr(n+o,0)),Ge(t,e,o)},Ur.inRange=function(t,e,r){return e=yu(e),r===i?(r=e,e=0):r=yu(r),function(t,e,r){return t>=br(e,r)&&t<gr(e,r)}(t=gu(t),e,r)},Ur.invoke=Cu,Ur.isArguments=Va,Ur.isArray=$a,Ur.isArrayBuffer=Wa,Ur.isArrayLike=Ka,Ur.isArrayLikeObject=Ya,Ur.isBoolean=function(t){return!0===t||!1===t||nu(t)&&kn(t)==_},Ur.isBuffer=Qa,Ur.isDate=Xa,Ur.isElement=function(t){return nu(t)&&1===t.nodeType&&!au(t)},Ur.isEmpty=function(t){if(null==t)return!0;if(Ka(t)&&($a(t)||"string"==typeof t||"function"==typeof t.splice||Qa(t)||fu(t)||Va(t)))return!t.length;var e=vi(t);if(e==k||e==A)return!t.size;if(xi(t))return!Fn(t).length;for(var r in t)if(Dt.call(t,r))return!1;return!0},Ur.isEqual=function(t,e){return In(t,e)},Ur.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:i)?r(t,e):i;return n===i?In(t,e,i,r):!!n},Ur.isError=Ja,Ur.isFinite=function(t){return"number"==typeof t&&be(t)},Ur.isFunction=Za,Ur.isInteger=tu,Ur.isLength=eu,Ur.isMap=ou,Ur.isMatch=function(t,e){return t===e||Rn(t,e,hi(e))},Ur.isMatchWith=function(t,e,r){return r="function"==typeof r?r:i,Rn(t,e,hi(e),r)},Ur.isNaN=function(t){return iu(t)&&t!=+t},Ur.isNative=function(t){if(Si(t))throw new o("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dn(t)},Ur.isNil=function(t){return null==t},Ur.isNull=function(t){return null===t},Ur.isNumber=iu,Ur.isObject=ru,Ur.isObjectLike=nu,Ur.isPlainObject=au,Ur.isRegExp=uu,Ur.isSafeInteger=function(t){return tu(t)&&t>=-9007199254740991&&t<=y},Ur.isSet=su,Ur.isString=cu,Ur.isSymbol=lu,Ur.isTypedArray=fu,Ur.isUndefined=function(t){return t===i},Ur.isWeakMap=function(t){return nu(t)&&vi(t)==R},Ur.isWeakSet=function(t){return nu(t)&&"[object WeakSet]"==kn(t)},Ur.join=function(t,e){return null==t?"":Be.call(t,e)},Ur.kebabCase=$u,Ur.last=Ji,Ur.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=vu(r))<0?gr(n+o,0):br(o,n-1)),e===e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):ze(t,He,o,!0)},Ur.lowerCase=Wu,Ur.lowerFirst=Ku,Ur.lt=hu,Ur.lte=pu,Ur.max=function(t){return t&&t.length?vn(t,is,jn):i},Ur.maxBy=function(t,e){return t&&t.length?vn(t,li(e,2),jn):i},Ur.mean=function(t){return Ve(t,is)},Ur.meanBy=function(t,e){return Ve(t,li(e,2))},Ur.min=function(t){return t&&t.length?vn(t,is,Bn):i},Ur.minBy=function(t,e){return t&&t.length?vn(t,li(e,2),Bn):i},Ur.stubArray=ms,Ur.stubFalse=gs,Ur.stubObject=function(){return{}},Ur.stubString=function(){return""},Ur.stubTrue=function(){return!0},Ur.multiply=Os,Ur.nth=function(t,e){return t&&t.length?Hn(t,vu(e)):i},Ur.noConflict=function(){return de._===this&&(de._=Ut),this},Ur.noop=ls,Ur.now=Ta,Ur.pad=function(t,e,r){t=wu(t);var n=(e=vu(e))?pr(t):0;if(!e||n>=e)return t;var o=(e-n)/2;return $o(ye(o),r)+t+$o(pe(o),r)},Ur.padEnd=function(t,e,r){t=wu(t);var n=(e=vu(e))?pr(t):0;return e&&n<e?t+$o(e-n,r):t},Ur.padStart=function(t,e,r){t=wu(t);var n=(e=vu(e))?pr(t):0;return e&&n<e?$o(e-n,r)+t:t},Ur.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),_r(wu(t).replace(ut,""),e||0)},Ur.random=function(t,e,r){if(r&&"boolean"!=typeof r&&_i(t,e,r)&&(e=r=i),r===i&&("boolean"==typeof e?(r=e,e=i):"boolean"==typeof t&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=yu(t),e===i?(e=t,t=0):e=yu(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var o=Er();return br(t+o*(e-t+le("1e-"+((o+"").length-1))),e)}return Yn(t,e)},Ur.reduce=function(t,e,r){var n=$a(t)?Ne:Ke,o=arguments.length<3;return n(t,li(e,4),r,o,pn)},Ur.reduceRight=function(t,e,r){var n=$a(t)?Fe:Ke,o=arguments.length<3;return n(t,li(e,4),r,o,dn)},Ur.repeat=function(t,e,r){return e=(r?_i(t,e,r):e===i)?1:vu(e),Qn(wu(t),e)},Ur.replace=function(){var t=arguments,e=wu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ur.result=function(t,e,r){var n=-1,o=(e=_o(e,t)).length;for(o||(o=1,t=i);++n<o;){var a=null==t?i:t[Bi(e[n])];a===i&&(n=o,a=r),t=Za(a)?a.call(t):a}return t},Ur.round=Ss,Ur.runInContext=t,Ur.sample=function(t){return($a(t)?Xr:Jn)(t)},Ur.size=function(t){if(null==t)return 0;if(Ka(t))return cu(t)?pr(t):t.length;var e=vi(t);return e==k||e==A?t.size:Fn(t).length},Ur.snakeCase=Yu,Ur.some=function(t,e,r){var n=$a(t)?Me:io;return r&&_i(t,e,r)&&(e=i),n(t,li(e,3))},Ur.sortedIndex=function(t,e){return ao(t,e)},Ur.sortedIndexBy=function(t,e,r){return uo(t,e,li(r,2))},Ur.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ao(t,e);if(n<r&&Ga(t[n],e))return n}return-1},Ur.sortedLastIndex=function(t,e){return ao(t,e,!0)},Ur.sortedLastIndexBy=function(t,e,r){return uo(t,e,li(r,2),!0)},Ur.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=ao(t,e,!0)-1;if(Ga(t[r],e))return r}return-1},Ur.startCase=Qu,Ur.startsWith=function(t,e,r){return t=wu(t),r=null==r?0:sn(vu(r),0,t.length),e=lo(e),t.slice(r,r+e.length)==e},Ur.subtract=xs,Ur.sum=function(t){return t&&t.length?Ye(t,is):0},Ur.sumBy=function(t,e){return t&&t.length?Ye(t,li(e,2)):0},Ur.template=function(t,e,r){var n=Ur.templateSettings;r&&_i(t,e,r)&&(e=i),t=wu(t),e=Ou({},e,n,ti);var a,u,s=Ou({},e.imports,n.imports,ti),c=Iu(s),l=Ze(s,c),f=0,h=e.interpolate||Ot,p="__p += '",d=jt((e.escape||Ot).source+"|"+h.source+"|"+(h===et?yt:Ot).source+"|"+(e.evaluate||Ot).source+"|$","g"),y="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(d,(function(e,r,n,o,i,s){return n||(n=o),p+=t.slice(f,s).replace(St,ar),r&&(a=!0,p+="' +\n__e("+r+") +\n'"),i&&(u=!0,p+="';\n"+i+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=s+e.length,e})),p+="';\n";var v=Dt.call(e,"variable")&&e.variable;if(v){if(pt.test(v))throw new o("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(u?p.replace($,""):p).replace(W,"$1").replace(K,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=ts((function(){return st(c,y+"return "+p).apply(i,l)}));if(m.source=p,Ja(m))throw m;return m},Ur.times=function(t,e){if((t=vu(t))<1||t>y)return[];var r=m,n=br(t,m);e=li(e),t-=m;for(var o=Qe(n,e);++r<t;)e(r);return o},Ur.toFinite=yu,Ur.toInteger=vu,Ur.toLength=mu,Ur.toLower=function(t){return wu(t).toLowerCase()},Ur.toNumber=gu,Ur.toSafeInteger=function(t){return t?sn(vu(t),-9007199254740991,y):0===t?t:0},Ur.toString=wu,Ur.toUpper=function(t){return wu(t).toUpperCase()},Ur.trim=function(t,e,r){if((t=wu(t))&&(r||e===i))return Xe(t);if(!t||!(e=lo(e)))return t;var n=dr(t),o=dr(e);return Oo(n,er(n,o),rr(n,o)+1).join("")},Ur.trimEnd=function(t,e,r){if((t=wu(t))&&(r||e===i))return t.slice(0,yr(t)+1);if(!t||!(e=lo(e)))return t;var n=dr(t);return Oo(n,0,rr(n,dr(e))+1).join("")},Ur.trimStart=function(t,e,r){if((t=wu(t))&&(r||e===i))return t.replace(ut,"");if(!t||!(e=lo(e)))return t;var n=dr(t);return Oo(n,er(n,dr(e))).join("")},Ur.truncate=function(t,e){var r=30,n="...";if(ru(e)){var o="separator"in e?e.separator:o;r="length"in e?vu(e.length):r,n="omission"in e?lo(e.omission):n}var a=(t=wu(t)).length;if(ur(t)){var u=dr(t);a=u.length}if(r>=a)return t;var s=r-pr(n);if(s<1)return n;var c=u?Oo(u,0,s).join(""):t.slice(0,s);if(o===i)return c+n;if(u&&(s+=c.length-s),uu(o)){if(t.slice(s).search(o)){var l,f=c;for(o.global||(o=jt(o.source,wu(vt.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var h=l.index;c=c.slice(0,h===i?s:h)}}else if(t.indexOf(lo(o),s)!=s){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+n},Ur.unescape=function(t){return(t=wu(t))&&X.test(t)?t.replace(Y,vr):t},Ur.uniqueId=function(t){var e=++Nt;return wu(t)+e},Ur.upperCase=Xu,Ur.upperFirst=Ju,Ur.each=wa,Ur.eachRight=_a,Ur.first=Ki,cs(Ur,function(){var t={};return _n(Ur,(function(e,r){Dt.call(Ur.prototype,r)||(t[r]=e)})),t}(),{chain:!1}),Ur.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ur[t].placeholder=Ur})),Te(["drop","take"],(function(t,e){Hr.prototype[t]=function(r){r=r===i?1:gr(vu(r),0);var n=this.__filtered__&&!e?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=br(r,n.__takeCount__):n.__views__.push({size:br(r,m),type:t+(n.__dir__<0?"Right":"")}),n},Hr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Hr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:li(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Te(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Hr.prototype[t]=function(){return this[r](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Hr.prototype[t]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(is)},Hr.prototype.find=function(t){return this.filter(t).head()},Hr.prototype.findLast=function(t){return this.reverse().find(t)},Hr.prototype.invokeMap=Xn((function(t,e){return"function"==typeof t?new Hr(this):this.map((function(r){return An(r,t,e)}))})),Hr.prototype.reject=function(t){return this.filter(Fa(li(t)))},Hr.prototype.slice=function(t,e){t=vu(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Hr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(r=(e=vu(e))<0?r.dropRight(-e):r.take(e-t)),r)},Hr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hr.prototype.toArray=function(){return this.take(m)},_n(Hr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=Ur[n?"take"+("last"==e?"Right":""):e],a=n||/^find/.test(e);o&&(Ur.prototype[e]=function(){var e=this.__wrapped__,u=n?[1]:arguments,s=e instanceof Hr,c=u[0],l=s||$a(e),f=function(t){var e=o.apply(Ur,De([t],u));return n&&h?e[0]:e};l&&r&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,y=s&&!p;if(!a&&l){e=y?e:new Hr(this);var v=t.apply(e,u);return v.__actions__.push({func:ya,args:[f],thisArg:i}),new qr(v,h)}return d&&y?t.apply(this,u):(v=this.thru(f),d?n?v.value()[0]:v.value():v)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Pt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Ur.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var o=this.value();return e.apply($a(o)?o:[],t)}return this[r]((function(r){return e.apply($a(r)?r:[],t)}))}})),_n(Hr.prototype,(function(t,e){var r=Ur[e];if(r){var n=r.name+"";Dt.call(Ar,n)||(Ar[n]=[]),Ar[n].push({name:e,func:r})}})),Ar[Go(i,2).name]=[{name:"wrapper",func:i}],Hr.prototype.clone=function(){var t=new Hr(this.__wrapped__);return t.__actions__=Ao(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ao(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ao(this.__views__),t},Hr.prototype.reverse=function(){if(this.__filtered__){var t=new Hr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=$a(t),n=e<0,o=r?t.length:0,i=function(t,e,r){var n=-1,o=r.length;for(;++n<o;){var i=r[n],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=br(e,t+a);break;case"takeRight":t=gr(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,u=i.end,s=u-a,c=n?u:a-1,l=this.__iteratees__,f=l.length,h=0,p=br(s,this.__takeCount__);if(!r||!n&&o==s&&p==s)return vo(t,this.__actions__);var d=[];t:for(;s--&&h<p;){for(var y=-1,v=t[c+=e];++y<f;){var m=l[y],g=m.iteratee,b=m.type,w=g(v);if(2==b)v=w;else if(!w){if(1==b)continue t;break t}}d[h++]=v}return d},Ur.prototype.at=va,Ur.prototype.chain=function(){return da(this)},Ur.prototype.commit=function(){return new qr(this.value(),this.__chain__)},Ur.prototype.next=function(){this.__values__===i&&(this.__values__=du(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Ur.prototype.plant=function(t){for(var e,r=this;r instanceof Gr;){var n=zi(r);n.__index__=0,n.__values__=i,e?o.__wrapped__=n:e=n;var o=n;r=r.__wrapped__}return o.__wrapped__=t,e},Ur.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hr){var e=t;return this.__actions__.length&&(e=new Hr(this)),(e=e.reverse()).__actions__.push({func:ya,args:[ra],thisArg:i}),new qr(e,this.__chain__)}return this.thru(ra)},Ur.prototype.toJSON=Ur.prototype.valueOf=Ur.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},Ur.prototype.first=Ur.prototype.head,Xt&&(Ur.prototype[Xt]=function(){return this}),Ur}();de._=mr,(o=function(){return mr}.call(e,r,e,n))===i||(n.exports=o)}).call(this)}).call(this,r(31),r(43)(t))},function(t,e){t.exports=function(t,e,r){return((r=window.getComputedStyle)?r(t):t.currentStyle)[e.replace(/-(\w)/gi,(function(t,e){return e.toUpperCase()}))]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r(201),i=(n=o)&&n.__esModule?n:{default:n};e.default=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0)),i=c(r(202)),a=c(r(203)),u=c(r(204)),s=c(r(212));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var h=function(t){function e(){return l(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"parseString",value:function(t){var e=this;if(""===t)return t;var r=this.props.matchDecorator(t);if(!r)return t;var n=[],o=0;return r.forEach((function(r,i){r.index>o&&n.push(t.substring(o,r.index));var a=e.props.hrefDecorator(r.url),u=e.props.textDecorator(r.text),s=e.props.componentDecorator(a,u,i);n.push(s),o=r.lastIndex})),t.length>o&&n.push(t.substring(o)),1===n.length?n[0]:n}},{key:"parse",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"===typeof t?this.parseString(t):o.isValidElement(t)&&"a"!==t.type&&"button"!==t.type?o.cloneElement(t,{key:r},this.parse(t.props.children)):Array.isArray(t)?t.map((function(t,r){return e.parse(t,r)})):t}},{key:"render",value:function(){return o.createElement(o.Fragment,null,this.parse(this.props.children))}}]),e}(o.Component);h.defaultProps={componentDecorator:i.default,hrefDecorator:a.default,matchDecorator:u.default,textDecorator:s.default},e.default=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));e.default=function(t,e,r){return n.createElement("a",{href:t,key:r},e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(205)),o=i(r(211));function i(t){return t&&t.__esModule?t:{default:t}}var a=new n.default;a.tlds(o.default),e.default=function(t){return a.match(t)}},function(t,e,r){"use strict";function n(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){e&&Object.keys(e).forEach((function(r){t[r]=e[r]}))})),t}function o(t){return Object.prototype.toString.call(t)}function i(t){return"[object Function]"===o(t)}function a(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var u={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var s={"http:":{validate:function(t,e,r){var n=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){var n=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){var n=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function l(t){var e=t.re=r(206)(t.__opts__),n=t.__tlds__.slice();function u(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(u(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(u(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(u(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(u(e.tpl_host_fuzzy_test),"i");var s=[];function c(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){var r=t.__schemas__[e];if(null!==r){var n={validate:null,link:null};if(t.__compiled__[e]=n,"[object Object]"===o(r))return!function(t){return"[object RegExp]"===o(t)}(r.validate)?i(r.validate)?n.validate=r.validate:c(e,r):n.validate=function(t){return function(e,r){var n=e.slice(r);return t.test(n)?n.match(t)[0].length:0}}(r.validate),void(i(r.normalize)?n.normalize=r.normalize:r.normalize?c(e,r):n.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===o(t)}(r)?c(e,r):s.push(e)}})),s.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var l=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(a).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+e.src_ZPCc+"))("+l+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+e.src_ZPCc+"))("+l+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function f(t,e){var r=t.__index__,n=t.__last_index__,o=t.__text_cache__.slice(r,n);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=n+e,this.raw=o,this.text=o,this.url=o}function h(t,e){var r=new f(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function p(t,e){if(!(this instanceof p))return new p(t,e);var r;e||(r=t,Object.keys(r||{}).reduce((function(t,e){return t||u.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=n({},u,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},s,t),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(t,e){return this.__schemas__[t]=e,l(this),this},p.prototype.set=function(t){return this.__opts__=n(this.__opts__,t),this},p.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,r,n,o,i,a,u,s;if(this.re.schema_test.test(t))for((u=this.re.schema_search).lastIndex=0;null!==(e=u.exec(t));)if(o=this.testSchemaAt(t,e[2],u.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(n=t.match(this.re.email_fuzzy))&&(i=n.index+n[1].length,a=n.index+n[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(t){return this.re.pretest.test(t)},p.prototype.testSchemaAt=function(t,e,r){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,r,this):0},p.prototype.match=function(t){var e=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(h(this,e)),e=this.__last_index__);for(var n=e?t.slice(e):t;this.test(n);)r.push(h(this,e)),n=n.slice(this.__last_index__),e+=this.__last_index__;return r.length?r:null},p.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,r){return t!==r[e-1]})).reverse(),l(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},p.prototype.onCompile=function(){},t.exports=p},function(t,e,r){"use strict";t.exports=function(t){var e={};e.src_Any=r(207).source,e.src_Cc=r(208).source,e.src_Z=r(209).source,e.src_P=r(210).source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");return e.src_pseudo_letter="(?:(?![><\uff5c]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><\uff5c]|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+"[><\uff5c]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+e.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+e.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},function(t,e){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(t,e){t.exports=/[\0-\x1F\x7F-\x9F]/},function(t,e){t.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(t,e){t.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(t){t.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","verm\xf6gensberater","verm\xf6gensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","\u03b5\u03bb","\u03b5\u03c5","\u0431\u0433","\u0431\u0435\u043b","\u0434\u0435\u0442\u0438","\u0435\u044e","\u043a\u0430\u0442\u043e\u043b\u0438\u043a","\u043a\u043e\u043c","\u043c\u043a\u0434","\u043c\u043e\u043d","\u043c\u043e\u0441\u043a\u0432\u0430","\u043e\u043d\u043b\u0430\u0439\u043d","\u043e\u0440\u0433","\u0440\u0443\u0441","\u0440\u0444","\u0441\u0430\u0439\u0442","\u0441\u0440\u0431","\u0443\u043a\u0440","\u049b\u0430\u0437","\u0570\u0561\u0575","\u05d9\u05e9\u05e8\u05d0\u05dc","\u05e7\u05d5\u05dd","\u0627\u0628\u0648\u0638\u0628\u064a","\u0627\u062a\u0635\u0627\u0644\u0627\u062a","\u0627\u0631\u0627\u0645\u0643\u0648","\u0627\u0644\u0627\u0631\u062f\u0646","\u0627\u0644\u0628\u062d\u0631\u064a\u0646","\u0627\u0644\u062c\u0632\u0627\u0626\u0631","\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629","\u0627\u0644\u0639\u0644\u064a\u0627\u0646","\u0627\u0644\u0645\u063a\u0631\u0628","\u0627\u0645\u0627\u0631\u0627\u062a","\u0627\u06cc\u0631\u0627\u0646","\u0628\u0627\u0631\u062a","\u0628\u0627\u0632\u0627\u0631","\u0628\u064a\u062a\u0643","\u0628\u06be\u0627\u0631\u062a","\u062a\u0648\u0646\u0633","\u0633\u0648\u062f\u0627\u0646","\u0633\u0648\u0631\u064a\u0629","\u0634\u0628\u0643\u0629","\u0639\u0631\u0627\u0642","\u0639\u0631\u0628","\u0639\u0645\u0627\u0646","\u0641\u0644\u0633\u0637\u064a\u0646","\u0642\u0637\u0631","\u0643\u0627\u062b\u0648\u0644\u064a\u0643","\u0643\u0648\u0645","\u0645\u0635\u0631","\u0645\u0644\u064a\u0633\u064a\u0627","\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627","\u0645\u0648\u0642\u0639","\u0647\u0645\u0631\u0627\u0647","\u067e\u0627\u06a9\u0633\u062a\u0627\u0646","\u0680\u0627\u0631\u062a","\u0915\u0949\u092e","\u0928\u0947\u091f","\u092d\u093e\u0930\u0924","\u092d\u093e\u0930\u0924\u092e\u094d","\u092d\u093e\u0930\u094b\u0924","\u0938\u0902\u0917\u0920\u0928","\u09ac\u09be\u0982\u09b2\u09be","\u09ad\u09be\u09b0\u09a4","\u09ad\u09be\u09f0\u09a4","\u0a2d\u0a3e\u0a30\u0a24","\u0aad\u0abe\u0ab0\u0aa4","\u0b2d\u0b3e\u0b30\u0b24","\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe","\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8","\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd","\u0c2d\u0c3e\u0c30\u0c24\u0c4d","\u0cad\u0cbe\u0cb0\u0ca4","\u0d2d\u0d3e\u0d30\u0d24\u0d02","\u0dbd\u0d82\u0d9a\u0dcf","\u0e04\u0e2d\u0e21","\u0e44\u0e17\u0e22","\u0ea5\u0eb2\u0ea7","\u10d2\u10d4","\u307f\u3093\u306a","\u30a2\u30de\u30be\u30f3","\u30af\u30e9\u30a6\u30c9","\u30b0\u30fc\u30b0\u30eb","\u30b3\u30e0","\u30b9\u30c8\u30a2","\u30bb\u30fc\u30eb","\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3","\u30dd\u30a4\u30f3\u30c8","\u4e16\u754c","\u4e2d\u4fe1","\u4e2d\u56fd","\u4e2d\u570b","\u4e2d\u6587\u7f51","\u4e9a\u9a6c\u900a","\u4f01\u4e1a","\u4f5b\u5c71","\u4fe1\u606f","\u5065\u5eb7","\u516b\u5366","\u516c\u53f8","\u516c\u76ca","\u53f0\u6e7e","\u53f0\u7063","\u5546\u57ce","\u5546\u5e97","\u5546\u6807","\u5609\u91cc","\u5609\u91cc\u5927\u9152\u5e97","\u5728\u7ebf","\u5927\u62ff","\u5929\u4e3b\u6559","\u5a31\u4e50","\u5bb6\u96fb","\u5e7f\u4e1c","\u5fae\u535a","\u6148\u5584","\u6211\u7231\u4f60","\u624b\u673a","\u62db\u8058","\u653f\u52a1","\u653f\u5e9c","\u65b0\u52a0\u5761","\u65b0\u95fb","\u65f6\u5c1a","\u66f8\u7c4d","\u673a\u6784","\u6de1\u9a6c\u9521","\u6e38\u620f","\u6fb3\u9580","\u70b9\u770b","\u79fb\u52a8","\u7ec4\u7ec7\u673a\u6784","\u7f51\u5740","\u7f51\u5e97","\u7f51\u7ad9","\u7f51\u7edc","\u8054\u901a","\u8bfa\u57fa\u4e9a","\u8c37\u6b4c","\u8d2d\u7269","\u901a\u8ca9","\u96c6\u56e2","\u96fb\u8a0a\u76c8\u79d1","\u98de\u5229\u6d66","\u98df\u54c1","\u9910\u5385","\u9999\u683c\u91cc\u62c9","\u9999\u6e2f","\ub2f7\ub137","\ub2f7\ucef4","\uc0bc\uc131","\ud55c\uad6d"]')},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},function(t,e,r){"use strict";var n=r(0),o=r(16),i=r(24),a=r(214),u=r(215),s=r(73);function c(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var l=c(n),f=c(o),h=c(i),p=c(u),d=c(s);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(){return _=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_.apply(this,arguments)}function E(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function S(t,e){return S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},S(t,e)}function x(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return k(t)}function T(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return j(this,r)}}var L={};function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return L[t]||(L[t]=p.default({strategy:t})),L[t]}var A=["explicitRef","className","style","size","disablePlaceholder","onSize"],C="react-sizeme: an error occurred whilst stopping to listen to node size changes",I={monitorWidth:!0,monitorHeight:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function R(t){return t.displayName||t.name||"Component"}var D=function(t){E(r,t);var e=T(r);function r(){return m(this,r),e.apply(this,arguments)}return b(r,[{key:"render",value:function(){return n.Children.only(this.props.children)}}]),r}(n.Component);function N(t){var e=t.className,r=t.style,n={};return e||r?(e&&(n.className=e),r&&(n.style=r)):n.style={width:"100%",height:"100%"},l.default.createElement("div",n)}w(D,"displayName","SizeMeReferenceWrapper"),N.displayName="SizeMePlaceholder";var F=function(t){function e(e){var r=e.explicitRef,n=e.className,o=e.style,i=e.size,a=e.disablePlaceholder;e.onSize;var u=x(e,A),s=(null==i||null==i.width&&null==i.height)&&!a,c={className:n,style:o};null!=i&&(c.size=i);var f=s?l.default.createElement(N,{className:n,style:o}):l.default.createElement(t,_({},c,u));return l.default.createElement(D,{ref:r},f)}return e.displayName="SizeMeRenderer(".concat(R(t),")"),e};function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=t.monitorWidth,r=void 0===e?I.monitorWidth:e,n=t.monitorHeight,o=void 0===n?I.monitorHeight:n,i=t.refreshRate,u=void 0===i?I.refreshRate:i,s=t.refreshMode,c=void 0===s?I.refreshMode:s,p=t.noPlaceholder,d=void 0===p?I.noPlaceholder:p,y=t.resizeDetectorStrategy,g=void 0===y?I.resizeDetectorStrategy:y;h.default(r||o,'You have to monitor at least one of the width or height when using "sizeMe"'),h.default(u>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),h.default("throttle"===c||"debounce"===c,'The refreshMode should have a value of "throttle" or "debounce"');var O="throttle"===c?a.throttle:a.debounce;return function(t){var e=F(t),n=function(t){E(i,t);var n=T(i);function i(){var t;m(this,i);for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return w(k(t=n.call.apply(n,[this].concat(a))),"domEl",null),w(k(t),"state",{width:void 0,height:void 0}),w(k(t),"uninstall",(function(){if(t.domEl){try{t.detector.uninstall(t.domEl)}catch(e){console.warn(C)}t.domEl=null}})),w(k(t),"determineStrategy",(function(e){e.onSize?(t.callbackState||(t.callbackState=v({},t.state)),t.strategy="callback"):t.strategy="render"})),w(k(t),"strategisedSetState",(function(e){"callback"===t.strategy&&(t.callbackState=e,t.props.onSize(e)),t.setState(e)})),w(k(t),"strategisedGetState",(function(){return"callback"===t.strategy?t.callbackState:t.state})),w(k(t),"refCallback",(function(e){t.element=e})),w(k(t),"hasSizeChanged",(function(t,e){var n=t,i=e;return r&&n.width!==i.width||o&&n.height!==i.height})),w(k(t),"checkIfSizeChanged",O(u,(function(e){var n=e.getBoundingClientRect(),i=n.width,a=n.height,u={width:r?i:null,height:o?a:null};t.hasSizeChanged(t.strategisedGetState(),u)&&t.strategisedSetState(u)}))),t}return b(i,[{key:"componentDidMount",value:function(){this.detector=P(g),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var t=this.element&&f.default.findDOMNode(this.element);t?this.domEl?(this.domEl.isSameNode&&!this.domEl.isSameNode(t)||this.domEl!==t)&&(this.uninstall(),this.domEl=t,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=t,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):this.uninstall()}},{key:"render",value:function(){var t=M.enableSSRBehaviour||M.noPlaceholders||d||"callback"===this.strategy,r=v({},this.state);return l.default.createElement(e,_({explicitRef:this.refCallback,size:"callback"===this.strategy?null:r,disablePlaceholder:t},this.props))}}]),i}(l.default.Component);return w(n,"displayName","SizeMe(".concat(R(t),")")),n.WrappedComponent=t,n}}M.enableSSRBehaviour=!1,M.noPlaceholders=!1;var B=["children","render"],U=["children","render"],z=["children","render"],G=function(t){E(r,t);var e=T(r);function r(t){var n;m(this,r),w(k(n=e.call(this,t)),"createComponent",(function(t){n.SizeAware=M(t)((function(t){return t.children}))})),w(k(n),"onSize",(function(t){return n.setState({size:t})})),t.children,t.render;var o=x(t,B);return n.createComponent(o),n.state={size:{width:void 0,height:void 0}},n}return b(r,[{key:"componentDidUpdate",value:function(t){var e=this.props;e.children,e.render;var r=x(e,U);t.children,t.render;var n=x(t,z);d.default(r,n)||this.createComponent(r)}},{key:"render",value:function(){var t=this.SizeAware,e=this.props.children||this.props.render;return l.default.createElement(t,{onSize:this.onSize},e({size:this.state.size}))}}]),r}(n.Component);w(G,"defaultProps",{children:void 0,render:void 0}),M.SizeMe=G,M.withSize=M,t.exports=M},function(t,e,r){"use strict";function n(t,e,r,n){var o,i=!1,a=0;function u(){o&&clearTimeout(o)}function s(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var f=this,h=Date.now()-a;function p(){a=Date.now(),r.apply(f,c)}function d(){o=void 0}i||(n&&!o&&p(),u(),void 0===n&&h>t?p():!0!==e&&(o=setTimeout(n?d:p,void 0===n?t-h:t)))}return"boolean"!==typeof e&&(n=r,r=e,e=void 0),s.cancel=function(){u(),i=!0},s}function o(t,e,r){return void 0===r?n(t,e,!1):n(t,r,!1!==e)}r.r(e),r.d(e,"debounce",(function(){return o})),r.d(e,"throttle",(function(){return n}))},function(t,e,r){"use strict";var n=r(93).forEach,o=r(216),i=r(217),a=r(218),u=r(219),s=r(220),c=r(94),l=r(221),f=r(223),h=r(224),p=r(225);function d(t){return Array.isArray(t)||void 0!==t.length}function y(t){if(Array.isArray(t))return t;var e=[];return n(t,(function(t){e.push(t)})),e}function v(t){return t&&1===t.nodeType}function m(t,e,r){var n=t[e];return void 0!==n&&null!==n||void 0===r?n:r}t.exports=function(t){var e;if((t=t||{}).idHandler)e={get:function(e){return t.idHandler.get(e,!0)},set:t.idHandler.set};else{var r=a(),g=u({idGenerator:r,stateHandler:f});e=g}var b=t.reporter;b||(b=s(!1===b));var w=m(t,"batchProcessor",l({reporter:b})),_={};_.callOnAdd=!!m(t,"callOnAdd",!0),_.debug=!!m(t,"debug",!1);var E,O=i(e),S=o({stateHandler:f}),x=m(t,"strategy","object"),k=m(t,"important",!1),j={reporter:b,batchProcessor:w,stateHandler:f,idHandler:e,important:k};if("scroll"===x&&(c.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),x="object"):c.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),x="object")),"scroll"===x)E=p(j);else{if("object"!==x)throw new Error("Invalid strategy name: "+x);E=h(j)}var T={};return{listenTo:function(t,r,o){function i(t){var e=O.get(t);n(e,(function(e){e(t)}))}function a(t,e,r){O.add(e,r),t&&r(e)}if(o||(o=r,r=t,t={}),!r)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(v(r))r=[r];else{if(!d(r))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");r=y(r)}var u=0,s=m(t,"callOnAdd",_.callOnAdd),c=m(t,"onReady",(function(){})),l=m(t,"debug",_.debug);n(r,(function(t){f.getState(t)||(f.initState(t),e.set(t));var h=e.get(t);if(l&&b.log("Attaching listener to element",h,t),!S.isDetectable(t))return l&&b.log(h,"Not detectable."),S.isBusy(t)?(l&&b.log(h,"System busy making it detectable"),a(s,t,o),T[h]=T[h]||[],void T[h].push((function(){++u===r.length&&c()}))):(l&&b.log(h,"Making detectable..."),S.markBusy(t,!0),E.makeDetectable({debug:l,important:k},t,(function(t){if(l&&b.log(h,"onElementDetectable"),f.getState(t)){S.markAsDetectable(t),S.markBusy(t,!1),E.addListener(t,i),a(s,t,o);var e=f.getState(t);if(e&&e.startSize){var p=t.offsetWidth,d=t.offsetHeight;e.startSize.width===p&&e.startSize.height===d||i(t)}T[h]&&n(T[h],(function(t){t()}))}else l&&b.log(h,"Element uninstalled before being detectable.");delete T[h],++u===r.length&&c()})));l&&b.log(h,"Already detecable, adding listener."),a(s,t,o),u++})),u===r.length&&c()},removeListener:O.removeListener,removeAllListeners:O.removeAllListeners,uninstall:function(t){if(!t)return b.error("At least one element is required.");if(v(t))t=[t];else{if(!d(t))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=y(t)}n(t,(function(t){O.removeAllListeners(t),E.uninstall(t),f.cleanState(t)}))},initDocument:function(t){E.initDocument&&E.initDocument(t)}}}},function(t,e,r){"use strict";t.exports=function(t){var e=t.stateHandler.getState;return{isDetectable:function(t){var r=e(t);return r&&!!r.isDetectable},markAsDetectable:function(t){e(t).isDetectable=!0},isBusy:function(t){return!!e(t).busy},markBusy:function(t,r){e(t).busy=!!r}}}},function(t,e,r){"use strict";t.exports=function(t){var e={};function r(r){var n=t.get(r);return void 0===n?[]:e[n]||[]}return{get:r,add:function(r,n){var o=t.get(r);e[o]||(e[o]=[]),e[o].push(n)},removeListener:function(t,e){for(var n=r(t),o=0,i=n.length;o<i;++o)if(n[o]===e){n.splice(o,1);break}},removeAllListeners:function(t){var e=r(t);e&&(e.length=0)}}}},function(t,e,r){"use strict";t.exports=function(){var t=1;return{generate:function(){return t++}}}},function(t,e,r){"use strict";t.exports=function(t){var e=t.idGenerator,r=t.stateHandler.getState;return{get:function(t){var e=r(t);return e&&void 0!==e.id?e.id:null},set:function(t){var n=r(t);if(!n)throw new Error("setId required the element to have a resize detection state.");var o=e.generate();return n.id=o,o}}}},function(t,e,r){"use strict";t.exports=function(t){function e(){}var r={log:e,warn:e,error:e};if(!t&&window.console){var n=function(t,e){t[e]=function(){var t=console[e];if(t.apply)t.apply(console,arguments);else for(var r=0;r<arguments.length;r++)t(arguments[r])}};n(r,"log"),n(r,"warn"),n(r,"error")}return r}},function(t,e,r){"use strict";var n=r(222);function o(){var t={},e=0,r=0,n=0;return{add:function(o,i){i||(i=o,o=0),o>r?r=o:o<n&&(n=o),t[o]||(t[o]=[]),t[o].push(i),e++},process:function(){for(var e=n;e<=r;e++)for(var o=t[e],i=0;i<o.length;i++){(0,o[i])()}},size:function(){return e}}}t.exports=function(t){var e=(t=t||{}).reporter,r=n.getOption(t,"async",!0),i=n.getOption(t,"auto",!0);i&&!r&&(e&&e.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a,u=o(),s=!1;function c(){for(s=!0;u.size();){var t=u;u=o(),t.process()}s=!1}function l(){a=function(t){return e=t,setTimeout(e,0);var e}(c)}return{add:function(t,e){!s&&i&&r&&0===u.size()&&l(),u.add(t,e)},force:function(t){s||(void 0===t&&(t=r),a&&(clearTimeout(a),a=null),t?l():c())}}}},function(t,e,r){"use strict";(t.exports={}).getOption=function(t,e,r){var n=t[e];if((void 0===n||null===n)&&void 0!==r)return r;return n}},function(t,e,r){"use strict";function n(t){return t._erd}t.exports={initState:function(t){return t._erd={},n(t)},getState:n,cleanState:function(t){delete t._erd}}},function(t,e,r){"use strict";var n=r(94);t.exports=function(t){var e=(t=t||{}).reporter,r=t.batchProcessor,o=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function i(e){var r=t.important?" !important; ":"; ";return(e.join(r)+r).trim()}function a(t){return o(t).object}return{makeDetectable:function(t,a,u){u||(u=a,a=t,t=null),(t=t||{}).debug,n.isIE(8)?u(a):function(a,u){var s=i(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),c=!1,l=window.getComputedStyle(a),f=a.offsetWidth,h=a.offsetHeight;function p(){function r(){if("static"===l.position){a.style.setProperty("position","relative",t.important?"important":"");var r=function(e,r,n,o){var i=n[o];"auto"!==i&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(i)&&(e.warn("An element that is positioned static has style."+o+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+o+" will be set to 0. Element: ",r),r.style.setProperty(o,"0",t.important?"important":""))};r(e,a,l,"top"),r(e,a,l,"right"),r(e,a,l,"bottom"),r(e,a,l,"left")}}""!==l.position&&(r(),c=!0);var i=document.createElement("object");i.style.cssText=s,i.tabIndex=-1,i.type="text/html",i.setAttribute("aria-hidden","true"),i.onload=function(){c||r(),function t(e,r){if(!e.contentDocument){var n=o(e);return n.checkForObjectDocumentTimeoutId&&window.clearTimeout(n.checkForObjectDocumentTimeoutId),void(n.checkForObjectDocumentTimeoutId=setTimeout((function(){n.checkForObjectDocumentTimeoutId=0,t(e,r)}),100))}r(e.contentDocument)}(this,(function(t){u(a)}))},n.isIE()||(i.data="about:blank"),o(a)&&(a.appendChild(i),o(a).object=i,n.isIE()&&(i.data="about:blank"))}o(a).startSize={width:f,height:h},r?r.add(p):p()}(a,u)},addListener:function(t,e){function r(){e(t)}if(n.isIE(8))o(t).object={proxy:r},t.attachEvent("onresize",r);else{var i=a(t);if(!i)throw new Error("Element is not detectable by this strategy.");i.contentDocument.defaultView.addEventListener("resize",r)}},uninstall:function(t){if(o(t)){var e=a(t);e&&(n.isIE(8)?t.detachEvent("onresize",e.proxy):t.removeChild(e),o(t).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(t).checkForObjectDocumentTimeoutId),delete o(t).object)}}}}},function(t,e,r){"use strict";var n=r(93).forEach;t.exports=function(t){var e=(t=t||{}).reporter,r=t.batchProcessor,o=t.stateHandler.getState,i=(t.stateHandler.hasState,t.idHandler);if(!r)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var a=function(){var t=500,e=500,r=document.createElement("div");r.style.cssText=c(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var n=document.createElement("div");n.style.cssText=c(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),n.appendChild(r),document.body.insertBefore(n,document.body.firstChild);var o=t-n.clientWidth,i=e-n.clientHeight;return document.body.removeChild(n),{width:o,height:i}}(),u="erd_scroll_detection_container";function s(t){!function(t,e,r){function n(r,n){n=n||function(e){t.head.appendChild(e)};var o=t.createElement("style");return o.innerHTML=r,o.id=e,n(o),o}if(!t.getElementById(e)){var o=r+"_animation",i=r+"_animation_active",a="/* Created by the element-resize-detector library. */\n";a+="."+r+" > div::-webkit-scrollbar { "+c(["display: none"])+" }\n\n",a+="."+i+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+o,"animation-name: "+o])+" }\n",a+="@-webkit-keyframes "+o+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",n(a+="@keyframes "+o+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(t,"erd_scroll_detection_scrollbar_style",u)}function c(e){var r=t.important?" !important; ":"; ";return(e.join(r)+r).trim()}function l(t,r,n){if(t.addEventListener)t.addEventListener(r,n);else{if(!t.attachEvent)return e.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+r,n)}}function f(t,r,n){if(t.removeEventListener)t.removeEventListener(r,n);else{if(!t.detachEvent)return e.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+r,n)}}function h(t){return o(t).container.childNodes[0].childNodes[0].childNodes[0]}function p(t){return o(t).container.childNodes[0].childNodes[0].childNodes[1]}return s(window.document),{makeDetectable:function(t,s,f){function d(){if(t.debug){var r=Array.prototype.slice.call(arguments);if(r.unshift(i.get(s),"Scroll: "),e.log.apply)e.log.apply(null,r);else for(var n=0;n<r.length;n++)e.log(r[n])}}function y(t){var e=o(t).container.childNodes[0],r=window.getComputedStyle(e);return!r.width||-1===r.width.indexOf("px")}function v(){var t=window.getComputedStyle(s),e={};return e.position=t.position,e.width=s.offsetWidth,e.height=s.offsetHeight,e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left,e.widthCSS=t.width,e.heightCSS=t.height,e}function m(){if(d("storeStyle invoked."),o(s)){var t=v();o(s).style=t}else d("Aborting because element has been uninstalled")}function g(t,e,r){o(t).lastWidth=e,o(t).lastHeight=r}function b(){return 2*a.width+1}function w(){return 2*a.height+1}function _(t){return t+10+b()}function E(t){return t+10+w()}function O(t,e,r){var n=h(t),o=p(t),i=_(e),a=E(r),u=function(t){return 2*t+b()}(e),s=function(t){return 2*t+w()}(r);n.scrollLeft=i,n.scrollTop=a,o.scrollLeft=u,o.scrollTop=s}function S(){var t=o(s).container;if(!t){(t=document.createElement("div")).className=u,t.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(s).container=t,function(t){t.className+=" "+u+"_animation_active"}(t),s.appendChild(t);var e=function(){o(s).onRendered&&o(s).onRendered()};l(t,"animationstart",e),o(s).onAnimationStart=e}return t}function x(){if(d("Injecting elements"),o(s)){!function(){var r=o(s).style;if("static"===r.position){s.style.setProperty("position","relative",t.important?"important":"");var n=function(t,e,r,n){var o=r[n];"auto"!==o&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(o)&&(t.warn("An element that is positioned static has style."+n+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",e),e.style[n]=0)};n(e,s,r,"top"),n(e,s,r,"right"),n(e,s,r,"bottom"),n(e,s,r,"left")}}();var r=o(s).container;r||(r=S());var n,i,f,h,p=a.width,y=a.height,v=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),m=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(n=(n=-(1+p))?n+"px":"0"),"top: "+(i=(i=-(1+y))?i+"px":"0"),"right: "+(h=(h=-p)?h+"px":"0"),"bottom: "+(f=(f=-y)?f+"px":"0")])),g=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),w=c(["position: absolute","left: 0","top: 0"]),_=c(["position: absolute","width: 200%","height: 200%"]),E=document.createElement("div"),O=document.createElement("div"),x=document.createElement("div"),k=document.createElement("div"),j=document.createElement("div"),T=document.createElement("div");E.dir="ltr",E.style.cssText=v,E.className=u,O.className=u,O.style.cssText=m,x.style.cssText=g,k.style.cssText=w,j.style.cssText=b,T.style.cssText=_,x.appendChild(k),j.appendChild(T),O.appendChild(x),O.appendChild(j),E.appendChild(O),r.appendChild(E),l(x,"scroll",L),l(j,"scroll",P),o(s).onExpandScroll=L,o(s).onShrinkScroll=P}else d("Aborting because element has been uninstalled");function L(){var t=o(s);t&&t.onExpand?t.onExpand():d("Aborting expand scroll handler: element has been uninstalled")}function P(){var t=o(s);t&&t.onShrink?t.onShrink():d("Aborting shrink scroll handler: element has been uninstalled")}}function k(){function a(e,r,n){var o=function(t){return h(t).childNodes[0]}(e),i=_(r),a=E(n);o.style.setProperty("width",i+"px",t.important?"important":""),o.style.setProperty("height",a+"px",t.important?"important":"")}function u(n){var u=s.offsetWidth,l=s.offsetHeight,f=u!==o(s).lastWidth||l!==o(s).lastHeight;d("Storing current size",u,l),g(s,u,l),r.add(0,(function(){if(f)if(o(s))if(c()){if(t.debug){var r=s.offsetWidth,n=s.offsetHeight;r===u&&n===l||e.warn(i.get(s),"Scroll: Size changed before updating detector elements.")}a(s,u,l)}else d("Aborting because element container has not been initialized");else d("Aborting because element has been uninstalled")})),r.add(1,(function(){o(s)?c()?O(s,u,l):d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")})),f&&n&&r.add(2,(function(){o(s)?c()?n():d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")}))}function c(){return!!o(s).container}function l(){d("notifyListenersIfNeeded invoked");var t=o(s);return void 0===o(s).lastNotifiedWidth&&t.lastWidth===t.startSize.width&&t.lastHeight===t.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):t.lastWidth===t.lastNotifiedWidth&&t.lastHeight===t.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),t.lastNotifiedWidth=t.lastWidth,t.lastNotifiedHeight=t.lastHeight,void n(o(s).listeners,(function(t){t(s)})))}function f(){d("Scroll detected."),y(s)?d("Scroll event fired while unrendered. Ignoring..."):u(l)}if(d("registerListenersAndPositionElements invoked."),o(s)){o(s).onRendered=function(){if(d("startanimation triggered."),y(s))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var t=h(s),e=p(s);0!==t.scrollLeft&&0!==t.scrollTop&&0!==e.scrollLeft&&0!==e.scrollTop||(d("Scrollbars out of sync. Updating detector elements..."),u(l))}},o(s).onExpand=f,o(s).onShrink=f;var v=o(s).style;a(s,v.width,v.height)}else d("Aborting because element has been uninstalled")}function j(){if(d("finalizeDomMutation invoked."),o(s)){var t=o(s).style;g(s,t.width,t.height),O(s,t.width,t.height)}else d("Aborting because element has been uninstalled")}function T(){f(s)}function L(){d("Installing..."),o(s).listeners=[],function(){var t=v();o(s).startSize={width:t.width,height:t.height},d("Element start size",o(s).startSize)}(),r.add(0,m),r.add(1,x),r.add(2,k),r.add(3,j),r.add(4,T)}f||(f=s,s=t,t=null),t=t||{},d("Making detectable..."),!function(t){return!function(t){var e=t.getRootNode&&t.getRootNode().contains(t);return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)||e}(t)||null===window.getComputedStyle(t)}(s)?L():(d("Element is detached"),S(),d("Waiting until element is attached..."),o(s).onRendered=function(){d("Element is now attached"),L()})},addListener:function(t,e){if(!o(t).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(t).listeners.push(e)},uninstall:function(t){var e=o(t);e&&(e.onExpandScroll&&f(h(t),"scroll",e.onExpandScroll),e.onShrinkScroll&&f(p(t),"scroll",e.onShrinkScroll),e.onAnimationStart&&f(e.container,"animationstart",e.onAnimationStart),e.container&&t.removeChild(e.container))},initDocument:s}}},function(t,e,r){var n;"undefined"!==typeof window&&(n=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function i(){}function a(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function u(t,e,r,n,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var u=new a(r,n||t,i),s=o?o+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],u]:t._events[s].push(u):(t._events[s]=u,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},c.prototype.listeners=function(t){var e=o?o+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,a=new Array(i);n<i;n++)a[n]=r[n].fn;return a},c.prototype.listenerCount=function(t){var e=o?o+t:t,r=this._events[e];return r?r.fn?1:r.length:0},c.prototype.emit=function(t,e,r,n,i,a){var u=o?o+t:t;if(!this._events[u])return!1;var s,c,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,i),!0;case 6:return l.fn.call(l.context,e,r,n,i,a),!0}for(c=1,s=new Array(f-1);c<f;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var h,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,n);break;default:if(!s)for(h=1,s=new Array(f-1);h<f;h++)s[h-1]=arguments[h];l[c].fn.apply(l[c].context,s)}}return!0},c.prototype.on=function(t,e,r){return u(this,t,e,r,!1)},c.prototype.once=function(t,e,r){return u(this,t,e,r,!0)},c.prototype.removeListener=function(t,e,r,n){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||s(this,i);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||n&&!a[u].once||r&&a[u].context!==r)&&c.push(a[u]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},"./node_modules/url-toolkit/src/url-toolkit.js":function(t,e,r){!function(e){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");return o.path=a.normalizePath(o.path),a.buildURLFromParts(o)}var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return r.alwaysNormalize?(i.path=a.normalizePath(i.path),a.buildURLFromParts(i)):e;var u=a.parseURL(t);if(!u)throw new Error("Error trying to parse base URL.");if(!u.netLoc&&u.path&&"/"!==u.path[0]){var s=n.exec(u.path);u.netLoc=s[1],u.path=s[2]}u.netLoc&&!u.path&&(u.path="/");var c={scheme:u.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(c.netLoc=u.netLoc,"/"!==i.path[0]))if(i.path){var l=u.path,f=l.substring(0,l.lastIndexOf("/")+1)+i.path;c.path=a.normalizePath(f)}else c.path=u.path,i.params||(c.params=u.params,i.query||(c.query=u.query));return null===c.path&&(c.path=r.alwaysNormalize?a.normalizePath(i.path):i.path),a.buildURLFromParts(c)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(o,"");t.length!==(t=t.replace(i,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},"./node_modules/webworkify-webpack/index.js":function(t,e,r){function n(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var n=r(r.s=ENTRY_MODULE);return n.default||n}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function a(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function u(t,e,n){var u={};u[n]=[];var s=e.toString(),c=s.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return u;for(var l,f=c[1],h=new RegExp("(\\\\n|\\W)"+a(f)+i,"g");l=h.exec(s);)"dll-reference"!==l[3]&&u[n].push(l[3]);for(h=new RegExp("\\("+a(f)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");l=h.exec(s);)t[l[2]]||(u[n].push(l[1]),t[l[2]]=r(l[1]).m),u[l[2]]=u[l[2]]||[],u[l[2]].push(l[4]);for(var p,d=Object.keys(u),y=0;y<d.length;y++)for(var v=0;v<u[d[y]].length;v++)p=u[d[y]][v],isNaN(1*p)||(u[d[y]][v]=1*u[d[y]][v]);return u}function s(t){return Object.keys(t).reduce((function(e,r){return e||t[r].length>0}),!1)}t.exports=function(t,e){e=e||{};var o={main:r.m},i=e.all?{main:Object.keys(o.main)}:function(t,e){for(var r={main:[e]},n={main:[]},o={main:{}};s(r);)for(var i=Object.keys(r),a=0;a<i.length;a++){var c=i[a],l=r[c].pop();if(o[c]=o[c]||{},!o[c][l]&&t[c][l]){o[c][l]=!0,n[c]=n[c]||[],n[c].push(l);for(var f=u(t,t[c][l],c),h=Object.keys(f),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(f[h[p]])}}return n}(o,t),a="";Object.keys(i).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;i[t][e];)e++;i[t].push(e),o[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i[t].map((function(e){return JSON.stringify(e)+": "+o[t][e].toString()})).join(",")+"});\n"})),a=a+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.main.map((function(t){return JSON.stringify(t)+": "+o.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([a],{type:"text/javascript"});if(e.bare)return c;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),f=new window.Worker(l);return f.objectURL=l,f}},"./src/config.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"hlsDefaultConfig",(function(){return O})),r.d(e,"mergeConfig",(function(){return S})),r.d(e,"enableStreamingMode",(function(){return x}));var n=r("./src/controller/abr-controller.ts"),o=r("./src/controller/audio-stream-controller.ts"),i=r("./src/controller/audio-track-controller.ts"),a=r("./src/controller/subtitle-stream-controller.ts"),u=r("./src/controller/subtitle-track-controller.ts"),s=r("./src/controller/buffer-controller.ts"),c=r("./src/controller/timeline-controller.ts"),l=r("./src/controller/cap-level-controller.ts"),f=r("./src/controller/fps-controller.ts"),h=r("./src/controller/eme-controller.ts"),p=r("./src/controller/cmcd-controller.ts"),d=r("./src/utils/xhr-loader.ts"),y=r("./src/utils/fetch-loader.ts"),v=r("./src/utils/cues.ts"),m=r("./src/utils/mediakeys-helper.ts"),g=r("./src/utils/logger.ts");function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b.apply(this,arguments)}function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){E(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var O=_(_({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:d.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:n.default,bufferController:s.default,capLevelController:l.default,fpsController:f.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:m.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:v.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:a.SubtitleStreamController,subtitleTrackController:u.default,timelineController:c.TimelineController,audioStreamController:o.default,audioTrackController:i.default,emeController:h.default,cmcdController:p.default});function S(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return b({},t,e)}function x(t){var e=t.loader;e!==y.default&&e!==d.default?(g.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):Object(y.fetchSupported)()&&(t.loader=y.default,t.progressive=!0,t.enableSoftwareAES=!0,g.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),o=r("./src/utils/ewma-bandwidth-estimator.ts"),i=r("./src/events.ts"),a=r("./src/utils/buffer-helper.ts"),u=r("./src/errors.ts"),s=r("./src/types/loader.ts"),c=r("./src/utils/logger.ts");function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(t){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;var e=t.config;this.bwEstimator=new o.default(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}var e,r,f,h=t.prototype;return h.registerListeners=function(){var t=this.hls;t.on(i.Events.FRAG_LOADING,this.onFragLoading,this),t.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(i.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var t=this.hls;t.off(i.Events.FRAG_LOADING,this.onFragLoading,this),t.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(i.Events.ERROR,this.onError,this)},h.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},h.onFragLoading=function(t,e){var r,n=e.frag;n.type===s.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=n,this.partCurrent=null!=(r=e.part)?r:null,this.timer=self.setInterval(this.onCheck,100)))},h.onLevelLoaded=function(t,e){var r=this.hls.config;e.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)},h._abandonRulesCheck=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,o=r.autoLevelEnabled,u=r.config,s=r.media;if(t&&s){var l=e?e.stats:t.stats,f=e?e.duration:t.duration;if(l.aborted)return c.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(o&&!s.paused&&s.playbackRate&&s.readyState){var h=performance.now()-l.loading.start,p=Math.abs(s.playbackRate);if(!(h<=500*f/p)){var d=r.levels,y=r.minAutoLevel,v=d[t.level],m=l.total||Math.max(l.loaded,Math.round(f*v.maxBitrate/8)),g=Math.max(1,l.bwEstimate?l.bwEstimate/8:1e3*l.loaded/h),b=(m-l.loaded)/g,w=s.currentTime,_=(a.BufferHelper.bufferInfo(s,w,u.maxBufferHole).end-w)/p;if(!(_>=2*f/p||b<=_)){var E,O=Number.POSITIVE_INFINITY;for(E=t.level-1;E>y&&!((O=f*d[E].maxBitrate/(6.4*g))<_);E--);if(!(O>=b)){var S=this.bwEstimator.getEstimate();c.logger.warn("Fragment "+t.sn+(e?" part "+e.index:"")+" of level "+t.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+E+"\n      Current BW estimate: "+(Object(n.isFiniteNumber)(S)?(S/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+b.toFixed(3)+" s\n      Estimated load time for the next fragment: "+O.toFixed(3)+" s\n      Time to underbuffer: "+_.toFixed(3)+" s"),r.nextLoadLevel=E,this.bwEstimator.sample(h,l.loaded),this.clearTimer(),t.loader&&(this.fragCurrent=this.partCurrent=null,t.loader.abort()),r.trigger(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:l})}}}}}},h.onFragLoaded=function(t,e){var r=e.frag,o=e.part;if(r.type===s.PlaylistLevelType.MAIN&&Object(n.isFiniteNumber)(r.sn)){var a=o?o.stats:r.stats,u=o?o.duration:r.duration;if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var c=this.hls.levels[r.level],l=(c.loaded?c.loaded.bytes:0)+a.loaded,f=(c.loaded?c.loaded.duration:0)+u;c.loaded={bytes:l,duration:f},c.realBitrate=Math.round(8*l/f)}if(r.bitrateTest){var h={stats:a,frag:r,part:o,id:r.type};this.onFragBuffered(i.Events.FRAG_BUFFERED,h),r.bitrateTest=!1}}},h.onFragBuffered=function(t,e){var r=e.frag,n=e.part,o=n?n.stats:r.stats;if(!o.aborted&&r.type===s.PlaylistLevelType.MAIN&&"initSegment"!==r.sn){var i=o.parsing.end-o.loading.start;this.bwEstimator.sample(i,o.loaded),o.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},h.onError=function(t,e){switch(e.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},h.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},h.getNextABRAutoLevel=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,n=r.maxAutoLevel,o=r.config,i=r.minAutoLevel,u=r.media,s=e?e.duration:t?t.duration:0,l=u?u.currentTime:0,f=u&&0!==u.playbackRate?Math.abs(u.playbackRate):1,h=this.bwEstimator?this.bwEstimator.getEstimate():o.abrEwmaDefaultEstimate,p=(a.BufferHelper.bufferInfo(u,l,o.maxBufferHole).end-l)/f,d=this.findBestLevel(h,i,n,p,o.abrBandWidthFactor,o.abrBandWidthUpFactor);if(d>=0)return d;c.logger.trace((p?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var y=s?Math.min(s,o.maxStarvationDelay):o.maxStarvationDelay,v=o.abrBandWidthFactor,m=o.abrBandWidthUpFactor;if(!p){var g=this.bitrateTestDelay;g&&(y=(s?Math.min(s,o.maxLoadingDelay):o.maxLoadingDelay)-g,c.logger.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*y)+" ms"),v=m=1)}return d=this.findBestLevel(h,i,n,p+y,v,m),Math.max(d,0)},h.findBestLevel=function(t,e,r,n,o,i){for(var a,u=this.fragCurrent,s=this.partCurrent,l=this.lastLoadedFragLevel,f=this.hls.levels,h=f[l],p=!(null===h||void 0===h||null===(a=h.details)||void 0===a||!a.live),d=null===h||void 0===h?void 0:h.codecSet,y=s?s.duration:u?u.duration:0,v=r;v>=e;v--){var m=f[v];if(m&&(!d||m.codecSet===d)){var g=m.details,b=(s?null===g||void 0===g?void 0:g.partTarget:null===g||void 0===g?void 0:g.averagetargetduration)||y,w=void 0;w=v<=l?o*t:i*t;var _=f[v].maxBitrate,E=_*b/w;if(c.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+v+"/"+Math.round(w)+"/"+_+"/"+b+"/"+n+"/"+E),w>_&&(!E||p&&!this.bitrateTestDelay||E<n))return v}}return-1},e=t,(r=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&(!e||!e.canEstimate()))return t;var r=this.getNextABRAutoLevel();return-1!==t&&(r=Math.min(t,r)),r},set:function(t){this._nextAutoLevel=t}}])&&l(e.prototype,r),f&&l(e,f),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=f},"./src/controller/audio-stream-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),o=r("./src/controller/base-stream-controller.ts"),i=r("./src/events.ts"),a=r("./src/utils/buffer-helper.ts"),u=r("./src/controller/fragment-tracker.ts"),s=r("./src/types/level.ts"),c=r("./src/types/loader.ts"),l=r("./src/loader/fragment.ts"),f=r("./src/demux/chunk-cache.ts"),h=r("./src/demux/transmuxer-interface.ts"),p=r("./src/types/transmuxer.ts"),d=r("./src/controller/fragment-finders.ts"),y=r("./src/utils/discontinuities.ts"),v=r("./src/errors.ts");function m(){return m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m.apply(this,arguments)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var b=function(t){var e,r;function b(e,r){var n;return(n=t.call(this,e,r,"[audio-stream-controller]")||this).videoBuffer=null,n.videoTrackCC=-1,n.waitingVideoCC=-1,n.audioSwitch=!1,n.trackId=-1,n.waitingData=null,n.mainDetails=null,n.bufferFlushed=!1,n.cachedTrackLoadedData=null,n._registerListeners(),n}r=t,(e=b).prototype=Object.create(r.prototype),e.prototype.constructor=e,g(e,r);var w=b.prototype;return w.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},w._registerListeners=function(){var t=this.hls;t.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(i.Events.ERROR,this.onError,this),t.on(i.Events.BUFFER_RESET,this.onBufferReset,this),t.on(i.Events.BUFFER_CREATED,this.onBufferCreated,this),t.on(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},w._unregisterListeners=function(){var t=this.hls;t.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(i.Events.ERROR,this.onError,this),t.off(i.Events.BUFFER_RESET,this.onBufferReset,this),t.off(i.Events.BUFFER_CREATED,this.onBufferCreated,this),t.off(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},w.onInitPtsFound=function(t,e){var r=e.frag,n=e.id,i=e.initPTS;if("main"===n){var a=r.cc;this.initPTS[r.cc]=i,this.log("InitPTS for cc: "+a+" found from main: "+i),this.videoTrackCC=a,this.state===o.State.WAITING_INIT_PTS&&this.tick()}},w.startLoad=function(t){if(!this.levels)return this.startPosition=t,void(this.state=o.State.STOPPED);var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e,this.state=o.State.IDLE):(this.loadedmetadata=!1,this.state=o.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()},w.doTick=function(){switch(this.state){case o.State.IDLE:this.doTickIdle();break;case o.State.WAITING_TRACK:var e,r=this.levels,n=this.trackId,i=null===r||void 0===r||null===(e=r[n])||void 0===e?void 0:e.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=o.State.WAITING_INIT_PTS}break;case o.State.FRAG_LOADING_WAITING_RETRY:var u,s=performance.now(),c=this.retryDate;(!c||s>=c||null!==(u=this.media)&&void 0!==u&&u.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=o.State.IDLE);break;case o.State.WAITING_INIT_PTS:var l=this.waitingData;if(l){var f=l.frag,h=l.part,p=l.cache,y=l.complete;if(void 0!==this.initPTS[f.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=o.State.FRAG_LOADING;var v={frag:f,part:h,payload:p.flush(),networkDetails:null};this._handleFragmentLoadProgress(v),y&&t.prototype._handleFragmentLoadComplete.call(this,v)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+f.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var m=this.getLoadPosition(),g=a.BufferHelper.bufferInfo(this.mediaBuffer,m,this.config.maxBufferHole);Object(d.fragmentWithinToleranceTest)(g.end,this.config.maxFragLookUpTolerance,f)<0&&(this.log("Waiting fragment cc ("+f.cc+") @ "+f.start+" cancelled because another fragment at "+g.end+" is needed"),this.clearWaitingFragment())}}else this.state=o.State.IDLE}this.onTickEnd()},w.clearWaitingFragment=function(){var t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=o.State.IDLE)},w.resetLoadingState=function(){this.clearWaitingFragment(),t.prototype.resetLoadingState.call(this)},w.onTickEnd=function(){var t=this.media;if(t&&t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length&&(this.loadedmetadata=!0),this.lastCurrentTime=t.currentTime}},w.doTickIdle=function(){var t,e,r=this.hls,n=this.levels,a=this.media,u=this.trackId,s=r.config;if(n&&n[u]&&(a||!this.startFragRequested&&s.startFragPrefetch)){var f=n[u].details;if(!f||f.live&&this.levelLastLoaded!==u||this.waitForCdnTuneIn(f))this.state=o.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,l.ElementaryStreamTypes.AUDIO,c.PlaylistLevelType.AUDIO));var h=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,c.PlaylistLevelType.AUDIO);if(null!==h){var p=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,c.PlaylistLevelType.MAIN),d=h.len,y=this.getMaxBufferLength(null===p||void 0===p?void 0:p.len),v=this.audioSwitch;if(!(d>=y)||v){if(!v&&this._streamEnded(h,f))return r.trigger(i.Events.BUFFER_EOS,{type:"audio"}),void(this.state=o.State.ENDED);var m=f.fragments[0].start,g=h.end;if(v){var b=this.getLoadPosition();g=b,f.PTSKnown&&b<m&&(h.end>m||h.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),a.currentTime=m+.05)}if(!(p&&g>p.end+f.targetduration)&&(p&&p.len||!h.len)){var w=this.getNextFragment(g,f);w?"identity"!==(null===(t=w.decryptdata)||void 0===t?void 0:t.keyFormat)||null!==(e=w.decryptdata)&&void 0!==e&&e.key?this.loadFragment(w,f,g):this.loadKey(w,f):this.bufferFlushed=!0}}}}}},w.getMaxBufferLength=function(e){var r=t.prototype.getMaxBufferLength.call(this);return e?Math.max(r,e):r},w.onMediaDetaching=function(){this.videoBuffer=null,t.prototype.onMediaDetaching.call(this)},w.onAudioTracksUpdated=function(t,e){var r=e.audioTracks;this.resetTransmuxer(),this.levels=r.map((function(t){return new s.Level(t)}))},w.onAudioTrackSwitching=function(t,e){var r=!!e.url;this.trackId=e.id;var n=this.fragCurrent;null!==n&&void 0!==n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),r?this.setInterval(100):this.resetTransmuxer(),r?(this.audioSwitch=!0,this.state=o.State.IDLE):this.state=o.State.STOPPED,this.tick()},w.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},w.onLevelLoaded=function(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},w.onAudioTrackLoaded=function(t,e){var r;if(null!=this.mainDetails){var n=this.levels,i=e.details,a=e.id;if(n){this.log("Track "+a+" loaded ["+i.startSN+","+i.endSN+"],duration:"+i.totalduration);var u=n[a],s=0;if(i.live||null!==(r=u.details)&&void 0!==r&&r.live){var c=this.mainDetails;if(i.fragments[0]||(i.deltaUpdateFailed=!0),i.deltaUpdateFailed||!c)return;!u.details&&i.hasProgramDateTime&&c.hasProgramDateTime?(Object(y.alignMediaPlaylistByPDT)(i,c),s=i.fragments[0].start):s=this.alignPlaylists(i,u.details)}u.details=i,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(u.details,s),this.state!==o.State.WAITING_TRACK||this.waitForCdnTuneIn(i)||(this.state=o.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+a)}else this.cachedTrackLoadedData=e},w._handleFragmentLoadProgress=function(t){var e,r=t.frag,n=t.part,i=t.payload,a=this.config,u=this.trackId,s=this.levels;if(s){var l=s[u];console.assert(l,"Audio track is defined on fragment load progress");var d=l.details;console.assert(d,"Audio track details are defined on fragment load progress");var y=a.defaultAudioCodec||l.audioCodec||"mp4a.40.2",v=this.transmuxer;v||(v=this.transmuxer=new h.default(this.hls,c.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var m=this.initPTS[r.cc],g=null===(e=r.initSegment)||void 0===e?void 0:e.data;if(void 0!==m){var b=n?n.index:-1,w=-1!==b,_=new p.ChunkMetadata(r.level,r.sn,r.stats.chunkCount,i.byteLength,b,w);v.push(i,g,y,"",r,n,d.totalduration,!1,_,m)}else this.log("Unknown video PTS for cc "+r.cc+", waiting for video PTS before demuxing audio frag "+r.sn+" of ["+d.startSN+" ,"+d.endSN+"],track "+u),(this.waitingData=this.waitingData||{frag:r,part:n,cache:new f.default,complete:!1}).cache.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=o.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},w._handleFragmentLoadComplete=function(e){this.waitingData?this.waitingData.complete=!0:t.prototype._handleFragmentLoadComplete.call(this,e)},w.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},w.onBufferCreated=function(t,e){var r=e.tracks.audio;r&&(this.mediaBuffer=r.buffer),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},w.onFragBuffered=function(t,e){var r=e.frag,n=e.part;r.type===c.PlaylistLevelType.AUDIO&&(this.fragContextChanged(r)?this.warn("Fragment "+r.sn+(n?" p: "+n.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==r.sn&&(this.fragPrevious=r,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(r,n)))},w.onError=function(e,r){switch(r.details){case v.ErrorDetails.FRAG_LOAD_ERROR:case v.ErrorDetails.FRAG_LOAD_TIMEOUT:case v.ErrorDetails.KEY_LOAD_ERROR:case v.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(c.PlaylistLevelType.AUDIO,r);break;case v.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case v.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==o.State.ERROR&&this.state!==o.State.STOPPED&&(this.state=r.fatal?o.State.ERROR:o.State.IDLE,this.warn(r.details+" while loading frag, switching to "+this.state+" state"));break;case v.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===r.parent&&(this.state===o.State.PARSING||this.state===o.State.PARSED)){var n=!0,i=this.getFwdBufferInfo(this.mediaBuffer,c.PlaylistLevelType.AUDIO);i&&i.len>.5&&(n=!this.reduceMaxBufferLength(i.len)),n&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},w.onBufferFlushed=function(t,e){e.type===l.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},w._handleTransmuxComplete=function(t){var e,r="audio",n=this.hls,a=t.remuxResult,u=t.chunkMeta,s=this.getCurrentContext(u);if(!s)return this.warn("The loading context changed while buffering fragment "+u.sn+" of level "+u.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(u.level);var c=s.frag,f=s.part,h=s.level.details,p=a.audio,d=a.text,y=a.id3,v=a.initSegment;if(!this.fragContextChanged(c)&&h){if(this.state=o.State.PARSING,this.audioSwitch&&p&&this.completeAudioSwitch(),null!==v&&void 0!==v&&v.tracks&&(this._bufferInitSegment(v.tracks,c,u),n.trigger(i.Events.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:r,tracks:v.tracks})),p){var g=p.startPTS,b=p.endPTS,w=p.startDTS,_=p.endDTS;f&&(f.elementaryStreams[l.ElementaryStreamTypes.AUDIO]={startPTS:g,endPTS:b,startDTS:w,endDTS:_}),c.setElementaryStreamInfo(l.ElementaryStreamTypes.AUDIO,g,b,w,_),this.bufferFragmentData(p,c,f,u)}if(null!==y&&void 0!==y&&null!==(e=y.samples)&&void 0!==e&&e.length){var E=m({id:r,frag:c,details:h},y);n.trigger(i.Events.FRAG_PARSING_METADATA,E)}if(d){var O=m({id:r,frag:c,details:h},d);n.trigger(i.Events.FRAG_PARSING_USERDATA,O)}}},w._bufferInitSegment=function(t,e,r){if(this.state===o.State.PARSING){t.video&&delete t.video;var n=t.audio;if(n){n.levelCodec=n.codec,n.id="audio",this.log("Init audio buffer, container:"+n.container+", codecs[parsed]=["+n.codec+"]"),this.hls.trigger(i.Events.BUFFER_CODECS,t);var a=n.initSegment;if(null!==a&&void 0!==a&&a.byteLength){var u={type:"audio",frag:e,part:null,chunkMeta:r,parent:e.type,data:a};this.hls.trigger(i.Events.BUFFER_APPENDING,u)}this.tick()}}},w.loadFragment=function(e,r,i){var a=this.fragmentTracker.getState(e);this.fragCurrent=e,(this.audioSwitch||a===u.FragmentState.NOT_LOADED||a===u.FragmentState.PARTIAL)&&("initSegment"===e.sn?this._loadInitSegment(e):r.live&&!Object(n.isFiniteNumber)(this.initPTS[e.cc])?(this.log("Waiting for video PTS in continuity counter "+e.cc+" of live stream before loading audio fragment "+e.sn+" of level "+this.trackId),this.state=o.State.WAITING_INIT_PTS):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,i)))},w.completeAudioSwitch=function(){var e=this.hls,r=this.media,n=this.trackId;r&&(this.log("Switching audio track : flushing all audio"),t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,e.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:n})},b}(o.default);e.default=b},"./src/controller/audio-track-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts"),o=r("./src/errors.ts"),i=r("./src/controller/base-playlist-controller.ts"),a=r("./src/types/loader.ts");function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var c=function(t){var e,r;function i(e){var r;return(r=t.call(this,e,"[audio-track-controller]")||this).tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.trackName="",r.selectDefaultTrack=!0,r.registerListeners(),r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,s(e,r);var c,l,f,h=i.prototype;return h.registerListeners=function(){var t=this.hls;t.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(n.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var t=this.hls;t.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),t.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(n.Events.ERROR,this.onError,this)},h.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,t.prototype.destroy.call(this)},h.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},h.onManifestParsed=function(t,e){this.tracks=e.audioTracks||[]},h.onAudioTrackLoaded=function(t,e){var r=e.id,n=e.details,o=this.tracksInGroup[r];if(o){var i=o.details;o.details=e.details,this.log("audioTrack "+r+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&(this.retryCount=0,this.playlistLoaded(r,e,i))}else this.warn("Invalid audio track id "+r)},h.onLevelLoading=function(t,e){this.switchLevel(e.level)},h.onLevelSwitching=function(t,e){this.switchLevel(e.level)},h.switchLevel=function(t){var e=this.hls.levels[t];if(null!==e&&void 0!==e&&e.audioGroupIds){var r=e.audioGroupIds[e.urlId];if(this.groupId!==r){this.groupId=r;var o=this.tracks.filter((function(t){return!r||t.groupId===r}));this.selectDefaultTrack&&!o.some((function(t){return t.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;var i={audioTracks:o};this.log("Updating audio tracks, "+o.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(n.Events.AUDIO_TRACKS_UPDATED,i),this.selectInitialTrack()}}},h.onError=function(e,r){t.prototype.onError.call(this,e,r),!r.fatal&&r.context&&r.context.type===a.PlaylistContextType.AUDIO_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.retryLoadingOrFail(r)},h.setAudioTrack=function(t){var e=this.tracksInGroup;if(t<0||t>=e.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var r=e[this.trackId];this.log("Now switching to audio-track index "+t);var o=e[t],i=o.id,a=o.groupId,u=void 0===a?"":a,s=o.name,c=o.type,l=o.url;if(this.trackId=t,this.trackName=s,this.selectDefaultTrack=!1,this.hls.trigger(n.Events.AUDIO_TRACK_SWITCHING,{id:i,groupId:u,name:s,type:c,url:l}),!o.details||o.details.live){var f=this.switchParams(o.url,null===r||void 0===r?void 0:r.details);this.loadPlaylist(f)}}},h.selectInitialTrack=function(){var t=this.tracksInGroup;console.assert(t.length,"Initial audio track should be selected when tracks are known");var e=this.trackName,r=this.findTrackId(e)||this.findTrackId();-1!==r?this.setAudioTrack(r):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},h.findTrackId=function(t){for(var e=this.tracksInGroup,r=0;r<e.length;r++){var n=e[r];if((!this.selectDefaultTrack||n.default)&&(!t||t===n.name))return n.id}return-1},h.loadPlaylist=function(t){var e=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(e)){var r=e.id,o=e.groupId,i=e.url;if(t)try{i=t.addDirectives(i)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: "+a)}this.log("loading audio-track playlist for id: "+r),this.clearTimer(),this.hls.trigger(n.Events.AUDIO_TRACK_LOADING,{url:i,id:r,groupId:o,deliveryDirectives:t||null})}},c=i,(l=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}}])&&u(c.prototype,l),f&&u(c,f),Object.defineProperty(c,"prototype",{writable:!1}),i}(i.default);e.default=c},"./src/controller/base-playlist-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return s}));var n=r("./src/polyfills/number.ts"),o=r("./src/types/level.ts"),i=r("./src/controller/level-helper.ts"),a=r("./src/utils/logger.ts"),u=r("./src/errors.ts"),s=function(){function t(t,e){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=a.logger.log.bind(a.logger,e+":"),this.warn=a.logger.warn.bind(a.logger,e+":"),this.hls=t}var e=t.prototype;return e.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},e.onError=function(t,e){e.fatal&&e.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},e.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},e.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},e.stopLoad=function(){this.canLoad=!1,this.clearTimer()},e.switchParams=function(t,e){var r=null===e||void 0===e?void 0:e.renditionReports;if(r)for(var i=0;i<r.length;i++){var a=r[i],u=""+a.URI;if(u===t.slice(-u.length)){var s=parseInt(a["LAST-MSN"]),c=parseInt(a["LAST-PART"]);if(e&&this.hls.config.lowLatencyMode){var l=Math.min(e.age-e.partTarget,e.targetduration);void 0!==c&&l>e.partTarget&&(c+=1)}if(Object(n.isFiniteNumber)(s))return new o.HlsUrlParameters(s,Object(n.isFiniteNumber)(c)?c:void 0,o.HlsSkip.No)}}},e.loadPlaylist=function(t){},e.shouldLoadTrack=function(t){return this.canLoad&&t&&!!t.url&&(!t.details||t.details.live)},e.playlistLoaded=function(t,e,r){var n=this,o=e.details,a=e.stats,u=a.loading.end?Math.max(0,self.performance.now()-a.loading.end):0;if(o.advancedDateTime=Date.now()-u,o.live||null!==r&&void 0!==r&&r.live){if(o.reloaded(r),r&&this.log("live playlist "+t+" "+(o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED")),r&&o.fragments.length>0&&Object(i.mergeDetails)(r,o),!this.canLoad||!o.live)return;var s,c=void 0,l=void 0;if(o.canBlockReload&&o.endSN&&o.advanced){var f=this.hls.config.lowLatencyMode,h=o.lastPartSn,p=o.endSN,d=o.lastPartIndex,y=h===p;-1!==d?(c=y?p+1:h,l=y?f?0:d:d+1):c=p+1;var v=o.age,m=v+o.ageHeader,g=Math.min(m-o.partTarget,1.5*o.targetduration);if(g>0){if(r&&g>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+r.tuneInGoal+" to: "+g+" with playlist age: "+o.age),g=0;else{var b=Math.floor(g/o.targetduration);c+=b,void 0!==l&&(l+=Math.round(g%o.targetduration/o.partTarget)),this.log("CDN Tune-in age: "+o.ageHeader+"s last advanced "+v.toFixed(2)+"s goal: "+g+" skip sn "+b+" to part "+l)}o.tuneInGoal=g}if(s=this.getDeliveryDirectives(o,e.deliveryDirectives,c,l),f||!y)return void this.loadPlaylist(s)}else s=this.getDeliveryDirectives(o,e.deliveryDirectives,c,l);var w=Object(i.computeReloadInterval)(o,a);void 0!==c&&o.canBlockReload&&(w-=o.partTarget||1),this.log("reload live playlist "+t+" in "+Math.round(w)+" ms"),this.timer=self.setTimeout((function(){return n.loadPlaylist(s)}),w)}else this.clearTimer()},e.getDeliveryDirectives=function(t,e,r,n){var i=Object(o.getSkipValue)(t,r);return null!==e&&void 0!==e&&e.skip&&t.deltaUpdateFailed&&(r=e.msn,n=e.part,i=o.HlsSkip.No),new o.HlsUrlParameters(r,n,i)},e.retryLoadingOrFail=function(t){var e,r=this,n=this.hls.config,o=this.retryCount<n.levelLoadingMaxRetry;if(o)if(this.retryCount++,t.details.indexOf("LoadTimeOut")>-1&&null!==(e=t.context)&&void 0!==e&&e.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+t.details+'"'),this.loadPlaylist();else{var i=Math.min(Math.pow(2,this.retryCount)*n.levelLoadingRetryDelay,n.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return r.loadPlaylist()}),i),this.warn("retry playlist loading #"+this.retryCount+" in "+i+' ms after "'+t.details+'"')}else this.warn('cannot recover from error "'+t.details+'"'),this.clearTimer(),t.fatal=!0;return o},t}()},"./src/controller/base-stream-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"State",(function(){return _})),r.d(e,"default",(function(){return E}));var n=r("./src/polyfills/number.ts"),o=r("./src/task-loop.ts"),i=r("./src/controller/fragment-tracker.ts"),a=r("./src/utils/buffer-helper.ts"),u=r("./src/utils/logger.ts"),s=r("./src/events.ts"),c=r("./src/errors.ts"),l=r("./src/types/transmuxer.ts"),f=r("./src/utils/mp4-tools.ts"),h=r("./src/utils/discontinuities.ts"),p=r("./src/controller/fragment-finders.ts"),d=r("./src/controller/level-helper.ts"),y=r("./src/loader/fragment-loader.ts"),v=r("./src/crypt/decrypter.ts"),m=r("./src/utils/time-ranges.ts"),g=r("./src/types/loader.ts");function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}var _={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},E=function(t){var e,r;function o(e,r,n){var o;return(o=t.call(this)||this).hls=void 0,o.fragPrevious=null,o.fragCurrent=null,o.fragmentTracker=void 0,o.transmuxer=null,o._state=_.STOPPED,o.media=void 0,o.mediaBuffer=void 0,o.config=void 0,o.bitrateTest=!1,o.lastCurrentTime=0,o.nextLoadPosition=0,o.startPosition=0,o.loadedmetadata=!1,o.fragLoadError=0,o.retryDate=0,o.levels=null,o.fragmentLoader=void 0,o.levelLastLoaded=null,o.startFragRequested=!1,o.decrypter=void 0,o.initPTS=[],o.onvseeking=null,o.onvended=null,o.logPrefix="",o.log=void 0,o.warn=void 0,o.logPrefix=n,o.log=u.logger.log.bind(u.logger,n+":"),o.warn=u.logger.warn.bind(u.logger,n+":"),o.hls=e,o.fragmentLoader=new y.default(e.config),o.fragmentTracker=r,o.config=e.config,o.decrypter=new v.default(e,e.config),e.on(s.Events.KEY_LOADED,o.onKeyLoaded,function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o)),o}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,w(e,r);var E,O,S,x=o.prototype;return x.doTick=function(){this.onTickEnd()},x.onTickEnd=function(){},x.startLoad=function(t){},x.stopLoad=function(){this.fragmentLoader.abort();var t=this.fragCurrent;t&&this.fragmentTracker.removeFragment(t),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=_.STOPPED},x._streamEnded=function(t,e){var r=this.fragCurrent,n=this.fragmentTracker;if(!e.live&&r&&r.sn>=e.endSN&&!t.nextStart){var o=e.partList;if(null!==o&&void 0!==o&&o.length){var u=o[o.length-1];return a.BufferHelper.isBuffered(this.media,u.start+u.duration/2)}var s=n.getState(r);return s===i.FragmentState.PARTIAL||s===i.FragmentState.OK}return!1},x.onMediaAttached=function(t,e){var r=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.state===_.STOPPED&&this.startLoad(n.startPosition)},x.onMediaDetaching=function(){var t=this.media;null!==t&&void 0!==t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},x.onMediaSeeking=function(){var t=this.config,e=this.fragCurrent,r=this.media,o=this.mediaBuffer,i=this.state,u=r?r.currentTime:0,s=a.BufferHelper.bufferInfo(o||r,u,t.maxBufferHole);if(this.log("media seeking to "+(Object(n.isFiniteNumber)(u)?u.toFixed(3):u)+", state: "+i),i===_.ENDED)this.resetLoadingState();else if(e&&!s.len){var c=t.maxFragLookUpTolerance,l=e.start-c,f=u>e.start+e.duration+c;(u<l||f)&&(f&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.loader.abort()),this.resetLoadingState())}r&&(this.lastCurrentTime=u),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=u),this.tickImmediate()},x.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},x.onKeyLoaded=function(t,e){if(this.state===_.KEY_LOADING&&e.frag===this.fragCurrent&&this.levels){this.state=_.IDLE;var r=this.levels[e.frag.level].details;r&&this.loadFragment(e.frag,r,e.frag.start)}},x.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},x.onHandlerDestroyed=function(){this.state=_.STOPPED,this.hls.off(s.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},x.loadKey=function(t,e){this.log("Loading key for "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level),this.state=_.KEY_LOADING,this.fragCurrent=t,this.hls.trigger(s.Events.KEY_LOADING,{frag:t})},x.loadFragment=function(t,e,r){this._loadFragForPlayback(t,e,r)},x._loadFragForPlayback=function(t,e,r){var n=this;this._doFragLoad(t,e,r,(function(e){if(n.fragContextChanged(t))return n.warn("Fragment "+t.sn+(e.part?" p: "+e.part.index:"")+" of level "+t.level+" was dropped during download."),void n.fragmentTracker.removeFragment(t);t.stats.chunkCount++,n._handleFragmentLoadProgress(e)})).then((function(e){if(e){n.fragLoadError=0;var r=n.state;n.fragContextChanged(t)?(r===_.FRAG_LOADING||!n.fragCurrent&&r===_.PARSING)&&(n.fragmentTracker.removeFragment(t),n.state=_.IDLE):("payload"in e&&(n.log("Loaded fragment "+t.sn+" of level "+t.level),n.hls.trigger(s.Events.FRAG_LOADED,e)),n._handleFragmentLoadComplete(e))}})).catch((function(e){n.state!==_.STOPPED&&(n.warn(e),n.resetFragmentLoading(t))}))},x.flushMainBuffer=function(t,e,r){if(void 0===r&&(r=null),t-e){var n={startOffset:t,endOffset:e,type:r};this.fragLoadError=0,this.hls.trigger(s.Events.BUFFER_FLUSHING,n)}},x._loadInitSegment=function(t){var e=this;this._doFragLoad(t).then((function(r){if(!r||e.fragContextChanged(t)||!e.levels)throw new Error("init load aborted");return r})).then((function(r){var n=e.hls,o=r.payload,i=t.decryptdata;if(o&&o.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var a=self.performance.now();return e.decrypter.webCryptoDecrypt(new Uint8Array(o),i.key.buffer,i.iv.buffer).then((function(e){var o=self.performance.now();return n.trigger(s.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:a,tdecrypt:o}}),r.payload=e,r}))}return r})).then((function(r){var n=e.fragCurrent,o=e.hls,i=e.levels;if(!i)throw new Error("init load aborted, missing levels");var a=i[t.level].details;console.assert(a,"Level details are defined when init segment is loaded");var u=t.stats;e.state=_.IDLE,e.fragLoadError=0,t.data=new Uint8Array(r.payload),u.parsing.start=u.buffering.start=self.performance.now(),u.parsing.end=u.buffering.end=self.performance.now(),r.frag===n&&o.trigger(s.Events.FRAG_BUFFERED,{stats:u,frag:n,part:null,id:t.type}),e.tick()})).catch((function(r){e.warn(r),e.resetFragmentLoading(t)}))},x.fragContextChanged=function(t){var e=this.fragCurrent;return!t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId},x.fragBufferedComplete=function(t,e){var r=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+t.type+" sn: "+t.sn+(e?" part: "+e.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level+" "+m.default.toString(a.BufferHelper.getBuffered(r))),this.state=_.IDLE,this.tick()},x._handleFragmentLoadComplete=function(t){var e=this.transmuxer;if(e){var r=t.frag,n=t.part,o=t.partsLoaded,i=!o||0===o.length||o.some((function(t){return!t})),a=new l.ChunkMetadata(r.level,r.sn,r.stats.chunkCount+1,0,n?n.index:-1,!i);e.flush(a)}},x._handleFragmentLoadProgress=function(t){},x._doFragLoad=function(t,e,r,o){var i=this;if(void 0===r&&(r=null),!this.levels)throw new Error("frag load aborted, missing levels");if(r=Math.max(t.start,r||0),this.config.lowLatencyMode&&e){var a=e.partList;if(a&&o){r>t.end&&e.fragmentHint&&(t=e.fragmentHint);var u=this.getNextPart(a,t,r);if(u>-1){var c=a[u];return this.log("Loading part sn: "+t.sn+" p: "+c.index+" cc: "+t.cc+" of playlist ["+e.startSN+"-"+e.endSN+"] parts [0-"+u+"-"+(a.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(r.toFixed(3))),this.nextLoadPosition=c.start+c.duration,this.state=_.FRAG_LOADING,this.hls.trigger(s.Events.FRAG_LOADING,{frag:t,part:a[u],targetBufferTime:r}),this.doFragPartsLoad(t,a,u,o).catch((function(t){return i.handleFragLoadError(t)}))}if(!t.url||this.loadedEndOfParts(a,r))return Promise.resolve(null)}}return this.log("Loading fragment "+t.sn+" cc: "+t.cc+" "+(e?"of ["+e.startSN+"-"+e.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(r.toFixed(3))),Object(n.isFiniteNumber)(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=_.FRAG_LOADING,this.hls.trigger(s.Events.FRAG_LOADING,{frag:t,targetBufferTime:r}),this.fragmentLoader.load(t,o).catch((function(t){return i.handleFragLoadError(t)}))},x.doFragPartsLoad=function(t,e,r,n){var o=this;return new Promise((function(i,a){var u=[];!function r(c){var l=e[c];o.fragmentLoader.loadPart(t,l,n).then((function(n){u[l.index]=n;var a=n.part;o.hls.trigger(s.Events.FRAG_LOADED,n);var f=e[c+1];if(!f||f.fragment!==t)return i({frag:t,part:a,partsLoaded:u});r(c+1)})).catch(a)}(r)}))},x.handleFragLoadError=function(t){var e=t.data;return e&&e.details===c.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(s.Events.ERROR,e),null},x._handleTransmuxerFlush=function(t){var e=this.getCurrentContext(t);if(e&&this.state===_.PARSING){var r=e.frag,n=e.part,o=e.level,i=self.performance.now();r.stats.parsing.end=i,n&&(n.stats.parsing.end=i),this.updateLevelTiming(r,n,o,t.partial)}else this.fragCurrent||(this.state=_.IDLE)},x.getCurrentContext=function(t){var e=this.levels,r=t.level,n=t.sn,o=t.part;if(!e||!e[r])return this.warn("Levels object was unset while buffering fragment "+n+" of level "+r+". The current chunk will not be buffered."),null;var i=e[r],a=o>-1?Object(d.getPartWith)(i,n,o):null,u=a?a.fragment:Object(d.getFragmentWithSN)(i,n,this.fragCurrent);return u?{frag:u,part:a,level:i}:null},x.bufferFragmentData=function(t,e,r,n){if(t&&this.state===_.PARSING){var o=t.data1,i=t.data2,a=o;if(o&&i&&(a=Object(f.appendUint8Array)(o,i)),a&&a.length){var u={type:t.type,frag:e,part:r,chunkMeta:n,parent:e.type,data:a};this.hls.trigger(s.Events.BUFFER_APPENDING,u),t.dropped&&t.independent&&!r&&this.flushBufferGap(e)}}},x.flushBufferGap=function(t){var e=this.media;if(e)if(a.BufferHelper.isBuffered(e,e.currentTime)){var r=e.currentTime,n=a.BufferHelper.bufferInfo(e,r,0),o=t.duration,i=Math.min(2*this.config.maxFragLookUpTolerance,.25*o),u=Math.max(Math.min(t.start-i,n.end-i),r+i);t.start-u>i&&this.flushMainBuffer(u,t.start)}else this.flushMainBuffer(0,t.start)},x.getFwdBufferInfo=function(t,e){var r=this.config,o=this.getLoadPosition();if(!Object(n.isFiniteNumber)(o))return null;var i=a.BufferHelper.bufferInfo(t,o,r.maxBufferHole);if(0===i.len&&void 0!==i.nextStart){var u=this.fragmentTracker.getBufferedFrag(o,e);if(u&&i.nextStart<u.end)return a.BufferHelper.bufferInfo(t,o,Math.max(i.nextStart,r.maxBufferHole))}return i},x.getMaxBufferLength=function(t){var e,r=this.config;return e=t?Math.max(8*r.maxBufferSize/t,r.maxBufferLength):r.maxBufferLength,Math.min(e,r.maxMaxBufferLength)},x.reduceMaxBufferLength=function(t){var e=this.config,r=t||e.maxBufferLength;return e.maxMaxBufferLength>=r&&(e.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},x.getNextFragment=function(t,e){var r=e.fragments,n=r.length;if(!n)return null;var o,i=this.config,a=r[0].start;if(e.live){var u=i.initialLiveManifestSize;if(n<u)return this.warn("Not enough fragments to start playback (have: "+n+", need: "+u+")"),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(o=this.getInitialLiveFragment(e,r),this.startPosition=o?this.hls.liveSyncPosition||o.start:t)}else t<=a&&(o=r[0]);if(!o){var s=i.lowLatencyMode?e.partEnd:e.fragmentEnd;o=this.getFragmentAtPosition(t,s,e)}return this.mapToInitFragWhenRequired(o)},x.mapToInitFragWhenRequired=function(t){return null===t||void 0===t||!t.initSegment||null!==t&&void 0!==t&&t.initSegment.data||this.bitrateTest?t:t.initSegment},x.getNextPart=function(t,e,r){for(var n=-1,o=!1,i=!0,a=0,u=t.length;a<u;a++){var s=t[a];if(i=i&&!s.independent,n>-1&&r<s.start)break;var c=s.loaded;!c&&(o||s.independent||i)&&s.fragment===e&&(n=a),o=c}return n},x.loadedEndOfParts=function(t,e){var r=t[t.length-1];return r&&e>r.start&&r.loaded},x.getInitialLiveFragment=function(t,e){var r=this.fragPrevious,n=null;if(r){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),n=Object(p.findFragmentByPDT)(e,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){var o=r.sn+1;if(o>=t.startSN&&o<=t.endSN){var i=e[o-t.startSN];r.cc===i.cc&&(n=i,this.log("Live playlist, switching playlist, load frag with next SN: "+n.sn))}n||(n=Object(p.findFragWithCC)(e,r.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+n.sn)}}else{var a=this.hls.liveSyncPosition;null!==a&&(n=this.getFragmentAtPosition(a,this.bitrateTest?t.fragmentEnd:t.edge,t))}return n},x.getFragmentAtPosition=function(t,e,r){var n,o=this.config,a=this.fragPrevious,u=r.fragments,s=r.endSN,c=r.fragmentHint,l=o.maxFragLookUpTolerance,f=!!(o.lowLatencyMode&&r.partList&&c);if(f&&c&&!this.bitrateTest&&(u=u.concat(c),s=c.sn),t<e){var h=t>e-l?0:l;n=Object(p.findFragmentByPTS)(a,u,t,h)}else n=u[u.length-1];if(n){var d=n.sn-r.startSN,y=a&&n.level===a.level,v=u[d+1];a&&n.sn===a.sn&&!f&&y&&(n.sn<s&&this.fragmentTracker.getState(v)!==i.FragmentState.OK?(this.log("SN "+n.sn+" just loaded, load next one: "+v.sn),n=v):n=null)}return n},x.synchronizeToLiveEdge=function(t){var e=this.config,r=this.media;if(r){var n=this.hls.liveSyncPosition,o=r.currentTime,i=t.fragments[0].start,a=t.edge,u=o>=i-e.maxFragLookUpTolerance&&o<=a;if(null!==n&&r.duration>n&&(o<n||!u)){var s=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!u&&r.readyState<4||o<a-s)&&(this.loadedmetadata||(this.nextLoadPosition=n),r.readyState&&(this.warn("Playback: "+o.toFixed(3)+" is located too far from the end of live sliding playlist: "+a+", reset currentTime to : "+n.toFixed(3)),r.currentTime=n))}}},x.alignPlaylists=function(t,e){var r=this.levels,o=this.levelLastLoaded,i=this.fragPrevious,a=null!==o?r[o]:null,u=t.fragments.length;if(!u)return this.warn("No fragments in live playlist"),0;var s=t.fragments[0].start,c=!e,l=t.alignedSliding&&Object(n.isFiniteNumber)(s);if(c||!l&&!s){Object(h.alignStream)(i,a,t);var f=t.fragments[0].start;return this.log("Live playlist sliding: "+f.toFixed(2)+" start-sn: "+(e?e.startSN:"na")+"->"+t.startSN+" prev-sn: "+(i?i.sn:"na")+" fragments: "+u),f}return s},x.waitForCdnTuneIn=function(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)},x.setStartPosition=function(t,e){var r=this.startPosition;if(r<e&&(r=-1),-1===r||-1===this.lastCurrentTime){var o=t.startTimeOffset;Object(n.isFiniteNumber)(o)?(r=e+o,o<0&&(r+=t.totalduration),r=Math.min(Math.max(e,r),e+t.totalduration),this.log("Start time offset "+o+" found in playlist, adjust startPosition to "+r),this.startPosition=r):t.live?r=this.hls.liveSyncPosition||e:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r},x.getLoadPosition=function(){var t=this.media,e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e},x.handleFragLoadAborted=function(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn("Fragment "+t.sn+(e?" part"+e.index:"")+" of level "+t.level+" was aborted"),this.resetFragmentLoading(t))},x.resetFragmentLoading=function(t){this.fragCurrent&&this.fragContextChanged(t)||(this.state=_.IDLE)},x.onFragmentOrKeyLoadError=function(t,e){if(!e.fatal){var r=e.frag;if(r&&r.type===t){var n=this.fragCurrent;console.assert(n&&r.sn===n.sn&&r.level===n.level&&r.urlId===n.urlId,"Frag load error must match current frag to retry");var o=this.config;if(this.fragLoadError+1<=o.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(r.level))return;var i=Math.min(Math.pow(2,this.fragLoadError)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);this.warn("Fragment "+r.sn+" of "+t+" "+r.level+" failed to load, retrying in "+i+"ms"),this.retryDate=self.performance.now()+i,this.fragLoadError++,this.state=_.FRAG_LOADING_WAITING_RETRY}else e.levelRetry?(t===g.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=_.IDLE):(u.logger.error(e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.stopLoad(),this.state=_.ERROR)}}},x.afterBufferFlushed=function(t,e,r){if(t){var n=a.BufferHelper.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,n,r),this.state===_.ENDED&&this.resetLoadingState()}},x.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=_.IDLE},x.resetLiveStartWhenNotLoaded=function(t){if(!this.loadedmetadata){this.startFragRequested=!1;var e=this.levels?this.levels[t].details:null;if(null!==e&&void 0!==e&&e.live)return this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},x.updateLevelTiming=function(t,e,r,n){var o=this,i=r.details;console.assert(!!i,"level.details must be defined"),Object.keys(t.elementaryStreams).reduce((function(e,a){var u=t.elementaryStreams[a];if(u){var c=u.endPTS-u.startPTS;if(c<=0)return o.warn("Could not parse fragment "+t.sn+" "+a+" duration reliably ("+c+")"),e||!1;var l=n?0:Object(d.updateFragPTSDTS)(i,t,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return o.hls.trigger(s.Events.LEVEL_PTS_UPDATED,{details:i,level:r,drift:l,type:a,frag:t,start:u.startPTS,end:u.endPTS}),!0}return e}),!1)||(this.warn("Found no media in fragment "+t.sn+" of level "+r.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=_.PARSED,this.hls.trigger(s.Events.FRAG_PARSED,{frag:t,part:e})},x.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},E=o,(O=[{key:"state",get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.log(e+"->"+t))}}])&&b(E.prototype,O),S&&b(E,S),Object.defineProperty(E,"prototype",{writable:!1}),o}(o.default)},"./src/controller/buffer-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return p}));var n=r("./src/polyfills/number.ts"),o=r("./src/events.ts"),i=r("./src/utils/logger.ts"),a=r("./src/errors.ts"),u=r("./src/utils/buffer-helper.ts"),s=r("./src/utils/mediasource-helper.ts"),c=r("./src/loader/fragment.ts"),l=r("./src/controller/buffer-operation-queue.ts"),f=Object(s.getMediaSource)(),h=/([ha]vc.)(?:\.[^.,]+)+/,p=function(){function t(t){var e=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var t=e.hls,r=e.media,n=e.mediaSource;i.logger.log("[buffer-controller]: Media source opened"),r&&(e.updateMediaElementDuration(),t.trigger(o.Events.MEDIA_ATTACHED,{media:r})),n&&n.removeEventListener("sourceopen",e._onMediaSourceOpen),e.checkPendingTracks()},this._onMediaSourceClose=function(){i.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){i.logger.log("[buffer-controller]: Media source ended")},this.hls=t,this._initSourceBuffer(),this.registerListeners()}var e=t.prototype;return e.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},e.destroy=function(){this.unregisterListeners(),this.details=null},e.registerListeners=function(){var t=this.hls;t.on(o.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(o.Events.BUFFER_RESET,this.onBufferReset,this),t.on(o.Events.BUFFER_APPENDING,this.onBufferAppending,this),t.on(o.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.on(o.Events.BUFFER_EOS,this.onBufferEos,this),t.on(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(o.Events.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(o.Events.FRAG_PARSED,this.onFragParsed,this),t.on(o.Events.FRAG_CHANGED,this.onFragChanged,this)},e.unregisterListeners=function(){var t=this.hls;t.off(o.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(o.Events.BUFFER_RESET,this.onBufferReset,this),t.off(o.Events.BUFFER_APPENDING,this.onBufferAppending,this),t.off(o.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.off(o.Events.BUFFER_EOS,this.onBufferEos,this),t.off(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(o.Events.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(o.Events.FRAG_PARSED,this.onFragParsed,this),t.off(o.Events.FRAG_CHANGED,this.onFragChanged,this)},e._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new l.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},e.onManifestParsed=function(t,e){var r=2;(e.audio&&!e.video||!e.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.details=null,i.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},e.onMediaAttaching=function(t,e){var r=this.media=e.media;if(r&&f){var n=this.mediaSource=new f;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(n),this._objectUrl=r.src}},e.onMediaDetaching=function(){var t=this.media,e=this.mediaSource,r=this._objectUrl;if(e){if(i.logger.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(n){i.logger.warn("[buffer-controller]: onMediaDetaching: "+n.message+" while calling endOfStream")}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(r&&self.URL.revokeObjectURL(r),t.src===r?(t.removeAttribute("src"),t.load()):i.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(o.Events.MEDIA_DETACHED,void 0)},e.onBufferReset=function(){var t=this;this.getSourceBufferTypes().forEach((function(e){var r=t.sourceBuffer[e];try{r&&(t.removeBufferListeners(e),t.mediaSource&&t.mediaSource.removeSourceBuffer(r),t.sourceBuffer[e]=void 0)}catch(n){i.logger.warn("[buffer-controller]: Failed to reset the "+e+" buffer",n)}})),this._initSourceBuffer()},e.onBufferCodecs=function(t,e){var r=this,n=this.getSourceBufferTypes().length;Object.keys(e).forEach((function(t){if(n){var o=r.tracks[t];if(o&&"function"===typeof o.buffer.changeType){var a=e[t],u=a.id,s=a.codec,c=a.levelCodec,l=a.container,f=a.metadata,p=(o.levelCodec||o.codec).replace(h,"$1"),d=(c||s).replace(h,"$1");if(p!==d){var y=l+";codecs="+(c||s);r.appendChangeType(t,y),i.logger.log("[buffer-controller]: switching codec "+p+" to "+d),r.tracks[t]={buffer:o.buffer,codec:s,container:l,levelCodec:c,metadata:f,id:u}}}}else r.pendingTracks[t]=e[t]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},e.appendChangeType=function(t,e){var r=this,n=this.operationQueue,o={execute:function(){var o=r.sourceBuffer[t];o&&(i.logger.log("[buffer-controller]: changing "+t+" sourceBuffer type to "+e),o.changeType(e)),n.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(e){i.logger.warn("[buffer-controller]: Failed to change "+t+" SourceBuffer type",e)}};n.append(o,t)},e.onBufferAppending=function(t,e){var r=this,n=this.hls,s=this.operationQueue,c=this.tracks,l=e.data,f=e.type,h=e.frag,p=e.part,d=e.chunkMeta,y=d.buffering[f],v=self.performance.now();y.start=v;var m=h.stats.buffering,g=p?p.stats.buffering:null;0===m.start&&(m.start=v),g&&0===g.start&&(g.start=v);var b=c.audio,w="audio"===f&&1===d.id&&"audio/mpeg"===(null===b||void 0===b?void 0:b.container),_={execute:function(){if(y.executeStart=self.performance.now(),w){var t=r.sourceBuffer[f];if(t){var e=h.start-t.timestampOffset;Math.abs(e)>=.1&&(i.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+h.start+" (delta: "+e+") sn: "+h.sn+")"),t.timestampOffset=h.start)}}r.appendExecutor(l,f)},onStart:function(){},onComplete:function(){var t=self.performance.now();y.executeEnd=y.end=t,0===m.first&&(m.first=t),g&&0===g.first&&(g.first=t);var e=r.sourceBuffer,n={};for(var i in e)n[i]=u.BufferHelper.getBuffered(e[i]);r.appendError=0,r.hls.trigger(o.Events.BUFFER_APPENDED,{type:f,frag:h,part:p,chunkMeta:d,parent:h.type,timeRanges:n})},onError:function(t){i.logger.error("[buffer-controller]: Error encountered while trying to append to the "+f+" SourceBuffer",t);var e={type:a.ErrorTypes.MEDIA_ERROR,parent:h.type,details:a.ErrorDetails.BUFFER_APPEND_ERROR,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=a.ErrorDetails.BUFFER_FULL_ERROR:(r.appendError++,e.details=a.ErrorDetails.BUFFER_APPEND_ERROR,r.appendError>n.config.appendErrorMaxRetry&&(i.logger.error("[buffer-controller]: Failed "+n.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),e.fatal=!0)),n.trigger(o.Events.ERROR,e)}};s.append(_,f)},e.onBufferFlushing=function(t,e){var r=this,n=this.operationQueue,a=function(t){return{execute:r.removeExecutor.bind(r,t,e.startOffset,e.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(o.Events.BUFFER_FLUSHED,{type:t})},onError:function(e){i.logger.warn("[buffer-controller]: Failed to remove from "+t+" SourceBuffer",e)}}};e.type?n.append(a(e.type),e.type):this.getSourceBufferTypes().forEach((function(t){n.append(a(t),t)}))},e.onFragParsed=function(t,e){var r=this,n=e.frag,a=e.part,u=[],s=a?a.elementaryStreams:n.elementaryStreams;s[c.ElementaryStreamTypes.AUDIOVIDEO]?u.push("audiovideo"):(s[c.ElementaryStreamTypes.AUDIO]&&u.push("audio"),s[c.ElementaryStreamTypes.VIDEO]&&u.push("video")),0===u.length&&i.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+n.type+" level: "+n.level+" sn: "+n.sn),this.blockBuffers((function(){var t=self.performance.now();n.stats.buffering.end=t,a&&(a.stats.buffering.end=t);var e=a?a.stats:n.stats;r.hls.trigger(o.Events.FRAG_BUFFERED,{frag:n,part:a,stats:e,id:n.type})}),u)},e.onFragChanged=function(t,e){this.flushBackBuffer()},e.onBufferEos=function(t,e){var r=this;this.getSourceBufferTypes().reduce((function(t,n){var o=r.sourceBuffer[n];return e.type&&e.type!==n||o&&!o.ended&&(o.ended=!0,i.logger.log("[buffer-controller]: "+n+" sourceBuffer now EOS")),t&&!(o&&!o.ended)}),!0)&&this.blockBuffers((function(){var t=r.mediaSource;t&&"open"===t.readyState&&t.endOfStream()}))},e.onLevelUpdated=function(t,e){var r=e.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},e.flushBackBuffer=function(){var t=this.hls,e=this.details,r=this.media,i=this.sourceBuffer;if(r&&null!==e){var a=this.getSourceBufferTypes();if(a.length){var s=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(Object(n.isFiniteNumber)(s)&&!(s<0)){var c=r.currentTime,l=e.levelTargetDuration,f=Math.max(s,l),h=Math.floor(c/l)*l-f;a.forEach((function(r){var n=i[r];if(n){var a=u.BufferHelper.getBuffered(n);a.length>0&&h>a.start(0)&&(t.trigger(o.Events.BACK_BUFFER_REACHED,{bufferEnd:h}),e.live&&t.trigger(o.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:h}),t.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:h,type:r}))}}))}}}},e.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var t=this.details,e=this.hls,r=this.media,o=this.mediaSource,a=t.fragments[0].start+t.totalduration,u=r.duration,s=Object(n.isFiniteNumber)(o.duration)?o.duration:0;t.live&&e.config.liveDurationInfinity?(i.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(t)):(a>s&&a>u||!Object(n.isFiniteNumber)(u))&&(i.logger.log("[buffer-controller]: Updating Media Source duration to "+a.toFixed(3)),o.duration=a)}},e.updateSeekableRange=function(t){var e=this.mediaSource,r=t.fragments;if(r.length&&t.live&&null!==e&&void 0!==e&&e.setLiveSeekableRange){var n=Math.max(0,r[0].start),o=Math.max(n,n+t.totalduration);e.setLiveSeekableRange(n,o)}},e.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.operationQueue,r=this.pendingTracks,n=Object.keys(r).length;if(n&&!t||2===n){this.createSourceBuffers(r),this.pendingTracks={};var i=this.getSourceBufferTypes();if(0===i.length)return void this.hls.trigger(o.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});i.forEach((function(t){e.executeNext(t)}))}},e.createSourceBuffers=function(t){var e=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");var n=0;for(var u in t)if(!e[u]){var s=t[u];if(!s)throw Error("source buffer exists for track "+u+", however track does not");var c=s.levelCodec||s.codec,l=s.container+";codecs="+c;i.logger.log("[buffer-controller]: creating sourceBuffer("+l+")");try{var f=e[u]=r.addSourceBuffer(l),h=u;this.addBufferListener(h,"updatestart",this._onSBUpdateStart),this.addBufferListener(h,"updateend",this._onSBUpdateEnd),this.addBufferListener(h,"error",this._onSBUpdateError),this.tracks[u]={buffer:f,codec:c,container:s.container,levelCodec:s.levelCodec,metadata:s.metadata,id:s.id},n++}catch(p){i.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+p.message),this.hls.trigger(o.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:p,mimeType:l})}}n&&this.hls.trigger(o.Events.BUFFER_CREATED,{tracks:this.tracks})},e._onSBUpdateStart=function(t){this.operationQueue.current(t).onStart()},e._onSBUpdateEnd=function(t){var e=this.operationQueue;e.current(t).onComplete(),e.shiftAndExecuteNext(t)},e._onSBUpdateError=function(t,e){i.logger.error("[buffer-controller]: "+t+" SourceBuffer error",e),this.hls.trigger(o.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var r=this.operationQueue.current(t);r&&r.onError(e)},e.removeExecutor=function(t,e,r){var o=this.media,a=this.mediaSource,u=this.operationQueue,s=this.sourceBuffer[t];if(!o||!a||!s)return i.logger.warn("[buffer-controller]: Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void u.shiftAndExecuteNext(t);var c=Object(n.isFiniteNumber)(o.duration)?o.duration:1/0,l=Object(n.isFiniteNumber)(a.duration)?a.duration:1/0,f=Math.max(0,e),h=Math.min(r,c,l);h>f?(i.logger.log("[buffer-controller]: Removing ["+f+","+h+"] from the "+t+" SourceBuffer"),console.assert(!s.updating,t+" sourceBuffer must not be updating"),s.remove(f,h)):u.shiftAndExecuteNext(t)},e.appendExecutor=function(t,e){var r=this.operationQueue,n=this.sourceBuffer[e];if(!n)return i.logger.warn("[buffer-controller]: Attempting to append to the "+e+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(e);n.ended=!1,console.assert(!n.updating,e+" sourceBuffer must not be updating"),n.appendBuffer(t)},e.blockBuffers=function(t,e){var r=this;if(void 0===e&&(e=this.getSourceBufferTypes()),!e.length)return i.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);var n=this.operationQueue,o=e.map((function(t){return n.appendBlocker(t)}));Promise.all(o).then((function(){t(),e.forEach((function(t){var e=r.sourceBuffer[t];e&&e.updating||n.shiftAndExecuteNext(t)}))}))},e.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},e.addBufferListener=function(t,e,r){var n=this.sourceBuffer[t];if(n){var o=r.bind(this,t);this.listeners[t].push({event:e,listener:o}),n.addEventListener(e,o)}},e.removeBufferListeners=function(t){var e=this.sourceBuffer[t];e&&this.listeners[t].forEach((function(t){e.removeEventListener(t.event,t.listener)}))},t}()},"./src/controller/buffer-operation-queue.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return o}));var n=r("./src/utils/logger.ts"),o=function(){function t(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}var e=t.prototype;return e.append=function(t,e){var r=this.queues[e];r.push(t),1===r.length&&this.buffers[e]&&this.executeNext(e)},e.insertAbort=function(t,e){this.queues[e].unshift(t),this.executeNext(e)},e.appendBlocker=function(t){var e,r=new Promise((function(t){e=t})),n={execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(n,t),r},e.executeNext=function(t){var e=this.buffers,r=this.queues,o=e[t],i=r[t];if(i.length){var a=i[0];try{a.execute()}catch(u){n.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(u),o&&o.updating||(i.shift(),this.executeNext(t))}}},e.shiftAndExecuteNext=function(t){this.queues[t].shift(),this.executeNext(t)},e.current=function(t){return this.queues[t][0]},t}()},"./src/controller/cap-level-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function t(t){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var e,r,i,a=t.prototype;return a.setStreamController=function(t){this.streamController=t},a.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},a.registerListeners=function(){var t=this.hls;t.on(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},a.unregisterListener=function(){var t=this.hls;t.off(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},a.onFpsDropLevelCapping=function(e,r){t.isLevelAllowed(r.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(r.droppedLevel)},a.onMediaAttaching=function(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null},a.onManifestParsed=function(t,e){var r=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,r.config.capLevelToPlayerSize&&e.video&&this.startCapping()},a.onBufferCodecs=function(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},a.onMediaDetaching=function(){this.stopCapping()},a.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var t=this.hls.levels;if(t.length){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},a.getMaxLevel=function(e){var r=this,n=this.hls.levels;if(!n.length)return-1;var o=n.filter((function(n,o){return t.isLevelAllowed(o,r.restrictedLevels)&&o<=e}));return this.clientRect=null,t.getMaxLevelByMediaSize(o,this.mediaWidth,this.mediaHeight)},a.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},a.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},a.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var r=t.getBoundingClientRect();e.width=r.width,e.height=r.height,e.width||e.height||(e.width=r.right-r.left||t.width||0,e.height=r.bottom-r.top||t.height||0)}return this.clientRect=e,e},t.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},t.getMaxLevelByMediaSize=function(t,e,r){if(!t||!t.length)return-1;for(var n,o,i=t.length-1,a=0;a<t.length;a+=1){var u=t[a];if((u.width>=e||u.height>=r)&&(n=u,!(o=t[a+1])||n.width!==o.width||n.height!==o.height)){i=a;break}}return i},e=t,(r=[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(e){}return t}}])&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=i},"./src/controller/cmcd-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return h}));var n=r("./src/events.ts"),o=r("./src/types/cmcd.ts"),i=r("./src/utils/buffer-helper.ts"),a=r("./src/utils/logger.ts");function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"===typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f.apply(this,arguments)}var h=function(){function t(e){var r=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){r.initialized&&(r.starved=!0),r.buffering=!0},this.onPlaying=function(){r.initialized||(r.initialized=!0),r.buffering=!1},this.applyPlaylistData=function(t){try{r.apply(t,{ot:o.CMCDObjectType.MANIFEST,su:!r.initialized})}catch(e){a.logger.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(t){try{var e=t.frag,n=r.hls.levels[e.level],i=r.getObjectType(e),u={d:1e3*e.duration,ot:i};i!==o.CMCDObjectType.VIDEO&&i!==o.CMCDObjectType.AUDIO&&i!=o.CMCDObjectType.MUXED||(u.br=n.bitrate/1e3,u.tb=r.getTopBandwidth(i)/1e3,u.bl=r.getBufferLength(i)),r.apply(t,u)}catch(s){a.logger.warn("Could not generate segment CMCD data.",s)}},this.hls=e;var n=this.config=e.config,i=n.cmcd;null!=i&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||t.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),t.on(n.Events.BUFFER_CREATED,this.onBufferCreated,this)},e.unregisterListeners=function(){var t=this.hls;t.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),t.off(n.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},e.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},e.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},e.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},e.onBufferCreated=function(t,e){var r,n;this.audioBuffer=null===(r=e.tracks.audio)||void 0===r?void 0:r.buffer,this.videoBuffer=null===(n=e.tracks.video)||void 0===n?void 0:n.buffer},e.createData=function(){var t;return{v:o.CMCDVersion,sf:o.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(t=this.media)||void 0===t?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},e.apply=function(e,r){void 0===r&&(r={}),f(r,this.createData());var n=r.ot===o.CMCDObjectType.INIT||r.ot===o.CMCDObjectType.VIDEO||r.ot===o.CMCDObjectType.MUXED;if(this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),null==r.su&&(r.su=this.buffering),this.useHeaders){var i=t.toHeaders(r);if(!Object.keys(i).length)return;e.headers||(e.headers={}),f(e.headers,i)}else{var a=t.toQuery(r);if(!a)return;e.url=t.appendQueryToUri(e.url,a)}},e.getObjectType=function(t){var e=t.type;return"subtitle"===e?o.CMCDObjectType.TIMED_TEXT:"initSegment"===t.sn?o.CMCDObjectType.INIT:"audio"===e?o.CMCDObjectType.AUDIO:"main"===e?this.hls.audioTracks.length?o.CMCDObjectType.VIDEO:o.CMCDObjectType.MUXED:void 0},e.getTopBandwidth=function(t){var e,r=0,n=this.hls;if(t===o.CMCDObjectType.AUDIO)e=n.audioTracks;else{var i=n.maxAutoLevel,a=i>-1?i+1:n.levels.length;e=n.levels.slice(0,a)}for(var u,s=c(e);!(u=s()).done;){var l=u.value;l.bitrate>r&&(r=l.bitrate)}return r>0?r:NaN},e.getBufferLength=function(t){var e=this.hls.media,r=t===o.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return r&&e?1e3*i.BufferHelper.bufferInfo(r,e.currentTime,this.config.maxBufferHole).len:NaN},e.createPlaylistLoader=function(){var t=this.config.pLoader,e=this.applyPlaylistData,r=t||this.config.loader;return function(){function t(t){this.loader=void 0,this.loader=new r(t)}var n=t.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(t,r,n){e(t),this.loader.load(t,r,n)},s(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t}()},e.createFragmentLoader=function(){var t=this.config.fLoader,e=this.applyFragmentData,r=t||this.config.loader;return function(){function t(t){this.loader=void 0,this.loader=new r(t)}var n=t.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(t,r,n){e(t),this.loader.load(t,r,n)},s(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t}()},t.uuid=function(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)},t.serialize=function(t){for(var e,r=[],n=function(t){return!Number.isNaN(t)&&null!=t&&""!==t&&!1!==t},o=function(t){return Math.round(t)},i=function(t){return 100*o(t/100)},a={br:o,d:o,bl:i,dl:i,mtp:i,nor:function(t){return encodeURIComponent(t)},rtp:i,tb:o},u=c(Object.keys(t||{}).sort());!(e=u()).done;){var s=e.value,l=t[s];if(n(l)&&("v"!==s||1!==l)&&("pr"!=s||1!==l)){var f=a[s];f&&(l=f(l));var h=typeof l,p=void 0;p="ot"===s||"sf"===s||"st"===s?s+"="+l:"boolean"===h?s:"number"===h?s+"="+l:s+"="+JSON.stringify(l),r.push(p)}}return r.join(",")},t.toHeaders=function(e){for(var r={},n=["Object","Request","Session","Status"],o=[{},{},{},{}],i={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},a=0,u=Object.keys(e);a<u.length;a++){var s=u[a];o[null!=i[s]?i[s]:1][s]=e[s]}for(var c=0;c<o.length;c++){var l=t.serialize(o[c]);l&&(r["CMCD-"+n[c]]=l)}return r},t.toQuery=function(e){return"CMCD="+encodeURIComponent(t.serialize(e))},t.appendQueryToUri=function(t,e){if(!e)return t;var r=t.includes("?")?"&":"?";return""+t+r+e},t}()},"./src/controller/eme-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts"),o=r("./src/errors.ts"),i=r("./src/utils/logger.ts"),a=r("./src/utils/mediakeys-helper.ts");function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(t){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=t,this._config=t.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var e,r,s,c=t.prototype;return c.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},c._registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},c._unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},c.getLicenseServerUrl=function(t){switch(t){case a.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},c._attemptKeySystemAccess=function(t,e,r){var n=this,o=function(t,e,r,n){if(t===a.KeySystems.WIDEVINE)return function(t,e,r){var n={audioCapabilities:[],videoCapabilities:[]};return t.forEach((function(t){n.audioCapabilities.push({contentType:'audio/mp4; codecs="'+t+'"',robustness:r.audioRobustness||""})})),e.forEach((function(t){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:r.videoRobustness||""})})),[n]}(e,r,n);throw new Error("Unknown key-system: "+t)}(t,e,r,this._drmSystemOptions);i.logger.log("Requesting encrypted media key-system access");var u=this.requestMediaKeySystemAccess(t,o);this.mediaKeysPromise=u.then((function(e){return n._onMediaKeySystemAccessObtained(t,e)})),u.catch((function(e){i.logger.error('Failed to obtain key-system "'+t+'" access:',e)}))},c._onMediaKeySystemAccessObtained=function(t,e){var r=this;i.logger.log('Access for key-system "'+t+'" obtained');var n={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(n);var o=Promise.resolve().then((function(){return e.createMediaKeys()})).then((function(e){return n.mediaKeys=e,i.logger.log('Media-keys created for key-system "'+t+'"'),r._onMediaKeysCreated(),e}));return o.catch((function(t){i.logger.error("Failed to create media-keys:",t)})),o},c._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},c._onNewMediaKeySession=function(t){var e=this;i.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",(function(r){e._onKeySessionMessage(t,r.message)}),!1)},c._onKeySessionMessage=function(t,e){i.logger.log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){i.logger.log("Received license data (length: "+(e?e.byteLength:e)+"), updating key-session"),t.update(e).catch((function(t){i.logger.warn("Updating key-session failed: "+t)}))}))},c.onMediaEncrypted=function(t){var e=this;if(i.logger.log('Media is encrypted using "'+t.initDataType+'" init data type'),!this.mediaKeysPromise)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var r=function(r){e._media&&(e._attemptSetMediaKeys(r),e._generateRequestWithPreferredKeySession(t.initDataType,t.initData))};this.mediaKeysPromise.then(r).catch(r)},c._attemptSetMediaKeys=function(t){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});i.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},c._generateRequestWithPreferredKeySession=function(t,e){var r=this,a=this._mediaKeysList[0];if(!a)return i.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(a.mediaKeysSessionInitialized)i.logger.warn("Key-Session already initialized but requested again");else{var u=a.mediaKeysSession;if(!u)return i.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return i.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});i.logger.log('Generating key-session request for "'+t+'" init data type'),a.mediaKeysSessionInitialized=!0,u.generateRequest(t,e).then((function(){i.logger.debug("Key-session generation succeeded")})).catch((function(t){i.logger.error("Error generating key-session request:",t),r.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},c._createLicenseXhr=function(t,e,r){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,t,e,r);var o=this._licenseXhrSetup;if(o)try{o.call(this.hls,n,t),o=void 0}catch(a){i.logger.error(a)}try{n.readyState||n.open("POST",t,!0),o&&o.call(this.hls,n,t)}catch(a){throw new Error("issue setting up KeySystem license XHR "+a)}return n},c._onLicenseRequestReadyStageChange=function(t,e,r,a){if(4===t.readyState)if(200===t.status){this._requestLicenseFailureCount=0,i.logger.log("License request succeeded");var u=t.response,s=this._licenseResponseCallback;if(s)try{u=s.call(this.hls,t,e)}catch(l){i.logger.error(l)}a(u)}else{if(i.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var c=3-this._requestLicenseFailureCount+1;i.logger.warn("Retrying license request, "+c+" attempts left"),this._requestLicense(r,a)}},c._generateLicenseRequestChallenge=function(t,e){if(t.mediaKeySystemDomain===a.KeySystems.WIDEVINE)return e;throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},c._requestLicense=function(t,e){i.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return i.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var a=this.getLicenseServerUrl(r.mediaKeySystemDomain),u=this._createLicenseXhr(a,t,e);i.logger.log("Sending license request to URL: "+a);var s=this._generateLicenseRequestChallenge(r,t);u.send(s)}catch(c){i.logger.error("Failure requesting DRM license: "+c),this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},c.onMediaAttached=function(t,e){if(this._emeEnabled){var r=e.media;this._media=r,r.addEventListener("encrypted",this._onMediaEncrypted)}},c.onMediaDetached=function(){var t=this._media,e=this._mediaKeysList;t&&(t.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map((function(t){if(t.mediaKeysSession)return t.mediaKeysSession.close().catch((function(){}))}))).then((function(){return t.setMediaKeys(null)})).catch((function(){})))},c.onManifestParsed=function(t,e){if(this._emeEnabled){var r=e.levels.map((function(t){return t.audioCodec})).filter((function(t){return!!t})),n=e.levels.map((function(t){return t.videoCodec})).filter((function(t){return!!t}));this._attemptKeySystemAccess(a.KeySystems.WIDEVINE,r,n)}},e=t,(r=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&u(e.prototype,r),s&&u(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=s},"./src/controller/fps-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts"),o=r("./src/utils/logger.ts"),i=function(){function t(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}var e=t.prototype;return e.setStreamController=function(t){this.streamController=t},e.registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},e.unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching)},e.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},e.onMediaAttaching=function(t,e){var r=this.hls.config;if(r.capLevelOnFPSDrop){var n=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=n,n&&"function"===typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}},e.checkFPS=function(t,e,r){var i=performance.now();if(e){if(this.lastTime){var a=i-this.lastTime,u=r-this.lastDroppedFrames,s=e-this.lastDecodedFrames,c=1e3*u/a,l=this.hls;if(l.trigger(n.Events.FPS_DROP,{currentDropped:u,currentDecoded:s,totalDroppedFrames:r}),c>0&&u>l.config.fpsDroppedMonitoringThreshold*s){var f=l.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=f)&&(f-=1,l.trigger(n.Events.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:l.currentLevel}),l.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=e}},e.checkFPSInterval=function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},t}();e.default=i},"./src/controller/fragment-finders.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"findFragmentByPDT",(function(){return i})),r.d(e,"findFragmentByPTS",(function(){return a})),r.d(e,"fragmentWithinToleranceTest",(function(){return u})),r.d(e,"pdtWithinToleranceTest",(function(){return s})),r.d(e,"findFragWithCC",(function(){return c}));var n=r("./src/polyfills/number.ts"),o=r("./src/utils/binary-search.ts");function i(t,e,r){if(null===e||!Array.isArray(t)||!t.length||!Object(n.isFiniteNumber)(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;r=r||0;for(var o=0;o<t.length;++o){var i=t[o];if(s(e,r,i))return i}return null}function a(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=null;if(t?i=e[t.sn-e[0].sn+1]||null:0===r&&0===e[0].start&&(i=e[0]),i&&0===u(r,n,i))return i;var a=o.default.search(e,u.bind(null,r,n));return a||i}function u(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0);var n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function s(t,e,r){var n=1e3*Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>t}function c(t,e){return o.default.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))}},"./src/controller/fragment-tracker.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"FragmentState",(function(){return n})),r.d(e,"FragmentTracker",(function(){return a}));var n,o=r("./src/events.ts"),i=r("./src/types/loader.ts");!function(t){t.NOT_LOADED="NOT_LOADED",t.APPENDING="APPENDING",t.PARTIAL="PARTIAL",t.OK="OK"}(n||(n={}));var a=function(){function t(t){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=t,this._registerListeners()}var e=t.prototype;return e._registerListeners=function(){var t=this.hls;t.on(o.Events.BUFFER_APPENDED,this.onBufferAppended,this),t.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.on(o.Events.FRAG_LOADED,this.onFragLoaded,this)},e._unregisterListeners=function(){var t=this.hls;t.off(o.Events.BUFFER_APPENDED,this.onBufferAppended,this),t.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.off(o.Events.FRAG_LOADED,this.onFragLoaded,this)},e.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},e.getAppendedFrag=function(t,e){if(e===i.PlaylistLevelType.MAIN){var r=this.activeFragment,n=this.activeParts;if(!r)return null;if(n)for(var o=n.length;o--;){var a=n[o],u=a?a.end:r.appendedPTS;if(a.start<=t&&void 0!==u&&t<=u)return o>9&&(this.activeParts=n.slice(o-9)),a}else if(r.start<=t&&void 0!==r.appendedPTS&&t<=r.appendedPTS)return r}return this.getBufferedFrag(t,e)},e.getBufferedFrag=function(t,e){for(var r=this.fragments,n=Object.keys(r),o=n.length;o--;){var i=r[n[o]];if((null===i||void 0===i?void 0:i.body.type)===e&&i.buffered){var a=i.body;if(a.start<=t&&t<=a.end)return a}}return null},e.detectEvictedFragments=function(t,e,r){var n=this;Object.keys(this.fragments).forEach((function(o){var i=n.fragments[o];if(i)if(i.buffered){var a=i.range[t];a&&a.time.some((function(t){var r=!n.isTimeBuffered(t.startPTS,t.endPTS,e);return r&&n.removeFragment(i.body),r}))}else i.body.type===r&&n.removeFragment(i.body)}))},e.detectPartialFragments=function(t){var e=this,r=this.timeRanges,n=t.frag,o=t.part;if(r&&"initSegment"!==n.sn){var i=s(n),a=this.fragments[i];a&&(Object.keys(r).forEach((function(t){var i=n.elementaryStreams[t];if(i){var u=r[t],s=null!==o||!0===i.partial;a.range[t]=e.getBufferedTimes(n,o,s,u)}})),a.loaded=null,Object.keys(a.range).length?a.buffered=!0:this.removeFragment(a.body))}},e.fragBuffered=function(t){var e=s(t),r=this.fragments[e];r&&(r.loaded=null,r.buffered=!0)},e.getBufferedTimes=function(t,e,r,n){for(var o={time:[],partial:r},i=e?e.start:t.start,a=e?e.end:t.end,u=t.minEndPTS||a,s=t.maxStartPTS||i,c=0;c<n.length;c++){var l=n.start(c)-this.bufferPadding,f=n.end(c)+this.bufferPadding;if(s>=l&&u<=f){o.time.push({startPTS:Math.max(i,n.start(c)),endPTS:Math.min(a,n.end(c))});break}if(i<f&&a>l)o.partial=!0,o.time.push({startPTS:Math.max(i,n.start(c)),endPTS:Math.min(a,n.end(c))});else if(a<=l)break}return o},e.getPartialFragment=function(t){var e,r,n,o=null,i=0,a=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(c){var l=s[c];l&&u(l)&&(r=l.body.start-a,n=l.body.end+a,t>=r&&t<=n&&(e=Math.min(t-r,n-t),i<=e&&(o=l.body,i=e)))})),o},e.getState=function(t){var e=s(t),r=this.fragments[e];return r?r.buffered?u(r)?n.PARTIAL:n.OK:n.APPENDING:n.NOT_LOADED},e.isTimeBuffered=function(t,e,r){for(var n,o,i=0;i<r.length;i++){if(n=r.start(i)-this.bufferPadding,o=r.end(i)+this.bufferPadding,t>=n&&e<=o)return!0;if(e<=n)return!1}return!1},e.onFragLoaded=function(t,e){var r=e.frag,n=e.part;if("initSegment"!==r.sn&&!r.bitrateTest&&!n){var o=s(r);this.fragments[o]={body:r,loaded:e,buffered:!1,range:Object.create(null)}}},e.onBufferAppended=function(t,e){var r=this,n=e.frag,o=e.part,a=e.timeRanges;if(n.type===i.PlaylistLevelType.MAIN)if(this.activeFragment=n,o){var u=this.activeParts;u||(this.activeParts=u=[]),u.push(o)}else this.activeParts=null;this.timeRanges=a,Object.keys(a).forEach((function(t){var e=a[t];if(r.detectEvictedFragments(t,e),!o)for(var i=0;i<e.length;i++)n.appendedPTS=Math.max(e.end(i),n.appendedPTS||0)}))},e.onFragBuffered=function(t,e){this.detectPartialFragments(e)},e.hasFragment=function(t){var e=s(t);return!!this.fragments[e]},e.removeFragmentsInRange=function(t,e,r){var n=this;Object.keys(this.fragments).forEach((function(o){var i=n.fragments[o];if(i&&i.buffered){var a=i.body;a.type===r&&a.start<e&&a.end>t&&n.removeFragment(a)}}))},e.removeFragment=function(t){var e=s(t);t.stats.loaded=0,t.clearElementaryStreamInfo(),delete this.fragments[e]},e.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},t}();function u(t){var e,r;return t.buffered&&((null===(e=t.range.video)||void 0===e?void 0:e.partial)||(null===(r=t.range.audio)||void 0===r?void 0:r.partial))}function s(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn}},"./src/controller/gap-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"STALL_MINIMUM_DURATION_MS",(function(){return u})),r.d(e,"MAX_START_GAP_JUMP",(function(){return s})),r.d(e,"SKIP_BUFFER_HOLE_STEP_SECONDS",(function(){return c})),r.d(e,"SKIP_BUFFER_RANGE_START",(function(){return l})),r.d(e,"default",(function(){return f}));var n=r("./src/utils/buffer-helper.ts"),o=r("./src/errors.ts"),i=r("./src/events.ts"),a=r("./src/utils/logger.ts"),u=250,s=2,c=.1,l=.05,f=function(){function t(t,e,r,n){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=r,this.hls=n}var e=t.prototype;return e.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},e.poll=function(t,e){var r=this.config,o=this.media,i=this.stalled;if(null!==o){var c=o.currentTime,l=o.seeking,f=this.seeking&&!l,h=!this.seeking&&l;if(this.seeking=l,c===t){if((h||f)&&(this.stalled=null),!(o.paused&&!l||o.ended||0===o.playbackRate)&&n.BufferHelper.getBuffered(o).length){var p=n.BufferHelper.bufferInfo(o,c,0),d=p.len>0,y=p.nextStart||0;if(d||y){if(l){var v=p.len>s,m=!y||e&&e.start<=c||y-c>s&&!this.fragmentTracker.getPartialFragment(c);if(v||m)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var g,b=Math.max(y,p.start||0)-c,w=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,_=(null===w||void 0===w||null===(g=w.details)||void 0===g?void 0:g.live)?2*w.details.targetduration:s;if(b>0&&b<=_)return void this._trySkipBufferHole(null)}var E=self.performance.now();if(null!==i){var O=E-i;if(l||!(O>=u)||(this._reportStall(p),this.media)){var S=n.BufferHelper.bufferInfo(o,c,r.maxBufferHole);this._tryFixBufferStall(S,O)}}else this.stalled=E}}}else if(this.moved=!0,null!==i){if(this.stallReported){var x=self.performance.now()-i;a.logger.warn("playback not stuck anymore @"+c+", after "+Math.round(x)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},e._tryFixBufferStall=function(t,e){var r=this.config,n=this.fragmentTracker,o=this.media;if(null!==o){var i=o.currentTime,u=n.getPartialFragment(i);if(u&&(this._trySkipBufferHole(u)||!this.media))return;t.len>r.maxBufferHole&&e>1e3*r.highBufferWatchdogPeriod&&(a.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},e._reportStall=function(t){var e=this.hls,r=this.media;!this.stallReported&&r&&(this.stallReported=!0,a.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer ("+JSON.stringify(t)+")"),e.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t.len}))},e._trySkipBufferHole=function(t){var e=this.config,r=this.hls,u=this.media;if(null===u)return 0;for(var s=u.currentTime,f=0,h=n.BufferHelper.getBuffered(u),p=0;p<h.length;p++){var d=h.start(p);if(s+e.maxBufferHole>=f&&s<d){var y=Math.max(d+l,u.currentTime+c);return a.logger.warn("skipping hole, adjusting currentTime from "+s+" to "+y),this.moved=!0,this.stalled=null,u.currentTime=y,t&&r.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+s+" to "+y,frag:t}),y}f=h.end(p)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,r=this.media,n=this.nudgeRetry;if(null!==r){var u=r.currentTime;if(this.nudgeRetry++,n<t.nudgeMaxRetry){var s=u+(n+1)*t.nudgeOffset;a.logger.warn("Nudging 'currentTime' from "+u+" to "+s),r.currentTime=s,e.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("Playhead still not moving while enough data buffered @"+u+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},t}()},"./src/controller/id3-track-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),o=r("./src/events.ts"),i=r("./src/utils/texttrack-utils.ts"),a=r("./src/demux/id3.ts"),u=r("./src/loader/date-range.ts"),s=r("./src/types/demuxer.ts");function c(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}function l(t,e){return t.getTime()/1e3-e}var f=function(){function t(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}var e=t.prototype;return e.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},e._registerListeners=function(){var t=this.hls;t.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(o.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(o.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},e._unregisterListeners=function(){var t=this.hls;t.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(o.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(o.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},e.onMediaAttached=function(t,e){this.media=e.media},e.onMediaDetaching=function(){this.id3Track&&(Object(i.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},e.onManifestLoading=function(){this.dateRangeCuesAppended={}},e.createTrack=function(t){var e=this.getID3Track(t.textTracks);return e.mode="hidden",e},e.getID3Track=function(t){if(this.media){for(var e=0;e<t.length;e++){var r=t[e];if("metadata"===r.kind&&"id3"===r.label)return Object(i.sendAddTrackEvent)(r,this.media),r}return this.media.addTextTrack("metadata","id3")}},e.onFragParsingMetadata=function(t,e){if(this.media){var r=this.hls.config,n=r.enableEmsgMetadataCues,o=r.enableID3MetadataCues;if(n||o){var i=e.frag,u=e.samples,l=e.details;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var f=l.edge||i.end,h=c(),p=!1,d={},y=0;y<u.length;y++){var v=u[y].type;if((v!==s.MetadataSchema.emsg||n)&&o){var m=a.getID3Frames(u[y].data);if(m){var g=u[y].pts,b=f;b-g<=0&&(b=g+.25);for(var w=0;w<m.length;w++){var _=m[w];if(!a.isTimeStampFrame(_)){var E=new h(g,b,"");E.value=_,v&&(E.type=v),this.id3Track.addCue(E),d[_.key]=null,p=!0}}}}}p&&this.updateId3CueEnds(d)}}},e.updateId3CueEnds=function(t){var e,r=null===(e=this.id3Track)||void 0===e?void 0:e.cues;if(r)for(var n=r.length;n--;){var o,i=r[n],a=null===(o=i.value)||void 0===o?void 0:o.key;if(a&&a in t){var u=t[a];u&&i.endTime!==u&&(i.endTime=u),t[a]=i.startTime}}},e.onBufferFlushing=function(t,e){var r=e.startOffset,n=e.endOffset,o=e.type,a=this.id3Track,u=this.hls;if(u){var c,l=u.config,f=l.enableEmsgMetadataCues,h=l.enableID3MetadataCues;a&&(f||h)&&(c="audio"===o?function(t){return t.type===s.MetadataSchema.audioId3&&h}:"video"===o?function(t){return t.type===s.MetadataSchema.emsg&&f}:function(t){return t.type===s.MetadataSchema.audioId3&&h||t.type===s.MetadataSchema.emsg&&f},Object(i.removeCuesInRange)(a,r,n,c))}},e.onLevelUpdated=function(t,e){var r=this,o=e.details;if(this.media&&o.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var i=this.dateRangeCuesAppended,a=this.id3Track,f=o.dateRanges,h=Object.keys(f);if(a)for(var p=Object.keys(i).filter((function(t){return!h.includes(t)})),d=function(t){var e=p[t];Object.keys(i[e].cues).forEach((function(t){a.removeCue(i[e].cues[t])})),delete i[e]},y=p.length;y--;)d(y);var v=o.fragments[o.fragments.length-1];if(0!==h.length&&Object(n.isFiniteNumber)(null===v||void 0===v?void 0:v.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var m=v.programDateTime/1e3-v.start,g=o.edge||v.end,b=c(),w=function(t){var e=h[t],n=f[e],o=i[e],a=(null===o||void 0===o?void 0:o.cues)||{},c=(null===o||void 0===o?void 0:o.durationKnown)||!1,p=l(n.startDate,m),d=g,y=n.endDate;if(y)d=l(y,m),c=!0;else if(n.endOnNext&&!c){var v=h.reduce((function(t,e){var r=f[e];return r.class===n.class&&r.id!==e&&r.startDate>n.startDate&&t.push(r),t}),[]).sort((function(t,e){return t.startDate.getTime()-e.startDate.getTime()}))[0];v&&(d=l(v.startDate,m),c=!0)}for(var w,_=Object.keys(n.attr),E=0;E<_.length;E++){var O=_[E];if(O!==u.DateRangeAttribute.ID&&O!==u.DateRangeAttribute.CLASS&&O!==u.DateRangeAttribute.START_DATE&&O!==u.DateRangeAttribute.DURATION&&O!==u.DateRangeAttribute.END_DATE&&O!==u.DateRangeAttribute.END_ON_NEXT){var S=a[O];if(S)c&&!o.durationKnown&&(S.endTime=d);else{var x=n.attr[O];S=new b(p,d,""),O!==u.DateRangeAttribute.SCTE35_OUT&&O!==u.DateRangeAttribute.SCTE35_IN||(w=x,x=Uint8Array.from(w.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),S.value={key:O,data:x},S.type=s.MetadataSchema.dateRange,r.id3Track.addCue(S),a[O]=S}}}i[e]={cues:a,dateRange:n,durationKnown:c}},_=0;_<h.length;_++)w(_)}}},t}();e.default=f},"./src/controller/latency-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return u}));var n=r("./src/errors.ts"),o=r("./src/events.ts"),i=r("./src/utils/logger.ts");function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(t){var e=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return e.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}var e,r,u,s=t.prototype;return s.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},s.registerListeners=function(){this.hls.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(o.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(o.Events.ERROR,this.onError,this)},s.unregisterListeners=function(){this.hls.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(o.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(o.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(o.Events.ERROR,this.onError)},s.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},s.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},s.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},s.onLevelUpdated=function(t,e){var r=e.details;this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},s.onError=function(t,e){e.details===n.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,i.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},s.timeupdate=function(){var t=this.media,e=this.levelDetails;if(t&&e){this.currentTime=t.currentTime;var r=this.computeLatency();if(null!==r){this._latency=r;var n=this.config,o=n.lowLatencyMode,i=n.maxLiveSyncPlaybackRate;if(o&&1!==i){var a=this.targetLatency;if(null!==a){var u=r-a,s=u<Math.min(this.maxLatency,a+e.targetduration);if(e.live&&s&&u>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,i)),l=Math.round(2/(1+Math.exp(-.75*u-this.edgeStalled))*20)/20;t.playbackRate=Math.min(c,Math.max(1,l))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}}}}},s.estimateLiveEdge=function(){var t=this.levelDetails;return null===t?null:t.edge+t.age},s.computeLatency=function(){var t=this.estimateLiveEdge();return null===t?null:t-this.currentTime},e=t,(r=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var t=this.config,e=this.levelDetails;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}},{key:"targetLatency",get:function(){var t=this.levelDetails;if(null===t)return null;var e=t.holdBack,r=t.partHoldBack,n=t.targetduration,o=this.config,i=o.liveSyncDuration,a=o.liveSyncDurationCount,u=o.lowLatencyMode,s=this.hls.userConfig,c=u&&r||e;(s.liveSyncDuration||s.liveSyncDurationCount||0===c)&&(c=void 0!==i?i:a*n);var l=n;return c+Math.min(1*this.stallCount,l)}},{key:"liveSyncPosition",get:function(){var t=this.estimateLiveEdge(),e=this.targetLatency,r=this.levelDetails;if(null===t||null===e||null===r)return null;var n=r.edge,o=t-e-this.edgeStalled,i=n-r.totalduration,a=n-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(i,o),a)}},{key:"drift",get:function(){var t=this.levelDetails;return null===t?1:t.drift}},{key:"edgeStalled",get:function(){var t=this.levelDetails;if(null===t)return 0;var e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}},{key:"forwardBufferLength",get:function(){var t=this.media,e=this.levelDetails;if(!t||!e)return 0;var r=t.buffered.length;return(r?t.buffered.end(r-1):e.edge)-this.currentTime}}])&&a(e.prototype,r),u&&a(e,u),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./src/controller/level-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return d}));var n=r("./src/types/level.ts"),o=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/utils/codecs.ts"),u=r("./src/controller/level-helper.ts"),s=r("./src/controller/base-playlist-controller.ts"),c=r("./src/types/loader.ts");function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l.apply(this,arguments)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var p=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),d=function(t){var e,r;function s(e){var r;return(r=t.call(this,e,"[level-controller]")||this)._levels=[],r._firstLevel=-1,r._startLevel=void 0,r.currentLevelIndex=-1,r.manualLevelIndex=-1,r.onParsedComplete=void 0,r._registerListeners(),r}r=t,(e=s).prototype=Object.create(r.prototype),e.prototype.constructor=e,h(e,r);var d,y,v,m=s.prototype;return m._registerListeners=function(){var t=this.hls;t.on(o.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(o.Events.ERROR,this.onError,this)},m._unregisterListeners=function(){var t=this.hls;t.off(o.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(o.Events.ERROR,this.onError,this)},m.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,t.prototype.destroy.call(this)},m.startLoad=function(){this._levels.forEach((function(t){t.loadError=0})),t.prototype.startLoad.call(this)},m.onManifestLoaded=function(t,e){var r,s,c=[],l=[],f=[],h={},d=!1,y=!1,v=!1;if(e.levels.forEach((function(t){var e=t.attrs;d=d||!(!t.width||!t.height),y=y||!!t.videoCodec,v=v||!!t.audioCodec,p&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0);var r=t.bitrate+"-"+t.attrs.RESOLUTION+"-"+t.attrs.CODECS;(s=h[r])?s.url.push(t.url):(s=new n.Level(t),h[r]=s,c.push(s)),e&&(e.AUDIO&&Object(u.addGroupId)(s,"audio",e.AUDIO),e.SUBTITLES&&Object(u.addGroupId)(s,"text",e.SUBTITLES))})),(d||y)&&v&&(c=c.filter((function(t){var e=t.videoCodec,r=t.width,n=t.height;return!!e||!(!r||!n)}))),c=c.filter((function(t){var e=t.audioCodec,r=t.videoCodec;return(!e||Object(a.isCodecSupportedInMp4)(e,"audio"))&&(!r||Object(a.isCodecSupportedInMp4)(r,"video"))})),e.audioTracks&&(l=e.audioTracks.filter((function(t){return!t.audioCodec||Object(a.isCodecSupportedInMp4)(t.audioCodec,"audio")})),Object(u.assignTrackIdsByGroup)(l)),e.subtitles&&(f=e.subtitles,Object(u.assignTrackIdsByGroup)(f)),c.length>0){r=c[0].bitrate,c.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=c;for(var m=0;m<c.length;m++)if(c[m].bitrate===r){this._firstLevel=m,this.log("manifest loaded, "+c.length+" level(s) found, first bitrate: "+r);break}var g=v&&!y,b={levels:c,audioTracks:l,subtitleTracks:f,firstLevel:this._firstLevel,stats:e.stats,audio:v,video:y,altAudio:!g&&l.some((function(t){return!!t.url}))};this.hls.trigger(o.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,reason:"no level with compatible codecs found in manifest"})},m.onError=function(e,r){if(t.prototype.onError.call(this,e,r),!r.fatal){var n=r.context,o=this._levels[this.currentLevelIndex];if(n&&(n.type===c.PlaylistContextType.AUDIO_TRACK&&o.audioGroupIds&&n.groupId===o.audioGroupIds[o.urlId]||n.type===c.PlaylistContextType.SUBTITLE_TRACK&&o.textGroupIds&&n.groupId===o.textGroupIds[o.urlId]))this.redundantFailover(this.currentLevelIndex);else{var a,u=!1,s=!0;switch(r.details){case i.ErrorDetails.FRAG_LOAD_ERROR:case i.ErrorDetails.FRAG_LOAD_TIMEOUT:case i.ErrorDetails.KEY_LOAD_ERROR:case i.ErrorDetails.KEY_LOAD_TIMEOUT:if(r.frag){var l=this._levels[r.frag.level];l?(l.fragmentError++,l.fragmentError>this.hls.config.fragLoadingMaxRetry&&(a=r.frag.level)):a=r.frag.level}break;case i.ErrorDetails.LEVEL_LOAD_ERROR:case i.ErrorDetails.LEVEL_LOAD_TIMEOUT:n&&(n.deliveryDirectives&&(s=!1),a=n.level),u=!0;break;case i.ErrorDetails.REMUX_ALLOC_ERROR:a=r.level,u=!0}void 0!==a&&this.recoverLevel(r,a,u,s)}}},m.recoverLevel=function(t,e,r,n){var o=t.details,i=this._levels[e];if(i.loadError++,r){if(!this.retryLoadingOrFail(t))return void(this.currentLevelIndex=-1);t.levelRetry=!0}if(n){var a=i.url.length;if(a>1&&i.loadError<a)t.levelRetry=!0,this.redundantFailover(e);else if(-1===this.manualLevelIndex){var u=0===e?this._levels.length-1:e-1;this.currentLevelIndex!==u&&0===this._levels[u].loadError&&(this.warn(o+": switch to "+u),t.levelRetry=!0,this.hls.nextAutoLevel=u)}}},m.redundantFailover=function(t){var e=this._levels[t],r=e.url.length;if(r>1){var n=(e.urlId+1)%r;this.warn("Switching to redundant URL-id "+n),this._levels.forEach((function(t){t.urlId=n})),this.level=t}},m.onFragLoaded=function(t,e){var r=e.frag;if(void 0!==r&&r.type===c.PlaylistLevelType.MAIN){var n=this._levels[r.level];void 0!==n&&(n.fragmentError=0,n.loadError=0)}},m.onLevelLoaded=function(t,e){var r,n,o=e.level,i=e.details,a=this._levels[o];if(!a)return this.warn("Invalid level index "+o),void(null!==(n=e.deliveryDirectives)&&void 0!==n&&n.skip&&(i.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0,this.retryCount=0),this.playlistLoaded(o,e,a.details)):null!==(r=e.deliveryDirectives)&&void 0!==r&&r.skip&&(i.deltaUpdateFailed=!0)},m.onAudioTrackSwitched=function(t,e){var r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,o=this.hls.audioTracks[e.id].groupId,i=0;i<r.audioGroupIds.length;i++)if(r.audioGroupIds[i]===o){n=i;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},m.loadPlaylist=function(t){var e=this.currentLevelIndex,r=this._levels[e];if(this.canLoad&&r&&r.url.length>0){var n=r.urlId,i=r.url[n];if(t)try{i=t.addDirectives(i)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: "+a)}this.log("Attempt loading level index "+e+(t?" at sn "+t.msn+" part "+t.part:"")+" with URL-id "+n+" "+i),this.clearTimer(),this.hls.trigger(o.Events.LEVEL_LOADING,{url:i,level:e,id:n,deliveryDirectives:t||null})}},m.removeLevel=function(t,e){var r=function(t,r){return r!==e},n=this._levels.filter((function(n,o){return o!==t||n.url.length>1&&void 0!==e&&(n.url=n.url.filter(r),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(r)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(r)),n.urlId=0,!0)})).map((function(t,e){var r=t.details;return null!==r&&void 0!==r&&r.fragments&&r.fragments.forEach((function(t){t.level=e})),t}));this._levels=n,this.hls.trigger(o.Events.LEVELS_UPDATED,{levels:n})},d=s,(y=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e,r=this._levels;if(0!==r.length&&(this.currentLevelIndex!==t||null===(e=r[t])||void 0===e||!e.details)){if(t<0||t>=r.length){var n=t<0;if(this.hls.trigger(o.Events.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:n,reason:"invalid level idx"}),n)return;t=Math.min(t,r.length-1)}this.clearTimer();var a=this.currentLevelIndex,u=r[a],s=r[t];this.log("switching to level "+t+" from "+a),this.currentLevelIndex=t;var c=l({},s,{level:t,maxBitrate:s.maxBitrate,uri:s.uri,urlId:s.urlId});delete c._urlId,this.hls.trigger(o.Events.LEVEL_SWITCHING,c);var f=s.details;if(!f||f.live){var h=this.switchParams(s.uri,null===u||void 0===u?void 0:u.details);this.loadPlaylist(h)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])&&f(d.prototype,y),v&&f(d,v),Object.defineProperty(d,"prototype",{writable:!1}),s}(s.default)},"./src/controller/level-helper.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"addGroupId",(function(){return u})),r.d(e,"assignTrackIdsByGroup",(function(){return s})),r.d(e,"updatePTS",(function(){return c})),r.d(e,"updateFragPTSDTS",(function(){return f})),r.d(e,"mergeDetails",(function(){return h})),r.d(e,"mapPartIntersection",(function(){return p})),r.d(e,"mapFragmentIntersection",(function(){return d})),r.d(e,"adjustSliding",(function(){return y})),r.d(e,"addSliding",(function(){return v})),r.d(e,"computeReloadInterval",(function(){return m})),r.d(e,"getFragmentWithSN",(function(){return g})),r.d(e,"getPartWith",(function(){return b}));var n=r("./src/polyfills/number.ts"),o=r("./src/utils/logger.ts"),i=r("./src/loader/date-range.ts");function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a.apply(this,arguments)}function u(t,e,r){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(r);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(r)}}function s(t){var e={};t.forEach((function(t){var r=t.groupId||"";t.id=e[r]=e[r]||0,e[r]++}))}function c(t,e,r){l(t[e],t[r])}function l(t,e){var r=e.startPTS;if(Object(n.isFiniteNumber)(r)){var o,i=0;e.sn>t.sn?(i=r-t.start,o=t):(i=t.start-r,o=e),o.duration!==i&&(o.duration=i)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function f(t,e,r,i,a,u){i-r<=0&&(o.logger.warn("Fragment should have a positive duration",e),i=r+e.duration,u=a+e.duration);var s=r,c=i,f=e.startPTS,h=e.endPTS;if(Object(n.isFiniteNumber)(f)){var p=Math.abs(f-r);Object(n.isFiniteNumber)(e.deltaPTS)?e.deltaPTS=Math.max(p,e.deltaPTS):e.deltaPTS=p,s=Math.max(r,f),r=Math.min(r,f),a=Math.min(a,e.startDTS),c=Math.min(i,h),i=Math.max(i,h),u=Math.max(u,e.endDTS)}e.duration=i-r;var d=r-e.start;e.appendedPTS=i,e.start=e.startPTS=r,e.maxStartPTS=s,e.startDTS=a,e.endPTS=i,e.minEndPTS=c,e.endDTS=u;var y,v=e.sn;if(!t||v<t.startSN||v>t.endSN)return 0;var m=v-t.startSN,g=t.fragments;for(g[m]=e,y=m;y>0;y--)l(g[y],g[y-1]);for(y=m;y<g.length-1;y++)l(g[y],g[y+1]);return t.fragmentHint&&l(g[g.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function h(t,e){for(var r=null,u=t.fragments,s=u.length-1;s>=0;s--){var c=u[s].initSegment;if(c){r=c;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;var l,h=0;if(d(t,e,(function(t,o){t.relurl&&(h=t.cc-o.cc),Object(n.isFiniteNumber)(t.startPTS)&&Object(n.isFiniteNumber)(t.endPTS)&&(o.start=o.startPTS=t.startPTS,o.startDTS=t.startDTS,o.appendedPTS=t.appendedPTS,o.maxStartPTS=t.maxStartPTS,o.endPTS=t.endPTS,o.endDTS=t.endDTS,o.minEndPTS=t.minEndPTS,o.duration=t.endPTS-t.startPTS,o.duration&&(l=o),e.PTSKnown=e.alignedSliding=!0),o.elementaryStreams=t.elementaryStreams,o.loader=t.loader,o.stats=t.stats,o.urlId=t.urlId,t.initSegment&&(o.initSegment=t.initSegment,r=t.initSegment)})),r&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach((function(t){var e;t.initSegment&&t.initSegment.relurl!==(null===(e=r)||void 0===e?void 0:e.relurl)||(t.initSegment=r)})),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some((function(t){return!t})),e.deltaUpdateFailed){o.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var v=e.skippedSegments;v--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=function(t,e,r){var n=a({},t);return r&&r.forEach((function(t){delete n[t]})),Object.keys(e).forEach((function(t){var r=new i.DateRange(e[t].attr,n[t]);r.isValid?n[t]=r:o.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(e[t].attr)+'"')})),n}(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));var m=e.fragments;if(h){o.logger.warn("discontinuity sliding from playlist, take drift into account");for(var g=0;g<m.length;g++)m[g].cc+=h}e.skippedSegments&&(e.startCC=e.fragments[0].cc),p(t.partList,e.partList,(function(t,e){e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),l?f(e,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):y(t,e),m.length&&(e.totalduration=e.edge-m[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;var b=e.advancedDateTime;if(e.advanced&&b){var w=e.edge;e.driftStart||(e.driftStartTime=b,e.driftStart=w),e.driftEndTime=b,e.driftEnd=w}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function p(t,e,r){if(t&&e)for(var n=0,o=0,i=t.length;o<=i;o++){var a=t[o],u=e[o+n];a&&u&&a.index===u.index&&a.fragment.sn===u.fragment.sn?r(a,u):n--}}function d(t,e,r){for(var n=e.skippedSegments,o=Math.max(t.startSN,e.startSN)-e.startSN,i=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,u=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,c=o;c<=i;c++){var l=s[a+c],f=u[c];n&&!f&&c<n&&(f=e.fragments[c]=l),l&&f&&r(l,f)}}function y(t,e){var r=e.startSN+e.skippedSegments-t.startSN,n=t.fragments;r<0||r>=n.length||v(e,n[r].start)}function v(t,e){if(e){for(var r=t.fragments,n=t.skippedSegments;n<r.length;n++)r[n].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function m(t,e){var r,n=1e3*t.levelTargetDuration,o=n/2,i=t.age,a=i>0&&i<3*n,u=e.loading.end-e.loading.start,s=t.availabilityDelay;if(!1===t.updated)if(a){var c=333*t.misses;r=Math.max(Math.min(o,2*u),c),t.availabilityDelay=(t.availabilityDelay||0)+r}else r=o;else a?(s=Math.min(s||n/2,i),t.availabilityDelay=s,r=s+n-i):r=n-u;return Math.round(r)}function g(t,e,r){if(!t||!t.details)return null;var n=t.details,o=n.fragments[e-n.startSN];return o||((o=n.fragmentHint)&&o.sn===e?o:e<n.startSN&&r&&r.sn===e?r:null)}function b(t,e,r){if(!t||!t.details)return null;var n=t.details.partList;if(n)for(var o=n.length;o--;){var i=n[o];if(i.index===r&&i.fragment.sn===e)return i}return null}},"./src/controller/stream-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return m}));var n=r("./src/polyfills/number.ts"),o=r("./src/controller/base-stream-controller.ts"),i=r("./src/is-supported.ts"),a=r("./src/events.ts"),u=r("./src/utils/buffer-helper.ts"),s=r("./src/controller/fragment-tracker.ts"),c=r("./src/types/loader.ts"),l=r("./src/loader/fragment.ts"),f=r("./src/demux/transmuxer-interface.ts"),h=r("./src/types/transmuxer.ts"),p=r("./src/controller/gap-controller.ts"),d=r("./src/errors.ts");function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var m=function(t){var e,r;function m(e,r){var n;return(n=t.call(this,e,r,"[stream-controller]")||this).audioCodecSwap=!1,n.gapController=null,n.level=-1,n._forceStartLoad=!1,n.altAudio=!1,n.audioOnly=!1,n.fragPlaying=null,n.onvplaying=null,n.onvseeked=null,n.fragLastKbps=0,n.couldBacktrack=!1,n.backtrackFragment=null,n.audioCodecSwitch=!1,n.videoBuffer=null,n._registerListeners(),n}r=t,(e=m).prototype=Object.create(r.prototype),e.prototype.constructor=e,v(e,r);var g,b,w,_=m.prototype;return _._registerListeners=function(){var t=this.hls;t.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(a.Events.ERROR,this.onError,this),t.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),t.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var t=this.hls;t.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(a.Events.ERROR,this.onError,this),t.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),t.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},_.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(r.config.testBandwidth?(n=0,this.bitrateTest=!0):n=r.nextAutoLevel),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=o.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=o.State.STOPPED},_.stopLoad=function(){this._forceStartLoad=!1,t.prototype.stopLoad.call(this)},_.doTick=function(){switch(this.state){case o.State.IDLE:this.doTickIdle();break;case o.State.WAITING_LEVEL:var t,e=this.levels,r=this.level,n=null===e||void 0===e||null===(t=e[r])||void 0===t?void 0:t.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=o.State.IDLE;break}break;case o.State.FRAG_LOADING_WAITING_RETRY:var i,a=self.performance.now(),u=this.retryDate;(!u||a>=u||null!==(i=this.media)&&void 0!==i&&i.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=o.State.IDLE)}this.onTickEnd()},_.onTickEnd=function(){t.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},_.doTickIdle=function(){var t,e,r=this.hls,n=this.levelLastLoaded,i=this.levels,u=this.media,f=r.config,h=r.nextLoadLevel;if(null!==n&&(u||!this.startFragRequested&&f.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&i&&i[h]){var p=i[h];this.level=r.nextLoadLevel=h;var d=p.details;if(!d||this.state===o.State.WAITING_LEVEL||d.live&&this.levelLastLoaded!==h)this.state=o.State.WAITING_LEVEL;else{var y=this.getMainFwdBufferInfo();if(null!==y&&!(y.len>=this.getMaxBufferLength(p.maxBitrate))){if(this._streamEnded(y,d)){var v={};return this.altAudio&&(v.type="video"),this.hls.trigger(a.Events.BUFFER_EOS,v),void(this.state=o.State.ENDED)}this.backtrackFragment&&this.backtrackFragment.start>y.end&&(this.backtrackFragment=null);var m=this.backtrackFragment?this.backtrackFragment.start:y.end,g=this.getNextFragment(m,d);if(this.couldBacktrack&&!this.fragPrevious&&g&&"initSegment"!==g.sn&&this.fragmentTracker.getState(g)!==s.FragmentState.OK){var b,w=(null!=(b=this.backtrackFragment)?b:g).sn-d.startSN,_=d.fragments[w-1];_&&g.cc===_.cc&&(g=_,this.fragmentTracker.removeFragment(_))}else this.backtrackFragment&&y.len&&(this.backtrackFragment=null);if(g&&this.fragmentTracker.getState(g)===s.FragmentState.OK&&this.nextLoadPosition>m){var E=this.audioOnly&&!this.altAudio?l.ElementaryStreamTypes.AUDIO:l.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(u,E,c.PlaylistLevelType.MAIN),g=this.getNextFragment(this.nextLoadPosition,d)}g&&(!g.initSegment||g.initSegment.data||this.bitrateTest||(g=g.initSegment),"identity"!==(null===(t=g.decryptdata)||void 0===t?void 0:t.keyFormat)||null!==(e=g.decryptdata)&&void 0!==e&&e.key?this.loadFragment(g,d,m):this.loadKey(g,d))}}}},_.loadFragment=function(e,r,n){var o,i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===s.FragmentState.NOT_LOADED||i===s.FragmentState.PARTIAL?"initSegment"===e.sn?this._loadInitSegment(e):this.bitrateTest?(e.bitrateTest=!0,this.log("Fragment "+e.sn+" of level "+e.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(e)):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,n)):i===s.FragmentState.APPENDING?this.reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e):0===(null===(o=this.media)||void 0===o?void 0:o.buffered.length)&&this.fragmentTracker.removeAllFragments()},_.getAppendedFrag=function(t){var e=this.fragmentTracker.getAppendedFrag(t,c.PlaylistLevelType.MAIN);return e&&"fragment"in e?e.fragment:e},_.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,c.PlaylistLevelType.MAIN)},_.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.end+.5):null},_.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},_.nextLevelSwitch=function(){var t=this.levels,e=this.media;if(null!==e&&void 0!==e&&e.readyState){var r,n=this.getAppendedFrag(e.currentTime);if(n&&n.start>1&&this.flushMainBuffer(0,n.start-1),!e.paused&&t){var o=t[this.hls.nextLoadLevel],i=this.fragLastKbps;r=i&&this.fragCurrent?this.fragCurrent.duration*o.maxBitrate/(1e3*i)+1:0}else r=0;var a=this.getBufferedFrag(e.currentTime+r);if(a){var u=this.followingBufferedFrag(a);if(u){this.abortCurrentFrag();var s=u.maxStartPTS?u.maxStartPTS:u.start,c=u.duration,l=Math.max(a.end,s+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,.5*c),.75*c));this.flushMainBuffer(l,Number.POSITIVE_INFINITY)}}}},_.abortCurrentFrag=function(){var t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,null!==t&&void 0!==t&&t.loader&&t.loader.abort(),this.state){case o.State.KEY_LOADING:case o.State.FRAG_LOADING:case o.State.FRAG_LOADING_WAITING_RETRY:case o.State.PARSING:case o.State.PARSED:this.state=o.State.IDLE}this.nextLoadPosition=this.getLoadPosition()},_.flushMainBuffer=function(e,r){t.prototype.flushMainBuffer.call(this,e,r,this.altAudio?"video":null)},_.onMediaAttached=function(e,r){t.prototype.onMediaAttached.call(this,e,r);var n=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new p.default(this.config,n,this.fragmentTracker,this.hls)},_.onMediaDetaching=function(){var e=this.media;e&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),t.prototype.onMediaDetaching.call(this)},_.onMediaPlaying=function(){this.tick()},_.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:null;Object(n.isFiniteNumber)(e)&&this.log("Media seeked to "+e.toFixed(3)),this.tick()},_.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(a.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},_.onManifestParsed=function(t,e){var r,n=!1,o=!1;e.levels.forEach((function(t){(r=t.audioCodec)&&(-1!==r.indexOf("mp4a.40.2")&&(n=!0),-1!==r.indexOf("mp4a.40.5")&&(o=!0))})),this.audioCodecSwitch=n&&o&&!Object(i.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1},_.onLevelLoading=function(t,e){var r=this.levels;if(r&&this.state===o.State.IDLE){var n=r[e.level];(!n.details||n.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(n.details))&&(this.state=o.State.WAITING_LEVEL)}},_.onLevelLoaded=function(t,e){var r,n=this.levels,i=e.level,u=e.details,s=u.totalduration;if(n){this.log("Level "+i+" loaded ["+u.startSN+","+u.endSN+"], cc ["+u.startCC+", "+u.endCC+"] duration:"+s);var c=this.fragCurrent;!c||this.state!==o.State.FRAG_LOADING&&this.state!==o.State.FRAG_LOADING_WAITING_RETRY||c.level!==e.level&&c.loader&&(this.state=o.State.IDLE,this.backtrackFragment=null,c.loader.abort());var l=n[i],f=0;if(u.live||null!==(r=l.details)&&void 0!==r&&r.live){if(u.fragments[0]||(u.deltaUpdateFailed=!0),u.deltaUpdateFailed)return;f=this.alignPlaylists(u,l.details)}if(l.details=u,this.levelLastLoaded=i,this.hls.trigger(a.Events.LEVEL_UPDATED,{details:u,level:i}),this.state===o.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(u))return;this.state=o.State.IDLE}this.startFragRequested?u.live&&this.synchronizeToLiveEdge(u):this.setStartPosition(u,f),this.tick()}else this.warn("Levels were reset while loading level "+i)},_._handleFragmentLoadProgress=function(t){var e,r=t.frag,n=t.part,o=t.payload,i=this.levels;if(i){var a=i[r.level],u=a.details;if(u){var s=a.videoCodec,l=u.PTSKnown||!u.live,p=null===(e=r.initSegment)||void 0===e?void 0:e.data,d=this._getAudioCodec(a),y=this.transmuxer=this.transmuxer||new f.default(this.hls,c.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),v=n?n.index:-1,m=-1!==v,g=new h.ChunkMetadata(r.level,r.sn,r.stats.chunkCount,o.byteLength,v,m),b=this.initPTS[r.cc];y.push(o,p,d,s,r,n,u.totalduration,l,g,b)}else this.warn("Dropping fragment "+r.sn+" of level "+r.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},_.onAudioTrackSwitching=function(t,e){var r=this.altAudio,n=!!e.url,o=e.id;if(!n){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;null!==i&&void 0!==i&&i.loader&&(this.log("Switching to main audio track, cancel main fragment load"),i.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var u=this.hls;r&&u.trigger(a.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),u.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:o})}},_.onAudioTrackSwitched=function(t,e){var r=e.id,n=!!this.hls.audioTracks[r].url;if(n){var o=this.videoBuffer;o&&this.mediaBuffer!==o&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=o)}this.altAudio=n,this.tick()},_.onBufferCreated=function(t,e){var r,n,o=e.tracks,i=!1;for(var a in o){var u=o[a];if("main"===u.id){if(n=a,r=u,"video"===a){var s=o[a];s&&(this.videoBuffer=s.buffer)}}else i=!0}i&&r?(this.log("Alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},_.onFragBuffered=function(t,e){var r=e.frag,n=e.part;if(!r||r.type===c.PlaylistLevelType.MAIN){if(this.fragContextChanged(r))return this.warn("Fragment "+r.sn+(n?" p: "+n.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===o.State.PARSED&&(this.state=o.State.IDLE));var i=n?n.stats:r.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,n)}},_.onError=function(t,e){switch(e.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(c.PlaylistLevelType.MAIN,e);break;case d.ErrorDetails.LEVEL_LOAD_ERROR:case d.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==o.State.ERROR&&(e.fatal?(this.warn(""+e.details),this.state=o.State.ERROR):e.levelRetry||this.state!==o.State.WAITING_LEVEL||(this.state=o.State.IDLE));break;case d.ErrorDetails.BUFFER_FULL_ERROR:if("main"===e.parent&&(this.state===o.State.PARSING||this.state===o.State.PARSED)){var r=!0,n=this.getFwdBufferInfo(this.media,c.PlaylistLevelType.MAIN);n&&n.len>.5&&(r=!this.reduceMaxBufferLength(n.len)),r&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},_.checkBuffer=function(){var t=this.media,e=this.gapController;if(t&&e&&t.readyState){var r=u.BufferHelper.getBuffered(t);if(!this.loadedmetadata&&r.length)this.loadedmetadata=!0,this.seekToStartPos();else{var n=this.state!==o.State.IDLE?this.fragCurrent:null;e.poll(this.lastCurrentTime,n)}this.lastCurrentTime=t.currentTime}},_.onFragLoadEmergencyAborted=function(){this.state=o.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},_.onBufferFlushed=function(t,e){var r=e.type;if(r!==l.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var n=(r===l.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,r,c.PlaylistLevelType.MAIN)}},_.onLevelsUpdated=function(t,e){this.levels=e.levels},_.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},_.seekToStartPos=function(){var t=this.media,e=t.currentTime,r=this.startPosition;if(r>=0&&e<r){if(t.seeking)return void this.log("could not seek to "+r+", already seeking at "+e);var n=u.BufferHelper.getBuffered(t),o=(n.length?n.start(0):0)-r;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+o+" to match buffer start"),r+=o,this.startPosition=r),this.log("seek to target start position "+r+" from current time "+e),t.currentTime=r}},_._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e},_._loadBitrateTestFrag=function(t){var e=this;this._doFragLoad(t).then((function(r){var n=e.hls;if(r&&!n.nextLoadLevel&&!e.fragContextChanged(t)){e.fragLoadError=0,e.state=o.State.IDLE,e.startFragRequested=!1,e.bitrateTest=!1;var i=t.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),n.trigger(a.Events.FRAG_LOADED,r)}}))},_._handleTransmuxComplete=function(t){var e,r="main",i=this.hls,u=t.remuxResult,s=t.chunkMeta,c=this.getCurrentContext(s);if(!c)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(s.level);var f=c.frag,h=c.part,p=c.level,d=u.video,y=u.text,v=u.id3,m=u.initSegment,g=p.details,b=this.altAudio?void 0:u.audio;if(!this.fragContextChanged(f)){if(this.state=o.State.PARSING,m){m.tracks&&(this._bufferInitSegment(p,m.tracks,f,s),i.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:f,id:r,tracks:m.tracks}));var w=m.initPTS,_=m.timescale;Object(n.isFiniteNumber)(w)&&(this.initPTS[f.cc]=w,i.trigger(a.Events.INIT_PTS_FOUND,{frag:f,id:r,initPTS:w,timescale:_}))}if(d&&!1!==u.independent){if(g){var E=d.startPTS,O=d.endPTS,S=d.startDTS,x=d.endDTS;if(h)h.elementaryStreams[d.type]={startPTS:E,endPTS:O,startDTS:S,endDTS:x};else if(d.firstKeyFrame&&d.independent&&(this.couldBacktrack=!0),d.dropped&&d.independent){var k=this.getMainFwdBufferInfo();if((k?k.end:this.getLoadPosition())+this.config.maxBufferHole<(d.firstKeyFramePTS?d.firstKeyFramePTS:E)-this.config.maxBufferHole)return void this.backtrack(f);f.setElementaryStreamInfo(d.type,f.start,O,f.start,x,!0)}f.setElementaryStreamInfo(d.type,E,O,S,x),this.backtrackFragment&&(this.backtrackFragment=f),this.bufferFragmentData(d,f,h,s)}}else if(!1===u.independent)return void this.backtrack(f);if(b){var j=b.startPTS,T=b.endPTS,L=b.startDTS,P=b.endDTS;h&&(h.elementaryStreams[l.ElementaryStreamTypes.AUDIO]={startPTS:j,endPTS:T,startDTS:L,endDTS:P}),f.setElementaryStreamInfo(l.ElementaryStreamTypes.AUDIO,j,T,L,P),this.bufferFragmentData(b,f,h,s)}if(g&&null!==v&&void 0!==v&&null!==(e=v.samples)&&void 0!==e&&e.length){var A={id:r,frag:f,details:g,samples:v.samples};i.trigger(a.Events.FRAG_PARSING_METADATA,A)}if(g&&y){var C={id:r,frag:f,details:g,samples:y.samples};i.trigger(a.Events.FRAG_PARSING_USERDATA,C)}}},_._bufferInitSegment=function(t,e,r,n){var i=this;if(this.state===o.State.PARSING){this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;var u=e.audio,s=e.video,c=e.audiovideo;if(u){var l=t.audioCodec,f=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==u.metadata.channelCount&&-1===f.indexOf("firefox")&&(l="mp4a.40.5")),-1!==f.indexOf("android")&&"audio/mpeg"!==u.container&&(l="mp4a.40.2",this.log("Android: force audio codec to "+l)),t.audioCodec&&t.audioCodec!==l&&this.log('Swapping manifest audio codec "'+t.audioCodec+'" for "'+l+'"'),u.levelCodec=l,u.id="main",this.log("Init audio buffer, container:"+u.container+", codecs[selected/level/parsed]=["+(l||"")+"/"+(t.audioCodec||"")+"/"+u.codec+"]")}s&&(s.levelCodec=t.videoCodec,s.id="main",this.log("Init video buffer, container:"+s.container+", codecs[level/parsed]=["+(t.videoCodec||"")+"/"+s.codec+"]")),c&&this.log("Init audiovideo buffer, container:"+c.container+", codecs[level/parsed]=["+(t.attrs.CODECS||"")+"/"+c.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,e),Object.keys(e).forEach((function(t){var o=e[t].initSegment;null!==o&&void 0!==o&&o.byteLength&&i.hls.trigger(a.Events.BUFFER_APPENDING,{type:t,data:o,frag:r,part:null,chunkMeta:n,parent:r.type})})),this.tick()}},_.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,c.PlaylistLevelType.MAIN)},_.backtrack=function(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=o.State.IDLE},_.checkFragmentChanged=function(){var t=this.media,e=null;if(t&&t.readyState>1&&!1===t.seeking){var r=t.currentTime;if(u.BufferHelper.isBuffered(t,r)?e=this.getAppendedFrag(r):u.BufferHelper.isBuffered(t,r+.1)&&(e=this.getAppendedFrag(r+.1)),e){this.backtrackFragment=null;var n=this.fragPlaying,o=e.level;n&&e.sn===n.sn&&n.level===o&&e.urlId===n.urlId||(this.hls.trigger(a.Events.FRAG_CHANGED,{frag:e}),n&&n.level===o||this.hls.trigger(a.Events.LEVEL_SWITCHED,{level:o}),this.fragPlaying=e)}}},g=m,(b=[{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentFrag",get:function(){var t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}},{key:"currentProgramDateTime",get:function(){var t=this.media;if(t){var e=t.currentTime,r=this.currentFrag;if(r&&Object(n.isFiniteNumber)(e)&&Object(n.isFiniteNumber)(r.programDateTime)){var o=r.programDateTime+1e3*(e-r.start);return new Date(o)}}return null}},{key:"currentLevel",get:function(){var t=this.currentFrag;return t?t.level:-1}},{key:"nextBufferedFrag",get:function(){var t=this.currentFrag;return t?this.followingBufferedFrag(t):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&y(g.prototype,b),w&&y(g,w),Object.defineProperty(g,"prototype",{writable:!1}),m}(o.default)},"./src/controller/subtitle-stream-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"SubtitleStreamController",(function(){return d}));var n=r("./src/events.ts"),o=r("./src/utils/buffer-helper.ts"),i=r("./src/controller/fragment-finders.ts"),a=r("./src/utils/discontinuities.ts"),u=r("./src/controller/level-helper.ts"),s=r("./src/controller/fragment-tracker.ts"),c=r("./src/controller/base-stream-controller.ts"),l=r("./src/types/loader.ts"),f=r("./src/types/level.ts");function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}var d=function(t){var e,r;function d(e,r){var n;return(n=t.call(this,e,r,"[subtitle-stream-controller]")||this).levels=[],n.currentTrackId=-1,n.tracksBuffered=[],n.mainDetails=null,n._registerListeners(),n}r=t,(e=d).prototype=Object.create(r.prototype),e.prototype.constructor=e,p(e,r);var y,v,m,g=d.prototype;return g.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},g._registerListeners=function(){var t=this.hls;t.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(n.Events.ERROR,this.onError,this),t.on(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},g._unregisterListeners=function(){var t=this.hls;t.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(n.Events.ERROR,this.onError,this),t.off(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},g.startLoad=function(){this.stopLoad(),this.state=c.State.IDLE,this.setInterval(500),this.tick()},g.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},g.onLevelLoaded=function(t,e){this.mainDetails=e.details},g.onSubtitleFragProcessed=function(t,e){var r=e.frag,n=e.success;if(this.fragPrevious=r,this.state=c.State.IDLE,n){var o=this.tracksBuffered[this.currentTrackId];if(o){for(var i,a=r.start,u=0;u<o.length;u++)if(a>=o[u].start&&a<=o[u].end){i=o[u];break}var s=r.start+r.duration;i?i.end=s:(i={start:a,end:s},o.push(i)),this.fragmentTracker.fragBuffered(r)}}},g.onBufferFlushing=function(t,e){var r=e.startOffset,n=e.endOffset;if(0===r&&n!==Number.POSITIVE_INFINITY){var o=this.currentTrackId,i=this.levels;if(!i.length||!i[o]||!i[o].details)return;var a=n-i[o].details.targetduration;if(a<=0)return;e.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach((function(t){for(var e=0;e<t.length;)if(t[e].end<=a)t.shift();else{if(!(t[e].start<a))break;t[e].start=a,e++}})),this.fragmentTracker.removeFragmentsInRange(r,a,l.PlaylistLevelType.SUBTITLE)}},g.onError=function(t,e){var r,n=e.frag;n&&n.type===l.PlaylistLevelType.SUBTITLE&&(null!==(r=this.fragCurrent)&&void 0!==r&&r.loader&&this.fragCurrent.loader.abort(),this.state=c.State.IDLE)},g.onSubtitleTracksUpdated=function(t,e){var r=this,n=e.subtitleTracks;this.tracksBuffered=[],this.levels=n.map((function(t){return new f.Level(t)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(t){r.tracksBuffered[t.id]=[]})),this.mediaBuffer=null},g.onSubtitleTrackSwitch=function(t,e){if(this.currentTrackId=e.id,this.levels.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!==r&&void 0!==r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}else this.clearInterval()},g.onSubtitleTrackLoaded=function(t,e){var r,n=e.details,o=e.id,s=this.currentTrackId,l=this.levels;if(l.length){var f=l[s];if(!(o>=l.length||o!==s)&&f){if(this.mediaBuffer=this.mediaBufferTimeRanges,n.live||null!==(r=f.details)&&void 0!==r&&r.live){var h=this.mainDetails;if(n.deltaUpdateFailed||!h)return;var p=h.fragments[0];f.details?0===this.alignPlaylists(n,f.details)&&p&&Object(u.addSliding)(n,p.start):n.hasProgramDateTime&&h.hasProgramDateTime?Object(a.alignMediaPlaylistByPDT)(n,h):p&&Object(u.addSliding)(n,p.start)}f.details=n,this.levelLastLoaded=o,this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===c.State.IDLE&&(Object(i.findFragmentByPTS)(null,n.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),f.details=void 0))}}},g._handleFragmentLoadComplete=function(t){var e=t.frag,r=t.payload,o=e.decryptdata,i=this.hls;if(!this.fragContextChanged(e)&&r&&r.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){var a=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(r),o.key.buffer,o.iv.buffer).then((function(t){var r=performance.now();i.trigger(n.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:a,tdecrypt:r}})}))}},g.doTick=function(){if(this.media){if(this.state===c.State.IDLE){var t=this.currentTrackId,e=this.levels;if(!e.length||!e[t]||!e[t].details)return;var r=e[t].details,n=r.targetduration,a=this.config,u=this.media,l=o.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,u.currentTime-n,a.maxBufferHole),f=l.end;if(l.len>this.getMaxBufferLength()+n)return;console.assert(r,"Subtitle track details are defined on idle subtitle stream controller tick");var h,p=r.fragments,d=p.length,y=r.edge,v=this.fragPrevious;if(f<y){var m=a.maxFragLookUpTolerance;!(h=Object(i.findFragmentByPTS)(v,p,Math.max(p[0].start,f),m))&&v&&v.start<p[0].start&&(h=p[0])}else h=p[d-1];if(!(h=this.mapToInitFragWhenRequired(h)))return;h.encrypted?this.loadKey(h,r):this.fragmentTracker.getState(h)===s.FragmentState.NOT_LOADED&&this.loadFragment(h,r,f)}}else this.state=c.State.IDLE},g.loadFragment=function(e,r,n){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e):t.prototype.loadFragment.call(this,e,r,n)},y=d,(v=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&h(y.prototype,v),m&&h(y,m),Object.defineProperty(y,"prototype",{writable:!1}),d}(c.default)},"./src/controller/subtitle-track-controller.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/events.ts"),o=r("./src/utils/texttrack-utils.ts"),i=r("./src/controller/base-playlist-controller.ts"),a=r("./src/types/loader.ts");function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var c=function(t){var e,r;function i(e){var r;return(r=t.call(this,e,"[subtitle-track-controller]")||this).media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r._subtitleDisplay=!0,r.registerListeners(),r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,s(e,r);var c,f,h,p=i.prototype;return p.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,t.prototype.destroy.call(this)},p.registerListeners=function(){var t=this.hls;t.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(n.Events.ERROR,this.onError,this)},p.unregisterListeners=function(){var t=this.hls;t.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),t.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(n.Events.ERROR,this.onError,this)},p.onMediaAttached=function(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},p.pollTrackChange=function(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,t)},p.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),l(this.media.textTracks).forEach((function(t){Object(o.clearCurrentCues)(t)})),this.subtitleTrack=-1,this.media=null)},p.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},p.onManifestParsed=function(t,e){this.tracks=e.subtitleTracks},p.onSubtitleTrackLoaded=function(t,e){var r=e.id,n=e.details,o=this.trackId,i=this.tracksInGroup[o];if(i){var a=i.details;i.details=e.details,this.log("subtitle track "+r+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&(this.retryCount=0,this.playlistLoaded(r,e,a))}else this.warn("Invalid subtitle track id "+r)},p.onLevelLoading=function(t,e){this.switchLevel(e.level)},p.onLevelSwitching=function(t,e){this.switchLevel(e.level)},p.switchLevel=function(t){var e=this.hls.levels[t];if(null!==e&&void 0!==e&&e.textGroupIds){var r=e.textGroupIds[e.urlId];if(this.groupId!==r){var o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,i=this.tracks.filter((function(t){return!r||t.groupId===r}));this.tracksInGroup=i;var a=this.findTrackId(null===o||void 0===o?void 0:o.name)||this.findTrackId();this.groupId=r;var u={subtitleTracks:i};this.log("Updating subtitle tracks, "+i.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(n.Events.SUBTITLE_TRACKS_UPDATED,u),-1!==a&&this.setSubtitleTrack(a,o)}}},p.findTrackId=function(t){for(var e=this.tracksInGroup,r=0;r<e.length;r++){var n=e[r];if((!this.selectDefaultTrack||n.default)&&(!t||t===n.name))return n.id}return-1},p.onError=function(e,r){t.prototype.onError.call(this,e,r),!r.fatal&&r.context&&r.context.type===a.PlaylistContextType.SUBTITLE_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.retryLoadingOrFail(r)},p.loadPlaylist=function(t){var e=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(e)){var r=e.id,o=e.groupId,i=e.url;if(t)try{i=t.addDirectives(i)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: "+a)}this.log("Loading subtitle playlist for id "+r),this.hls.trigger(n.Events.SUBTITLE_TRACK_LOADING,{url:i,id:r,groupId:o,deliveryDirectives:t||null})}},p.toggleTrackModes=function(t){var e=this,r=this.media,n=this.trackId;if(r){var o=l(r.textTracks),i=o.filter((function(t){return t.groupId===e.groupId}));if(-1===t)[].slice.call(o).forEach((function(t){t.mode="disabled"}));else{var a=i[n];a&&(a.mode="disabled")}var u=i[t];u&&(u.mode=this.subtitleDisplay?"showing":"hidden")}},p.setSubtitleTrack=function(t,e){var r,o=this.tracksInGroup;if(this.media){if(this.trackId!==t&&this.toggleTrackModes(t),!(this.trackId===t&&(-1===t||null!==(r=o[t])&&void 0!==r&&r.details)||t<-1||t>=o.length)){this.clearTimer();var i=o[t];if(this.log("Switching to subtitle track "+t),this.trackId=t,i){var a=i.id,u=i.groupId,s=void 0===u?"":u,c=i.name,l=i.type,f=i.url;this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:a,groupId:s,name:c,type:l,url:f});var h=this.switchParams(i.url,null===e||void 0===e?void 0:e.details);this.loadPlaylist(h)}else this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:t})}}else this.queuedDefaultTrack=t},p.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=l(this.media.textTracks),r=0;r<e.length;r++)if("hidden"===e[r].mode)t=r;else if("showing"===e[r].mode){t=r;break}this.subtitleTrack!==t&&(this.subtitleTrack=t)}},c=i,(f=[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1;var e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(t,e)}}])&&u(c.prototype,f),h&&u(c,h),Object.defineProperty(c,"prototype",{writable:!1}),i}(i.default);function l(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];"subtitles"===n.kind&&n.label&&e.push(t[r])}return e}e.default=c},"./src/controller/timeline-controller.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"TimelineController",(function(){return p}));var n=r("./src/polyfills/number.ts"),o=r("./src/events.ts"),i=r("./src/utils/cea-608-parser.ts"),a=r("./src/utils/output-filter.ts"),u=r("./src/utils/webvtt-parser.ts"),s=r("./src/utils/texttrack-utils.ts"),c=r("./src/utils/imsc1-ttml-parser.ts"),l=r("./src/utils/mp4-tools.ts"),f=r("./src/types/loader.ts"),h=r("./src/utils/logger.ts"),p=function(){function t(t){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var e=new a.default(this,"textTrack1"),r=new a.default(this,"textTrack2"),n=new a.default(this,"textTrack3"),u=new a.default(this,"textTrack4");this.cea608Parser1=new i.default(1,e,r),this.cea608Parser2=new i.default(3,n,u)}t.on(o.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(o.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(o.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(o.Events.FRAG_LOADING,this.onFragLoading,this),t.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(o.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(o.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(o.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var e=t.prototype;return e.destroy=function(){var t=this.hls;t.off(o.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(o.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(o.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(o.Events.FRAG_LOADING,this.onFragLoading,this),t.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(o.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(o.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(o.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},e.addCues=function(t,e,r,n,i){for(var a,u,s,c,l=!1,f=i.length;f--;){var h=i[f],p=(a=h[0],u=h[1],s=e,c=r,Math.min(u,c)-Math.max(a,s));if(p>=0&&(h[0]=Math.min(h[0],e),h[1]=Math.max(h[1],r),l=!0,p/(r-e)>.5))return}if(l||i.push([e,r]),this.config.renderTextTracksNatively){var d=this.captionsTracks[t];this.Cues.newCue(d,e,r,n)}else{var y=this.Cues.newCue(null,e,r,n);this.hls.trigger(o.Events.CUES_PARSED,{type:"captions",cues:y,track:t})}},e.onInitPtsFound=function(t,e){var r=this,n=e.frag,i=e.id,a=e.initPTS,u=e.timescale,s=this.unparsedVttFrags;"main"===i&&(this.initPTS[n.cc]=a,this.timescale[n.cc]=u),s.length&&(this.unparsedVttFrags=[],s.forEach((function(t){r.onFragLoaded(o.Events.FRAG_LOADED,t)})))},e.getExistingTrack=function(t){var e=this.media;if(e)for(var r=0;r<e.textTracks.length;r++){var n=e.textTracks[r];if(n[t])return n}return null},e.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},e.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,r=this.captionsTracks,n=this.media,o=e[t],i=o.label,a=o.languageCode,u=this.getExistingTrack(t);if(u)r[t]=u,Object(s.clearCurrentCues)(r[t]),Object(s.sendAddTrackEvent)(r[t],n);else{var c=this.createTextTrack("captions",i,a);c&&(c[t]=!0,r[t]=c)}}},e.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var r={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=r,this.hls.trigger(o.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}},e.createTextTrack=function(t,e,r){var n=this.media;if(n)return n.addTextTrack(t,e,r)},e.onMediaAttaching=function(t,e){this.media=e.media,this._cleanTracks()},e.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){Object(s.clearCurrentCues)(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}},e.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},e._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var r=0;r<e.length;r++)Object(s.clearCurrentCues)(e[r])}},e.onSubtitleTracksUpdated=function(t,e){var r=this;this.textTracks=[];var n=e.subtitleTracks||[],i=n.some((function(t){return t.textCodec===c.IMSC1_CODEC}));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){var a=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=n||[],this.config.renderTextTracksNatively){var u=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,e){var n;if(e<u.length){for(var o=null,i=0;i<u.length;i++)if(d(u[i],t)){o=u[i];break}o&&(n=o)}if(n)Object(s.clearCurrentCues)(n);else{var a=r._captionsOrSubtitlesFromCharacteristics(t);(n=r.createTextTrack(a,t.name,t.lang))&&(n.mode="disabled")}n&&(n.groupId=t.groupId,r.textTracks.push(n))}))}else if(!a&&this.tracks&&this.tracks.length){var l=this.tracks.map((function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}}));this.hls.trigger(o.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:l})}}},e._captionsOrSubtitlesFromCharacteristics=function(t){var e;if(null!==(e=t.attrs)&&void 0!==e&&e.CHARACTERISTICS){var r=/transcribes-spoken-dialog/gi.test(t.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(t.attrs.CHARACTERISTICS);if(r&&n)return"captions"}return"subtitles"},e.onManifestLoaded=function(t,e){var r=this;this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((function(t){var e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(e){var n="textTrack"+e[1],o=r.captionsProperties[n];o&&(o.label=t.name,t.lang&&(o.languageCode=t.lang),o.media=t)}}))},e.onFragLoading=function(t,e){var r=this.cea608Parser1,n=this.cea608Parser2,o=this.lastSn,i=this.lastPartIndex;if(this.enabled&&r&&n&&e.frag.type===f.PlaylistLevelType.MAIN){var a,u,s=e.frag.sn,c=null!=(a=null===e||void 0===e||null===(u=e.part)||void 0===u?void 0:u.index)?a:-1;s===o+1||s===o&&c===i+1||(r.reset(),n.reset()),this.lastSn=s,this.lastPartIndex=c}},e.onFragLoaded=function(t,e){var r=e.frag,i=e.payload,a=this.initPTS,u=this.unparsedVttFrags;if(r.type===f.PlaylistLevelType.SUBTITLE)if(i.byteLength){if(!Object(n.isFiniteNumber)(a[r.cc]))return u.push(e),void(a.length&&this.hls.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Missing initial subtitle PTS")}));var s=r.decryptdata,l="stats"in e;if(null==s||null==s.key||"AES-128"!==s.method||l){var h=this.tracks[r.level],p=this.vttCCs;p[r.cc]||(p[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),h&&h.textCodec===c.IMSC1_CODEC?this._parseIMSC1(r,i):this._parseVTTs(r,i,p)}}else this.hls.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})},e._parseIMSC1=function(t,e){var r=this,n=this.hls;Object(c.parseIMSC1)(e,this.initPTS[t.cc],this.timescale[t.cc],(function(e){r._appendCues(e,t.level),n.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(e){h.logger.log("Failed to parse IMSC1: "+e),n.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))},e._parseVTTs=function(t,e,r){var n,i=this,a=this.hls,s=null!==(n=t.initSegment)&&void 0!==n&&n.data?Object(l.appendUint8Array)(t.initSegment.data,new Uint8Array(e)):e;Object(u.parseWebVTT)(s,this.initPTS[t.cc],this.timescale[t.cc],r,t.cc,t.start,(function(e){i._appendCues(e,t.level),a.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(r){i._fallbackToIMSC1(t,e),h.logger.log("Failed to parse VTT cue: "+r),a.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:r})}))},e._fallbackToIMSC1=function(t,e){var r=this,n=this.tracks[t.level];n.textCodec||Object(c.parseIMSC1)(e,this.initPTS[t.cc],this.timescale[t.cc],(function(){n.textCodec=c.IMSC1_CODEC,r._parseIMSC1(t,e)}),(function(){n.textCodec="wvtt"}))},e._appendCues=function(t,e){var r=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[e];if(!n||"disabled"===n.mode)return;t.forEach((function(t){return Object(s.addCueToTrack)(n,t)}))}else{var i=this.tracks[e];if(!i)return;var a=i.default?"default":"subtitles"+e;r.trigger(o.Events.CUES_PARSED,{type:"subtitles",cues:t,track:a})}},e.onFragDecrypted=function(t,e){var r=e.frag;if(r.type===f.PlaylistLevelType.SUBTITLE){if(!Object(n.isFiniteNumber)(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(e);this.onFragLoaded(o.Events.FRAG_LOADED,e)}},e.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},e.onFragParsingUserdata=function(t,e){var r=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&r&&n)for(var o=0;o<e.samples.length;o++){var i=e.samples[o].bytes;if(i){var a=this.extractCea608Data(i);r.addData(e.samples[o].pts,a[0]),n.addData(e.samples[o].pts,a[1])}}},e.onBufferFlushing=function(t,e){var r=e.startOffset,n=e.endOffset,o=e.endOffsetSubtitles,i=e.type,a=this.media;if(a&&!(a.currentTime<n)){if(!i||"video"===i){var u=this.captionsTracks;Object.keys(u).forEach((function(t){return Object(s.removeCuesInRange)(u[t],r,n)}))}if(this.config.renderTextTracksNatively&&0===r&&void 0!==o){var c=this.textTracks;Object.keys(c).forEach((function(t){return Object(s.removeCuesInRange)(c[t],r,o)}))}}},e.extractCea608Data=function(t){for(var e=[[],[]],r=31&t[0],n=2,o=0;o<r;o++){var i=t[n++],a=127&t[n++],u=127&t[n++];if((0!==a||0!==u)&&0!==(4&i)){var s=3&i;0!==s&&1!==s||(e[s].push(a),e[s].push(u))}}return e},t}();function d(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}},"./src/crypt/aes-crypto.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}()},"./src/crypt/aes-decryptor.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"removePadding",(function(){return o})),r.d(e,"default",(function(){return i}));var n=r("./src/utils/typed-array.ts");function o(t){var e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?Object(n.sliceUint8)(t,0,e-r):t}var i=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),r=new Uint32Array(4),n=0;n<4;n++)r[n]=e.getUint32(4*n);return r},e.initTable=function(){var t=this.sBox,e=this.invSBox,r=this.subMix,n=r[0],o=r[1],i=r[2],a=r[3],u=this.invSubMix,s=u[0],c=u[1],l=u[2],f=u[3],h=new Uint32Array(256),p=0,d=0,y=0;for(y=0;y<256;y++)h[y]=y<128?y<<1:y<<1^283;for(y=0;y<256;y++){var v=d^d<<1^d<<2^d<<3^d<<4;v=v>>>8^255&v^99,t[p]=v,e[v]=p;var m=h[p],g=h[m],b=h[g],w=257*h[v]^16843008*v;n[p]=w<<24|w>>>8,o[p]=w<<16|w>>>16,i[p]=w<<8|w>>>24,a[p]=w,w=16843009*b^65537*g^257*m^16843008*p,s[v]=w<<24|w>>>8,c[v]=w<<16|w>>>16,l[v]=w<<8|w>>>24,f[v]=w,p?(p=m^h[h[h[b^m]]],d^=h[h[d]]):p=d=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),r=!0,n=0;n<e.length&&r;)r=e[n]===this.key[n],n++;if(!r){this.key=e;var o=this.keySize=e.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var i,a,u,s,c=this.ksRows=4*(o+6+1),l=this.keySchedule=new Uint32Array(c),f=this.invKeySchedule=new Uint32Array(c),h=this.sBox,p=this.rcon,d=this.invSubMix,y=d[0],v=d[1],m=d[2],g=d[3];for(i=0;i<c;i++)i<o?u=l[i]=e[i]:(s=u,i%o===0?(s=h[(s=s<<8|s>>>24)>>>24]<<24|h[s>>>16&255]<<16|h[s>>>8&255]<<8|h[255&s],s^=p[i/o|0]<<24):o>6&&i%o===4&&(s=h[s>>>24]<<24|h[s>>>16&255]<<16|h[s>>>8&255]<<8|h[255&s]),l[i]=u=(l[i-o]^s)>>>0);for(a=0;a<c;a++)i=c-a,s=3&a?l[i]:l[i-4],f[a]=a<4||i<=4?s:y[h[s>>>24]]^v[h[s>>>16&255]]^m[h[s>>>8&255]]^g[h[255&s]],f[a]=f[a]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,r){for(var n,o,i,a,u,s,c,l,f,h,p,d,y,v,m=this.keySize+6,g=this.invKeySchedule,b=this.invSBox,w=this.invSubMix,_=w[0],E=w[1],O=w[2],S=w[3],x=this.uint8ArrayToUint32Array_(r),k=x[0],j=x[1],T=x[2],L=x[3],P=new Int32Array(t),A=new Int32Array(P.length),C=this.networkToHostOrderSwap;e<P.length;){for(f=C(P[e]),h=C(P[e+1]),p=C(P[e+2]),d=C(P[e+3]),u=f^g[0],s=d^g[1],c=p^g[2],l=h^g[3],y=4,v=1;v<m;v++)n=_[u>>>24]^E[s>>16&255]^O[c>>8&255]^S[255&l]^g[y],o=_[s>>>24]^E[c>>16&255]^O[l>>8&255]^S[255&u]^g[y+1],i=_[c>>>24]^E[l>>16&255]^O[u>>8&255]^S[255&s]^g[y+2],a=_[l>>>24]^E[u>>16&255]^O[s>>8&255]^S[255&c]^g[y+3],u=n,s=o,c=i,l=a,y+=4;n=b[u>>>24]<<24^b[s>>16&255]<<16^b[c>>8&255]<<8^b[255&l]^g[y],o=b[s>>>24]<<24^b[c>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^g[y+1],i=b[c>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&s]^g[y+2],a=b[l>>>24]<<24^b[u>>16&255]<<16^b[s>>8&255]<<8^b[255&c]^g[y+3],A[e]=C(n^k),A[e+1]=C(a^j),A[e+2]=C(i^T),A[e+3]=C(o^L),k=f,j=h,T=p,L=d,e+=4}return A.buffer},t}()},"./src/crypt/decrypter.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return c}));var n=r("./src/crypt/aes-crypto.ts"),o=r("./src/crypt/fast-aes-key.ts"),i=r("./src/crypt/aes-decryptor.ts"),a=r("./src/utils/logger.ts"),u=r("./src/utils/mp4-tools.ts"),s=r("./src/utils/typed-array.ts"),c=function(){function t(t,e,r){var n=(void 0===r?{}:r).removePKCS7Padding,o=void 0===n||n;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=t,this.config=e,this.removePKCS7Padding=o,o)try{var i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(a){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var e=t.prototype;return e.destroy=function(){this.observer=null},e.isSync=function(){return this.config.enableSoftwareAES},e.flush=function(){var t=this.currentResult;if(t){var e=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?Object(i.removePadding)(e):e}this.reset()},e.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},e.decrypt=function(t,e,r,n){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(t),e,r);var o=this.flush();o&&n(o.buffer)}else this.webCryptoDecrypt(new Uint8Array(t),e,r).then(n)},e.softwareDecrypt=function(t,e,r){var n=this.currentIV,o=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(t=Object(u.appendUint8Array)(a,t),this.remainderData=null);var c=this.getValidChunk(t);if(!c.length)return null;n&&(r=n);var l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new i.default),l.expandKey(e);var f=o;return this.currentResult=l.decrypt(c.buffer,0,r),this.currentIV=Object(s.sliceUint8)(c,-16).buffer,f||null},e.webCryptoDecrypt=function(t,e,r){var i=this,a=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new o.default(a,e)),this.fastAesKey.expandKey().then((function(e){return a?new n.default(a,r).decrypt(t.buffer,e):Promise.reject(new Error("web crypto not initialized"))})).catch((function(n){return i.onWebCryptoError(n,t,e,r)}))},e.onWebCryptoError=function(t,e,r,n){return a.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",t),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n)},e.getValidChunk=function(t){var e=t,r=t.length-t.length%16;return r!==t.length&&(e=Object(s.sliceUint8)(t,0,r),this.remainderData=Object(s.sliceUint8)(t,r)),e},e.logOnce=function(t){this.logEnabled&&(a.logger.log("[decrypter.ts]: "+t),this.logEnabled=!1)},t}()},"./src/crypt/fast-aes-key.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}()},"./src/demux/aacdemuxer.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/demux/base-audio-demuxer.ts"),o=r("./src/demux/adts.ts"),i=r("./src/utils/logger.ts"),a=r("./src/demux/id3.ts");function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}var s=function(t){var e,r;function n(e,r){var n;return(n=t.call(this)||this).observer=void 0,n.config=void 0,n.observer=e,n.config=r,n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,u(e,r);var s=n.prototype;return s.resetInitSegment=function(e,r,n,o){t.prototype.resetInitSegment.call(this,e,r,n,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:o,inputTimeScale:9e4,dropped:0}},n.probe=function(t){if(!t)return!1;for(var e=(a.getID3Data(t,0)||[]).length,r=t.length;e<r;e++)if(o.probe(t,e))return i.logger.log("ADTS sync word found !"),!0;return!1},s.canParse=function(t,e){return o.canParse(t,e)},s.appendFrame=function(t,e,r){o.initTrackConfig(t,this.observer,e,r,t.manifestCodec);var n=o.appendFrame(t,e,r,this.basePTS,this.frameIndex);if(n&&0===n.missing)return n},n}(n.default);s.minProbeByteLength=9,e.default=s},"./src/demux/adts.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"getAudioConfig",(function(){return a})),r.d(e,"isHeaderPattern",(function(){return u})),r.d(e,"getHeaderLength",(function(){return s})),r.d(e,"getFullFrameLength",(function(){return c})),r.d(e,"canGetFrameLength",(function(){return l})),r.d(e,"isHeader",(function(){return f})),r.d(e,"canParse",(function(){return h})),r.d(e,"probe",(function(){return p})),r.d(e,"initTrackConfig",(function(){return d})),r.d(e,"getFrameDuration",(function(){return y})),r.d(e,"parseFrameHeader",(function(){return v})),r.d(e,"appendFrame",(function(){return m}));var n=r("./src/utils/logger.ts"),o=r("./src/errors.ts"),i=r("./src/events.ts");function a(t,e,r,a){var u,s,c,l,f=navigator.userAgent.toLowerCase(),h=a,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];u=1+((192&e[r+2])>>>6);var d=(60&e[r+2])>>>2;if(!(d>p.length-1))return c=(1&e[r+2])<<2,c|=(192&e[r+3])>>>6,n.logger.log("manifest codec:"+a+", ADTS type:"+u+", samplingIndex:"+d),/firefox/i.test(f)?d>=6?(u=5,l=new Array(4),s=d-3):(u=2,l=new Array(2),s=d):-1!==f.indexOf("android")?(u=2,l=new Array(2),s=d):(u=5,l=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&d>=6?s=d-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(d>=6&&1===c||/vivaldi/i.test(f))||!a&&1===c)&&(u=2,l=new Array(2)),s=d)),l[0]=u<<3,l[0]|=(14&d)>>1,l[1]|=(1&d)<<7,l[1]|=c<<3,5===u&&(l[1]|=(14&s)>>1,l[2]=(1&s)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:p[d],channelCount:c,codec:"mp4a.40."+u,manifestCodec:h};t.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+d})}function u(t,e){return 255===t[e]&&240===(246&t[e+1])}function s(t,e){return 1&t[e+1]?7:9}function c(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function l(t,e){return e+5<t.length}function f(t,e){return e+1<t.length&&u(t,e)}function h(t,e){return l(t,e)&&u(t,e)&&c(t,e)<=t.length-e}function p(t,e){if(f(t,e)){var r=s(t,e);if(e+r>=t.length)return!1;var n=c(t,e);if(n<=r)return!1;var o=e+n;return o===t.length||f(t,o)}return!1}function d(t,e,r,o,i){if(!t.samplerate){var u=a(e,r,o,i);if(!u)return;t.config=u.config,t.samplerate=u.samplerate,t.channelCount=u.channelCount,t.codec=u.codec,t.manifestCodec=u.manifestCodec,n.logger.log("parsed codec:"+t.codec+", rate:"+u.samplerate+", channels:"+u.channelCount)}}function y(t){return 9216e4/t}function v(t,e){var r=s(t,e);if(e+r<=t.length){var n=c(t,e)-r;if(n>0)return{headerLength:r,frameLength:n}}}function m(t,e,r,n,o){var i,a=n+o*y(t.samplerate),u=v(e,r);if(u){var s=u.frameLength,c=u.headerLength,l=c+s,f=Math.max(0,r+l-e.length);f?(i=new Uint8Array(l-c)).set(e.subarray(r+c,e.length),0):i=e.subarray(r+c,r+l);var h={unit:i,pts:a};return f||t.samples.push(h),{sample:h,length:l,missing:f}}var p=e.length-r;return(i=new Uint8Array(p)).set(e.subarray(r,e.length),0),{sample:{unit:i,pts:a},length:p,missing:-1}}},"./src/demux/base-audio-demuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"initPTSFn",(function(){return l}));var n=r("./src/polyfills/number.ts"),o=r("./src/demux/id3.ts"),i=r("./src/types/demuxer.ts"),a=r("./src/demux/dummy-demuxed-track.ts"),u=r("./src/utils/mp4-tools.ts"),s=r("./src/utils/typed-array.ts"),c=function(){function t(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null}var e=t.prototype;return e.resetInitSegment=function(t,e,r,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},e.resetTimeStamp=function(t){this.initPTS=t,this.resetContiguity()},e.resetContiguity=function(){this.basePTS=null,this.frameIndex=0},e.canParse=function(t,e){return!1},e.appendFrame=function(t,e,r){},e.demux=function(t,e){this.cachedData&&(t=Object(u.appendUint8Array)(this.cachedData,t),this.cachedData=null);var r,c,f=o.getID3Data(t,0),h=f?f.length:0,p=this._audioTrack,d=this._id3Track,y=f?o.getTimeStamp(f):void 0,v=t.length;for((null===this.basePTS||0===this.frameIndex&&Object(n.isFiniteNumber)(y))&&(this.basePTS=l(y,e,this.initPTS)),f&&f.length>0&&d.samples.push({pts:this.basePTS,dts:this.basePTS,data:f,type:i.MetadataSchema.audioId3}),c=this.basePTS;h<v;){if(this.canParse(t,h)){var m=this.appendFrame(p,t,h);m?(this.frameIndex++,c=m.sample.pts,r=h+=m.length):h=v}else o.canParse(t,h)?(f=o.getID3Data(t,h),d.samples.push({pts:c,dts:c,data:f,type:i.MetadataSchema.audioId3}),r=h+=f.length):h++;if(h===v&&r!==v){var g=Object(s.sliceUint8)(t,r);this.cachedData?this.cachedData=Object(u.appendUint8Array)(this.cachedData,g):this.cachedData=g}}return{audioTrack:p,videoTrack:Object(a.dummyTrack)(),id3Track:d,textTrack:Object(a.dummyTrack)()}},e.demuxSampleAes=function(t,e,r){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},e.flush=function(t){var e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:Object(a.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(a.dummyTrack)()}},e.destroy=function(){},t}(),l=function(t,e,r){return Object(n.isFiniteNumber)(t)?90*t:9e4*e+(r||0)};e.default=c},"./src/demux/chunk-cache.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(){this.chunks=[],this.dataLength=0}var e=t.prototype;return e.push=function(t){this.chunks.push(t),this.dataLength+=t.length},e.flush=function(){var t,e=this.chunks,r=this.dataLength;return e.length?(t=1===e.length?e[0]:function(t,e){for(var r=new Uint8Array(e),n=0,o=0;o<t.length;o++){var i=t[o];r.set(i,n),n+=i.length}return r}(e,r),this.reset(),t):new Uint8Array(0)},e.reset=function(){this.chunks.length=0,this.dataLength=0},t}()},"./src/demux/dummy-demuxed-track.ts":function(t,e,r){"use strict";function n(t,e){return void 0===t&&(t=""),void 0===e&&(e=9e4),{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}r.r(e),r.d(e,"dummyTrack",(function(){return n}))},"./src/demux/exp-golomb.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/utils/logger.ts"),o=function(){function t(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,r=t.byteLength-e,n=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");n.set(t.subarray(r,r+o)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),r=this.word>>>32-e;return t>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?r<<e|this.readBits(e):r},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){for(var e=8,r=8,n=0;n<t;n++)0!==r&&(r=(e+this.readEG()+256)%256),e=0===r?e:r},e.readSPS=function(){var t,e,r,n=0,o=0,i=0,a=0,u=this.readUByte.bind(this),s=this.readBits.bind(this),c=this.readUEG.bind(this),l=this.readBoolean.bind(this),f=this.skipBits.bind(this),h=this.skipEG.bind(this),p=this.skipUEG.bind(this),d=this.skipScalingList.bind(this);u();var y=u();if(s(5),f(3),u(),p(),100===y||110===y||122===y||244===y||44===y||83===y||86===y||118===y||128===y){var v=c();if(3===v&&f(1),p(),p(),f(1),l())for(e=3!==v?8:12,r=0;r<e;r++)l()&&d(r<6?16:64)}p();var m=c();if(0===m)c();else if(1===m)for(f(1),h(),h(),t=c(),r=0;r<t;r++)h();p(),f(1);var g=c(),b=c(),w=s(1);0===w&&f(1),f(1),l()&&(n=c(),o=c(),i=c(),a=c());var _=[1,1];if(l()&&l())switch(u()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[u()<<8|u(),u()<<8|u()]}return{width:Math.ceil(16*(g+1)-2*n-2*o),height:(2-w)*(b+1)*16-(w?2:4)*(i+a),pixelRatio:_}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();e.default=o},"./src/demux/id3.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"isHeader",(function(){return o})),r.d(e,"isFooter",(function(){return i})),r.d(e,"getID3Data",(function(){return a})),r.d(e,"canParse",(function(){return s})),r.d(e,"getTimeStamp",(function(){return c})),r.d(e,"isTimeStampFrame",(function(){return l})),r.d(e,"getID3Frames",(function(){return h})),r.d(e,"decodeFrame",(function(){return p})),r.d(e,"utf8ArrayToStr",(function(){return g})),r.d(e,"testables",(function(){return b}));var n,o=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},i=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},a=function(t,e){for(var r=e,n=0;o(t,e);)n+=10,n+=u(t,e+6),i(t,e+10)&&(n+=10),e+=n;if(n>0)return t.subarray(r,r+n)},u=function(t,e){var r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,r|=(127&t[e+2])<<7,r|=127&t[e+3]},s=function(t,e){return o(t,e)&&u(t,e+6)+10<=t.length-e},c=function(t){for(var e=h(t),r=0;r<e.length;r++){var n=e[r];if(l(n))return m(n)}},l=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},f=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=u(t,4);return{type:e,size:r,data:t.subarray(10,10+r)}},h=function(t){for(var e=0,r=[];o(t,e);){for(var n=u(t,e+6),a=(e+=10)+n;e+8<a;){var s=f(t.subarray(e)),c=p(s);c&&r.push(c),e+=s.size+10}i(t,e)&&(e+=10)}return r},p=function(t){return"PRIV"===t.type?d(t):"W"===t.type[0]?v(t):y(t)},d=function(t){if(!(t.size<2)){var e=g(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}},y=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,r=g(t.data.subarray(e),!0);e+=r.length+1;var n=g(t.data.subarray(e));return{key:t.type,info:r,data:n}}var o=g(t.data.subarray(1));return{key:t.type,data:o}}},v=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,r=g(t.data.subarray(e),!0);e+=r.length+1;var n=g(t.data.subarray(e));return{key:t.type,info:r,data:n}}var o=g(t.data);return{key:t.type,data:o}},m=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),r=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},g=function(t,e){void 0===e&&(e=!1);var r=w();if(r){var n=r.decode(t);if(e){var o=n.indexOf("\0");return-1!==o?n.substring(0,o):n}return n.replace(/\0/g,"")}for(var i,a,u,s=t.length,c="",l=0;l<s;){if(0===(i=t[l++])&&e)return c;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(i);break;case 12:case 13:a=t[l++],c+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=t[l++],u=t[l++],c+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&u)<<0)}}return c},b={decodeTextFrame:y};function w(){return n||"undefined"===typeof self.TextDecoder||(n=new self.TextDecoder("utf-8")),n}},"./src/demux/mp3demuxer.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/demux/base-audio-demuxer.ts"),o=r("./src/demux/id3.ts"),i=r("./src/utils/logger.ts"),a=r("./src/demux/mpegaudio.ts");function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}var s=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,u(e,r);var s=n.prototype;return s.resetInitSegment=function(e,r,n,o){t.prototype.resetInitSegment.call(this,e,r,n,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:o,inputTimeScale:9e4,dropped:0}},n.probe=function(t){if(!t)return!1;for(var e=(o.getID3Data(t,0)||[]).length,r=t.length;e<r;e++)if(a.probe(t,e))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},s.canParse=function(t,e){return a.canParse(t,e)},s.appendFrame=function(t,e,r){if(null!==this.basePTS)return a.appendFrame(t,e,r,this.basePTS,this.frameIndex)},n}(n.default);s.minProbeByteLength=4,e.default=s},"./src/demux/mp4demuxer.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),o=r("./src/types/demuxer.ts"),i=r("./src/utils/mp4-tools.ts"),a=r("./src/demux/dummy-demuxed-track.ts"),u=/\/emsg[-/]ID3/i,s=function(){function t(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}var e=t.prototype;return e.resetTimeStamp=function(){},e.resetInitSegment=function(t,e,r,n){var o=Object(i.parseInitSegment)(t),u=this.videoTrack=Object(a.dummyTrack)("video",1),s=this.audioTrack=Object(a.dummyTrack)("audio",1),c=this.txtTrack=Object(a.dummyTrack)("text",1);if(this.id3Track=Object(a.dummyTrack)("id3",1),this.timeOffset=0,o.video){var l=o.video,f=l.id,h=l.timescale,p=l.codec;u.id=f,u.timescale=c.timescale=h,u.codec=p}if(o.audio){var d=o.audio,y=d.id,v=d.timescale,m=d.codec;s.id=y,s.timescale=v,s.codec=m}c.id=i.RemuxerTrackIdConfig.text,u.sampleDuration=0,u.duration=s.duration=n},e.resetContiguity=function(){},t.probe=function(t){return t=t.length>16384?t.subarray(0,16384):t,Object(i.findBox)(t,["moof"]).length>0},e.demux=function(t,e){this.timeOffset=e;var r=t,n=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Object(i.appendUint8Array)(this.remainderData,t));var a=Object(i.segmentValidRange)(r);this.remainderData=a.remainder,n.samples=a.valid||new Uint8Array}else n.samples=r;var u=this.extractID3Track(n,e);return o.samples=Object(i.parseSamples)(e,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:u,textTrack:this.txtTrack}},e.flush=function(){var t=this.timeOffset,e=this.videoTrack,r=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;var n=this.extractID3Track(e,this.timeOffset);return r.samples=Object(i.parseSamples)(t,e),{videoTrack:e,audioTrack:Object(a.dummyTrack)(),id3Track:n,textTrack:Object(a.dummyTrack)()}},e.extractID3Track=function(t,e){var r=this.id3Track;if(t.samples.length){var a=Object(i.findBox)(t.samples,["emsg"]);a&&a.forEach((function(t){var a=Object(i.parseEmsg)(t);if(u.test(a.schemeIdUri)){var s=Object(n.isFiniteNumber)(a.presentationTime)?a.presentationTime/a.timeScale:e+a.presentationTimeDelta/a.timeScale,c=a.payload;r.samples.push({data:c,len:c.byteLength,dts:s,pts:s,type:o.MetadataSchema.emsg})}}))}return r},e.demuxSampleAes=function(t,e,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},e.destroy=function(){},t}();s.minProbeByteLength=1024,e.default=s},"./src/demux/mpegaudio.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"appendFrame",(function(){return s})),r.d(e,"parseHeader",(function(){return c})),r.d(e,"isHeaderPattern",(function(){return l})),r.d(e,"isHeader",(function(){return f})),r.d(e,"canParse",(function(){return h})),r.d(e,"probe",(function(){return p}));var n=null,o=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],i=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],a=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],u=[0,1,1,4];function s(t,e,r,n,o){if(!(r+24>e.length)){var i=c(e,r);if(i&&r+i.frameLength<=e.length){var a=n+o*(9e4*i.samplesPerFrame/i.sampleRate),u={unit:e.subarray(r,r+i.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=i.channelCount,t.samplerate=i.sampleRate,t.samples.push(u),{sample:u,length:i.frameLength,missing:0}}}}function c(t,e){var r=t[e+1]>>3&3,s=t[e+1]>>1&3,c=t[e+2]>>4&15,l=t[e+2]>>2&3;if(1!==r&&0!==c&&15!==c&&3!==l){var f=t[e+2]>>1&1,h=t[e+3]>>6,p=1e3*o[14*(3===r?3-s:3===s?3:4)+c-1],d=i[3*(3===r?0:2===r?1:2)+l],y=3===h?1:2,v=a[r][s],m=u[s],g=8*v*m,b=Math.floor(v*p/d+f)*m;if(null===n){var w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);n=w?parseInt(w[1]):0}return!!n&&n<=87&&2===s&&p>=224e3&&0===h&&(t[e+3]=128|t[e+3]),{sampleRate:d,channelCount:y,frameLength:b,samplesPerFrame:g}}}function l(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])}function f(t,e){return e+1<t.length&&l(t,e)}function h(t,e){return l(t,e)&&4<=t.length-e}function p(t,e){if(e+1<t.length&&l(t,e)){var r=c(t,e),n=4;null!==r&&void 0!==r&&r.frameLength&&(n=r.frameLength);var o=e+n;return o===t.length||f(t,o)}return!1}},"./src/demux/sample-aes.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/crypt/decrypter.ts"),o=r("./src/demux/tsdemuxer.ts"),i=function(){function t(t,e,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new n.default(t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,e)},e.decryptAacSample=function(t,e,r,n){var o=t[e].unit;if(!(o.length<=16)){var i=o.subarray(16,o.length-o.length%16),a=i.buffer.slice(i.byteOffset,i.byteOffset+i.length),u=this;this.decryptBuffer(a,(function(i){var a=new Uint8Array(i);o.set(a,16),n||u.decryptAacSamples(t,e+1,r)}))}},e.decryptAacSamples=function(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(t,e,r,n),!n)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e),n=0,o=32;o<t.length-16;o+=160,n+=16)r.set(t.subarray(o,o+16),n);return r},e.getAvcDecryptedUnit=function(t,e){for(var r=new Uint8Array(e),n=0,o=32;o<t.length-16;o+=160,n+=16)t.set(r.subarray(n,n+16),o);return t},e.decryptAvcSample=function(t,e,r,n,i,a){var u=Object(o.discardEPB)(i.data),s=this.getAvcEncryptedData(u),c=this;this.decryptBuffer(s.buffer,(function(o){i.data=c.getAvcDecryptedUnit(u,o),a||c.decryptAvcSamples(t,e,r+1,n)}))},e.decryptAvcSamples=function(t,e,r,n){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,r=0){if(e>=t.length)return void n();for(var o=t[e].units;!(r>=o.length);r++){var i=o[r];if(!(i.data.length<=48||1!==i.type&&5!==i.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,r,n,i,a),!a)return}}}},t}();e.default=i},"./src/demux/transmuxer-interface.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return f}));var n=r("./node_modules/webworkify-webpack/index.js"),o=r("./src/events.ts"),i=r("./src/demux/transmuxer.ts"),a=r("./src/utils/logger.ts"),u=r("./src/errors.ts"),s=r("./src/utils/mediasource-helper.ts"),c=r("./node_modules/eventemitter3/index.js"),l=Object(s.getMediaSource)()||{isTypeSupported:function(){return!1}},f=function(){function t(t,e,r,s){var f=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=t,this.id=e,this.onTransmuxComplete=r,this.onFlush=s;var h=t.config,p=function(e,r){(r=r||{}).frag=f.frag,r.id=f.id,t.trigger(e,r)};this.observer=new c.EventEmitter,this.observer.on(o.Events.FRAG_DECRYPTED,p),this.observer.on(o.Events.ERROR,p);var d={mp4:l.isTypeSupported("video/mp4"),mpeg:l.isTypeSupported("audio/mpeg"),mp3:l.isTypeSupported('audio/mp4; codecs="mp3"')},y=navigator.vendor;if(h.enableWorker&&"undefined"!==typeof Worker){var v;a.logger.log("demuxing in webworker");try{v=this.worker=n("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),v.addEventListener("message",this.onwmsg),v.onerror=function(e){t.trigger(o.Events.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(e.message+"  ("+e.filename+":"+e.lineno+")")})},v.postMessage({cmd:"init",typeSupported:d,vendor:y,id:e,config:JSON.stringify(h)})}catch(m){a.logger.warn("Error in worker:",m),a.logger.error("Error while initializing DemuxerWorker, fallback to inline"),v&&self.URL.revokeObjectURL(v.objectURL),this.transmuxer=new i.default(this.observer,d,h,y,e),this.worker=null}}else this.transmuxer=new i.default(this.observer,d,h,y,e)}var e=t.prototype;return e.destroy=function(){var t=this.worker;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.worker=null,this.onwmsg=void 0;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var r=this.observer;r&&r.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},e.push=function(t,e,r,n,o,u,s,c,l,f){var h,p,d=this;l.transmuxing.start=self.performance.now();var y=this.transmuxer,v=this.worker,m=u?u.start:o.start,g=o.decryptdata,b=this.frag,w=!(b&&o.cc===b.cc),_=!(b&&l.level===b.level),E=b?l.sn-b.sn:-1,O=this.part?l.part-this.part.index:-1,S=0===E&&l.id>1&&l.id===(null===b||void 0===b?void 0:b.stats.chunkCount),x=!_&&(1===E||0===E&&(1===O||S&&O<=0)),k=self.performance.now();(_||E||0===o.stats.parsing.start)&&(o.stats.parsing.start=k),!u||!O&&x||(u.stats.parsing.start=k);var j=!(b&&(null===(h=o.initSegment)||void 0===h?void 0:h.url)===(null===(p=b.initSegment)||void 0===p?void 0:p.url)),T=new i.TransmuxState(w,x,c,_,m,j);if(!x||w||j){a.logger.log("[transmuxer-interface, "+o.type+"]: Starting new transmux session for sn: "+l.sn+" p: "+l.part+" level: "+l.level+" id: "+l.id+"\n        discontinuity: "+w+"\n        trackSwitch: "+_+"\n        contiguous: "+x+"\n        accurateTimeOffset: "+c+"\n        timeOffset: "+m+"\n        initSegmentChange: "+j);var L=new i.TransmuxConfig(r,n,e,s,f);this.configureTransmuxer(L)}if(this.frag=o,this.part=u,v)v.postMessage({cmd:"demux",data:t,decryptdata:g,chunkMeta:l,state:T},t instanceof ArrayBuffer?[t]:[]);else if(y){var P=y.push(t,g,l,T);Object(i.isPromise)(P)?P.then((function(t){d.handleTransmuxComplete(t)})):this.handleTransmuxComplete(P)}},e.flush=function(t){var e=this;t.transmuxing.start=self.performance.now();var r=this.transmuxer,n=this.worker;if(n)n.postMessage({cmd:"flush",chunkMeta:t});else if(r){var o=r.flush(t);Object(i.isPromise)(o)?o.then((function(r){e.handleFlushResult(r,t)})):this.handleFlushResult(o,t)}},e.handleFlushResult=function(t,e){var r=this;t.forEach((function(t){r.handleTransmuxComplete(t)})),this.onFlush(e)},e.onWorkerMessage=function(t){var e=t.data,r=this.hls;switch(e.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":a.logger[e.data.logType]&&a.logger[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data)}},e.configureTransmuxer=function(t){var e=this.worker,r=this.transmuxer;e?e.postMessage({cmd:"configure",config:t}):r&&r.configure(t)},e.handleTransmuxComplete=function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)},t}()},"./src/demux/transmuxer-worker.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return u}));var n=r("./src/demux/transmuxer.ts"),o=r("./src/events.ts"),i=r("./src/utils/logger.ts"),a=r("./node_modules/eventemitter3/index.js");function u(t){var e=new a.EventEmitter,r=function(e,r){t.postMessage({event:e,data:r})};e.on(o.Events.FRAG_DECRYPTED,r),e.on(o.Events.ERROR,r),t.addEventListener("message",(function(o){var a=o.data;switch(a.cmd){case"init":var u=JSON.parse(a.config);t.transmuxer=new n.default(e,a.typeSupported,u,a.vendor,a.id),Object(i.enableLogs)(u.debug),function(){var t=function(t){i.logger[t]=function(e){r("workerLog",{logType:t,message:e})}};for(var e in i.logger)t(e)}(),r("init",null);break;case"configure":t.transmuxer.configure(a.config);break;case"demux":var c=t.transmuxer.push(a.data,a.decryptdata,a.chunkMeta,a.state);Object(n.isPromise)(c)?c.then((function(e){s(t,e)})):s(t,c);break;case"flush":var f=a.chunkMeta,h=t.transmuxer.flush(f);Object(n.isPromise)(h)?h.then((function(e){l(t,e,f)})):l(t,h,f)}}))}function s(t,e){if(!(r=e.remuxResult).audio&&!r.video&&!r.text&&!r.id3&&!r.initSegment)return!1;var r,n=[],o=e.remuxResult,i=o.audio,a=o.video;return i&&c(n,i),a&&c(n,a),t.postMessage({event:"transmuxComplete",data:e},n),!0}function c(t,e){e.data1&&t.push(e.data1.buffer),e.data2&&t.push(e.data2.buffer)}function l(t,e,r){e.reduce((function(e,r){return s(t,r)||e}),!1)||t.postMessage({event:"transmuxComplete",data:e[0]}),t.postMessage({event:"flush",data:r})}},"./src/demux/transmuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return g})),r.d(e,"isPromise",(function(){return w})),r.d(e,"TransmuxConfig",(function(){return _})),r.d(e,"TransmuxState",(function(){return E}));var n,o=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/crypt/decrypter.ts"),u=r("./src/demux/aacdemuxer.ts"),s=r("./src/demux/mp4demuxer.ts"),c=r("./src/demux/tsdemuxer.ts"),l=r("./src/demux/mp3demuxer.ts"),f=r("./src/remux/mp4-remuxer.ts"),h=r("./src/remux/passthrough-remuxer.ts"),p=r("./src/demux/chunk-cache.ts"),d=r("./src/utils/mp4-tools.ts"),y=r("./src/utils/logger.ts");try{n=self.performance.now.bind(self.performance)}catch(O){y.logger.debug("Unable to use Performance API on this environment"),n=self.Date.now}var v=[{demux:c.default,remux:f.default},{demux:s.default,remux:h.default},{demux:u.default,remux:f.default},{demux:l.default,remux:f.default}],m=1024;v.forEach((function(t){var e=t.demux;m=Math.max(m,e.minProbeByteLength)}));var g=function(){function t(t,e,r,n,o){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new p.default,this.observer=t,this.typeSupported=e,this.config=r,this.vendor=n,this.id=o}var e=t.prototype;return e.configure=function(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()},e.push=function(t,e,r,o){var i=this,a=r.transmuxing;a.executeStart=n();var u=new Uint8Array(t),s=this.cache,c=this.config,l=this.currentTransmuxState,f=this.transmuxConfig;o&&(this.currentTransmuxState=o);var h=function(t,e){var r=null;return t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(r=e),r}(u,e);if(h&&"AES-128"===h.method){var p=this.getDecrypter();if(!c.enableSoftwareAES)return this.decryptionPromise=p.webCryptoDecrypt(u,h.key.buffer,h.iv.buffer).then((function(t){var e=i.push(t,null,r);return i.decryptionPromise=null,e})),this.decryptionPromise;var y=p.softwareDecrypt(u,h.key.buffer,h.iv.buffer);if(!y)return a.executeEnd=n(),b(r);u=new Uint8Array(y)}var v=o||l,m=v.contiguous,g=v.discontinuity,w=v.trackSwitch,_=v.accurateTimeOffset,E=v.timeOffset,O=v.initSegmentChange,S=f.audioCodec,x=f.videoCodec,k=f.defaultInitPts,j=f.duration,T=f.initSegmentData;if((g||w||O)&&this.resetInitSegment(T,S,x,j),(g||O)&&this.resetInitialTimestamp(k),m||this.resetContiguity(),this.needsProbing(u,g,w)){if(s.dataLength){var L=s.flush();u=Object(d.appendUint8Array)(L,u)}this.configureTransmuxer(u,f)}var P=this.transmux(u,h,E,_,r),A=this.currentTransmuxState;return A.contiguous=!0,A.discontinuity=!1,A.trackSwitch=!1,a.executeEnd=n(),P},e.flush=function(t){var e=this,r=t.transmuxing;r.executeStart=n();var a=this.decrypter,u=this.cache,s=this.currentTransmuxState,c=this.decryptionPromise;if(c)return c.then((function(){return e.flush(t)}));var l=[],f=s.timeOffset;if(a){var h=a.flush();h&&l.push(this.push(h,null,t))}var p=u.dataLength;u.reset();var d=this.demuxer,y=this.remuxer;if(!d||!y)return p>=m&&this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),r.executeEnd=n(),[b(t)];var v=d.flush(f);return w(v)?v.then((function(r){return e.flushRemux(l,r,t),l})):(this.flushRemux(l,v,t),l)},e.flushRemux=function(t,e,r){var o=e.audioTrack,i=e.videoTrack,a=e.id3Track,u=e.textTrack,s=this.currentTransmuxState,c=s.accurateTimeOffset,l=s.timeOffset;y.logger.log("[transmuxer.ts]: Flushed fragment "+r.sn+(r.part>-1?" p: "+r.part:"")+" of level "+r.level);var f=this.remuxer.remux(o,i,a,u,l,c,!0,this.id);t.push({remuxResult:f,chunkMeta:r}),r.transmuxing.executeEnd=n()},e.resetInitialTimestamp=function(t){var e=this.demuxer,r=this.remuxer;e&&r&&(e.resetTimeStamp(t),r.resetTimeStamp(t))},e.resetContiguity=function(){var t=this.demuxer,e=this.remuxer;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())},e.resetInitSegment=function(t,e,r,n){var o=this.demuxer,i=this.remuxer;o&&i&&(o.resetInitSegment(t,e,r,n),i.resetInitSegment(t,e,r))},e.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},e.transmux=function(t,e,r,n,o){return e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,r,n,o):this.transmuxUnencrypted(t,r,n,o)},e.transmuxUnencrypted=function(t,e,r,n){var o=this.demuxer.demux(t,e,!1,!this.config.progressive),i=o.audioTrack,a=o.videoTrack,u=o.id3Track,s=o.textTrack;return{remuxResult:this.remuxer.remux(i,a,u,s,e,r,!1,this.id),chunkMeta:n}},e.transmuxSampleAes=function(t,e,r,n,o){var i=this;return this.demuxer.demuxSampleAes(t,e,r).then((function(t){return{remuxResult:i.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,r,n,!1,i.id),chunkMeta:o}}))},e.configureTransmuxer=function(t,e){for(var r,n=this.config,o=this.observer,i=this.typeSupported,a=this.vendor,u=e.audioCodec,c=e.defaultInitPts,l=e.duration,f=e.initSegmentData,p=e.videoCodec,d=0,m=v.length;d<m;d++)if(v[d].demux.probe(t)){r=v[d];break}r||(y.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),r={demux:s.default,remux:h.default});var g=this.demuxer,b=this.remuxer,w=r.remux,_=r.demux;b&&b instanceof w||(this.remuxer=new w(o,n,i,a)),g&&g instanceof _||(this.demuxer=new _(o,n,i),this.probe=_.probe),this.resetInitSegment(f,u,p,l),this.resetInitialTimestamp(c)},e.needsProbing=function(t,e,r){return!this.demuxer||!this.remuxer||e||r},e.getDecrypter=function(){var t=this.decrypter;return t||(t=this.decrypter=new a.default(this.observer,this.config)),t},t}(),b=function(t){return{remuxResult:{},chunkMeta:t}};function w(t){return"then"in t&&t.then instanceof Function}var _=function(t,e,r,n,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=r,this.duration=n,this.defaultInitPts=o},E=function(t,e,r,n,o,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=r,this.trackSwitch=n,this.timeOffset=o,this.initSegmentChange=i}},"./src/demux/tsdemuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"discardEPB",(function(){return b}));var n=r("./src/demux/adts.ts"),o=r("./src/demux/mpegaudio.ts"),i=r("./src/demux/exp-golomb.ts"),a=r("./src/demux/sample-aes.ts"),u=r("./src/events.ts"),s=r("./src/utils/mp4-tools.ts"),c=r("./src/utils/logger.ts"),l=r("./src/errors.ts"),f=r("./src/types/demuxer.ts");function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h.apply(this,arguments)}var p=function(){function t(t,e,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=e,this.typeSupported=r}t.probe=function(e){var r=t.syncOffset(e);return!(r<0)&&(r&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},t.syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),r=0;r<e;){if(71===t[r]&&71===t[r+188]&&71===t[r+376])return r;r++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:s.RemuxerTrackIdConfig[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}};var e=t.prototype;return e.resetInitSegment=function(e,r,n,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video"),this._audioTrack=t.createTrack("audio",o),this._id3Track=t.createTrack("id3"),this._txtTrack=t.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=n,this._duration=o},e.resetTimeStamp=function(){},e.resetContiguity=function(){var t=this._audioTrack,e=this._avcTrack,r=this._id3Track;t&&(t.pesData=null),e&&(e.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null},e.demux=function(e,r,n,o){var i;void 0===n&&(n=!1),void 0===o&&(o=!1),n||(this.sampleAes=null);var a=this._avcTrack,f=this._audioTrack,h=this._id3Track,p=this._txtTrack,d=a.pid,g=a.pesData,b=f.pid,w=h.pid,_=f.pesData,E=h.pesData,O=!1,S=this.pmtParsed,x=this._pmtId,k=e.length;if(this.remainderData&&(k=(e=Object(s.appendUint8Array)(this.remainderData,e)).length,this.remainderData=null),k<188&&!o)return this.remainderData=e,{audioTrack:f,videoTrack:a,id3Track:h,textTrack:p};var j=Math.max(0,t.syncOffset(e));(k-=(k+j)%188)<e.byteLength&&!o&&(this.remainderData=new Uint8Array(e.buffer,k,e.buffer.byteLength-k));for(var T=0,L=j;L<k;L+=188)if(71===e[L]){var P=!!(64&e[L+1]),A=((31&e[L+1])<<8)+e[L+2],C=void 0;if((48&e[L+3])>>4>1){if((C=L+5+e[L+4])===L+188)continue}else C=L+4;switch(A){case d:P&&(g&&(i=m(g))&&this.parseAVCPES(a,p,i,!1),g={data:[],size:0}),g&&(g.data.push(e.subarray(C,L+188)),g.size+=L+188-C);break;case b:if(P){if(_&&(i=m(_)))switch(f.segmentCodec){case"aac":this.parseAACPES(f,i);break;case"mp3":this.parseMPEGPES(f,i)}_={data:[],size:0}}_&&(_.data.push(e.subarray(C,L+188)),_.size+=L+188-C);break;case w:P&&(E&&(i=m(E))&&this.parseID3PES(h,i),E={data:[],size:0}),E&&(E.data.push(e.subarray(C,L+188)),E.size+=L+188-C);break;case 0:P&&(C+=e[C]+1),x=this._pmtId=y(e,C);break;case x:P&&(C+=e[C]+1);var I=v(e,C,this.typeSupported,n);(d=I.avc)>0&&(a.pid=d),(b=I.audio)>0&&(f.pid=b,f.segmentCodec=I.segmentCodec),(w=I.id3)>0&&(h.pid=w),O&&!S&&(c.logger.log("reparse from beginning"),O=!1,L=j-188),S=this.pmtParsed=!0;break;case 17:case 8191:break;default:O=!0}}else T++;T>0&&this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+T+" TS packet/s that do not start with 0x47"}),a.pesData=g,f.pesData=_,h.pesData=E;var R={audioTrack:f,videoTrack:a,id3Track:h,textTrack:p};return o&&this.extractRemainingSamples(R),R},e.flush=function(){var t,e=this.remainderData;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t},e.extractRemainingSamples=function(t){var e,r=t.audioTrack,n=t.videoTrack,o=t.id3Track,i=t.textTrack,a=n.pesData,u=r.pesData,s=o.pesData;if(a&&(e=m(a))?(this.parseAVCPES(n,i,e,!0),n.pesData=null):n.pesData=a,u&&(e=m(u))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,e);break;case"mp3":this.parseMPEGPES(r,e)}r.pesData=null}else null!==u&&void 0!==u&&u.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=u;s&&(e=m(s))?(this.parseID3PES(o,e),o.pesData=null):o.pesData=s},e.demuxSampleAes=function(t,e,r){var n=this.demux(t,r,!0,!this.config.progressive),o=this.sampleAes=new a.default(this.observer,this.config,e);return this.decrypt(n,o)},e.decrypt=function(t,e){return new Promise((function(r){var n=t.audioTrack,o=t.videoTrack;n.samples&&"aac"===n.segmentCodec?e.decryptAacSamples(n.samples,0,(function(){o.samples?e.decryptAvcSamples(o.samples,0,0,(function(){r(t)})):r(t)})):o.samples&&e.decryptAvcSamples(o.samples,0,0,(function(){r(t)}))}))},e.destroy=function(){this._duration=0},e.parseAVCPES=function(t,e,r,n){var o,a=this,u=this.parseAVCNALu(t,r.data),c=this.avcSample,l=!1;r.data=null,c&&u.length&&!t.audFound&&(g(c,t),c=this.avcSample=d(!1,r.pts,r.dts,"")),u.forEach((function(n){switch(n.type){case 1:o=!0,c||(c=a.avcSample=d(!0,r.pts,r.dts,"")),c.frame=!0;var u=n.data;if(l&&u.length>4){var f=new i.default(u).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(c.key=!0)}break;case 5:o=!0,c||(c=a.avcSample=d(!0,r.pts,r.dts,"")),c.key=!0,c.frame=!0;break;case 6:o=!0,Object(s.parseSEIMessageFromNALu)(b(n.data),r.pts,e.samples);break;case 7:if(o=!0,l=!0,!t.sps){var h=new i.default(n.data).readSPS();t.width=h.width,t.height=h.height,t.pixelRatio=h.pixelRatio,t.sps=[n.data],t.duration=a._duration;for(var p=n.data.subarray(1,4),y="avc1.",v=0;v<3;v++){var m=p[v].toString(16);m.length<2&&(m="0"+m),y+=m}t.codec=y}break;case 8:o=!0,t.pps||(t.pps=[n.data]);break;case 9:o=!1,t.audFound=!0,c&&g(c,t),c=a.avcSample=d(!1,r.pts,r.dts,"");break;case 12:o=!0;break;default:o=!1,c&&(c.debug+="unknown NAL "+n.type+" ")}c&&o&&c.units.push(n)})),n&&c&&(g(c,t),this.avcSample=null)},e.getLastNalUnit=function(t){var e,r,n=this.avcSample;if(n&&0!==n.units.length||(n=t[t.length-1]),null!==(e=n)&&void 0!==e&&e.units){var o=n.units;r=o[o.length-1]}return r},e.parseAVCNALu=function(t,e){var r,n,o=e.byteLength,i=t.naluState||0,a=i,u=[],s=0,c=-1,l=0;for(-1===i&&(c=0,l=31&e[0],i=0,s=1);s<o;)if(r=e[s++],i)if(1!==i)if(r)if(1===r){if(c>=0){var f={data:e.subarray(c,s-i-1),type:l};u.push(f)}else{var h=this.getLastNalUnit(t.samples);if(h&&(a&&s<=4-a&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-a)),(n=s-i-1)>0)){var p=new Uint8Array(h.data.byteLength+n);p.set(h.data,0),p.set(e.subarray(0,n),h.data.byteLength),h.data=p,h.state=0}}s<o?(c=s,l=31&e[s],i=0):i=-1}else i=0;else i=3;else i=r?0:2;else i=r?0:1;if(c>=0&&i>=0){var d={data:e.subarray(c,o),type:l,state:i};u.push(d)}if(0===u.length){var y=this.getLastNalUnit(t.samples);if(y){var v=new Uint8Array(y.data.byteLength+e.byteLength);v.set(y.data,0),v.set(e,y.data.byteLength),y.data=v}}return t.naluState=i,u},e.parseAACPES=function(t,e){var r,o,i,a,s,f=0,h=this.aacOverFlow,p=e.data;if(h){this.aacOverFlow=null;var d=h.missing,y=h.sample.unit.byteLength;if(-1===d){var v=new Uint8Array(y+p.byteLength);v.set(h.sample.unit,0),v.set(p,y),p=v}else{var m=y-d;h.sample.unit.set(p.subarray(0,d),m),t.samples.push(h.sample),f=h.missing}}for(r=f,o=p.length;r<o-1&&!n.isHeader(p,r);r++);if(r===f||(r<o-1?(i="AAC PES did not start with ADTS header,offset:"+r,a=!1):(i="no ADTS header found in AAC PES",a=!0),c.logger.warn("parsing error:"+i),this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:a,reason:i}),!a)){if(n.initTrackConfig(t,this.observer,p,r,this.audioCodec),void 0!==e.pts)s=e.pts;else{if(!h)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var g=n.getFrameDuration(t.samplerate);s=h.sample.pts+g}for(var b,w=0;r<o;){if(r+=(b=n.appendFrame(t,p,r,s,w)).length,b.missing){this.aacOverFlow=b;break}for(w++;r<o-1&&!n.isHeader(p,r);r++);}}},e.parseMPEGPES=function(t,e){var r=e.data,n=r.length,i=0,a=0,u=e.pts;if(void 0!==u)for(;a<n;)if(o.isHeader(r,a)){var s=o.appendFrame(t,r,a,u,i);if(!s)break;a+=s.length,i++}else a++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},e.parseID3PES=function(t,e){if(void 0!==e.pts){var r=h({},e,{type:this._avcTrack?f.MetadataSchema.emsg:f.MetadataSchema.audioId3});t.samples.push(r)}else c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},t}();function d(t,e,r,n){return{key:t,frame:!1,pts:e,dts:r,units:[],debug:n,length:0}}function y(t,e){return(31&t[e+10])<<8|t[e+11]}function v(t,e,r,n){var o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},i=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<i;){var a=(31&t[e+1])<<8|t[e+2];switch(t[e]){case 207:if(!n){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!n){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:!0!==r.mpeg&&!0!==r.mp3?c.logger.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=a,o.segmentCodec="mp3");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}e+=5+((15&t[e+3])<<8|t[e+4])}return o}function m(t){var e,r,n,o,i,a=0,u=t.data;if(!t||0===t.size)return null;for(;u[0].length<19&&u.length>1;){var s=new Uint8Array(u[0].length+u[1].length);s.set(u[0]),s.set(u[1],u[0].length),u[0]=s,u.splice(1,1)}if(1===((e=u[0])[0]<<16)+(e[1]<<8)+e[2]){if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;var l=e[7];192&l&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&l?o-(i=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(c.logger.warn(Math.round((o-i)/9e4)+"s delta between PTS and DTS, align them"),o=i):i=o);var f=(n=e[8])+9;if(t.size<=f)return null;t.size-=f;for(var h=new Uint8Array(t.size),p=0,d=u.length;p<d;p++){var y=(e=u[p]).byteLength;if(f){if(f>y){f-=y;continue}e=e.subarray(f),y-=f,f=0}h.set(e,a),a+=y}return r&&(r-=n+3),{data:h,pts:o,dts:i,len:r}}return null}function g(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){var r=e.samples,n=r.length;if(!n)return void e.dropped++;var o=r[n-1];t.pts=o.pts,t.dts=o.dts}e.samples.push(t)}t.debug.length&&c.logger.log(t.pts+"/"+t.dts+":"+t.debug)}function b(t){for(var e=t.byteLength,r=[],n=1;n<e-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(r.push(n+2),n+=2):n++;if(0===r.length)return t;var o=e-r.length,i=new Uint8Array(o),a=0;for(n=0;n<o;a++,n++)a===r[0]&&(a++,r.shift()),i[n]=t[a];return i}p.minProbeByteLength=188,e.default=p},"./src/errors.ts":function(t,e,r){"use strict";var n,o;r.r(e),r.d(e,"ErrorTypes",(function(){return n})),r.d(e,"ErrorDetails",(function(){return o})),function(t){t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError"}(n||(n={})),function(t){t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown"}(o||(o={}))},"./src/events.ts":function(t,e,r){"use strict";var n;r.r(e),r.d(e,"Events",(function(){return n})),function(t){t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached"}(n||(n={}))},"./src/hls.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return g}));var n=r("./node_modules/url-toolkit/src/url-toolkit.js"),o=r("./src/loader/playlist-loader.ts"),i=r("./src/loader/key-loader.ts"),a=r("./src/controller/id3-track-controller.ts"),u=r("./src/controller/latency-controller.ts"),s=r("./src/controller/level-controller.ts"),c=r("./src/controller/fragment-tracker.ts"),l=r("./src/controller/stream-controller.ts"),f=r("./src/is-supported.ts"),h=r("./src/utils/logger.ts"),p=r("./src/config.ts"),d=r("./node_modules/eventemitter3/index.js"),y=r("./src/events.ts"),v=r("./src/errors.ts");function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(e){void 0===e&&(e={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new d.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var r=this.config=Object(p.mergeConfig)(t.DefaultConfig,e);this.userConfig=e,Object(h.enableLogs)(r.debug),this._autoLevelCapping=-1,r.progressive&&Object(p.enableStreamingMode)(r);var n=r.abrController,f=r.bufferController,y=r.capLevelController,v=r.fpsController,m=this.abrController=new n(this),g=this.bufferController=new f(this),b=this.capLevelController=new y(this),w=new v(this),_=new o.default(this),E=new i.default(this),O=new a.default(this),S=this.levelController=new s.default(this),x=new c.FragmentTracker(this),k=this.streamController=new l.default(this,x);b.setStreamController(k),w.setStreamController(k);var j=[S,k];this.networkControllers=j;var T=[_,E,m,g,b,w,O,x];this.audioTrackController=this.createController(r.audioTrackController,null,j),this.createController(r.audioStreamController,x,j),this.subtitleTrackController=this.createController(r.subtitleTrackController,null,j),this.createController(r.subtitleStreamController,x,j),this.createController(r.timelineController,null,T),this.emeController=this.createController(r.emeController,null,T),this.cmcdController=this.createController(r.cmcdController,null,T),this.latencyController=this.createController(u.default,null,T),this.coreComponents=T}t.isSupported=function(){return Object(f.isSupported)()};var e,r,g,b=t.prototype;return b.createController=function(t,e,r){if(t){var n=e?new t(this,e):new t(this);return r&&r.push(n),n}return null},b.on=function(t,e,r){void 0===r&&(r=this),this._emitter.on(t,e,r)},b.once=function(t,e,r){void 0===r&&(r=this),this._emitter.once(t,e,r)},b.removeAllListeners=function(t){this._emitter.removeAllListeners(t)},b.off=function(t,e,r,n){void 0===r&&(r=this),this._emitter.off(t,e,r,n)},b.listeners=function(t){return this._emitter.listeners(t)},b.emit=function(t,e,r){return this._emitter.emit(t,e,r)},b.trigger=function(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(r){h.logger.error("An internal error happened while handling event "+t+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.trigger(y.Events.ERROR,{type:v.ErrorTypes.OTHER_ERROR,details:v.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,error:r})}return!1},b.listenerCount=function(t){return this._emitter.listenerCount(t)},b.destroy=function(){h.logger.log("destroy"),this.trigger(y.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(t){return t.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(t){return t.destroy()})),this.coreComponents.length=0},b.attachMedia=function(t){h.logger.log("attachMedia"),this._media=t,this.trigger(y.Events.MEDIA_ATTACHING,{media:t})},b.detachMedia=function(){h.logger.log("detachMedia"),this.trigger(y.Events.MEDIA_DETACHING,void 0),this._media=null},b.loadSource=function(t){this.stopLoad();var e=this.media,r=this.url,o=this.url=n.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});h.logger.log("loadSource:"+o),e&&r&&r!==o&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(e)),this.trigger(y.Events.MANIFEST_LOADING,{url:t})},b.startLoad=function(t){void 0===t&&(t=-1),h.logger.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},b.stopLoad=function(){h.logger.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},b.swapAudioCodec=function(){h.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},b.recoverMediaError=function(){h.logger.log("recoverMediaError");var t=this._media;this.detachMedia(),t&&this.attachMedia(t)},b.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},e=t,g=[{key:"version",get:function(){return"1.2.1"}},{key:"Events",get:function(){return y.Events}},{key:"ErrorTypes",get:function(){return v.ErrorTypes}},{key:"ErrorDetails",get:function(){return v.ErrorDetails}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:p.hlsDefaultConfig},set:function(e){t.defaultConfig=e}}],(r=[{key:"levels",get:function(){var t=this.levelController.levels;return t||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){h.logger.log("set currentLevel:"+t),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){h.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){h.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){h.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){h.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping!==t&&(h.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t)}},{key:"bandwidthEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var t=this.levels,e=this.config.minAutoBitrate;if(!t)return 0;for(var r=t.length,n=0;n<r;n++)if(t[n].maxBitrate>=e)return n;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(t){this.config.lowLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&m(e.prototype,r),g&&m(e,g),Object.defineProperty(e,"prototype",{writable:!1}),t}();g.defaultConfig=void 0},"./src/is-supported.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"isSupported",(function(){return i})),r.d(e,"changeTypeSupported",(function(){return a}));var n=r("./src/utils/mediasource-helper.ts");function o(){return self.SourceBuffer||self.WebKitSourceBuffer}function i(){var t=Object(n.getMediaSource)();if(!t)return!1;var e=o(),r=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!r&&!!i}function a(){var t,e=o();return"function"===typeof(null===e||void 0===e||null===(t=e.prototype)||void 0===t?void 0:t.changeType)}},"./src/loader/date-range.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"DateRangeAttribute",(function(){return n})),r.d(e,"DateRange",(function(){return c}));var n,o=r("./src/polyfills/number.ts"),i=r("./src/utils/attr-list.ts"),a=r("./src/utils/logger.ts");function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(this,arguments)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}!function(t){t.ID="ID",t.CLASS="CLASS",t.START_DATE="START-DATE",t.DURATION="DURATION",t.END_DATE="END-DATE",t.END_ON_NEXT="END-ON-NEXT",t.PLANNED_DURATION="PLANNED-DURATION",t.SCTE35_OUT="SCTE35-OUT",t.SCTE35_IN="SCTE35-IN"}(n||(n={}));var c=function(){function t(t,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){var r=e.attr;for(var s in r)if(Object.prototype.hasOwnProperty.call(t,s)&&t[s]!==r[s]){a.logger.warn('DATERANGE tag attribute: "'+s+'" does not match for tags with ID: "'+t.ID+'"'),this._badValueForSameId=s;break}t=u(new i.AttrList({}),r,t)}if(this.attr=t,this._startDate=new Date(t[n.START_DATE]),n.END_DATE in this.attr){var c=new Date(this.attr[n.END_DATE]);Object(o.isFiniteNumber)(c.getTime())&&(this._endDate=c)}}var e,r,c;return e=t,(r=[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}},{key:"duration",get:function(){if(n.DURATION in this.attr){var t=this.attr.decimalFloatingPoint(n.DURATION);if(Object(o.isFiniteNumber)(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return n.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(n.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(n.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&Object(o.isFiniteNumber)(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}])&&s(e.prototype,r),c&&s(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./src/loader/fragment-loader.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return f})),r.d(e,"LoadError",(function(){return p}));var n=r("./src/polyfills/number.ts"),o=r("./src/errors.ts");function i(t){var e="function"===typeof Map?new Map:void 0;return i=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return a(t,arguments,c(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,t)},i(t)}function a(t,e,r){return a=u()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&s(o,r.prototype),o},a.apply(null,arguments)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var l=Math.pow(2,17),f=function(){function t(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}var e=t.prototype;return e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.abort=function(){this.loader&&this.loader.abort()},e.load=function(t,e){var r=this,n=t.url;if(!n)return Promise.reject(new p({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t,networkDetails:null},"Fragment does not have a "+(n?"part list":"url")));this.abort();var i=this.config,a=i.fLoader,u=i.loader;return new Promise((function(n,s){r.loader&&r.loader.destroy();var c=r.loader=t.loader=a?new a(i):new u(i),f=h(t),d={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout,highWaterMark:"initSegment"===t.sn?1/0:l};t.stats=c.stats,c.load(f,d,{onSuccess:function(e,o,i,a){r.resetLoader(t,c),n({frag:t,part:null,payload:e.data,networkDetails:a})},onError:function(e,n,i){r.resetLoader(t,c),s(new p({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:e,networkDetails:i}))},onAbort:function(e,n,i){r.resetLoader(t,c),s(new p({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:t,networkDetails:i}))},onTimeout:function(e,n,i){r.resetLoader(t,c),s(new p({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,networkDetails:i}))},onProgress:function(r,n,o,i){e&&e({frag:t,part:null,payload:o,networkDetails:i})}})}))},e.loadPart=function(t,e,r){var n=this;this.abort();var i=this.config,a=i.fLoader,u=i.loader;return new Promise((function(s,c){n.loader&&n.loader.destroy();var f=n.loader=t.loader=a?new a(i):new u(i),d=h(t,e),y={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout,highWaterMark:l};e.stats=f.stats,f.load(d,y,{onSuccess:function(o,i,a,u){n.resetLoader(t,f),n.updateStatsFromPart(t,e);var c={frag:t,part:e,payload:o.data,networkDetails:u};r(c),s(c)},onError:function(r,i,a){n.resetLoader(t,f),c(new p({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:r,networkDetails:a}))},onAbort:function(r,i,a){t.stats.aborted=e.stats.aborted,n.resetLoader(t,f),c(new p({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,networkDetails:a}))},onTimeout:function(r,i,a){n.resetLoader(t,f),c(new p({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,networkDetails:a}))}})}))},e.updateStatsFromPart=function(t,e){var r=t.stats,n=e.stats,o=n.total;if(r.loaded+=n.loaded,o){var i=Math.round(t.duration/e.duration),a=Math.min(Math.round(r.loaded/o),i),u=(i-a)*Math.round(r.loaded/a);r.total=r.loaded+u}else r.total=Math.max(r.loaded,r.total);var s=r.loading,c=n.loading;s.start?s.first+=c.first-c.start:(s.start=c.start,s.first=c.first),s.end=c.end},e.resetLoader=function(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()},t}();function h(t,e){void 0===e&&(e=null);var r=e||t,o={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,a=r.byteRangeEndOffset;return Object(n.isFiniteNumber)(i)&&Object(n.isFiniteNumber)(a)&&(o.rangeStart=i,o.rangeEnd=a),o}var p=function(t){var e,r;function n(e){for(var r,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return(r=t.call.apply(t,[this].concat(o))||this).data=void 0,r.data=e,r}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,s(e,r),n}(i(Error))},"./src/loader/fragment.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"ElementaryStreamTypes",(function(){return n})),r.d(e,"BaseSegment",(function(){return p})),r.d(e,"Fragment",(function(){return d})),r.d(e,"Part",(function(){return y}));var n,o=r("./src/polyfills/number.ts"),i=r("./node_modules/url-toolkit/src/url-toolkit.js"),a=r("./src/utils/logger.ts"),u=r("./src/loader/level-key.ts"),s=r("./src/loader/load-stats.ts");function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l(t,e)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}!function(t){t.AUDIO="audio",t.VIDEO="video",t.AUDIOVIDEO="audiovideo"}(n||(n={}));var p=function(){function t(t){var e;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((e={})[n.AUDIO]=null,e[n.VIDEO]=null,e[n.AUDIOVIDEO]=null,e),this.baseurl=t}return t.prototype.setByteRange=function(t,e){var r=t.split("@",2),n=[];1===r.length?n[0]=e?e.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},h(t,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(i.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(t){this._url=t}}]),t}(),d=function(t){function e(e,r){var n;return(n=t.call(this,r)||this)._decryptdata=null,n.rawProgramDateTime=null,n.programDateTime=null,n.tagList=[],n.duration=0,n.sn=0,n.levelkey=void 0,n.type=void 0,n.loader=null,n.level=-1,n.cc=0,n.startPTS=void 0,n.endPTS=void 0,n.appendedPTS=void 0,n.startDTS=void 0,n.endDTS=void 0,n.start=0,n.deltaPTS=void 0,n.maxStartPTS=void 0,n.minEndPTS=void 0,n.stats=new s.LoadStats,n.urlId=0,n.data=void 0,n.bitrateTest=!1,n.title=null,n.initSegment=null,n.type=e,n}c(e,t);var r=e.prototype;return r.createInitializationVector=function(t){for(var e=new Uint8Array(16),r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e},r.setDecryptDataFromLevelKey=function(t,e){var r=t;return"AES-128"===(null===t||void 0===t?void 0:t.method)&&t.uri&&!t.iv&&((r=u.LevelKey.fromURI(t.uri)).method=t.method,r.iv=this.createInitializationVector(e),r.keyFormat="identity"),r},r.setElementaryStreamInfo=function(t,e,r,n,o,i){void 0===i&&(i=!1);var a=this.elementaryStreams,u=a[t];u?(u.startPTS=Math.min(u.startPTS,e),u.endPTS=Math.max(u.endPTS,r),u.startDTS=Math.min(u.startDTS,n),u.endDTS=Math.max(u.endDTS,o)):a[t]={startPTS:e,endPTS:r,startDTS:n,endDTS:o,partial:i}},r.clearElementaryStreamInfo=function(){var t=this.elementaryStreams;t[n.AUDIO]=null,t[n.VIDEO]=null,t[n.AUDIOVIDEO]=null},h(e,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!==typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&a.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(o.isFiniteNumber)(this.programDateTime))return null;var t=Object(o.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;return!(null===(t=this.decryptdata)||void 0===t||!t.keyFormat||!this.decryptdata.uri)}}]),e}(p),y=function(t){function e(e,r,n,o,i){var a;(a=t.call(this,n)||this).fragOffset=0,a.duration=0,a.gap=!1,a.independent=!1,a.relurl=void 0,a.fragment=void 0,a.index=void 0,a.stats=new s.LoadStats,a.duration=e.decimalFloatingPoint("DURATION"),a.gap=e.bool("GAP"),a.independent=e.bool("INDEPENDENT"),a.relurl=e.enumeratedString("URI"),a.fragment=r,a.index=o;var u=e.enumeratedString("BYTERANGE");return u&&a.setByteRange(u,i),i&&(a.fragOffset=i.fragOffset+i.duration),a}return c(e,t),h(e,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var t=this.elementaryStreams;return!!(t.audio||t.video||t.audiovideo)}}]),e}(p)},"./src/loader/key-loader.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return a}));var n=r("./src/events.ts"),o=r("./src/errors.ts"),i=r("./src/utils/logger.ts"),a=function(){function t(t){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=t,this._registerListeners()}var e=t.prototype;return e._registerListeners=function(){this.hls.on(n.Events.KEY_LOADING,this.onKeyLoading,this)},e._unregisterListeners=function(){this.hls.off(n.Events.KEY_LOADING,this.onKeyLoading)},e.destroy=function(){for(var t in this._unregisterListeners(),this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={}},e.onKeyLoading=function(t,e){var r=e.frag,o=r.type,a=this.loaders[o];if(r.decryptdata){var u=r.decryptdata.uri;if(u!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;if(a&&(i.logger.warn("abort previous key loader for type:"+o),a.abort()),!u)return void i.logger.warn("key uri is falsy");var c=s.loader,l=r.loader=this.loaders[o]=new c(s);this.decrypturl=u,this.decryptkey=null;var f={url:u,frag:r,responseType:"arraybuffer"},h={timeout:s.fragLoadingTimeOut,maxRetry:0,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout,highWaterMark:0},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};l.load(f,h,p)}else this.decryptkey&&(r.decryptdata.key=this.decryptkey,this.hls.trigger(n.Events.KEY_LOADED,{frag:r}))}else i.logger.warn("Missing decryption data on fragment in onKeyLoading")},e.loadsuccess=function(t,e,r){var o=r.frag;o.decryptdata?(this.decryptkey=o.decryptdata.key=new Uint8Array(t.data),o.loader=null,delete this.loaders[o.type],this.hls.trigger(n.Events.KEY_LOADED,{frag:o})):i.logger.error("after key load, decryptdata unset")},e.loaderror=function(t,e){var r=e.frag,i=r.loader;i&&i.abort(),delete this.loaders[r.type],this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:t})},e.loadtimeout=function(t,e){var r=e.frag,i=r.loader;i&&i.abort(),delete this.loaders[r.type],this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},t}()},"./src/loader/level-details.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"LevelDetails",(function(){return i}));var n=r("./src/polyfills/number.ts");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function t(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.dateRanges={},this.url=t}var e,r,i;return t.prototype.reloaded=function(t){if(!t)return this.advanced=!0,void(this.updated=!0);var e=this.lastPartSn-t.lastPartSn,r=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!r||!!e,this.advanced=this.endSN>t.endSN||e>0||0===e&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay},e=t,(r=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(n.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var t;return null!==(t=this.fragments)&&void 0!==t&&t.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./src/loader/level-key.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"LevelKey",(function(){return i}));var n=r("./node_modules/url-toolkit/src/url-toolkit.js");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function t(t,e){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=e?Object(n.buildAbsoluteURL)(t,e,{alwaysNormalize:!0}):t}var e,r,i;return t.fromURL=function(e,r){return new t(e,r)},t.fromURI=function(e){return new t(e)},e=t,(r=[{key:"uri",get:function(){return this._uri}}])&&o(e.prototype,r),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./src/loader/load-stats.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"LoadStats",(function(){return n}));var n=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return m}));var n=r("./src/polyfills/number.ts"),o=r("./node_modules/url-toolkit/src/url-toolkit.js"),i=r("./src/loader/date-range.ts"),a=r("./src/loader/fragment.ts"),u=r("./src/loader/level-details.ts"),s=r("./src/loader/level-key.ts"),c=r("./src/utils/attr-list.ts"),l=r("./src/utils/logger.ts"),f=r("./src/utils/codecs.ts"),h=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,p=/#EXT-X-MEDIA:(.*)/g,d=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),y=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),v=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function t(){}return t.findGroup=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.id===e)return n}},t.convertAVC1ToAVCOTI=function(t){var e=t.split(".");if(e.length>2){var r=e.shift()+".";return r+=parseInt(e.shift()).toString(16),r+=("000"+parseInt(e.shift()).toString(16)).slice(-4)}return t},t.resolve=function(t,e){return o.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,r){var n,o=[],i={},a=!1;for(h.lastIndex=0;null!=(n=h.exec(e));)if(n[1]){var u=new c.AttrList(n[1]),s={attrs:u,bitrate:u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),name:u.NAME,url:t.resolve(n[2],r)},l=u.decimalResolution("RESOLUTION");l&&(s.width=l.width,s.height=l.height),g((u.CODECS||"").split(/[ ,]+/).filter((function(t){return t})),s),s.videoCodec&&-1!==s.videoCodec.indexOf("avc1")&&(s.videoCodec=t.convertAVC1ToAVCOTI(s.videoCodec)),o.push(s)}else if(n[3]){var f=new c.AttrList(n[3]);f["DATA-ID"]&&(a=!0,i[f["DATA-ID"]]=f)}return{levels:o,sessionData:a?i:null}},t.parseMasterPlaylistMedia=function(e,r,n,o){var i;void 0===o&&(o=[]);var a=[],u=0;for(p.lastIndex=0;null!==(i=p.exec(e));){var s=new c.AttrList(i[1]);if(s.TYPE===n){var l={attrs:s,bitrate:0,id:u++,groupId:s["GROUP-ID"],instreamId:s["INSTREAM-ID"],name:s.NAME||s.LANGUAGE||"",type:n,default:s.bool("DEFAULT"),autoselect:s.bool("AUTOSELECT"),forced:s.bool("FORCED"),lang:s.LANGUAGE,url:s.URI?t.resolve(s.URI,r):""};if(o.length){var f=t.findGroup(o,l.groupId)||o[0];b(l,f,"audioCodec"),b(l,f,"textCodec")}a.push(l)}}return a},t.parseLevelPlaylist=function(t,e,r,f,h){var p,m,g,b=new u.LevelDetails(e),E=b.fragments,O=null,S=0,x=0,k=0,j=0,T=null,L=new a.Fragment(f,e),P=-1,A=!1;for(d.lastIndex=0,b.m3u8=t;null!==(p=d.exec(t));){A&&(A=!1,(L=new a.Fragment(f,e)).start=k,L.sn=S,L.cc=j,L.level=r,O&&(L.initSegment=O,L.rawProgramDateTime=O.rawProgramDateTime,O.rawProgramDateTime=null));var C=p[1];if(C){L.duration=parseFloat(C);var I=(" "+p[2]).slice(1);L.title=I||null,L.tagList.push(I?["INF",C,I]:["INF",C])}else if(p[3])Object(n.isFiniteNumber)(L.duration)&&(L.start=k,g&&(L.levelkey=g),L.sn=S,L.level=r,L.cc=j,L.urlId=h,E.push(L),L.relurl=(" "+p[3]).slice(1),w(L,T),T=L,k+=L.duration,S++,x=0,A=!0);else if(p[4]){var R=(" "+p[4]).slice(1);T?L.setByteRange(R,T):L.setByteRange(R)}else if(p[5])L.rawProgramDateTime=(" "+p[5]).slice(1),L.tagList.push(["PROGRAM-DATE-TIME",L.rawProgramDateTime]),-1===P&&(P=E.length);else{if(!(p=p[0].match(y))){l.logger.warn("No matches on slow regex match for level playlist!");continue}for(m=1;m<p.length&&"undefined"===typeof p[m];m++);var D=(" "+p[m]).slice(1),N=(" "+p[m+1]).slice(1),F=p[m+2]?(" "+p[m+2]).slice(1):"";switch(D){case"PLAYLIST-TYPE":b.type=N.toUpperCase();break;case"MEDIA-SEQUENCE":S=b.startSN=parseInt(N);break;case"SKIP":var M=new c.AttrList(N),B=M.decimalInteger("SKIPPED-SEGMENTS");if(Object(n.isFiniteNumber)(B)){b.skippedSegments=B;for(var U=B;U--;)E.unshift(null);S+=B}var z=M.enumeratedString("RECENTLY-REMOVED-DATERANGES");z&&(b.recentlyRemovedDateranges=z.split("\t"));break;case"TARGETDURATION":b.targetduration=parseFloat(N);break;case"VERSION":b.version=parseInt(N);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"#":(N||F)&&L.tagList.push(F?[N,F]:[N]);break;case"DISCONTINUITY":j++,L.tagList.push(["DIS"]);break;case"GAP":L.tagList.push([D]);break;case"BITRATE":L.tagList.push([D,N]);break;case"DATERANGE":var G=new c.AttrList(N),q=new i.DateRange(G,b.dateRanges[G.ID]);q.isValid||b.skippedSegments?b.dateRanges[q.id]=q:l.logger.warn('Ignoring invalid DATERANGE tag: "'+N+'"'),L.tagList.push(["EXT-X-DATERANGE",N]);break;case"DISCONTINUITY-SEQUENCE":j=parseInt(N);break;case"KEY":var H,V=new c.AttrList(N),$=V.enumeratedString("METHOD"),W=V.URI,K=V.hexadecimalInteger("IV"),Y=V.enumeratedString("KEYFORMATVERSIONS"),Q=V.enumeratedString("KEYID"),X=null!=(H=V.enumeratedString("KEYFORMAT"))?H:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(X)>-1){l.logger.warn("Keyformat "+X+" is not supported from the manifest");continue}if("identity"!==X)continue;$&&(g=s.LevelKey.fromURL(e,W),W&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf($)>=0&&(g.method=$,g.keyFormat=X,Q&&(g.keyID=Q),Y&&(g.keyFormatVersions=Y),g.iv=K));break;case"START":var J=new c.AttrList(N).decimalFloatingPoint("TIME-OFFSET");Object(n.isFiniteNumber)(J)&&(b.startTimeOffset=J);break;case"MAP":var Z=new c.AttrList(N);if(L.duration){var tt=new a.Fragment(f,e);_(tt,Z,r,g),O=tt,L.initSegment=O,O.rawProgramDateTime&&!L.rawProgramDateTime&&(L.rawProgramDateTime=O.rawProgramDateTime)}else _(L,Z,r,g),O=L,A=!0;break;case"SERVER-CONTROL":var et=new c.AttrList(N);b.canBlockReload=et.bool("CAN-BLOCK-RELOAD"),b.canSkipUntil=et.optionalFloat("CAN-SKIP-UNTIL",0),b.canSkipDateRanges=b.canSkipUntil>0&&et.bool("CAN-SKIP-DATERANGES"),b.partHoldBack=et.optionalFloat("PART-HOLD-BACK",0),b.holdBack=et.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var rt=new c.AttrList(N);b.partTarget=rt.decimalFloatingPoint("PART-TARGET");break;case"PART":var nt=b.partList;nt||(nt=b.partList=[]);var ot=x>0?nt[nt.length-1]:void 0,it=x++,at=new a.Part(new c.AttrList(N),L,e,it,ot);nt.push(at),L.duration+=at.duration;break;case"PRELOAD-HINT":var ut=new c.AttrList(N);b.preloadHint=ut;break;case"RENDITION-REPORT":var st=new c.AttrList(N);b.renditionReports=b.renditionReports||[],b.renditionReports.push(st);break;default:l.logger.warn("line parsed but not handled: "+p)}}}T&&!T.relurl?(E.pop(),k-=T.duration,b.partList&&(b.fragmentHint=T)):b.partList&&(w(L,T),L.cc=j,b.fragmentHint=L);var ct=E.length,lt=E[0],ft=E[ct-1];if((k+=b.skippedSegments*b.targetduration)>0&&ct&&ft){b.averagetargetduration=k/ct;var ht=ft.sn;b.endSN="initSegment"!==ht?ht:0,lt&&(b.startCC=lt.cc,lt.initSegment||b.fragments.every((function(t){return t.relurl&&function(t){var e,r;return v.test(null!=(e=null===(r=o.parseURL(t))||void 0===r?void 0:r.path)?e:"")}(t.relurl)}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(L=new a.Fragment(f,e)).relurl=ft.relurl,L.level=r,L.sn="initSegment",lt.initSegment=L,b.needSidxRanges=!0))}else b.endSN=0,b.startCC=0;return b.fragmentHint&&(k+=b.fragmentHint.duration),b.totalduration=k,b.endCC=j,P>0&&function(t,e){for(var r=t[e],n=e;n--;){var o=t[n];if(!o)return;o.programDateTime=r.programDateTime-1e3*o.duration,r=o}}(E,P),b},t}();function g(t,e){["video","audio","text"].forEach((function(r){var n=t.filter((function(t){return Object(f.isCodecType)(t,r)}));if(n.length){var o=n.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[r+"Codec"]=o.length>0?o[0]:n[0],t=t.filter((function(t){return-1===n.indexOf(t)}))}})),e.unknownCodecs=t}function b(t,e,r){var n=e[r];n&&(t[r]=n)}function w(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!==e&&void 0!==e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Object(n.isFiniteNumber)(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function _(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkey=n),t.initSegment=null}},"./src/loader/playlist-loader.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),o=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/utils/logger.ts"),u=r("./src/utils/mp4-tools.ts"),s=r("./src/loader/m3u8-parser.ts"),c=r("./src/types/loader.ts"),l=r("./src/utils/attr-list.ts");function f(t,e){var r=t.url;return void 0!==r&&0!==r.indexOf("data:")||(r=e.url),r}var h=function(){function t(t){this.hls=void 0,this.loaders=Object.create(null),this.hls=t,this.registerListeners()}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(o.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(o.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.unregisterListeners=function(){var t=this.hls;t.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(o.Events.LEVEL_LOADING,this.onLevelLoading,this),t.off(o.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(o.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.createInternalLoader=function(t){var e=this.hls.config,r=e.pLoader,n=e.loader,o=new(r||n)(e);return t.loader=o,this.loaders[t.type]=o,o},e.getInternalLoader=function(t){return this.loaders[t.type]},e.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},e.onManifestLoading=function(t,e){var r=e.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:c.PlaylistContextType.MANIFEST,url:r,deliveryDirectives:null})},e.onLevelLoading=function(t,e){var r=e.id,n=e.level,o=e.url,i=e.deliveryDirectives;this.load({id:r,groupId:null,level:n,responseType:"text",type:c.PlaylistContextType.LEVEL,url:o,deliveryDirectives:i})},e.onAudioTrackLoading=function(t,e){var r=e.id,n=e.groupId,o=e.url,i=e.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:c.PlaylistContextType.AUDIO_TRACK,url:o,deliveryDirectives:i})},e.onSubtitleTrackLoading=function(t,e){var r=e.id,n=e.groupId,o=e.url,i=e.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:c.PlaylistContextType.SUBTITLE_TRACK,url:o,deliveryDirectives:i})},e.load=function(t){var e,r,n,o,i,u,s=this.hls.config,l=this.getInternalLoader(t);if(l){var f=l.context;if(f&&f.url===t.url)return void a.logger.trace("[playlist-loader]: playlist request ongoing");a.logger.log("[playlist-loader]: aborting previous loader for type: "+t.type),l.abort()}switch(t.type){case c.PlaylistContextType.MANIFEST:r=s.manifestLoadingMaxRetry,n=s.manifestLoadingTimeOut,o=s.manifestLoadingRetryDelay,i=s.manifestLoadingMaxRetryTimeout;break;case c.PlaylistContextType.LEVEL:case c.PlaylistContextType.AUDIO_TRACK:case c.PlaylistContextType.SUBTITLE_TRACK:r=0,n=s.levelLoadingTimeOut;break;default:r=s.levelLoadingMaxRetry,n=s.levelLoadingTimeOut,o=s.levelLoadingRetryDelay,i=s.levelLoadingMaxRetryTimeout}if(l=this.createInternalLoader(t),null!==(e=t.deliveryDirectives)&&void 0!==e&&e.part&&(t.type===c.PlaylistContextType.LEVEL&&null!==t.level?u=this.hls.levels[t.level].details:t.type===c.PlaylistContextType.AUDIO_TRACK&&null!==t.id?u=this.hls.audioTracks[t.id].details:t.type===c.PlaylistContextType.SUBTITLE_TRACK&&null!==t.id&&(u=this.hls.subtitleTracks[t.id].details),u)){var h=u.partTarget,p=u.targetduration;h&&p&&(n=Math.min(1e3*Math.max(3*h,.8*p),n))}var d={timeout:n,maxRetry:r,retryDelay:o,maxRetryDelay:i,highWaterMark:0},y={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};l.load(t,d,y)},e.loadsuccess=function(t,e,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this.handleSidxRequest(t,r),void this.handlePlaylistLoaded(t,e,r,n);this.resetInternalLoader(r.type);var o=t.data;0===o.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),o.indexOf("#EXTINF:")>0||o.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(t,e,r,n):this.handleMasterPlaylist(t,e,r,n)):this.handleManifestParsingError(t,r,"no EXTM3U delimiter",n)},e.loaderror=function(t,e,r){void 0===r&&(r=null),this.handleNetworkError(e,r,!1,t)},e.loadtimeout=function(t,e,r){void 0===r&&(r=null),this.handleNetworkError(e,r,!0)},e.handleMasterPlaylist=function(t,e,r,n){var i=this.hls,u=t.data,c=f(t,r),h=s.default.parseMasterPlaylist(u,c),p=h.levels,d=h.sessionData;if(p.length){var y=p.map((function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}})),v=p.map((function(t){return{id:t.attrs.SUBTITLES,textCodec:t.textCodec}})),m=s.default.parseMasterPlaylistMedia(u,c,"AUDIO",y),g=s.default.parseMasterPlaylistMedia(u,c,"SUBTITLES",v),b=s.default.parseMasterPlaylistMedia(u,c,"CLOSED-CAPTIONS");m.length&&(m.some((function(t){return!t.url}))||!p[0].audioCodec||p[0].attrs.AUDIO||(a.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new l.AttrList({}),bitrate:0,url:""}))),i.trigger(o.Events.MANIFEST_LOADED,{levels:p,audioTracks:m,subtitles:g,captions:b,url:c,stats:e,networkDetails:n,sessionData:d})}else this.handleManifestParsingError(t,r,"no level found in manifest",n)},e.handleTrackOrLevelPlaylist=function(t,e,r,a){var u=this.hls,h=r.id,p=r.level,d=r.type,y=f(t,r),v=Object(n.isFiniteNumber)(h)?h:0,m=Object(n.isFiniteNumber)(p)?p:v,g=function(t){switch(t.type){case c.PlaylistContextType.AUDIO_TRACK:return c.PlaylistLevelType.AUDIO;case c.PlaylistContextType.SUBTITLE_TRACK:return c.PlaylistLevelType.SUBTITLE;default:return c.PlaylistLevelType.MAIN}}(r),b=s.default.parseLevelPlaylist(t.data,y,m,g,v);if(b.fragments.length){if(d===c.PlaylistContextType.MANIFEST){var w={attrs:new l.AttrList({}),bitrate:0,details:b,name:"",url:y};u.trigger(o.Events.MANIFEST_LOADED,{levels:[w],audioTracks:[],url:y,stats:e,networkDetails:a,sessionData:null})}if(e.parsing.end=performance.now(),b.needSidxRanges){var _,E=null===(_=b.fragments[0].initSegment)||void 0===_?void 0:_.url;this.load({url:E,isSidxRequest:!0,type:d,level:p,levelDetails:b,id:h,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else r.levelDetails=b,this.handlePlaylistLoaded(t,e,r,a)}else u.trigger(o.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:y,reason:"no fragments found in level",level:"number"===typeof r.level?r.level:void 0})},e.handleSidxRequest=function(t,e){var r=new Uint8Array(t.data),n=Object(u.findBox)(r,["sidx"])[0];if(n){var o=Object(u.parseSegmentIndex)(n);if(o){var i=o.references,a=e.levelDetails;i.forEach((function(t,e){var n=t.info,o=a.fragments[e];if(0===o.byteRange.length&&o.setByteRange(String(1+n.end-n.start)+"@"+String(n.start)),o.initSegment){var i=Object(u.findBox)(r,["moov"])[0],s=i?i.length:null;o.initSegment.setByteRange(String(s)+"@0")}}))}}},e.handleManifestParsingError=function(t,e,r,n){this.hls.trigger(o.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:e.type===c.PlaylistContextType.MANIFEST,url:t.url,reason:r,response:t,context:e,networkDetails:n})},e.handleNetworkError=function(t,e,r,n){void 0===r&&(r=!1),a.logger.warn("[playlist-loader]: A network "+(r?"timeout":"error")+" occurred while loading "+t.type+" level: "+t.level+" id: "+t.id+' group-id: "'+t.groupId+'"');var u=i.ErrorDetails.UNKNOWN,s=!1,l=this.getInternalLoader(t);switch(t.type){case c.PlaylistContextType.MANIFEST:u=r?i.ErrorDetails.MANIFEST_LOAD_TIMEOUT:i.ErrorDetails.MANIFEST_LOAD_ERROR,s=!0;break;case c.PlaylistContextType.LEVEL:u=r?i.ErrorDetails.LEVEL_LOAD_TIMEOUT:i.ErrorDetails.LEVEL_LOAD_ERROR,s=!1;break;case c.PlaylistContextType.AUDIO_TRACK:u=r?i.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,s=!1;break;case c.PlaylistContextType.SUBTITLE_TRACK:u=r?i.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:i.ErrorDetails.SUBTITLE_LOAD_ERROR,s=!1}l&&this.resetInternalLoader(t.type);var f={type:i.ErrorTypes.NETWORK_ERROR,details:u,fatal:s,url:t.url,loader:l,context:t,networkDetails:e};n&&(f.response=n),this.hls.trigger(o.Events.ERROR,f)},e.handlePlaylistLoaded=function(t,e,r,n){var i=r.type,a=r.level,u=r.id,s=r.groupId,l=r.loader,f=r.levelDetails,h=r.deliveryDirectives;if(null!==f&&void 0!==f&&f.targetduration){if(l)switch(f.live&&(l.getCacheAge&&(f.ageHeader=l.getCacheAge()||0),l.getCacheAge&&!isNaN(f.ageHeader)||(f.ageHeader=0)),i){case c.PlaylistContextType.MANIFEST:case c.PlaylistContextType.LEVEL:this.hls.trigger(o.Events.LEVEL_LOADED,{details:f,level:a||0,id:u||0,stats:e,networkDetails:n,deliveryDirectives:h});break;case c.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(o.Events.AUDIO_TRACK_LOADED,{details:f,id:u||0,groupId:s||"",stats:e,networkDetails:n,deliveryDirectives:h});break;case c.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(o.Events.SUBTITLE_TRACK_LOADED,{details:f,id:u||0,groupId:s||"",stats:e,networkDetails:n,deliveryDirectives:h})}}else this.handleManifestParsingError(t,r,"invalid target duration",n)},t}();e.default=h},"./src/polyfills/number.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"isFiniteNumber",(function(){return n})),r.d(e,"MAX_SAFE_INTEGER",(function(){return o}));var n=Number.isFinite||function(t){return"number"===typeof t&&isFinite(t)},o=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(t,e,r){"use strict";r.r(e);var n=function(){function t(){}return t.getSilentFrame=function(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},t}();e.default=n},"./src/remux/mp4-generator.ts":function(t,e,r){"use strict";r.r(e);var n=Math.pow(2,32)-1,o=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:r,audio:n};var o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=i,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),u=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,s,a,u),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,o))},t.box=function(t){for(var e=8,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];for(var i=n.length,a=i;i--;)e+=n[i].byteLength;var u=new Uint8Array(e);for(u[0]=e>>24&255,u[1]=e>>16&255,u[2]=e>>8&255,u[3]=255&e,u.set(t,4),i=0,e=8;i<a;i++)u.set(n[i],e),e+=n[i].byteLength;return u},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,r){r*=e;var o=Math.floor(r/(n+1)),i=Math.floor(r%(n+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,r,n){return t.box(t.types.moof,t.mfhd(e),t.traf(n,r))},t.moov=function(e){for(var r=e.length,n=[];r--;)n[r]=t.trak(e[r]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(t.mvex(e)))},t.mvex=function(e){for(var r=e.length,n=[];r--;)n[r]=t.trex(e[r]);return t.box.apply(null,[t.types.mvex].concat(n))},t.mvhd=function(e,r){r*=e;var o=Math.floor(r/(n+1)),i=Math.floor(r%(n+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var r,n,o=e.samples||[],i=new Uint8Array(4+o.length);for(r=0;r<o.length;r++)n=o[r].flags,i[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,i)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var r,n,o,i=[],a=[];for(r=0;r<e.sps.length;r++)o=(n=e.sps[r]).byteLength,i.push(o>>>8&255),i.push(255&o),i=i.concat(Array.prototype.slice.call(n));for(r=0;r<e.pps.length;r++)o=(n=e.pps[r]).byteLength,a.push(o>>>8&255),a.push(255&o),a=a.concat(Array.prototype.slice.call(n));var u=t.box(t.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(a))),s=e.width,c=e.height,l=e.pixelRatio[0],f=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([l>>24,l>>16&255,l>>8&255,255&l,f>>24,f>>16&255,f>>8&255,255&f])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var r=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var r=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},t.stsd=function(e){return"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var r=e.id,o=e.duration*e.timescale,i=e.width,a=e.height,u=Math.floor(o/(n+1)),s=Math.floor(o%(n+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,u>>24,u>>16&255,u>>8&255,255&u,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,r){var o=t.sdtp(e),i=e.id,a=Math.floor(r/(n+1)),u=Math.floor(r%(n+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,u>>24,u>>16&255,u>>8&255,255&u])),t.trun(e,o.length+16+20+8+16+8+8),o)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var r=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,r){var n,o,i,a,u,s,c=e.samples||[],l=c.length,f=12+16*l,h=new Uint8Array(f);for(r+=8+f,h.set([0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,255&l,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<l;n++)i=(o=c[n]).duration,a=o.size,u=o.flags,s=o.cts,h.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,61440&u.degradPrio,15&u.degradPrio,s>>>24&255,s>>>16&255,s>>>8&255,255&s],12+16*n);return t.box(t.types.trun,h)},t.initSegment=function(e){t.types||t.init();var r=t.moov(e),n=new Uint8Array(t.FTYP.byteLength+r.byteLength);return n.set(t.FTYP),n.set(r,t.FTYP.byteLength),n},t}();o.types=void 0,o.HDLR_TYPES=void 0,o.STTS=void 0,o.STSC=void 0,o.STCO=void 0,o.STSZ=void 0,o.VMHD=void 0,o.SMHD=void 0,o.STSD=void 0,o.FTYP=void 0,o.DINF=void 0,e.default=o},"./src/remux/mp4-remuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return y})),r.d(e,"normalizePts",(function(){return v})),r.d(e,"flushTextTrackMetadataCueSamples",(function(){return m})),r.d(e,"flushTextTrackUserdataCueSamples",(function(){return g}));var n=r("./src/polyfills/number.ts"),o=r("./src/remux/aac-helper.ts"),i=r("./src/remux/mp4-generator.ts"),a=r("./src/events.ts"),u=r("./src/errors.ts"),s=r("./src/utils/logger.ts"),c=r("./src/types/loader.ts"),l=r("./src/utils/timescale-conversion.ts");function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f.apply(this,arguments)}var h=null,p=null,d=!1,y=function(){function t(t,e,r,n){if(void 0===n&&(n=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=e,this.typeSupported=r,this.ISGenerated=!1,null===h){var o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);h=o?parseInt(o[1]):0}if(null===p){var i=navigator.userAgent.match(/Safari\/(\d+)/i);p=i?parseInt(i[1]):0}d=!(h&&h>=75||p&&p>=600)}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){s.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t},e.resetNextTimestamp=function(){s.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},e.resetInitSegment=function(){s.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,r=t.reduce((function(t,r){var n=r.pts-t;return n<-4294967296?(e=!0,v(t,r.pts)):n>0?t:r.pts}),t[0].pts);return e&&s.logger.debug("PTS rollover detected"),r},e.remux=function(t,e,r,n,o,i,a,u){var l,f,h,p,d,y,b=o,w=o,_=t.pid>-1,E=e.pid>-1,O=e.samples.length,S=t.samples.length>0,x=a&&O>0||O>1;if((!_||S)&&(!E||x)||this.ISGenerated||a){this.ISGenerated||(h=this.generateIS(t,e,o));var k,j=this.isVideoContiguous,T=-1;if(x&&(T=function(t){for(var e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!j&&this.config.forceKeyFrameOnDiscontinuity))if(y=!0,T>0){s.logger.warn("[mp4-remuxer]: Dropped "+T+" out of "+O+" video samples due to a missing keyframe");var L=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(T),e.dropped+=T,k=w+=(e.samples[0].pts-L)/e.inputTimeScale}else-1===T&&(s.logger.warn("[mp4-remuxer]: No keyframe found out of "+O+" video samples"),y=!1);if(this.ISGenerated){if(S&&x){var P=this.getVideoStartPts(e.samples),A=(v(t.samples[0].pts,P)-P)/e.inputTimeScale;b+=Math.max(0,A),w+=Math.max(0,-A)}if(S){if(t.samplerate||(s.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),h=this.generateIS(t,e,o)),f=this.remuxAudio(t,b,this.isAudioContiguous,i,E||x||u===c.PlaylistLevelType.AUDIO?w:void 0),x){var C=f?f.endPTS-f.startPTS:0;e.inputTimeScale||(s.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),h=this.generateIS(t,e,o)),l=this.remuxVideo(e,w,j,C)}}else x&&(l=this.remuxVideo(e,w,j,0));l&&(l.firstKeyFrame=T,l.independent=-1!==T,l.firstKeyFramePTS=k)}}return this.ISGenerated&&(r.samples.length&&(d=m(r,o,this._initPTS,this._initDTS)),n.samples.length&&(p=g(n,o,this._initPTS))),{audio:f,video:l,initSegment:h,independent:y,text:p,id3:d}},e.generateIS=function(t,e,r){var o,a,u,s=t.samples,c=e.samples,l=this.typeSupported,f={},h=!Object(n.isFiniteNumber)(this._initPTS),p="audio/mp4";if(h&&(o=a=1/0),t.config&&s.length&&(t.timescale=t.samplerate,"mp3"===t.segmentCodec&&(l.mpeg?(p="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")),f.audio={id:"audio",container:p,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&l.mpeg?new Uint8Array(0):i.default.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(u=t.inputTimeScale,o=a=s[0].pts-Math.round(u*r))),e.sps&&e.pps&&c.length&&(e.timescale=e.inputTimeScale,f.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:i.default.initSegment([e]),metadata:{width:e.width,height:e.height}},h)){u=e.inputTimeScale;var d=this.getVideoStartPts(c),y=Math.round(u*r);a=Math.min(a,v(c[0].dts,d)-y),o=Math.min(o,d-y)}if(Object.keys(f).length)return this.ISGenerated=!0,h&&(this._initPTS=o,this._initDTS=a),{tracks:f,initPTS:o,timescale:u}},e.remuxVideo=function(t,e,r,n){var o,c,p=t.inputTimeScale,y=t.samples,m=[],g=y.length,w=this._initPTS,_=this.nextAvcDts,E=8,O=this.videoSampleDuration,S=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,k=0,j=!1;r&&null!==_||(_=e*p-(y[0].pts-v(y[0].dts,y[0].pts)));for(var T=0;T<g;T++){var L=y[T];L.pts=v(L.pts-w,_),L.dts=v(L.dts-w,_),L.dts>L.pts&&(k=Math.max(Math.min(k,L.pts-L.dts),-18e3)),L.dts<y[T>0?T-1:T].dts&&(j=!0)}j&&y.sort((function(t,e){var r=t.dts-e.dts,n=t.pts-e.pts;return r||n})),o=y[0].dts;var P=(c=y[y.length-1].dts)-o,A=P?Math.round(P/(g-1)):O||t.inputTimeScale/30;if(k<0){if(k<-2*A){s.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(l.toMsFromMpegTsClock)(-A,!0)+" ms");for(var C=k,I=0;I<g;I++)y[I].dts=C=Math.max(C,y[I].pts-A),y[I].pts=Math.max(C,y[I].pts)}else{s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(l.toMsFromMpegTsClock)(k,!0)+" ms to overcome this issue");for(var R=0;R<g;R++)y[R].dts=y[R].dts+k}o=y[0].dts}if(r){var D=o-_,N=D>A;if(N||D<-1){N?s.logger.warn("AVC: "+Object(l.toMsFromMpegTsClock)(D,!0)+" ms ("+D+"dts) hole between fragments detected, filling it"):s.logger.warn("AVC: "+Object(l.toMsFromMpegTsClock)(-D,!0)+" ms ("+D+"dts) overlapping between fragments detected"),o=_;var F=y[0].pts-D;y[0].dts=o,y[0].pts=F,s.logger.log("Video: First PTS/DTS adjusted: "+Object(l.toMsFromMpegTsClock)(F,!0)+"/"+Object(l.toMsFromMpegTsClock)(o,!0)+", delta: "+Object(l.toMsFromMpegTsClock)(D,!0)+" ms")}}d&&(o=Math.max(0,o));for(var M=0,B=0,U=0;U<g;U++){for(var z=y[U],G=z.units,q=G.length,H=0,V=0;V<q;V++)H+=G[V].data.length;B+=H,M+=q,z.length=H,z.dts=Math.max(z.dts,o),z.pts=Math.max(z.pts,z.dts,0),S=Math.min(z.pts,S),x=Math.max(z.pts,x)}c=y[g-1].dts;var $,W=B+4*M+8;try{$=new Uint8Array(W)}catch(ht){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:u.ErrorTypes.MUX_ERROR,details:u.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:W,reason:"fail allocating video mdat "+W})}var K=new DataView($.buffer);K.setUint32(0,W),$.set(i.default.types.mdat,4);for(var Y=!1,Q=0;Q<g;Q++){for(var X=y[Q],J=X.units,Z=0,tt=0,et=J.length;tt<et;tt++){var rt=J[tt],nt=rt.data,ot=rt.data.byteLength;K.setUint32(E,ot),E+=4,$.set(nt,E),E+=ot,Z+=4+ot}if(Q<g-1)O=y[Q+1].dts-X.dts;else{var it=this.config,at=Q>0?X.dts-y[Q-1].dts:A;if(it.stretchShortVideoTrack&&null!==this.nextAudioPts){var ut=Math.floor(it.maxBufferHole*p),st=(n?S+n*p:this.nextAudioPts)-X.pts;st>ut?((O=st-at)<0?O=at:Y=!0,s.logger.log("[mp4-remuxer]: It is approximately "+st/90+" ms to the next segment; using duration "+O/90+" ms for the last video frame.")):O=at}else O=at}var ct=Math.round(X.pts-X.dts);m.push(new b(X.key,O,Z,ct))}if(m.length&&h&&h<70){var lt=m[0].flags;lt.dependsOn=2,lt.isNonSync=0}console.assert(null!==O,"mp4SampleDuration must be computed"),O=Y||!O?A:O,this.nextAvcDts=_=c+O,this.videoSampleDuration=O,this.isVideoContiguous=!0;var ft={data1:i.default.moof(t.sequenceNumber++,o,f({},t,{samples:m})),data2:$,startPTS:S/p,endPTS:(x+O)/p,startDTS:o/p,endDTS:_/p,type:"video",hasAudio:!1,hasVideo:!0,nb:m.length,dropped:t.dropped};return t.samples=[],t.dropped=0,console.assert($.length,"MDAT length must not be zero"),ft},e.remuxAudio=function(t,e,r,n,c){var l=t.inputTimeScale,h=l/(t.samplerate?t.samplerate:l),p="aac"===t.segmentCodec?1024:1152,d=p*h,y=this._initPTS,m="mp3"===t.segmentCodec&&this.typeSupported.mpeg,g=[],w=void 0!==c,_=t.samples,E=m?0:8,O=this.nextAudioPts||-1,S=e*l;if(this.isAudioContiguous=r=r||_.length&&O>0&&(n&&Math.abs(S-O)<9e3||Math.abs(v(_[0].pts-y,S)-O)<20*d),_.forEach((function(t){t.pts=v(t.pts-y,S)})),!r||O<0){if(_=_.filter((function(t){return t.pts>=0})),!_.length)return;O=0===c?0:n&&!w?Math.max(0,S):_[0].pts}if("aac"===t.segmentCodec)for(var x=this.config.maxAudioFramesDrift,k=0,j=O;k<_.length;k++){var T=_[k],L=T.pts,P=L-j,A=Math.abs(1e3*P/l);if(P<=-x*d&&w)0===k&&(s.logger.warn("Audio frame @ "+(L/l).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*P/l)+" ms."),this.nextAudioPts=O=j=L);else if(P>=x*d&&A<1e4&&w){var C=Math.round(P/d);(j=L-C*d)<0&&(C--,j+=d),0===k&&(this.nextAudioPts=O=j),s.logger.warn("[mp4-remuxer]: Injecting "+C+" audio frame @ "+(j/l).toFixed(3)+"s due to "+Math.round(1e3*P/l)+" ms gap.");for(var I=0;I<C;I++){var R=Math.max(j,0),D=o.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);D||(s.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),D=T.unit.subarray()),_.splice(k,0,{unit:D,pts:R}),j+=d,k++}}T.pts=j,j+=d}for(var N,F=null,M=null,B=0,U=_.length;U--;)B+=_[U].unit.byteLength;for(var z=0,G=_.length;z<G;z++){var q=_[z],H=q.unit,V=q.pts;if(null!==M)g[z-1].duration=Math.round((V-M)/h);else{if(r&&"aac"===t.segmentCodec&&(V=O),F=V,!(B>0))return;B+=E;try{N=new Uint8Array(B)}catch(Z){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:u.ErrorTypes.MUX_ERROR,details:u.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating audio mdat "+B})}m||(new DataView(N.buffer).setUint32(0,B),N.set(i.default.types.mdat,4))}N.set(H,E);var $=H.byteLength;E+=$,g.push(new b(!0,p,$,0)),M=V}var W=g.length;if(W){var K=g[g.length-1];this.nextAudioPts=O=M+h*K.duration;var Y=m?new Uint8Array(0):i.default.moof(t.sequenceNumber++,F/h,f({},t,{samples:g}));t.samples=[];var Q=F/l,X=O/l,J={data1:Y,data2:N,startPTS:Q,endPTS:X,startDTS:Q,endDTS:X,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.isAudioContiguous=!0,console.assert(N.length,"MDAT length must not be zero"),J}},e.remuxEmptyAudio=function(t,e,r,n){var i=t.inputTimeScale,a=i/(t.samplerate?t.samplerate:i),u=this.nextAudioPts,c=(null!==u?u:n.startDTS*i)+this._initDTS,l=n.endDTS*i+this._initDTS,f=1024*a,h=Math.ceil((l-c)/f),p=o.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("[mp4-remuxer]: remux empty Audio"),p){for(var d=[],y=0;y<h;y++){var v=c+y*f;d.push({unit:p,pts:v,dts:v})}return t.samples=d,this.remuxAudio(t,e,r,!1)}s.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t}();function v(t,e){var r;if(null===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function m(t,e,r,n){var o=t.samples.length;if(o){for(var i=t.inputTimeScale,a=0;a<o;a++){var u=t.samples[a];u.pts=v(u.pts-r,e*i)/i,u.dts=v(u.dts-n,e*i)/i}var s=t.samples;return t.samples=[],{samples:s}}}function g(t,e,r){var n=t.samples.length;if(n){for(var o=t.inputTimeScale,i=0;i<n;i++){var a=t.samples[i];a.pts=v(a.pts-r,e*o)/o}t.samples.sort((function(t,e){return t.pts-e.pts}));var u=t.samples;return t.samples=[],{samples:u}}}var b=function(t,e,r,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=r,this.cts=n,this.flags=new w(t)},w=function(t){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1}},"./src/remux/passthrough-remuxer.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/polyfills/number.ts"),o=r("./src/remux/mp4-remuxer.ts"),i=r("./src/utils/mp4-tools.ts"),a=r("./src/loader/fragment.ts"),u=r("./src/utils/logger.ts"),s=function(){function t(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this.initPTS=t,this.lastEndDTS=null},e.resetNextTimestamp=function(){this.lastEndDTS=null},e.resetInitSegment=function(t,e,r){this.audioCodec=e,this.videoCodec=r,this.generateInitSegment(t),this.emitInitSegment=!0},e.generateInitSegment=function(t){var e=this.audioCodec,r=this.videoCodec;if(!t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=Object(i.parseInitSegment)(t);e||(e=l(n.audio,a.ElementaryStreamTypes.AUDIO)),r||(r=l(n.video,a.ElementaryStreamTypes.VIDEO));var o={};n.audio&&n.video?o.audiovideo={container:"video/mp4",codec:e+","+r,initSegment:t,id:"main"}:n.audio?o.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:n.video?o.video={container:"video/mp4",codec:r,initSegment:t,id:"main"}:u.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=o},e.remux=function(t,e,r,a,s){var l,f=this.initPTS,h=this.lastEndDTS,p={audio:void 0,video:void 0,text:a,id3:r,initSegment:void 0};Object(n.isFiniteNumber)(h)||(h=this.lastEndDTS=s||0);var d=e.samples;if(!d||!d.length)return p;var y={initPTS:void 0,timescale:1},v=this.initData;if(v&&v.length||(this.generateInitSegment(d),v=this.initData),!v||!v.length)return u.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),p;this.emitInitSegment&&(y.tracks=this.initTracks,this.emitInitSegment=!1),Object(n.isFiniteNumber)(f)||(this.initPTS=y.initPTS=f=c(v,d,h));var m=Object(i.getDuration)(d,v),g=h,b=m+g;Object(i.offsetStartDTS)(v,d,f),m>0?this.lastEndDTS=b:(u.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var w=!!v.audio,_=!!v.video,E="";w&&(E+="audio"),_&&(E+="video");var O={data1:d,startPTS:g,startDTS:g,endPTS:b,endDTS:b,type:E,hasAudio:w,hasVideo:_,nb:1,dropped:0};p.audio="audio"===O.type?O:void 0,p.video="audio"!==O.type?O:void 0,p.initSegment=y;var S=null!=(l=this.initPTS)?l:0;return p.id3=Object(o.flushTextTrackMetadataCueSamples)(r,s,S,S),a.samples.length&&(p.text=Object(o.flushTextTrackUserdataCueSamples)(a,s,S)),p},t}(),c=function(t,e,r){return Object(i.getStartDTS)(t,e)-r};function l(t,e){var r=null===t||void 0===t?void 0:t.codec;return r&&r.length>4?r:"hvc1"===r||"hev1"===r?"hvc1.1.c.L120.90":"av01"===r?"av01.0.04M.08":"avc1"===r||e===a.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}e.default=s},"./src/task-loop.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.onHandlerDestroyed=function(){},e.hasInterval=function(){return!!this._tickInterval},e.hasNextTick=function(){return!!this._tickTimer},e.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},e.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},e.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},e.doTick=function(){},t}()},"./src/types/cmcd.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"CMCDVersion",(function(){return a})),r.d(e,"CMCDObjectType",(function(){return n})),r.d(e,"CMCDStreamingFormat",(function(){return o})),r.d(e,"CMCDStreamType",(function(){return i}));var n,o,i,a=1;!function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"}(n||(n={})),function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"}(o||(o={})),function(t){t.VOD="v",t.LIVE="l"}(i||(i={}))},"./src/types/demuxer.ts":function(t,e,r){"use strict";var n;r.r(e),r.d(e,"MetadataSchema",(function(){return n})),function(t){t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3"}(n||(n={}))},"./src/types/level.ts":function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o;function i(t,e){var r=t.canSkipUntil,n=t.canSkipDateRanges,i=t.endSN;return r&&(void 0!==e?e-i:0)<r?n?o.v2:o.Yes:o.No}r.r(e),r.d(e,"HlsSkip",(function(){return o})),r.d(e,"getSkipValue",(function(){return i})),r.d(e,"HlsUrlParameters",(function(){return a})),r.d(e,"Level",(function(){return u})),function(t){t.No="",t.Yes="YES",t.v2="v2"}(o||(o={}));var a=function(){function t(t,e,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=r}return t.prototype.addDirectives=function(t){var e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.toString()},t}(),u=function(){function t(t){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this.attrs=t.attrs,this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(t){return t})).join(",").replace(/\.[^.,]+/g,"")}var e,r,o;return e=t,(r=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(t){var e=t%this.url.length;this._urlId!==e&&(this.details=void 0,this._urlId=e)}}])&&n(e.prototype,r),o&&n(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./src/types/loader.ts":function(t,e,r){"use strict";var n,o;r.r(e),r.d(e,"PlaylistContextType",(function(){return n})),r.d(e,"PlaylistLevelType",(function(){return o})),function(t){t.MANIFEST="manifest",t.LEVEL="level",t.AUDIO_TRACK="audioTrack",t.SUBTITLE_TRACK="subtitleTrack"}(n||(n={})),function(t){t.MAIN="main",t.AUDIO="audio",t.SUBTITLE="subtitle"}(o||(o={}))},"./src/types/transmuxer.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"ChunkMetadata",(function(){return n}));var n=function(t,e,r,n,o,i){void 0===n&&(n=0),void 0===o&&(o=-1),void 0===i&&(i=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=r,this.size=n,this.part=o,this.partial=i}},"./src/utils/attr-list.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"AttrList",(function(){return i}));var n=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function t(e){for(var r in"string"===typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&(this[r]=e[r])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var r=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)r[n]=parseInt(e.slice(2*n,2*n+2),16);return r}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.optionalFloat=function(t,e){var r=this[t];return r?parseFloat(r):e},e.enumeratedString=function(t){return this[t]},e.bool=function(t){return"YES"===this[t]},e.decimalResolution=function(t){var e=n.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,r={};for(o.lastIndex=0;null!==(e=o.exec(t));){var n=e[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[e[1]]=n}return r},t}()},"./src/utils/binary-search.ts":function(t,e,r){"use strict";r.r(e),e.default={search:function(t,e){for(var r=0,n=t.length-1,o=null,i=null;r<=n;){var a=e(i=t[o=(r+n)/2|0]);if(a>0)r=o+1;else{if(!(a<0))return i;n=o-1}}return null}}},"./src/utils/buffer-helper.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"BufferHelper",(function(){return i}));var n=r("./src/utils/logger.ts"),o={length:0,start:function(){return 0},end:function(){return 0}},i=function(){function t(){}return t.isBuffered=function(e,r){try{if(e)for(var n=t.getBuffered(e),o=0;o<n.length;o++)if(r>=n.start(o)&&r<=n.end(o))return!0}catch(i){}return!1},t.bufferInfo=function(e,r,n){try{if(e){var o,i=t.getBuffered(e),a=[];for(o=0;o<i.length;o++)a.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(a,r,n)}}catch(u){}return{len:0,start:r,end:r,nextStart:void 0}},t.bufferedInfo=function(t,e,r){e=Math.max(0,e),t.sort((function(t,e){var r=t.start-e.start;return r||e.end-t.end}));var n=[];if(r)for(var o=0;o<t.length;o++){var i=n.length;if(i){var a=n[i-1].end;t[o].start-a<r?t[o].end>a&&(n[i-1].end=t[o].end):n.push(t[o])}else n.push(t[o])}else n=t;for(var u,s=0,c=e,l=e,f=0;f<n.length;f++){var h=n[f].start,p=n[f].end;if(e+r>=h&&e<p)c=h,s=(l=p)-e;else if(e+r<h){u=h;break}}return{len:s,start:c||0,end:l||0,nextStart:u}},t.getBuffered=function(t){try{return t.buffered}catch(e){return n.logger.log("failed to get media.buffered",e),o}},t}()},"./src/utils/cea-608-parser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"Row",(function(){return g})),r.d(e,"CaptionScreen",(function(){return b}));var n,o=r("./src/utils/logger.ts"),i={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(t){var e=t;return i.hasOwnProperty(t)&&(e=i[t]),String.fromCharCode(e)},u=15,s=100,c={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(t){t[t.ERROR=0]="ERROR",t[t.TEXT=1]="TEXT",t[t.WARNING=2]="WARNING",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.DATA=3]="DATA"}(n||(n={}));var d=function(){function t(){this.time=null,this.verboseLevel=n.ERROR}return t.prototype.log=function(t,e){this.verboseLevel>=t&&o.logger.log(this.time+" ["+t+"] "+e)},t}(),y=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toString(16));return e},v=function(){function t(t,e,r,n,o){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=r||!1,this.background=n||"black",this.flash=o||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],r=0;r<e.length;r++){var n=e[r];t.hasOwnProperty(n)&&(this[n]=t[n])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),m=function(){function t(t,e,r,n,o,i){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new v(e,r,n,o,i)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),g=function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<s;e++)this.chars.push(new m);this.logger=t,this.pos=0,this.currPenState=new v}var e=t.prototype;return e.equals=function(t){for(var e=!0,r=0;r<s;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<s;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<s;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(n.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>s&&(this.logger.log(n.DEBUG,"Too large cursor position "+this.pos),this.pos=s)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var r=this.pos+1;r<e+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){t>=144&&this.backSpace();var e=a(t);this.pos>=s?this.logger.log(n.ERROR,"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<s;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,r=0;r<s;r++){var n=this.chars[r].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),b=function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<u;e++)this.rows.push(new g(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<u;t++)this.rows[t].clear();this.currRow=14},e.equals=function(t){for(var e=!0,r=0;r<u;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<u;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<u;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},e.setCursor=function(t){this.logger.log(n.INFO,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},e.setPAC=function(t){this.logger.log(n.INFO,"pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var r=0;r<u;r++)this.rows[r].clear();var o=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[o].cueStartTime,s=this.logger.time;if(a&&null!==s&&a<s)for(var c=0;c<this.nrRollUpRows;c++)this.rows[e-this.nrRollUpRows+c+1].copy(i.rows[o+c])}}this.currRow=e;var l=this.rows[this.currRow];if(null!==t.indent){var f=t.indent,h=Math.max(f-1,0);l.setCursor(t.indent),t.color=l.chars[h].penState.foreground}var p={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(p)},e.setBkgData=function(t){this.logger.log(n.INFO,"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(n.TEXT,this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(n.INFO,"Rolling up")}else this.logger.log(n.DEBUG,"roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],r="",n=-1,o=0;o<u;o++){var i=this.rows[o].getTextString();i&&(n=o+1,t?e.push("Row "+n+": '"+i+"'"):e.push(i.trim()))}return e.length>0&&(r=t?"["+e.join(" | ")+"]":e.join("\n")),r},e.getTextAndFormat=function(){return this.rows},t}(),w=function(){function t(t,e,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new b(r),this.nonDisplayedMemory=new b(r),this.lastOutputScreen=new b(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(n.INFO,"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(n.INFO,r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(n.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(n.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){this.logger.log(n.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(n.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(n.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(n.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(n.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(n.INFO,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){this.logger.log(n.INFO,"RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){this.logger.log(n.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(n.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(n.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){if(this.logger.log(n.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(n.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(n.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{var r=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}this.logger.log(n.INFO,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),_=function(){function t(t,e,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new d;this.channels=[null,new w(t,e,n),new w(t+1,r,n)],this.cmdHistory={a:null,b:null},this.logger=n}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var r,o,i,a=!1;this.logger.time=t;for(var u=0;u<e.length;u+=2)if(o=127&e[u],i=127&e[u+1],0!==o||0!==i){if(this.logger.log(n.DATA,"["+y([e[u],e[u+1]])+"] -> ("+y([o,i])+")"),(r=this.parseCmd(o,i))||(r=this.parseMidrow(o,i)),r||(r=this.parsePAC(o,i)),r||(r=this.parseBackgroundAttributes(o,i)),!r&&(a=this.parseChars(o,i))){var s=this.currentChannel;s&&s>0?this.channels[s].insertChars(a):this.logger.log(n.WARNING,"No channel found yet. TEXT-MODE?")}r||a||this.logger.log(n.WARNING,"Couldn't parse cleaned data "+y([o,i])+" orig: "+y([e[u],e[u+1]]))}},e.parseCmd=function(t,e){var r=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(O(t,e,r))return E(null,null,r),this.logger.log(n.DEBUG,"Repeated command ("+y([t,e])+") is dropped"),!0;var o=20===t||21===t||23===t?1:2,i=this.channels[o];return 20===t||21===t||28===t||29===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),E(t,e,r),this.currentChannel=o,!0},e.parseMidrow=function(t,e){var r=0;if((17===t||25===t)&&e>=32&&e<=47){if((r=17===t?1:2)!==this.currentChannel)return this.logger.log(n.ERROR,"Mismatch channel in midrow parsing"),!1;var o=this.channels[r];return!!o&&(o.ccMIDROW(e),this.logger.log(n.DEBUG,"MIDROW ("+y([t,e])+")"),!0)}return!1},e.parsePAC=function(t,e){var r,n=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(O(t,e,n))return E(null,null,n),!0;var o=t<=23?1:2;r=e>=64&&e<=95?1===o?c[t]:f[t]:1===o?l[t]:h[t];var i=this.channels[o];return!!i&&(i.setPAC(this.interpretPAC(r,e)),E(t,e,n),this.currentChannel=o,!0)},e.interpretPAC=function(t,e){var r,n={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,n.underline=1===(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},e.parseChars=function(t,e){var r,o,i=null,u=null;if(t>=25?(r=2,u=t-8):(r=1,u=t),u>=17&&u<=19?(o=17===u?e+80:18===u?e+112:e+144,this.logger.log(n.INFO,"Special char '"+a(o)+"' in channel "+r),i=[o]):t>=32&&t<=127&&(i=0===e?[t]:[t,e]),i){var s=y(i);this.logger.log(n.DEBUG,"Char codes =  "+s.join(",")),E(t,e,this.cmdHistory)}return i},e.parseBackgroundAttributes=function(t,e){var r;if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;var n={};16===t||24===t?(r=Math.floor((e-32)/2),n.background=p[r],e%2===1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0));var o=t<=23?1:2;return this.channels[o].setBkgData(n),E(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var r=this.channels[e];r&&r.cueSplitAtTime(t)}},t}();function E(t,e,r){r.a=t,r.b=e}function O(t,e,r){return r.a===t&&r.b===e}e.default=_},"./src/utils/codecs.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"isCodecType",(function(){return o})),r.d(e,"isCodecSupportedInMp4",(function(){return i}));var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function o(t,e){var r=n[e];return!!r&&!0===r[t.slice(0,4)]}function i(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}},"./src/utils/cues.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/utils/vttparser.ts"),o=r("./src/utils/webvtt-parser.ts"),i=r("./src/utils/texttrack-utils.ts"),a=/\s/,u={newCue:function(t,e,r,u){for(var s,c,l,f,h,p=[],d=self.VTTCue||self.TextTrackCue,y=0;y<u.rows.length;y++)if(l=!0,f=0,h="",!(s=u.rows[y]).isEmpty()){for(var v=0;v<s.chars.length;v++)a.test(s.chars[v].uchar)&&l?f++:(h+=s.chars[v].uchar,l=!1);s.cueStartTime=e,e===r&&(r+=1e-4),f>=16?f--:f++;var m=Object(n.fixLineBreaks)(h.trim()),g=Object(o.generateCueId)(e,r,m);t&&t.cues&&t.cues.getCueById(g)||((c=new d(e,r,m)).id=g,c.line=y+1,c.align="left",c.position=10+Math.min(80,10*Math.floor(8*f/32)),p.push(c))}return t&&p.length&&(p.sort((function(t,e){return"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line})),p.forEach((function(e){return Object(i.addCueToTrack)(t,e)}))),p}};e.default=u},"./src/utils/discontinuities.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"findFirstFragWithCC",(function(){return a})),r.d(e,"shouldAlignOnDiscontinuities",(function(){return u})),r.d(e,"findDiscontinuousReferenceFrag",(function(){return s})),r.d(e,"adjustSlidingStart",(function(){return l})),r.d(e,"alignStream",(function(){return f})),r.d(e,"alignPDT",(function(){return h})),r.d(e,"alignFragmentByPDTDelta",(function(){return p})),r.d(e,"alignMediaPlaylistByPDT",(function(){return d}));var n=r("./src/polyfills/number.ts"),o=r("./src/utils/logger.ts"),i=r("./src/controller/level-helper.ts");function a(t,e){for(var r=null,n=0,o=t.length;n<o;n++){var i=t[n];if(i&&i.cc===e){r=i;break}}return r}function u(t,e,r){return!(!e.details||!(r.endCC>r.startCC||t&&t.cc<r.startCC))}function s(t,e){var r=t.fragments,n=e.fragments;if(n.length&&r.length){var i=a(r,n[0].cc);if(i&&(!i||i.startPTS))return i;o.logger.log("No frag in previous level to align on")}else o.logger.log("No fragments to align")}function c(t,e){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}function l(t,e){for(var r=e.fragments,n=0,o=r.length;n<o;n++)c(r[n],t);e.fragmentHint&&c(e.fragmentHint,t),e.alignedSliding=!0}function f(t,e,r){e&&(function(t,e,r){if(u(t,r,e)){var i=s(r.details,e);i&&Object(n.isFiniteNumber)(i.start)&&(o.logger.log("Adjusting PTS using last level due to CC increase within current level "+e.url),l(i.start,e))}}(t,r,e),!r.alignedSliding&&e.details&&h(r,e.details),r.alignedSliding||!e.details||r.skippedSegments||Object(i.adjustSliding)(e.details,r))}function h(t,e){if(e.fragments.length&&t.hasProgramDateTime&&e.hasProgramDateTime){var r=e.fragments[0].programDateTime,i=t.fragments[0].programDateTime,a=(i-r)/1e3+e.fragments[0].start;a&&Object(n.isFiniteNumber)(a)&&(o.logger.log("Adjusting PTS using programDateTime delta "+(i-r)+"ms, sliding:"+a.toFixed(3)+" "+t.url+" "),l(a,t))}}function p(t,e){var r=t.programDateTime;if(r){var n=(r-e)/1e3;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function d(t,e){if(e.fragments.length&&t.hasProgramDateTime&&e.hasProgramDateTime){var r=e.fragments[0].programDateTime-1e3*e.fragments[0].start;t.fragments.forEach((function(t){p(t,r)})),t.fragmentHint&&p(t.fragmentHint,r),t.alignedSliding=!0}}},"./src/utils/ewma-bandwidth-estimator.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/utils/ewma.ts"),o=function(){function t(t,e,r){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(t),this.fast_=new n.default(e)}var e=t.prototype;return e.update=function(t,e){var r=this.slow_,o=this.fast_;this.slow_.halfLife!==t&&(this.slow_=new n.default(t,r.getEstimate(),r.getTotalWeight())),this.fast_.halfLife!==e&&(this.fast_=new n.default(e,o.getEstimate(),o.getTotalWeight()))},e.sample=function(t,e){var r=(t=Math.max(t,this.minDelayMs_))/1e3,n=8*e/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}();e.default=o},"./src/utils/ewma.ts":function(t,e,r){"use strict";r.r(e);var n=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=r}var e=t.prototype;return e.sample=function(t,e){var r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_},t}();e.default=n},"./src/utils/fetch-loader.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"fetchSupported",(function(){return h}));var n=r("./src/polyfills/number.ts"),o=r("./src/loader/load-stats.ts"),i=r("./src/demux/chunk-cache.ts");function a(t){var e="function"===typeof Map?new Map:void 0;return a=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return u(t,arguments,l(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)},a(t)}function u(t,e,r){return u=s()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&c(o,r.prototype),o},u.apply(null,arguments)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f.apply(this,arguments)}function h(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}var p=function(){function t(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||d,this.controller=new self.AbortController,this.stats=new o.LoadStats}var e=t.prototype;return e.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},e.abortInternal=function(){var t=this.response;t&&t.ok||(this.stats.aborted=!0,this.controller.abort())},e.abort=function(){var t;this.abortInternal(),null!==(t=this.callbacks)&&void 0!==t&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},e.load=function(t,e,r){var o=this,i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();var a=function(t,e){var r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(f({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}(t,this.controller.signal),u=r.onProgress,s="arraybuffer"===t.responseType,c=s?"byteLength":"length";this.context=t,this.config=e,this.callbacks=r,this.request=this.fetchSetup(t,a),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){o.abortInternal(),r.onTimeout(i,t,o.response)}),e.timeout),self.fetch(this.request).then((function(r){if(o.response=o.loader=r,!r.ok){var a=r.status,c=r.statusText;throw new y(c||"fetch, bad network response",a,r)}return i.loading.first=Math.max(self.performance.now(),i.loading.start),i.total=parseInt(r.headers.get("Content-Length")||"0"),u&&Object(n.isFiniteNumber)(e.highWaterMark)?o.loadProgressively(r,i,t,e.highWaterMark,u):s?r.arrayBuffer():r.text()})).then((function(a){var s=o.response;self.clearTimeout(o.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first),i.loaded=i.total=a[c];var l={url:s.url,data:a};u&&!Object(n.isFiniteNumber)(e.highWaterMark)&&u(i,t,a,s),r.onSuccess(l,i,t,s)})).catch((function(e){if(self.clearTimeout(o.requestTimeout),!i.aborted){var n=e&&e.code||0,a=e?e.message:null;r.onError({code:n,text:a},t,e?e.details:null)}}))},e.getCacheAge=function(){var t=null;if(this.response){var e=this.response.headers.get("age");t=e?parseFloat(e):null}return t},e.loadProgressively=function(t,e,r,n,o){void 0===n&&(n=0);var a=new i.default,u=t.body.getReader();return function i(){return u.read().then((function(u){if(u.done)return a.dataLength&&o(e,r,a.flush(),t),Promise.resolve(new ArrayBuffer(0));var s=u.value,c=s.length;return e.loaded+=c,c<n||a.dataLength?(a.push(s),a.dataLength>=n&&o(e,r,a.flush(),t)):o(e,r,s,t),i()})).catch((function(){return Promise.reject()}))}()},t}();function d(t,e){return new self.Request(t.url,e)}var y=function(t){var e,r;function n(e,r,n){var o;return(o=t.call(this,e)||this).code=void 0,o.details=void 0,o.code=r,o.details=n,o}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,c(e,r),n}(a(Error));e.default=p},"./src/utils/imsc1-ttml-parser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"IMSC1_CODEC",(function(){return l})),r.d(e,"parseIMSC1",(function(){return d}));var n=r("./src/utils/mp4-tools.ts"),o=r("./src/utils/vttparser.ts"),i=r("./src/utils/vttcue.ts"),a=r("./src/demux/id3.ts"),u=r("./src/utils/timescale-conversion.ts"),s=r("./src/utils/webvtt-parser.ts");function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c.apply(this,arguments)}var l="stpp.ttml.im1t",f=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,h=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,p={left:"start",center:"center",right:"end",start:"start",end:"end"};function d(t,e,r,o,l){var f=Object(n.findBox)(new Uint8Array(t),["mdat"]);if(0!==f.length){var h=f.map((function(t){return Object(a.utf8ArrayToStr)(t)})),d=Object(u.toTimescaleFromScale)(e,1,r);try{h.forEach((function(t){return o(function(t,e){var r=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");var n={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(n).reduce((function(t,e){return t[e]=r.getAttribute("ttp:"+e)||n[e],t}),{}),a="preserve"!==r.getAttribute("xml:space"),u=v(y(r,"styling","style")),l=v(y(r,"layout","region")),f=y(r,"body","[begin]");return[].map.call(f,(function(t){var r=m(t,a);if(!r||!t.hasAttribute("begin"))return null;var n=w(t.getAttribute("begin"),o),f=w(t.getAttribute("dur"),o),h=w(t.getAttribute("end"),o);if(null===n)throw b(t);if(null===h){if(null===f)throw b(t);h=n+f}var d=new i.default(n-e,h-e,r);d.id=Object(s.generateCueId)(d.startTime,d.endTime,d.text);var y=l[t.getAttribute("region")],v=u[t.getAttribute("style")];d.position=10,d.size=80;var _=function(t,e,r){var n="http://www.w3.org/ns/ttml#styling",o=null,i=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=null!==t&&void 0!==t&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&r.hasOwnProperty(a)&&(o=r[a]),i.reduce((function(r,i){var a=g(e,n,i)||g(t,n,i)||g(o,n,i);return a&&(r[i]=a),r}),{})}(y,v,u),E=_.textAlign;if(E){var O=p[E];O&&(d.lineAlign=O),d.align=E}return c(d,_),d})).filter((function(t){return null!==t}))}(t,d))}))}catch(_){l(_)}}else l(new Error("Could not parse IMSC1 mdat"))}function y(t,e,r){var n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function v(t){return t.reduce((function(t,e){var r=e.getAttribute("xml:id");return r&&(t[r]=e),t}),{})}function m(t,e){return[].slice.call(t.childNodes).reduce((function(t,r,n){var o;return"br"===r.nodeName&&n?t+"\n":null!==(o=r.childNodes)&&void 0!==o&&o.length?m(r,e):e?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent}),"")}function g(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function b(t){return new Error("Could not parse ttml timestamp "+t)}function w(t,e){if(!t)return null;var r=Object(o.parseTimeStamp)(t);return null===r&&(f.test(t)?r=function(t,e){var r=f.exec(t),n=(0|r[4])+(0|r[5])/e.subFrameRate;return 3600*(0|r[1])+60*(0|r[2])+(0|r[3])+n/e.frameRate}(t,e):h.test(t)&&(r=function(t,e){var r=h.exec(t),n=Number(r[1]);switch(r[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}(t,e))),r}},"./src/utils/logger.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"enableLogs",(function(){return u})),r.d(e,"logger",(function(){return s}));var n=function(){},o={trace:n,debug:n,log:n,warn:n,info:n,error:n},i=o;function a(t){var e=self.console[t];return e?e.bind(self.console,"["+t+"] >"):n}function u(t){if(self.console&&!0===t||"object"===typeof t){!function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach((function(e){i[e]=t[e]?t[e].bind(t):a(e)}))}(t,"debug","log","info","warn","error");try{i.log()}catch(e){i=o}}else i=o}var s=o},"./src/utils/mediakeys-helper.ts":function(t,e,r){"use strict";var n;r.r(e),r.d(e,"KeySystems",(function(){return n})),r.d(e,"requestMediaKeySystemAccess",(function(){return o})),function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready"}(n||(n={}));var o="undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(t,e,r){"use strict";function n(){return self.MediaSource||self.WebKitMediaSource}r.r(e),r.d(e,"getMediaSource",(function(){return n}))},"./src/utils/mp4-tools.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"RemuxerTrackIdConfig",(function(){return s})),r.d(e,"bin2str",(function(){return c})),r.d(e,"readUint16",(function(){return l})),r.d(e,"readUint32",(function(){return f})),r.d(e,"readSint32",(function(){return h})),r.d(e,"writeUint32",(function(){return p})),r.d(e,"findBox",(function(){return d})),r.d(e,"parseSegmentIndex",(function(){return y})),r.d(e,"parseInitSegment",(function(){return v})),r.d(e,"getStartDTS",(function(){return m})),r.d(e,"getDuration",(function(){return g})),r.d(e,"computeRawDurationFromSamples",(function(){return b})),r.d(e,"offsetStartDTS",(function(){return w})),r.d(e,"segmentValidRange",(function(){return _})),r.d(e,"appendUint8Array",(function(){return E})),r.d(e,"parseSamples",(function(){return O})),r.d(e,"parseSEIMessageFromNALu",(function(){return x})),r.d(e,"parseEmsg",(function(){return k}));var n=r("./src/utils/typed-array.ts"),o=r("./src/loader/fragment.ts"),i=r("./src/demux/id3.ts"),a=Math.pow(2,32)-1,u=[].push,s={video:1,audio:2,id3:3,text:4};function c(t){return String.fromCharCode.apply(null,t)}function l(t,e){var r=t[e]<<8|t[e+1];return r<0?65536+r:r}function f(t,e){var r=h(t,e);return r<0?4294967296+r:r}function h(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function p(t,e,r){t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r}function d(t,e){var r=[];if(!e.length)return r;for(var n=t.byteLength,o=0;o<n;){var i=f(t,o),a=i>1?o+i:n;if(c(t.subarray(o+4,o+8))===e[0])if(1===e.length)r.push(t.subarray(o+8,a));else{var s=d(t.subarray(o+8,a),e.slice(1));s.length&&u.apply(r,s)}o=a}return r}function y(t){var e=[],r=t[0],n=8,o=f(t,n);n+=4,n+=0===r?8:16,n+=2;var i=t.length+0,a=l(t,n);n+=2;for(var u=0;u<a;u++){var s=n,c=f(t,s);s+=4;var h=2147483647&c;if(1===(2147483648&c)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var p=f(t,s);s+=4,e.push({referenceSize:h,subsegmentDuration:p,info:{duration:p/o,start:i,end:i+h-1}}),i+=h,n=s+=4}return{earliestPresentationTime:0,timescale:o,version:r,referencesCount:a,references:e}}function v(t){for(var e=[],r=d(t,["moov","trak"]),n=0;n<r.length;n++){var i=r[n],a=d(i,["tkhd"])[0];if(a){var u=a[0],s=0===u?12:20,l=f(a,s),h=d(i,["mdia","mdhd"])[0];if(h){var p=f(h,s=0===(u=h[0])?12:20),y=d(i,["mdia","hdlr"])[0];if(y){var v=c(y.subarray(8,12)),m={soun:o.ElementaryStreamTypes.AUDIO,vide:o.ElementaryStreamTypes.VIDEO}[v];if(m){var g=d(i,["mdia","minf","stbl","stsd"])[0],b=void 0;g&&(b=c(g.subarray(12,16))),e[l]={timescale:p,type:m},e[m]={timescale:p,id:l,codec:b}}}}}}return d(t,["moov","mvex","trex"]).forEach((function(t){var r=f(t,4),n=e[r];n&&(n.default={duration:f(t,12),flags:f(t,20)})})),e}function m(t,e){return d(e,["moof","traf"]).reduce((function(e,r){var n=d(r,["tfdt"])[0],o=n[0],i=d(r,["tfhd"]).reduce((function(e,r){var i=f(r,4),a=t[i];if(a){var u=f(n,4);1===o&&(u*=Math.pow(2,32),u+=f(n,8));var s=u/(a.timescale||9e4);if(isFinite(s)&&(null===e||s<e))return s}return e}),null);return null!==i&&isFinite(i)&&(null===e||i<e)?i:e}),null)||0}function g(t,e){for(var r=0,n=0,i=0,a=d(t,["moof","traf"]),u=0;u<a.length;u++){var s=a[u],c=d(s,["tfhd"])[0],l=e[f(c,4)];if(l){var h=l.default,p=f(c,0)|(null===h||void 0===h?void 0:h.flags),v=null===h||void 0===h?void 0:h.duration;8&p&&(v=f(c,2&p?12:8));for(var m=l.timescale||9e4,g=d(s,["trun"]),w=0;w<g.length;w++)!(r=b(g[w]))&&v&&(r=v*f(g[w],4)),l.type===o.ElementaryStreamTypes.VIDEO?n+=r/m:l.type===o.ElementaryStreamTypes.AUDIO&&(i+=r/m)}}if(0===n&&0===i){for(var _=0,E=d(t,["sidx"]),O=0;O<E.length;O++){var S=y(E[O]);null!==S&&void 0!==S&&S.references&&(_+=S.references.reduce((function(t,e){return t+e.info.duration||0}),0))}return _}return n||i}function b(t){var e=f(t,0),r=8;1&e&&(r+=4),4&e&&(r+=4);for(var n=0,o=f(t,4),i=0;i<o;i++)256&e&&(n+=f(t,r),r+=4),512&e&&(r+=4),1024&e&&(r+=4),2048&e&&(r+=4);return n}function w(t,e,r){d(e,["moof","traf"]).forEach((function(e){d(e,["tfhd"]).forEach((function(n){var o=f(n,4),i=t[o];if(i){var u=i.timescale||9e4;d(e,["tfdt"]).forEach((function(t){var e=t[0],n=f(t,4);if(0===e)n-=r*u,p(t,4,n=Math.max(n,0));else{n*=Math.pow(2,32),n+=f(t,8),n-=r*u,n=Math.max(n,0);var o=Math.floor(n/(a+1)),i=Math.floor(n%(a+1));p(t,4,o),p(t,8,i)}}))}}))}))}function _(t){var e={valid:null,remainder:null},r=d(t,["moof"]);if(!r)return e;if(r.length<2)return e.remainder=t,e;var o=r[r.length-1];return e.valid=Object(n.sliceUint8)(t,0,o.byteOffset-8),e.remainder=Object(n.sliceUint8)(t,o.byteOffset-8),e}function E(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function O(t,e){var r=[],n=e.samples,i=e.timescale,a=e.id,u=!1;return d(n,["moof"]).map((function(s){var c=s.byteOffset-8;d(s,["traf"]).map((function(s){var l=d(s,["tfdt"]).map((function(t){var e=t[0],r=f(t,4);return 1===e&&(r*=Math.pow(2,32),r+=f(t,8)),r/i}))[0];return void 0!==l&&(t=l),d(s,["tfhd"]).map((function(l){var p=f(l,4),y=16777215&f(l,0),v=0,m=0!==(16&y),g=0,b=0!==(32&y),w=8;p===a&&(0!==(1&y)&&(w+=8),0!==(2&y)&&(w+=4),0!==(8&y)&&(v=f(l,w),w+=4),m&&(g=f(l,w),w+=4),b&&(w+=4),"video"===e.type&&(u=function(t){if(!t)return!1;var e=t.indexOf("."),r=e<0?t:t.substring(0,e);return"hvc1"===r||"hev1"===r||"dvh1"===r||"dvhe"===r}(e.codec)),d(s,["trun"]).map((function(a){var s=a[0],l=16777215&f(a,0),p=0!==(1&l),d=0,y=0!==(4&l),m=0!==(256&l),b=0,w=0!==(512&l),_=0,E=0!==(1024&l),O=0!==(2048&l),k=0,j=f(a,4),T=8;p&&(d=f(a,T),T+=4),y&&(T+=4);for(var L=d+c,P=0;P<j;P++){if(m?(b=f(a,T),T+=4):b=v,w?(_=f(a,T),T+=4):_=g,E&&(T+=4),O&&(k=0===s?f(a,T):h(a,T),T+=4),e.type===o.ElementaryStreamTypes.VIDEO)for(var A=0;A<_;){var C=f(n,L),I=31&n[L+=4];S(u,I)&&x(n.subarray(L,L+C),t+k/i,r),L+=C,A+=C+4}t+=b/i}})))}))}))})),r}function S(t,e){return t?39===e||40===e:6===e}function x(t,e,r){var n=function(t){for(var e=t.byteLength,r=[],n=1;n<e-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(r.push(n+2),n+=2):n++;if(0===r.length)return t;var o=e-r.length,i=new Uint8Array(o),a=0;for(n=0;n<o;a++,n++)a===r[0]&&(a++,r.shift()),i[n]=t[a];return i}(t),o=0;o++;for(var a=0,u=0,s=!1,c=0;o<n.length;){a=0;do{if(o>=n.length)break;a+=c=n[o++]}while(255===c);u=0;do{if(o>=n.length)break;u+=c=n[o++]}while(255===c);var h=n.length-o;if(!s&&4===a&&o<n.length){if(s=!0,181===n[o++]){var p=l(n,o);if(o+=2,49===p){var d=f(n,o);if(o+=4,1195456820===d){var y=n[o++];if(3===y){var v=n[o++],m=64&v,g=m?2+3*(31&v):0,b=new Uint8Array(g);if(m){b[0]=v;for(var w=1;w<g;w++)b[w]=n[o++]}r.push({type:y,payloadType:a,pts:e,bytes:b})}}}}}else if(5===a&&u<h){if(s=!0,u>16){for(var _=[],E=0;E<16;E++){var O=n[o++].toString(16);_.push(1==O.length?"0"+O:O),3!==E&&5!==E&&7!==E&&9!==E||_.push("-")}for(var S=u-16,x=new Uint8Array(S),k=0;k<S;k++)x[k]=n[o++];r.push({payloadType:a,pts:e,uuid:_.join(""),userData:Object(i.utf8ArrayToStr)(x),userDataBytes:x})}}else if(u<h)o+=u;else if(u>h)break}}function k(t){var e=t[0],r="",n="",o=0,i=0,a=0,u=0,s=0,l=0;if(0===e){for(;"\0"!==c(t.subarray(l,l+1));)r+=c(t.subarray(l,l+1)),l+=1;for(r+=c(t.subarray(l,l+1)),l+=1;"\0"!==c(t.subarray(l,l+1));)n+=c(t.subarray(l,l+1)),l+=1;n+=c(t.subarray(l,l+1)),l+=1,o=f(t,12),i=f(t,16),u=f(t,20),s=f(t,24),l=28}else if(1===e){o=f(t,l+=4);var h=f(t,l+=4),p=f(t,l+=4);for(l+=4,a=Math.pow(2,32)*h+p,Number.isSafeInteger(a)||(a=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),u=f(t,l),s=f(t,l+=4),l+=4;"\0"!==c(t.subarray(l,l+1));)r+=c(t.subarray(l,l+1)),l+=1;for(r+=c(t.subarray(l,l+1)),l+=1;"\0"!==c(t.subarray(l,l+1));)n+=c(t.subarray(l,l+1)),l+=1;n+=c(t.subarray(l,l+1)),l+=1}return{schemeIdUri:r,value:n,timeScale:o,presentationTime:a,presentationTimeDelta:i,eventDuration:u,id:s,payload:t.subarray(l,t.byteLength)}}},"./src/utils/output-filter.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return n}));var n=function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[],this.startTime=null},t}()},"./src/utils/texttrack-utils.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"sendAddTrackEvent",(function(){return o})),r.d(e,"addCueToTrack",(function(){return i})),r.d(e,"clearCurrentCues",(function(){return a})),r.d(e,"removeCuesInRange",(function(){return u})),r.d(e,"getCuesInRange",(function(){return s}));var n=r("./src/utils/logger.ts");function o(t,e){var r;try{r=new Event("addtrack")}catch(n){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function i(t,e){var r=t.mode;if("disabled"===r&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(i){n.logger.debug("[texttrack-utils]: "+i);var o=new self.TextTrackCue(e.startTime,e.endTime,e.text);o.id=e.id,t.addCue(o)}"disabled"===r&&(t.mode=r)}function a(t){var e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(var r=t.cues.length;r--;)t.removeCue(t.cues[r]);"disabled"===e&&(t.mode=e)}function u(t,e,r,n){var o=t.mode;if("disabled"===o&&(t.mode="hidden"),t.cues&&t.cues.length>0)for(var i=s(t.cues,e,r),a=0;a<i.length;a++)n&&!n(i[a])||t.removeCue(i[a]);"disabled"===o&&(t.mode=o)}function s(t,e,r){var n=[],o=function(t,e){if(e<t[0].startTime)return 0;var r=t.length-1;if(e>t[r].endTime)return-1;for(var n=0,o=r;n<=o;){var i=Math.floor((o+n)/2);if(e<t[i].startTime)o=i-1;else{if(!(e>t[i].startTime&&n<r))return i;n=i+1}}return t[n].startTime-e<e-t[o].startTime?n:o}(t,e);if(o>-1)for(var i=o,a=t.length;i<a;i++){var u=t[i];if(u.startTime>=e&&u.endTime<=r)n.push(u);else if(u.startTime>r)return n}return n}},"./src/utils/time-ranges.ts":function(t,e,r){"use strict";r.r(e),e.default={toString:function(t){for(var e="",r=t.length,n=0;n<r;n++)e+="["+t.start(n).toFixed(3)+","+t.end(n).toFixed(3)+"]";return e}}},"./src/utils/timescale-conversion.ts":function(t,e,r){"use strict";function n(t,e,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var o=t*e*r;return n?Math.round(o):o}function o(t,e,r,o){return void 0===r&&(r=1),void 0===o&&(o=!1),n(t,e,1/r,o)}function i(t,e){return void 0===e&&(e=!1),n(t,1e3,1/9e4,e)}function a(t,e){return void 0===e&&(e=1),n(t,9e4,1/e)}r.r(e),r.d(e,"toTimescaleFromBase",(function(){return n})),r.d(e,"toTimescaleFromScale",(function(){return o})),r.d(e,"toMsFromMpegTsClock",(function(){return i})),r.d(e,"toMpegTsClockFromTimescale",(function(){return a}))},"./src/utils/typed-array.ts":function(t,e,r){"use strict";function n(t,e,r){return Uint8Array.prototype.slice?t.slice(e,r):new Uint8Array(Array.prototype.slice.call(t,e,r))}r.r(e),r.d(e,"sliceUint8",(function(){return n}))},"./src/utils/vttcue.ts":function(t,e,r){"use strict";r.r(e),e.default=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var t=["","lr","rl"],e=["start","middle","end","left","right"];function r(t,e){if("string"!==typeof e)return!1;if(!Array.isArray(t))return!1;var r=e.toLowerCase();return!!~t.indexOf(r)&&r}function n(t){return r(e,t)}function o(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var a in i)t[a]=i[a]}return t}function i(e,i,a){var u=this,s={enumerable:!0};u.hasBeenReset=!1;var c="",l=!1,f=e,h=i,p=a,d=null,y="",v=!0,m="auto",g="start",b=50,w="middle",_=50,E="middle";Object.defineProperty(u,"id",o({},s,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(u,"pauseOnExit",o({},s,{get:function(){return l},set:function(t){l=!!t}})),Object.defineProperty(u,"startTime",o({},s,{get:function(){return f},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",o({},s,{get:function(){return h},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",o({},s,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",o({},s,{get:function(){return d},set:function(t){d=t,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",o({},s,{get:function(){return y},set:function(e){var n=function(e){return r(t,e)}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");y=n,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",o({},s,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",o({},s,{get:function(){return m},set:function(t){if("number"!==typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",o({},s,{get:function(){return g},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",o({},s,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",o({},s,{get:function(){return w},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",o({},s,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",o({},s,{get:function(){return E},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");E=e,this.hasBeenReset=!0}})),u.displayState=void 0}return i.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},i}()},"./src/utils/vttparser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"parseTimeStamp",(function(){return i})),r.d(e,"fixLineBreaks",(function(){return f})),r.d(e,"VTTParser",(function(){return h}));var n=r("./src/utils/vttcue.ts"),o=function(){function t(){}return t.prototype.decode=function(t,e){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))},t}();function i(t){function e(t,e,r,n){return 3600*(0|t)+60*(0|e)+(0|r)+parseFloat(n||0)}var r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}var a=function(){function t(){this.values=Object.create(null)}var e=t.prototype;return e.set=function(t,e){this.get(t)||""===e||(this.values[t]=e)},e.get=function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},e.has=function(t){return t in this.values},e.alt=function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},e.integer=function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},e.percent=function(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){var r=parseFloat(e);if(r>=0&&r<=100)return this.set(t,r),!0}return!1},t}();function u(t,e,r,n){var o=n?t.split(n):[t];for(var i in o)if("string"===typeof o[i]){var a=o[i].split(r);2===a.length&&e(a[0],a[1])}}var s=new n.default(0,0,""),c="middle"===s.align?"middle":"center";function l(t,e,r){var n=t;function o(){var e=i(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=o(),l(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.slice(3),l(),e.endTime=o(),l(),function(t,e){var n=new a;u(t,(function(t,e){var o;switch(t){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===e){n.set(t,r[i].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":o=e.split(","),n.integer(t,o[0]),n.percent(t,o[0])&&n.set("snapToLines",!1),n.alt(t,o[0],["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start",c,"end"]);break;case"position":o=e.split(","),n.percent(t,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start",c,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",c,"end","left","right"])}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var o=n.get("line","auto");"auto"===o&&-1===s.line&&(o=-1),e.line=o,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",c);var i=n.get("position","auto");"auto"===i&&50===s.position&&(i="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=i}(t,e)}function f(t){return t.replace(/<br(?: \/)?>/gi,"\n")}var h=function(){function t(){this.state="INITIAL",this.buffer="",this.decoder=new o,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var e=t.prototype;return e.parse=function(t){var e=this;function r(){var t=e.buffer,r=0;for(t=f(t);r<t.length&&"\r"!==t[r]&&"\n"!==t[r];)++r;var n=t.slice(0,r);return"\r"===t[r]&&++r,"\n"===t[r]&&++r,e.buffer=t.slice(r),n}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var o="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var i=(o=r()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:o=r(),e.state){case"HEADER":/:/.test(o)?u(o,(function(t,e){}),/:/):o||(e.state="ID");continue;case"NOTE":o||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){e.state="NOTE";break}if(!o)continue;if(e.cue=new n.default(0,0,""),e.state="CUE",-1===o.indexOf("--\x3e")){e.cue.id=o;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{l(o,e.cue,e.regionList)}catch(c){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==o.indexOf("--\x3e");if(!o||s&&(a=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=o;continue;case"BADCUE":o||(e.state="ID")}}}catch(c){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},e.flush=function(){var t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this},t}()},"./src/utils/webvtt-parser.ts":function(t,e,r){"use strict";r.r(e),r.d(e,"generateCueId",(function(){return f})),r.d(e,"parseWebVTT",(function(){return h}));var n=r("./src/polyfills/number.ts"),o=r("./src/utils/vttparser.ts"),i=r("./src/demux/id3.ts"),a=r("./src/utils/timescale-conversion.ts"),u=r("./src/remux/mp4-remuxer.ts"),s=/\r\n|\n\r|\n|\r/g,c=function(t,e,r){return void 0===r&&(r=0),t.slice(r,r+e.length)===e},l=function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return(e>>>0).toString()};function f(t,e,r){return l(t.toString())+l(e.toString())+l(r)}function h(t,e,r,l,h,p,d,y){var v,m=new o.VTTParser,g=Object(i.utf8ArrayToStr)(new Uint8Array(t)).trim().replace(s,"\n").split("\n"),b=[],w=Object(a.toMpegTsClockFromTimescale)(e,r),_="00:00.000",E=0,O=0,S=!0;m.oncue=function(t){var e=l[h],r=l.ccOffset,n=(E-w)/9e4;null!==e&&void 0!==e&&e.new&&(void 0!==O?r=l.ccOffset=e.start:function(t,e,r){var n=t[e],o=t[n.prevCC];if(!o||!o.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);for(;null!==(i=o)&&void 0!==i&&i.new;){var i;t.ccOffset+=n.start-o.start,n.new=!1,o=t[(n=o).prevCC]}t.presentationOffset=r}(l,h,n)),n&&(r=n-l.presentationOffset);var o=t.endTime-t.startTime,i=Object(u.normalizePts)(9e4*(t.startTime+r-O),9e4*p)/9e4;t.startTime=Math.max(i,0),t.endTime=Math.max(i+o,0);var a=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(a)),t.id||(t.id=f(t.startTime,t.endTime,a)),t.endTime>0&&b.push(t)},m.onparsingerror=function(t){v=t},m.onflush=function(){v?y(v):d(b)},g.forEach((function(t){if(S){if(c(t,"X-TIMESTAMP-MAP=")){S=!1,t.slice(16).split(",").forEach((function(t){c(t,"LOCAL:")?_=t.slice(6):c(t,"MPEGTS:")&&(E=parseInt(t.slice(7)))}));try{O=function(t){var e=parseInt(t.slice(-3)),r=parseInt(t.slice(-6,-4)),o=parseInt(t.slice(-9,-7)),i=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!Object(n.isFiniteNumber)(e)||!Object(n.isFiniteNumber)(r)||!Object(n.isFiniteNumber)(o)||!Object(n.isFiniteNumber)(i))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*r,(e+=6e4*o)+36e5*i}(_)/1e3}catch(e){v=e}return}""===t&&(S=!1)}m.parse(t+"\n")})),m.flush()}},"./src/utils/xhr-loader.ts":function(t,e,r){"use strict";r.r(e);var n=r("./src/utils/logger.ts"),o=r("./src/loader/load-stats.ts"),i=/^age:\s*[\d.]+\s*$/m,a=function(){function t(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t?t.xhrSetup:null,this.stats=new o.LoadStats,this.retryDelay=0}var e=t.prototype;return e.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},e.abortInternal=function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))},e.abort=function(){var t;this.abortInternal(),null!==(t=this.callbacks)&&void 0!==t&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},e.load=function(t,e,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=r,this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t=this.config,e=this.context;if(t){var r=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0;var o=this.xhrSetup;try{if(o)try{o(r,e.url)}catch(u){r.open("GET",e.url,!0),o(r,e.url)}r.readyState||r.open("GET",e.url,!0);var i=this.context.headers;if(i)for(var a in i)r.setRequestHeader(a,i[a])}catch(u){return void this.callbacks.onError({code:r.status,text:u.message},e,r)}e.rangeEnd&&r.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=e.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),t.timeout),r.send()}},e.readystatechange=function(){var t=this.context,e=this.loader,r=this.stats;if(t&&e){var o=e.readyState,i=this.config;if(!r.aborted&&o>=2)if(self.clearTimeout(this.requestTimeout),0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start)),4===o){e.onreadystatechange=null,e.onprogress=null;var a=e.status;if(a>=200&&a<300){var u,s;if(r.loading.end=Math.max(self.performance.now(),r.loading.first),s="arraybuffer"===t.responseType?(u=e.response).byteLength:(u=e.responseText).length,r.loaded=r.total=s,!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(r,t,u,e),!this.callbacks)return;var l={url:e.responseURL,data:u};this.callbacks.onSuccess(l,r,t,e)}else r.retry>=i.maxRetry||a>=400&&a<499?(n.logger.error(a+" while loading "+t.url),this.callbacks.onError({code:a,text:e.statusText},t,e)):(n.logger.warn(a+" while loading "+t.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.maxRetryDelay),r.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout)}},e.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url);var t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))},e.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)},e.getCacheAge=function(){var t=null;if(this.loader&&i.test(this.loader.getAllResponseHeaders())){var e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t},t}();e.default=a}}).default},t.exports=n())},function(t,e,r){"use strict";r.r(e),r.d(e,"EXTENDED_FORMAT",(function(){return _})),r.d(e,"TIMER_FORMAT",(function(){return E}));var n,o=r(14),i=r(0),a=r.n(i),u=r(21),s=r(20);function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var f,h=(f=s.a)&&"object"===typeof f&&"default"in f?f.default:f,p=/^0/;function d(t){var e=!0;return t.filter((function(t){return"literal"!==t.type||t.value.trim()?(e=!1,!0):!e&&(e=!0,!0)}))}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;this.locales=t,this.unit="second",this.style=e.style||y.styles.LONG,this.isTimer=this.style===y.styles.TIMER,this.format=e.format||(this.isTimer?"{minutes}:{seconds}":"{seconds}"),this.formatUnits=e.formatUnits||v.formatUnits,this.formatDuration=e.formatDuration||v.formatDuration,this.shouldRound=!0===e.round}y.units={DAY:"day",HOUR:"hour",MINUTE:"minute",SECOND:"second"},y.styles={CUSTOM:"custom",TIMER:"timer",LONG:"long",SHORT:"short",NARROW:"narrow"},y.prototype.formatToParts=function(t){var e=this,r=new h(this.format,this.locales).formatToParts({second:{unit:y.units.SECOND},seconds:{unit:y.units.SECOND},minute:{unit:y.units.MINUTE},minutes:{unit:y.units.MINUTE},hour:{unit:y.units.HOUR},hours:{unit:y.units.HOUR},day:{unit:y.units.DAY},days:{unit:y.units.DAY}}),n=function(t,e,r,n){var o=t*g[e];if(n){var i=[y.units.SECOND,y.units.MINUTE,y.units.HOUR,y.units.DAY].find((function(t){return b(r,t)})),a=o%g[i];2*a>=g[i]&&(o+=g[i]-a)}var u={};return[y.units.DAY,y.units.HOUR,y.units.MINUTE,y.units.SECOND].forEach((function(t){b(r,t)&&(u[t]=Math.floor(o/g[t]),o-=u[t]*g[t])})),u}(t,this.unit,r,this.shouldRound),o=r.reduce((function(t,r){return t.concat(e._formatToken(r,n))}),[]);return this._trimOutput(o,r)},y.prototype._formatToken=function(t,e){var r=t.value;if(r.unit){var n=e[r.unit];return n||this.isTimer?this._formatDurationToParts(r.unit,n):[]}return r?[{type:"literal",value:r}]:[]},y.prototype._formatDurationToParts=function(t,e){var r,n=this;return this.isTimer?[{type:t,value:this._formatValue(e)}]:(r=this.style,[y.styles.LONG,y.styles.SHORT,y.styles.NARROW].includes(r)?new Intl.NumberFormat(this.locales,{style:"unit",unit:t,unitDisplay:this.style}).formatToParts(e).map((function(e){return{type:"integer"===e.type?t:e.type,value:e.value}})):this.formatDuration.split(m).map((function(r){if("{value}"===r)return{type:t,value:n._formatValue(e)};if("{unit}"===r){var o=n.formatUnits[t]||"{value}";return{type:"unit",value:new h(o,n.locales).format({value:e})}}return r?{type:"literal",value:r}:void 0})).filter(Boolean))},y.prototype._formatValue=function(t){return this.isTimer?t.toString().padStart(2,"0"):t.toString()},y.prototype._trimOutput=function(t,e){var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=d(d(t).reverse()).reverse();if(e){var n=r.find((function(t){return"literal"!==t.type}));n.value=n.value.replace(p,"")}return r}(t,this.isTimer);if(!r.find((function(t){return"literal"!==t.type}))){var n=[y.units.SECOND,y.units.MINUTE,y.units.HOUR,y.units.DAY].find((function(t){return b(e,t)}));return this._formatDurationToParts(n,0)}return r};var v={formatDuration:"{value} {unit}",formatUnits:(n={},Object(o.a)(n,y.units.DAY,"{value, plural, one {day} other {days}}"),Object(o.a)(n,y.units.HOUR,"{value, plural, one {hour} other {hours}}"),Object(o.a)(n,y.units.MINUTE,"{value, plural, one {minute} other {minutes}}"),Object(o.a)(n,y.units.SECOND,"{value, plural, one {second} other {seconds}}"),n),style:y.styles.LONG},m=/(\{value\}|\{unit\})/,g={day:86400,hour:3600,minute:60,second:1};function b(t,e){return!!t.find((function(t){return t.value.unit===e}))}var w=y,_="EXTENDED_FORMAT",E="TIMER_FORMAT";var O=Object(u.c)((function(t){var e,r=t.intl,n=t.seconds,o=t.format,i=t.textComponent,u=t.unitDisplay,s=t.valueComponent,f=l(t,["intl","seconds","format","textComponent","unitDisplay","valueComponent"]),h=r.messages["react-intl-formatted-duration/custom-format/".concat(o||"")]||o;o&&o!==_||(h=r.messages["react-intl-formatted-duration.longFormatting"]||"{minutes} {seconds}"),o===E&&(h=r.messages["react-intl-formatted-duration.timerFormatting"]||"{minutes}:{seconds}");var p=u;p||(p=o===E?w.styles.TIMER:w.styles.CUSTOM);var d=new w(r.locale,{format:h,formatUnits:(e={},c(e,w.units.DAY,r.messages["react-intl-formatted-duration.daysUnit"]||"{value, plural, one {day} other {days}}"),c(e,w.units.HOUR,r.messages["react-intl-formatted-duration.hoursUnit"]||"{value, plural, one {hour} other {hours}}"),c(e,w.units.MINUTE,r.messages["react-intl-formatted-duration.minutesUnit"]||"{value, plural, one {minute} other {minutes}}"),c(e,w.units.SECOND,r.messages["react-intl-formatted-duration.secondsUnit"]||"{value, plural, one {second} other {seconds}}"),e),formatDuration:r.messages["react-intl-formatted-duration.duration"]||"{value} {unit}",round:!0,style:p}).formatToParts(n),y=i||r.textComponent,v=s||i||r.textComponent;return a.a.createElement(y,f,d.map((function(t){return"literal"===t.type||"unit"===t.type?t.value:a.a.createElement(v,{key:t.type},t.value)})))}));e.default=O},function(t,e,r){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e="array",r="bits",n="byte",o="bytes",i="",a="exponent",u="function",s="iec",c="Invalid number",l="Invalid rounding method",f="jedec",h="object",p=".",d="round",y="kbit",v="string",m={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function g(g){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=b.bits,_=void 0!==w&&w,E=b.pad,O=void 0!==E&&E,S=b.base,x=void 0===S?-1:S,k=b.round,j=void 0===k?2:k,T=b.locale,L=void 0===T?i:T,P=b.localeOptions,A=void 0===P?{}:P,C=b.separator,I=void 0===C?i:C,R=b.spacer,D=void 0===R?" ":R,N=b.symbols,F=void 0===N?{}:N,M=b.standard,B=void 0===M?i:M,U=b.output,z=void 0===U?v:U,G=b.fullform,q=void 0!==G&&G,H=b.fullforms,V=void 0===H?[]:H,$=b.exponent,W=void 0===$?-1:$,K=b.roundingMethod,Y=void 0===K?d:K,Q=b.precision,X=void 0===Q?0:Q,J=W,Z=Number(g),tt=[],et=0,rt=i;-1===x&&0===B.length?(x=10,B=f):-1===x&&B.length>0?x=(B=B===s?s:f)===s?2:10:B=10===(x=2===x?2:10)||B===f?f:s;var nt=10===x?1e3:1024,ot=!0===q,it=Z<0,at=Math[Y];if(isNaN(g))throw new TypeError(c);if(t(at)!==u)throw new TypeError(l);if(it&&(Z=-Z),(-1===J||isNaN(J))&&(J=Math.floor(Math.log(Z)/Math.log(nt)))<0&&(J=0),J>8&&(X>0&&(X+=8-J),J=8),z===a)return J;if(0===Z)tt[0]=0,rt=tt[1]=m.symbol[B][_?r:o][J];else{et=Z/(2===x?Math.pow(2,10*J):Math.pow(1e3,J)),_&&(et*=8)>=nt&&J<8&&(et/=nt,J++);var ut=Math.pow(10,J>0?j:0);tt[0]=at(et*ut)/ut,tt[0]===nt&&J<8&&-1===W&&(tt[0]=1,J++),rt=tt[1]=10===x&&1===J?_?y:"kB":m.symbol[B][_?r:o][J]}if(it&&(tt[0]=-tt[0]),X>0&&(tt[0]=tt[0].toPrecision(X)),tt[1]=F[tt[1]]||tt[1],!0===L?tt[0]=tt[0].toLocaleString():L.length>0?tt[0]=tt[0].toLocaleString(L,A):I.length>0&&(tt[0]=tt[0].toString().replace(p,I)),O&&!1===Number.isInteger(tt[0])&&j>0){var st=I||p,ct=tt[0].toString().split(st),lt=ct[1]||i,ft=lt.length,ht=j-ft;tt[0]="".concat(ct[0]).concat(st).concat(lt.padEnd(ft+ht,"0"))}return ot&&(tt[1]=V[J]?V[J]:m.fullform[B][J]+(_?"bit":n)+(1===tt[0]?i:"s")),z===e?tt:z===h?{value:tt[0],symbol:tt[1],exponent:J,unit:rt}:tt.join(D)}return g.partial=function(t){return function(e){return g(e,t)}},g}()},function(t,e,r){var n=r(18),o=r(230),i=r(231),a=Math.max,u=Math.min;t.exports=function(t,e,r){var s,c,l,f,h,p,d=0,y=!1,v=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var r=s,n=c;return s=c=void 0,d=e,f=t.apply(n,r)}function b(t){return d=t,h=setTimeout(_,e),y?g(t):f}function w(t){var r=t-p;return void 0===p||r>=e||r<0||v&&t-d>=l}function _(){var t=o();if(w(t))return E(t);h=setTimeout(_,function(t){var r=e-(t-p);return v?u(r,l-(t-d)):r}(t))}function E(t){return h=void 0,m&&s?g(t):(s=c=void 0,f)}function O(){var t=o(),r=w(t);if(s=arguments,c=this,p=t,r){if(void 0===h)return b(p);if(v)return clearTimeout(h),h=setTimeout(_,e),g(p)}return void 0===h&&(h=setTimeout(_,e)),f}return e=i(e)||0,n(r)&&(y=!!r.leading,l=(v="maxWait"in r)?a(i(r.maxWait)||0,e):l,m="trailing"in r?!!r.trailing:m),O.cancel=function(){void 0!==h&&clearTimeout(h),d=0,s=p=c=h=void 0},O.flush=function(){return void 0===h?f:E(o())},O}},function(t,e,r){var n=r(15);t.exports=function(){return n.Date.now()}},function(t,e,r){var n=r(95),o=r(18),i=r(34),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=u.test(t);return r||s.test(t)?c(t.slice(2),r?2:8):a.test(t)?NaN:+t}},function(t,e){var r=/\s/;t.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},function(t,e,r){var n=r(234),o=r(273)((function(t,e,r){n(t,e,r)}));t.exports=o},function(t,e,r){var n=r(64),o=r(96),i=r(98),a=r(258),u=r(18),s=r(102),c=r(101);t.exports=function t(e,r,l,f,h){e!==r&&i(r,(function(i,s){if(h||(h=new n),u(i))a(e,r,s,l,t,f,h);else{var p=f?f(c(e,s),i,s+"",e,r,h):void 0;void 0===p&&(p=i),o(e,s,p)}}),s)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(46),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},function(t,e,r){var n=r(46);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},function(t,e,r){var n=r(46);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,r){var n=r(46);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},function(t,e,r){var n=r(45);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var n=r(45),o=r(62),i=r(65);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},function(t,e,r){var n=r(246),o=r(45),i=r(62);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(t,e,r){var n=r(247),o=r(248),i=r(249),a=r(250),u=r(251);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(47);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var n=r(47),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},function(t,e,r){var n=r(47),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},function(t,e,r){var n=r(47);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,r){var n=r(48);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,r){var n=r(48);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(48);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(48);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},function(t,e){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===r(i[s],s,i))break}return e}}},function(t,e,r){var n=r(96),o=r(259),i=r(260),a=r(262),u=r(263),s=r(41),c=r(12),l=r(265),f=r(42),h=r(61),p=r(18),d=r(266),y=r(44),v=r(101),m=r(267);t.exports=function(t,e,r,g,b,w,_){var E=v(t,r),O=v(e,r),S=_.get(O);if(S)n(t,r,S);else{var x=w?w(E,O,r+"",t,e,_):void 0,k=void 0===x;if(k){var j=c(O),T=!j&&f(O),L=!j&&!T&&y(O);x=O,j||T||L?c(E)?x=E:l(E)?x=a(E):T?(k=!1,x=o(O,!0)):L?(k=!1,x=i(O,!0)):x=[]:d(O)||s(O)?(x=E,s(E)?x=m(E):p(E)&&!h(E)||(x=u(O))):k=!1}k&&(_.set(O,x),b(x,O,g,w,_),_.delete(O)),n(t,r,x)}}},function(t,e,r){(function(t){var n=r(15),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(43)(t))},function(t,e,r){var n=r(261);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,e,r){var n=r(99);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},function(t,e,r){var n=r(264),o=r(100),i=r(39);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},function(t,e,r){var n=r(18),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},function(t,e,r){var n=r(29),o=r(28);t.exports=function(t){return o(t)&&n(t)}},function(t,e,r){var n=r(32),o=r(100),i=r(28),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,l=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==l}},function(t,e,r){var n=r(268),o=r(102);t.exports=function(t){return n(t,o(t))}},function(t,e,r){var n=r(269),o=r(66);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var u=-1,s=e.length;++u<s;){var c=e[u],l=i?i(r[c],t[c],c,r,t):void 0;void 0===l&&(l=t[c]),a?o(r,c,l):n(r,c,l)}return r}},function(t,e,r){var n=r(66),o=r(35),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(18),o=r(39),i=r(272),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&r.push(u);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){var n=r(274),o=r(281);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(r[0],r[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e}))}},function(t,e,r){var n=r(49),o=r(275),i=r(277);t.exports=function(t,e){return i(o(t,e,n),t+"")}},function(t,e,r){var n=r(276),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=r(s),n(t,this,c)}}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(278),o=r(280)(n);t.exports=o},function(t,e,r){var n=r(279),o=r(97),i=r(49),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var o=r(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(35),o=r(29),i=r(67),a=r(18);t.exports=function(t,e,r){if(!a(r))return!1;var u=typeof e;return!!("number"==u?o(r)&&i(e,r.length):"string"==u&&e in r)&&n(r[e],t)}},function(t,e,r){"use strict";r.r(e),r.d(e,"ErrorMessage",(function(){return i}));var n=r(0),o=r(54),i=function(t){var e=t.as,r=t.errors,i=t.name,a=t.message,u=t.render,s=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)e.indexOf(r=i[n])>=0||(o[r]=t[r]);return o}(t,["as","errors","name","message","render"]),c=Object(o.useFormContext)(),l=Object(o.get)(r||c.formState.errors,i);if(!l)return null;var f=l.message,h=l.types,p=Object.assign({},s,{children:f||a});return n.isValidElement(e)?n.cloneElement(e,p):u?u({message:f||a,messages:h}):n.createElement(e||n.Fragment,p)}},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},i(t,e)};var a=function(){return a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};var u="Pixel",s="Percent",c={unit:s,value:.8};function l(t){return"number"===typeof t?{unit:s,value:100*t}:"string"===typeof t?t.match(/^(\d*(\.\d+)?)px$/)?{unit:u,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:s,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),c):(console.warn("scrollThreshold should be string or number"),c)}var f=function(t){function e(e){var r=t.call(this,e)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:"string"===typeof r.props.scrollableTarget?document.getElementById(r.props.scrollableTarget):(null===r.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},r.onStart=function(t){r.lastScrollTop||(r.dragging=!0,t instanceof MouseEvent?r.startY=t.pageY:t instanceof TouchEvent&&(r.startY=t.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(t){r.dragging&&(t instanceof MouseEvent?r.currentY=t.pageY:t instanceof TouchEvent&&(r.currentY=t.touches[0].pageY),r.currentY<r.startY||(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),r.currentY-r.startY>1.5*r.maxPullDownDistance||r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")}))},r.onScrollListener=function(t){"function"===typeof r.props.onScroll&&setTimeout((function(){return r.props.onScroll&&r.props.onScroll(t)}),0);var e=r.props.height||r._scrollableNode?t.target:document.documentElement.scrollTop?document.documentElement:document.body;r.actionTriggered||((r.props.inverse?r.isElementAtTop(e,r.props.scrollThreshold):r.isElementAtBottom(e,r.props.scrollThreshold))&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=e.scrollTop)},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:e.dataLength},r.throttledOnScrollListener=function(t,e,r,n){var o,i=!1,a=0;function u(){o&&clearTimeout(o)}function s(){var s=this,c=Date.now()-a,l=arguments;function f(){a=Date.now(),r.apply(s,l)}function h(){o=void 0}i||(n&&!o&&f(),u(),void 0===n&&c>t?f():!0!==e&&(o=setTimeout(n?h:f,void 0===n?t-c:t)))}return"boolean"!==typeof e&&(n=r,r=e,e=void 0),s.cancel=function(){u(),i=!0},s}(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(t){this.props.dataLength!==t.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(t,e){return t.dataLength!==e.prevDataLength?a(a({},e),{prevDataLength:t.dataLength}):null},e.prototype.isElementAtTop=function(t,e){void 0===e&&(e=.8);var r=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,n=l(e);return n.unit===u?t.scrollTop<=n.value+r-t.scrollHeight+1:t.scrollTop<=n.value/100+r-t.scrollHeight+1},e.prototype.isElementAtBottom=function(t,e){void 0===e&&(e=.8);var r=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,n=l(e);return n.unit===u?t.scrollTop+r>=t.scrollHeight-n.value:t.scrollTop+r>=n.value/100*t.scrollHeight},e.prototype.render=function(){var t=this,e=a({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),n=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return o.a.createElement("div",{style:n,className:"infinite-scroll-component__outerdiv"},o.a.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(e){return t._infScroll=e},style:e},this.props.pullDownToRefresh&&o.a.createElement("div",{style:{position:"relative"},ref:function(e){return t._pullDown=e}},o.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(n.Component);e.default=f},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Popover=e.usePopover=e.ArrowContainer=e.useArrowContainer=void 0;var o=r(104),i=r(0),a=r(286),u=r(68),s=r(287);Object.defineProperty(e,"usePopover",{enumerable:!0,get:function(){return s.usePopover}});var c=r(289),l=r(105);Object.defineProperty(e,"useArrowContainer",{enumerable:!0,get:function(){return l.useArrowContainer}});var f=r(290);Object.defineProperty(e,"ArrowContainer",{enumerable:!0,get:function(){return f.ArrowContainer}});var h=i.forwardRef((function(t,e){var r=t.isOpen,l=t.children,f=t.content,h=t.positions,p=void 0===h?u.Constants.DEFAULT_POSITIONS:h,d=t.align,y=void 0===d?u.Constants.DEFAULT_ALIGN:d,v=t.padding,m=void 0===v?0:v,g=t.reposition,b=void 0===g||g,w=t.parentElement,_=void 0===w?window.document.body:w,E=t.boundaryElement,O=void 0===E?_:E,S=t.containerClassName,x=void 0===S?"react-tiny-popover-container":S,k=t.containerStyle,j=t.contentLocation,T=t.boundaryInset,L=void 0===T?0:T,P=t.onClickOutside,A=c.useMemoizedArray(p),C=i.useRef(!1),I=i.useRef(),R=i.useRef(),D=i.useRef(b),N=i.useRef(),F=i.useState({align:y,nudgedLeft:0,nudgedTop:0,position:A[0],padding:m,childRect:u.Constants.EMPTY_CLIENT_RECT,popoverRect:u.Constants.EMPTY_CLIENT_RECT,parentRect:u.Constants.EMPTY_CLIENT_RECT,boundaryRect:u.Constants.EMPTY_CLIENT_RECT,boundaryInset:L,violations:u.Constants.EMPTY_CLIENT_RECT,hasViolations:!1}),M=F[0],B=F[1],U=i.useCallback((function(t){return B(t)}),[]),z=s.usePopover({isOpen:r,childRef:N,containerClassName:x,parentElement:_,boundaryElement:O,contentLocation:j,positions:A,align:y,padding:m,boundaryInset:L,reposition:b,onPositionPopover:U}),G=z.positionPopover,q=z.popoverRef,H=z.scoutRef;i.useLayoutEffect((function(){var t=!0;return window.requestAnimationFrame((function e(){var n,o;if(r&&t){var i=null===(n=null===N||void 0===N?void 0:N.current)||void 0===n?void 0:n.getBoundingClientRect(),a=null===(o=null===q||void 0===q?void 0:q.current)||void 0===o?void 0:o.getBoundingClientRect();null==i||null==a||u.rectsAreEqual(i,{top:M.childRect.top,left:M.childRect.left,width:M.childRect.width,height:M.childRect.height,bottom:M.childRect.top+M.childRect.height,right:M.childRect.left+M.childRect.width})&&a.width===M.popoverRect.width&&a.height===M.popoverRect.height&&M.padding===m&&M.align===y&&A===I.current&&j===R.current&&b===D.current||G(),A!==I.current&&(I.current=A),j!==R.current&&(R.current=j),b!==D.current&&(D.current=b),t&&window.requestAnimationFrame(e)}C.current=r})),function(){t=!1}}),[y,j,r,m,q,M.align,M.childRect.height,M.childRect.left,M.childRect.top,M.childRect.width,M.padding,M.popoverRect.height,M.popoverRect.width,G,A,b]),i.useEffect((function(){var t=q.current;return Object.assign(t.style,k),function(){Object.keys(null!==k&&void 0!==k?k:{}).forEach((function(e){return delete t.style[e]}))}}),[k,r,q]);var V=i.useCallback((function(t){var e,n;!r||(null===(e=q.current)||void 0===e?void 0:e.contains(t.target))||(null===(n=N.current)||void 0===n?void 0:n.contains(t.target))||null===P||void 0===P||P(t)}),[r,P,q]),$=i.useCallback((function(){N.current&&window.requestAnimationFrame((function(){return G()}))}),[G]);i.useEffect((function(){return window.addEventListener("click",V,!0),window.addEventListener("resize",$),function(){window.removeEventListener("click",V,!0),window.removeEventListener("resize",$)}}),[V,$]);var W=i.useCallback((function(t){N.current=t,null!=e&&("object"===typeof e?e.current=t:"function"===typeof e&&e(t))}),[e]);return o.jsxs(o.Fragment,{children:[i.cloneElement(l,{ref:W}),r?o.jsx(a.PopoverPortal,n({element:q.current,scoutElement:H.current,container:_},{children:"function"===typeof f?f(M):f}),void 0):null]},void 0)}));e.Popover=i.forwardRef((function(t,e){return"undefined"===typeof window?t.children:o.jsx(h,n({},t,{ref:e}),void 0)}))},function(t,e,r){"use strict";var n=r(0),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,r){var n,i={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,n)&&!s.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===i[n]&&(i[n]=e[n]);return{$$typeof:o,type:t,key:c,ref:l,props:i,_owner:u.current}}e.Fragment=i,e.jsx=c,e.jsxs=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopoverPortal=void 0;var n=r(0),o=r(16);e.PopoverPortal=function(t){var e=t.container,r=t.element,i=t.scoutElement,a=t.children;return n.useLayoutEffect((function(){return e.appendChild(r),e.appendChild(i),function(){e.removeChild(r),e.removeChild(i)}}),[e,r]),o.createPortal(a,r)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePopover=void 0;var n=r(0),o=r(68),i=r(288);e.usePopover=function(t){var e=t.isOpen,r=t.childRef,a=t.positions,u=t.containerClassName,s=t.parentElement,c=t.contentLocation,l=t.align,f=t.padding,h=t.reposition,p=t.boundaryInset,d=t.boundaryElement,y=t.onPositionPopover,v=i.useElementRef(u,{position:"fixed",overflow:"visible",top:"0px",left:"0px"}),m=i.useElementRef("react-tiny-popover-scout",{position:"fixed",top:"0px",left:"0px",width:"0px",height:"0px",visibility:"hidden"}),g=n.useCallback((function(t){var n,i,u=void 0===t?{}:t,b=u.positionIndex,w=void 0===b?0:b,_=u.parentRect,E=void 0===_?s.getBoundingClientRect():_,O=u.childRect,S=void 0===O?null===(n=null===r||void 0===r?void 0:r.current)||void 0===n?void 0:n.getBoundingClientRect():O,x=u.scoutRect,k=void 0===x?null===(i=null===m||void 0===m?void 0:m.current)||void 0===i?void 0:i.getBoundingClientRect():x,j=u.popoverRect,T=void 0===j?v.current.getBoundingClientRect():j,L=u.boundaryRect,P=void 0===L?d===s?E:d.getBoundingClientRect():L;if(S&&E&&e){if(c){var A="function"===typeof c?c({childRect:S,popoverRect:T,parentRect:E,boundaryRect:P,padding:f,nudgedTop:0,nudgedLeft:0,boundaryInset:p,violations:o.Constants.EMPTY_CLIENT_RECT,hasViolations:!1}):c,C=A.top,I=A.left,R=E.left+I,D=E.top+C;return v.current.style.transform="translate("+(R-k.left)+"px, "+(D-k.top)+"px)",void y({childRect:S,popoverRect:T,parentRect:E,boundaryRect:P,padding:f,nudgedTop:0,nudgedLeft:0,boundaryInset:p,violations:o.Constants.EMPTY_CLIENT_RECT,hasViolations:!1})}var N=w===a.length,F=N?a[0]:a[w],M=o.getNewPopoverRect({childRect:S,popoverRect:T,boundaryRect:P,position:F,align:l,padding:f,reposition:h},p),B=M.rect;if(M.boundaryViolation&&h&&!N)g({positionIndex:w+1,childRect:S,popoverRect:T,parentRect:E,boundaryRect:P});else{var U=B.top,z=B.left,G=B.width,q=B.height,H=h&&!N,V=o.getNudgedPopoverRect(B,P,p),$=V.left,W=V.top,K=U,Y=z;H&&(K=W,Y=$),v.current.style.transform="translate("+(Y-k.left)+"px, "+(K-k.top)+"px)";var Q={top:P.top+p-K,left:P.left+p-Y,right:Y+G-P.right+p,bottom:K+q-P.bottom+p};y({childRect:S,popoverRect:{top:K,left:Y,width:G,height:q,right:Y+G,bottom:K+q},parentRect:E,boundaryRect:P,position:F,align:l,padding:f,nudgedTop:W-U,nudgedLeft:$-z,boundaryInset:p,violations:{top:Q.top<=0?0:Q.top,left:Q.left<=0?0:Q.left,right:Q.right<=0?0:Q.right,bottom:Q.bottom<=0?0:Q.bottom},hasViolations:Q.top>0||Q.left>0||Q.right>0||Q.bottom>0})}}}),[s,r,v,d,c,a,l,f,h,p,y,e]);return{positionPopover:g,popoverRef:v,scoutRef:m}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useElementRef=void 0;var n=r(0),o=r(68);e.useElementRef=function(t,e){var r=n.useMemo((function(){return o.createContainer(e,t)}),[t,e]);return n.useRef(r)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useMemoizedArray=void 0;var n=r(0);e.useMemoizedArray=function(t){var e=n.useRef(t);return n.useMemo((function(){if(e.current===t)return e.current;if(e.current.length!==t.length)return e.current=t,t;for(var r=0;r<t.length;r+=1)if(t[r]!==e.current[r])return e.current=t,t;return e.current}),[t])}},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowContainer=void 0;var o=r(104),i=r(0),a=r(105);e.ArrowContainer=function(t){var e=t.childRect,r=t.popoverRect,u=t.position,s=t.arrowColor,c=t.arrowSize,l=t.arrowClassName,f=t.arrowStyle,h=t.className,p=t.children,d=t.style,y=a.useArrowContainer({childRect:e,popoverRect:r,position:u,arrowColor:s,arrowSize:c}),v=y.arrowContainerStyle,m=y.arrowStyle,g=i.useMemo((function(){return n(n({},v),d)}),[v,d]),b=i.useMemo((function(){return n(n({},m),f)}),[m,f]);return o.jsxs("div",n({className:h,style:g},{children:[o.jsx("div",{style:b,className:l},void 0),p]}),void 0)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),i=n.__importDefault(r(292)),a=r(69),u={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};e.default=a.isBrowser&&"undefined"!==typeof window.ResizeObserver?function(){var t=o.useState(null),e=t[0],r=t[1],n=o.useState(u),a=n[0],s=n[1],c=o.useMemo((function(){return new window.ResizeObserver((function(t){if(t[0]){var e=t[0].contentRect,r=e.x,n=e.y,o=e.width,i=e.height,a=e.top,u=e.left,c=e.bottom,l=e.right;s({x:r,y:n,width:o,height:i,top:a,left:u,bottom:c,right:l})}}))}),[]);return i.default((function(){if(e)return c.observe(e),function(){c.disconnect()}}),[e]),[r,a]}:function(){return[a.noop,u]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=r(69).isBrowser?n.useLayoutEffect:n.useEffect;e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),i=n.__importDefault(r(294)),a=r(69);e.default=function(t){var e=i.default({x:0,y:0}),r=e[0],n=e[1];return o.useEffect((function(){var e=function(){t.current&&n({x:t.current.scrollLeft,y:t.current.scrollTop})};return t.current&&a.on(t.current,"scroll",e,{capture:!1,passive:!0}),function(){t.current&&a.off(t.current,"scroll",e)}}),[t]),r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),i=n.__importDefault(r(295));e.default=function(t){var e=o.useRef(0),r=o.useState(t),n=r[0],a=r[1],u=o.useCallback((function(t){cancelAnimationFrame(e.current),e.current=requestAnimationFrame((function(){a(t)}))}),[]);return i.default((function(){cancelAnimationFrame(e.current)})),[n,u]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),i=n.__importDefault(r(296));e.default=function(t){var e=o.useRef(t);e.current=t,i.default((function(){return function(){return e.current()}}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.default=function(t){n.useEffect(t,[])}},function(t,e,r){t.exports=r(298)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(0),i=u(o),a=u(r(2));function u(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.scrollListener=r.scrollListener.bind(r),r.eventListenerOptions=r.eventListenerOptions.bind(r),r.mousewheelListener=r.mousewheelListener.bind(r),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var t=this.getParentElement(this.scrollComponent);t.scrollTop=t.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var t=!1,e={get passive(){t=!0}};try{document.addEventListener("test",null,e),document.removeEventListener("test",null,e)}catch(r){}return t}},{key:"eventListenerOptions",value:function(){this.props.useCapture;return this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(t){this.defaultLoader=t}},{key:"detachMousewheelListener",value:function(){var t=window;!1===this.props.useWindow&&(t=this.scrollComponent.parentNode),t.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var t=window;!1===this.props.useWindow&&(t=this.getParentElement(this.scrollComponent)),t.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(t){var e=this.props.getScrollParent&&this.props.getScrollParent();return null!=e?e:t&&t.parentNode}},{key:"filterProps",value:function(t){return t}},{key:"attachScrollListener",value:function(){var t=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&t){var e=window;!1===this.props.useWindow&&(e=t),e.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),e.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(t){1!==t.deltaY||this.isPassiveSupported()||t.preventDefault()}},{key:"scrollListener",value:function(){var t=this.scrollComponent,e=window,r=this.getParentElement(t),n=void 0;if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,i=void 0!==e.pageYOffset?e.pageYOffset:o.scrollTop;n=this.props.isReverse?i:this.calculateOffset(t,i)}else n=this.props.isReverse?r.scrollTop:t.scrollHeight-r.scrollTop-r.clientHeight;n<Number(this.props.threshold)&&t&&null!==t.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(t,e){return t?this.calculateTopPosition(t)+(t.offsetHeight-e-window.innerHeight):0}},{key:"calculateTopPosition",value:function(t){return t?t.offsetTop+this.calculateTopPosition(t.offsetParent):0}},{key:"render",value:function(){var t=this,e=this.filterProps(this.props),r=e.children,n=e.element,o=e.hasMore,a=(e.initialLoad,e.isReverse),u=e.loader,s=(e.loadMore,e.pageStart,e.ref),c=(e.threshold,e.useCapture,e.useWindow,e.getScrollParent,function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(e,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(e){t.scrollComponent=e,s&&s(e)};var l=[r];return o&&(u?a?l.unshift(u):l.push(u):this.defaultLoader&&(a?l.unshift(this.defaultLoader):l.push(this.defaultLoader))),i.default.createElement(n,c,l)}}]),e}(o.Component);s.propTypes={children:a.default.node.isRequired,element:a.default.node,hasMore:a.default.bool,initialLoad:a.default.bool,isReverse:a.default.bool,loader:a.default.node,loadMore:a.default.func.isRequired,pageStart:a.default.number,ref:a.default.func,getScrollParent:a.default.func,threshold:a.default.number,useCapture:a.default.bool,useWindow:a.default.bool},s.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},e.default=s,t.exports=e.default},function(t,e,r){var n=r(106),o=r(95),i=r(300),a=r(302),u=r(306),s=r(307),c=r(109);t.exports=function(t,e,r){if((t=c(t))&&(r||void 0===e))return o(t);if(!t||!(e=n(e)))return t;var l=s(t),f=s(e),h=u(l,f),p=a(l,f)+1;return i(l,h,p).join("")}},function(t,e,r){var n=r(301);t.exports=function(t,e,r){var o=t.length;return r=void 0===r?o:r,!e&&r>=o?t:n(t,e,r)}},function(t,e){t.exports=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}},function(t,e,r){var n=r(108);t.exports=function(t,e){for(var r=t.length;r--&&n(e,t[r],0)>-1;);return r}},function(t,e){t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e){t.exports=function(t){return t!==t}},function(t,e){t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},function(t,e,r){var n=r(108);t.exports=function(t,e){for(var r=-1,o=t.length;++r<o&&n(e,t[r],0)>-1;);return r}},function(t,e,r){var n=r(308),o=r(309),i=r(310);t.exports=function(t){return o(t)?i(t):n(t)}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return r.test(t)}},function(t,e){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?",l=c+s+("(?:\\u200d(?:"+[i,a,u].join("|")+")"+c+s+")*"),f="(?:"+[i+n+"?",n,a,u,r].join("|")+")",h=RegExp(o+"(?="+o+")|"+f+l,"g");t.exports=function(t){return t.match(h)||[]}},function(t,e,r){var n=r(312),o=r(12);t.exports=function(t,e,r,i){return null==t?[]:(o(e)||(e=null==e?[]:[e]),o(r=i?void 0:r)||(r=null==r?[]:[r]),n(t,e,r))}},function(t,e,r){var n=r(107),o=r(70),i=r(316),a=r(344),u=r(348),s=r(91),c=r(349),l=r(49),f=r(12);t.exports=function(t,e,r){e=e.length?n(e,(function(t){return f(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[l];var h=-1;e=n(e,s(i));var p=a(t,(function(t,r,o){return{criteria:n(e,(function(e){return e(t)})),index:++h,value:t}}));return u(p,(function(t,e){return c(t,e,r)}))}},function(t,e,r){var n=r(314),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a},function(t,e,r){var n=r(315);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},function(t,e,r){var n=r(65);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},function(t,e,r){var n=r(317),o=r(336),i=r(49),a=r(12),u=r(341);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):n(t):u(t)}},function(t,e,r){var n=r(318),o=r(335),i=r(114);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},function(t,e,r){var n=r(64),o=r(111);t.exports=function(t,e,r,i){var a=r.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=r[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var l=(c=r[a])[0],f=t[l],h=c[1];if(s&&c[2]){if(void 0===f&&!(l in t))return!1}else{var p=new n;if(i)var d=i(f,h,l,t,e,p);if(!(void 0===d?o(h,f,3,i,p):d))return!1}}return!0}},function(t,e,r){var n=r(64),o=r(112),i=r(325),a=r(328),u=r(88),s=r(12),c=r(42),l=r(44),f="[object Arguments]",h="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,y,v,m){var g=s(t),b=s(e),w=g?h:u(t),_=b?h:u(e),E=(w=w==f?p:w)==p,O=(_=_==f?p:_)==p,S=w==_;if(S&&c(t)){if(!c(e))return!1;g=!0,E=!1}if(S&&!E)return m||(m=new n),g||l(t)?o(t,e,r,y,v,m):i(t,e,w,r,y,v,m);if(!(1&r)){var x=E&&d.call(t,"__wrapped__"),k=O&&d.call(e,"__wrapped__");if(x||k){var j=x?t.value():t,T=k?e.value():e;return m||(m=new n),v(j,T,r,y,m)}}return!!S&&(m||(m=new n),a(t,e,r,y,v,m))}},function(t,e,r){var n=r(65),o=r(321),i=r(322);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,r){var n=r(40),o=r(99),i=r(35),a=r(112),u=r(326),s=r(327),c=n?n.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,f,h){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=u;case"[object Set]":var d=1&n;if(p||(p=s),t.size!=e.size&&!d)return!1;var y=h.get(t);if(y)return y==e;n|=2,h.set(t,e);var v=a(p(t),p(e),n,c,f,h);return h.delete(t),v;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},function(t,e,r){var n=r(329),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,a,u){var s=1&r,c=n(t),l=c.length;if(l!=n(e).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in e:o.call(e,h)))return!1}var p=u.get(t),d=u.get(e);if(p&&d)return p==e&&d==t;var y=!0;u.set(t,e),u.set(e,t);for(var v=s;++f<l;){var m=t[h=c[f]],g=e[h];if(i)var b=s?i(g,m,h,e,t,u):i(m,g,h,t,e,u);if(!(void 0===b?m===g||a(m,g,r,i,u):b)){y=!1;break}v||(v="constructor"==h)}if(y&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(y=!1)}return u.delete(t),u.delete(e),y}},function(t,e,r){var n=r(330),o=r(332),i=r(72);t.exports=function(t){return n(t,i,o)}},function(t,e,r){var n=r(331),o=r(12);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},function(t,e,r){var n=r(333),o=r(334),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,r){var n=r(113),o=r(72);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],a=t[i];e[r]=[i,a,n(a)]}return e}},function(t,e,r){var n=r(111),o=r(337),i=r(338),a=r(71),u=r(113),s=r(114),c=r(50);t.exports=function(t,e){return a(t)&&u(e)?s(c(t),e):function(r){var a=o(r,t);return void 0===a&&a===e?i(r,t):n(e,a,3)}}},function(t,e,r){var n=r(70);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},function(t,e,r){var n=r(339),o=r(340);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,r){var n=r(110),o=r(41),i=r(12),a=r(67),u=r(63),s=r(50);t.exports=function(t,e,r){for(var c=-1,l=(e=n(e,t)).length,f=!1;++c<l;){var h=s(e[c]);if(!(f=null!=t&&r(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&u(l)&&a(h,l)&&(i(t)||o(t))}},function(t,e,r){var n=r(342),o=r(343),i=r(71),a=r(50);t.exports=function(t){return i(t)?n(a(t)):o(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,r){var n=r(70);t.exports=function(t){return function(e){return n(e,t)}}},function(t,e,r){var n=r(345),o=r(29);t.exports=function(t,e){var r=-1,i=o(t)?Array(t.length):[];return n(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}},function(t,e,r){var n=r(346),o=r(347)(n);t.exports=o},function(t,e,r){var n=r(98),o=r(72);t.exports=function(t,e){return t&&n(t,e,o)}},function(t,e,r){var n=r(29);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var i=r.length,a=e?i:-1,u=Object(r);(e?a--:++a<i)&&!1!==o(u[a],a,u););return r}}},function(t,e){t.exports=function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}},function(t,e,r){var n=r(350);t.exports=function(t,e,r){for(var o=-1,i=t.criteria,a=e.criteria,u=i.length,s=r.length;++o<u;){var c=n(i[o],a[o]);if(c)return o>=s?c:c*("desc"==r[o]?-1:1)}return t.index-e.index}},function(t,e,r){var n=r(34);t.exports=function(t,e){if(t!==e){var r=void 0!==t,o=null===t,i=t===t,a=n(t),u=void 0!==e,s=null===e,c=e===e,l=n(e);if(!s&&!l&&!a&&t>e||a&&u&&c&&!s&&!l||o&&u&&c||!r&&c||!i)return 1;if(!o&&!a&&!l&&t<e||l&&r&&i&&!o&&!a||s&&r&&i||!u&&i||!c)return-1}return 0}},function(t,e,r){"use strict";var n=r(30),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,r){var n,i={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,n)&&!s.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===i[n]&&(i[n]=e[n]);return{$$typeof:o,type:t,key:c,ref:l,props:i,_owner:u.current}}e.Fragment=i,e.jsx=c,e.jsxs=c},function(t,e,r){"use strict";r.r(e),r.d(e,"createMemo",(function(){return o})),r.d(e,"createReducerContext",(function(){return i})),r.d(e,"createReducer",(function(){return c})),r.d(e,"createStateContext",(function(){return l})),r.d(e,"useAsync",(function(){return d})),r.d(e,"useAsyncFn",(function(){return p})),r.d(e,"useAsyncRetry",(function(){return y})),r.d(e,"useAudio",(function(){return b})),r.d(e,"useBattery",(function(){return T})),r.d(e,"useBeforeUnload",(function(){return L})),r.d(e,"useBoolean",(function(){return C})),r.d(e,"useClickAway",(function(){return R})),r.d(e,"useCookie",(function(){return F})),r.d(e,"useCopyToClipboard",(function(){return U})),r.d(e,"useCounter",(function(){return V})),r.d(e,"useCss",(function(){return Z})),r.d(e,"useCustomCompareEffect",(function(){return tt})),r.d(e,"useDebounce",(function(){return rt})),r.d(e,"useDeepCompareEffect",(function(){return nt})),r.d(e,"useDefault",(function(){return ot})),r.d(e,"useDrop",(function(){return it})),r.d(e,"useDropArea",(function(){return at})),r.d(e,"useEffectOnce",(function(){return ut})),r.d(e,"useEnsuredForwardedRef",(function(){return st})),r.d(e,"ensuredForwardRef",(function(){return ct})),r.d(e,"useEvent",(function(){return pt})),r.d(e,"useError",(function(){return dt})),r.d(e,"useFavicon",(function(){return yt})),r.d(e,"useFullscreen",(function(){return gt})),r.d(e,"useGeolocation",(function(){return bt})),r.d(e,"useGetSet",(function(){return H})),r.d(e,"useGetSetState",(function(){return wt})),r.d(e,"useHarmonicIntervalFn",(function(){return Ot})),r.d(e,"useHover",(function(){return xt})),r.d(e,"useHoverDirty",(function(){return kt})),r.d(e,"useIdle",(function(){return Lt})),r.d(e,"useIntersection",(function(){return Pt})),r.d(e,"useInterval",(function(){return At})),r.d(e,"useIsomorphicLayoutEffect",(function(){return Q})),r.d(e,"useKey",(function(){return Ct})),r.d(e,"createBreakpoint",(function(){return It})),r.d(e,"useKeyPress",(function(){return Rt})),r.d(e,"useKeyPressEvent",(function(){return Dt})),r.d(e,"useLatest",(function(){return Nt})),r.d(e,"useLifecycles",(function(){return Ft})),r.d(e,"useList",(function(){return Mt})),r.d(e,"useLocalStorage",(function(){return Bt})),r.d(e,"useLocation",(function(){return qt})),r.d(e,"useLockBodyScroll",(function(){return Qt})),r.d(e,"useLogger",(function(){return Xt})),r.d(e,"useLongPress",(function(){return Zt})),r.d(e,"useMap",(function(){return te})),r.d(e,"useMedia",(function(){return ee})),r.d(e,"useMediaDevices",(function(){return re})),r.d(e,"useMediatedState",(function(){return ne})),r.d(e,"useMethods",(function(){return oe})),r.d(e,"useMotion",(function(){return ae})),r.d(e,"useMount",(function(){return ue})),r.d(e,"useMountedState",(function(){return h})),r.d(e,"useMouse",(function(){return le})),r.d(e,"useMouseHovered",(function(){return he})),r.d(e,"useMouseWheel",(function(){return pe})),r.d(e,"useNetworkState",(function(){return me})),r.d(e,"useNumber",(function(){return ge})),r.d(e,"useObservable",(function(){return be})),r.d(e,"useOrientation",(function(){return _e})),r.d(e,"usePageLeave",(function(){return Ee})),r.d(e,"usePermission",(function(){return Oe})),r.d(e,"usePrevious",(function(){return Se})),r.d(e,"usePreviousDistinct",(function(){return ke})),r.d(e,"usePromise",(function(){return je})),r.d(e,"useQueue",(function(){return Te})),r.d(e,"useRaf",(function(){return Le})),r.d(e,"useRafLoop",(function(){return Pe})),r.d(e,"useRafState",(function(){return ce})),r.d(e,"useSearchParam",(function(){return Ie})),r.d(e,"useScratch",(function(){return De})),r.d(e,"useScroll",(function(){return Ne})),r.d(e,"useScrolling",(function(){return Fe})),r.d(e,"useSessionStorage",(function(){return Me})),r.d(e,"useSetState",(function(){return v})),r.d(e,"useShallowCompareEffect",(function(){return ze})),r.d(e,"useSize",(function(){return Ve})),r.d(e,"useSlider",(function(){return $e})),r.d(e,"useSpeech",(function(){return We})),r.d(e,"useStartTyping",(function(){return Ke})),r.d(e,"useStateWithHistory",(function(){return Ye})),r.d(e,"useStateList",(function(){return Qe})),r.d(e,"useThrottle",(function(){return Xe})),r.d(e,"useThrottleFn",(function(){return Je})),r.d(e,"useTimeout",(function(){return Ze})),r.d(e,"useTimeoutFn",(function(){return et})),r.d(e,"useTitle",(function(){return er})),r.d(e,"useToggle",(function(){return A})),r.d(e,"useTween",(function(){return nr})),r.d(e,"useUnmount",(function(){return se})),r.d(e,"useUnmountPromise",(function(){return or})),r.d(e,"useUpdate",(function(){return G})),r.d(e,"useUpdateEffect",(function(){return u})),r.d(e,"useUpsert",(function(){return ir})),r.d(e,"useVibrate",(function(){return ar})),r.d(e,"useVideo",(function(){return ur})),r.d(e,"useStateValidator",(function(){return sr})),r.d(e,"useScrollbarWidth",(function(){return lr})),r.d(e,"useMultiStateValidator",(function(){return fr})),r.d(e,"useWindowScroll",(function(){return hr})),r.d(e,"useWindowSize",(function(){return pr})),r.d(e,"useMeasure",(function(){return vr})),r.d(e,"usePinchZoom",(function(){return mr})),r.d(e,"useRendersCount",(function(){return gr})),r.d(e,"useFirstMountState",(function(){return a})),r.d(e,"useSet",(function(){return br})),r.d(e,"createGlobalState",(function(){return wr})),r.d(e,"useHash",(function(){return _r}));var n=r(0),o=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Object(n.useMemo)((function(){return t.apply(void 0,e)}),e)}},i=function(t,e){var r=Object(n.createContext)(void 0);return[function(){var t=Object(n.useContext)(r);if(null==t)throw new Error("useReducerContext must be used inside a ReducerProvider.");return t},function(o){var i=o.children,a=o.initialState;return function(t,e){return Object(n.createElement)(r.Provider,t,e)}({value:Object(n.useReducer)(t,void 0!==a?a:e)},i)},r]};function a(){var t=Object(n.useRef)(!0);return t.current?(t.current=!1,!0):t.current}var u=function(t,e){var r=a();Object(n.useEffect)((function(){if(!r)return t()}),e)};function s(t){return function(e,r){return t.reduceRight((function(t,r){return r(e)(t)}),r)}}var c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=s(t);return function(t,e,o){void 0===o&&(o=function(t){return t});var i=Object(n.useRef)(o(e)),a=Object(n.useState)(i.current)[1],s=Object(n.useCallback)((function(e){return i.current=t(i.current,e),a(i.current),e}),[t]),c=Object(n.useRef)(r({getState:function(){return i.current},dispatch:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return c.current.apply(c,t)}},s));return u((function(){c.current=r({getState:function(){return i.current},dispatch:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return c.current.apply(c,t)}},s)}),[s]),[i.current,c.current]}},l=function(t){var e=Object(n.createContext)(void 0);return[function(){var t=Object(n.useContext)(e);if(null==t)throw new Error("useStateContext must be used inside a StateProvider.");return t},function(r){var o=r.children,i=r.initialValue;return function(t,r){return Object(n.createElement)(e.Provider,t,r)}({value:Object(n.useState)(void 0!==i?i:t)},o)},e]},f=r(1);function h(){var t=Object(n.useRef)(!1),e=Object(n.useCallback)((function(){return t.current}),[]);return Object(n.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),e}function p(t,e,r){void 0===e&&(e=[]),void 0===r&&(r={loading:!1});var o=Object(n.useRef)(0),i=h(),a=Object(n.useState)(r),u=a[0],s=a[1],c=Object(n.useCallback)((function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=++o.current;return u.loading||s((function(t){return Object(f.__assign)(Object(f.__assign)({},t),{loading:!0})})),t.apply(void 0,e).then((function(t){return i()&&n===o.current&&s({value:t,loading:!1}),t}),(function(t){return i()&&n===o.current&&s({error:t,loading:!1}),t}))}),e);return[u,c]}function d(t,e){void 0===e&&(e=[]);var r=p(t,e,{loading:!0}),o=r[0],i=r[1];return Object(n.useEffect)((function(){i()}),[i]),o}var y=function(t,e){void 0===e&&(e=[]);var r=Object(n.useState)(0),o=r[0],i=r[1],a=d(t,Object(f.__spreadArrays)(e,[o])),u=a.loading,s=Object(n.useCallback)((function(){u||i((function(t){return t+1}))}),Object(f.__spreadArrays)(e,[u]));return Object(f.__assign)(Object(f.__assign)({},a),{retry:s})},v=function(t){void 0===t&&(t={});var e=Object(n.useState)(t),r=e[0],o=e[1];return[r,Object(n.useCallback)((function(t){o((function(e){return Object.assign({},e,t instanceof Function?t(e):t)}))}),[])]};function m(t){for(var e=[],r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e}function g(t){return function(e){var r,o;o=n.isValidElement(e)?(r=e).props:e;var i=v({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1,playing:!1}),a=i[0],u=i[1],s=Object(n.useRef)(null),c=function(t,e){return function(r){try{e&&e(r)}finally{t&&t(r)}}},l=function(){return u({paused:!1})},h=function(){return u({playing:!0})},p=function(){return u({playing:!1})},d=function(){return u({paused:!0,playing:!1})},y=function(){var t=s.current;t&&u({muted:t.muted,volume:t.volume})},g=function(){var t=s.current;if(t){var e=t.duration,r=t.buffered;u({duration:e,buffered:m(r)})}},b=function(){var t=s.current;t&&u({time:t.currentTime})},w=function(){var t=s.current;t&&u({buffered:m(t.buffered)})};r=r?n.cloneElement(r,Object(f.__assign)(Object(f.__assign)({controls:!1},o),{ref:s,onPlay:c(o.onPlay,l),onPlaying:c(o.onPlaying,h),onWaiting:c(o.onWaiting,p),onPause:c(o.onPause,d),onVolumeChange:c(o.onVolumeChange,y),onDurationChange:c(o.onDurationChange,g),onTimeUpdate:c(o.onTimeUpdate,b),onProgress:c(o.onProgress,w)})):n.createElement(t,Object(f.__assign)(Object(f.__assign)({controls:!1},o),{ref:s,onPlay:c(o.onPlay,l),onPlaying:c(o.onPlaying,h),onWaiting:c(o.onWaiting,p),onPause:c(o.onPause,d),onVolumeChange:c(o.onVolumeChange,y),onDurationChange:c(o.onDurationChange,g),onTimeUpdate:c(o.onTimeUpdate,b),onProgress:c(o.onProgress,w)}));var _=!1,E={play:function(){var t=s.current;if(t&&!_){var e=t.play();if("object"===typeof e){_=!0;var r=function(){_=!1};e.then(r,r)}return e}},pause:function(){var t=s.current;if(t&&!_)return t.pause()},seek:function(t){var e=s.current;e&&void 0!==a.duration&&(t=Math.min(a.duration,Math.max(0,t)),e.currentTime=t)},volume:function(t){var e=s.current;e&&(t=Math.min(1,Math.max(0,t)),e.volume=t,u({volume:t}))},mute:function(){var t=s.current;t&&(t.muted=!0)},unmute:function(){var t=s.current;t&&(t.muted=!1)}};return Object(n.useEffect)((function(){var t=s.current;t&&(u({volume:t.volume,muted:t.muted,paused:t.paused}),o.autoPlay&&t.paused&&E.play())}),[o.src]),[r,a,E,s]}}var b=g("audio"),w=function(){};function _(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function E(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var O="undefined"!==typeof window,S="undefined"!==typeof navigator,x=r(122),k=r.n(x).a,j=S?navigator:void 0;var T=j&&"function"===typeof j.getBattery?function(){var t=Object(n.useState)({isSupported:!0,fetched:!1}),e=t[0],r=t[1];return Object(n.useEffect)((function(){var t=!0,n=null,o=function(){if(t&&n){var o={isSupported:!0,fetched:!0,level:n.level,charging:n.charging,dischargingTime:n.dischargingTime,chargingTime:n.chargingTime};!k(e,o)&&r(o)}};return j.getBattery().then((function(e){t&&(_(n=e,"chargingchange",o),_(n,"chargingtimechange",o),_(n,"dischargingtimechange",o),_(n,"levelchange",o),o())})),function(){t=!1,n&&(E(n,"chargingchange",o),E(n,"chargingtimechange",o),E(n,"dischargingtimechange",o),E(n,"levelchange",o))}}),[]),e}:function(){return{isSupported:!1}},L=function(t,e){void 0===t&&(t=!0);var r=Object(n.useCallback)((function(r){if("function"!==typeof t||t())return r.preventDefault(),e&&(r.returnValue=e),e}),[t,e]);Object(n.useEffect)((function(){if(t)return _(window,"beforeunload",r),function(){return E(window,"beforeunload",r)}}),[t,r])},P=function(t,e){return"boolean"===typeof e?e:!t},A=function(t){return Object(n.useReducer)(P,t)},C=A,I=["mousedown","touchstart"],R=function(t,e,r){void 0===r&&(r=I);var o=Object(n.useRef)(e);Object(n.useEffect)((function(){o.current=e}),[e]),Object(n.useEffect)((function(){for(var e=function(e){var r=t.current;r&&!r.contains(e.target)&&o.current(e)},n=0,i=r;n<i.length;n++){var a=i[n];_(document,a,e)}return function(){for(var t=0,n=r;t<n.length;t++){var o=n[t];E(document,o,e)}}}),[r,t])},D=r(56),N=r.n(D),F=function(t){var e=Object(n.useState)((function(){return N.a.get(t)||null})),r=e[0],o=e[1];return[r,Object(n.useCallback)((function(e,r){N.a.set(t,e,r),o(e)}),[t]),Object(n.useCallback)((function(){N.a.remove(t),o(null)}),[t])]},M=r(123),B=r.n(M),U=function(){var t=h(),e=v({value:void 0,error:void 0,noUserInteraction:!0}),r=e[0],o=e[1];return[r,Object(n.useCallback)((function(e){var r,n;if(t())try{if("string"!==typeof e&&"number"!==typeof e){var i=new Error("Cannot copy typeof "+typeof e+" to clipboard, must be a string");return void o({value:e,error:i,noUserInteraction:!0})}if(""===e){i=new Error("Cannot copy empty string to clipboard.");return void o({value:e,error:i,noUserInteraction:!0})}n=e.toString(),r=B()(n),o({value:n,error:void 0,noUserInteraction:r})}catch(i){o({value:n,error:i,noUserInteraction:r})}}),[])]},z=function(t){return(t+1)%1e6};function G(){return Object(n.useReducer)(z,0)[1]}function q(t,e){return"function"===typeof t?t.length?t(e):t():t}function H(t){var e=Object(n.useRef)(q(t)),r=G();return Object(n.useMemo)((function(){return[function(){return e.current},function(t){e.current=q(t,e.current),r()}]}),[])}function V(t,e,r){void 0===t&&(t=0),void 0===e&&(e=null),void 0===r&&(r=null);var o=q(t);"number"!==typeof o&&console.error("initialValue has to be a number, got "+typeof t),"number"===typeof r?o=Math.max(o,r):null!==r&&console.error("min has to be a number, got "+typeof r),"number"===typeof e?o=Math.min(o,e):null!==e&&console.error("max has to be a number, got "+typeof e);var i=H(o),a=i[0],u=i[1];return[a(),Object(n.useMemo)((function(){var t=function(t){var n=a(),o=q(t,n);n!==o&&("number"===typeof r&&(o=Math.max(o,r)),"number"===typeof e&&(o=Math.min(o,e)),n!==o&&u(o))};return{get:a,set:t,inc:function(e){void 0===e&&(e=1);var r=q(e,a());"number"!==typeof r&&console.error("delta has to be a number or function returning a number, got "+typeof r),t((function(t){return t+r}))},dec:function(e){void 0===e&&(e=1);var r=q(e,a());"number"!==typeof r&&console.error("delta has to be a number or function returning a number, got "+typeof r),t((function(t){return t-r}))},reset:function(e){void 0===e&&(e=o);var r=q(e,a());"number"!==typeof r&&console.error("value has to be a number or function returning a number, got "+typeof r),o=r,t(r)}}}),[o,r,e])]}var $=r(124),W=r(125),K=r(126),Y=r(127),Q=O?n.useLayoutEffect:n.useEffect,X=Object($.create)();Object(W.addon)(X),Object(K.addon)(X);var J=0,Z=function(t){var e=Object(n.useMemo)((function(){return"react-use-css-"+(J++).toString(36)}),[]),r=Object(n.useMemo)((function(){return new X.VSheet}),[]);return Q((function(){var n={};return Object(Y.cssToTree)(n,t,"."+e,""),r.diff(n),function(){r.diff({})}})),e},tt=function(t,e,r){var o=Object(n.useRef)(void 0);o.current&&r(e,o.current)||(o.current=e),Object(n.useEffect)(t,o.current)};function et(t,e){void 0===e&&(e=0);var r=Object(n.useRef)(!1),o=Object(n.useRef)(),i=Object(n.useRef)(t),a=Object(n.useCallback)((function(){return r.current}),[]),u=Object(n.useCallback)((function(){r.current=!1,o.current&&clearTimeout(o.current),o.current=setTimeout((function(){r.current=!0,i.current()}),e)}),[e]),s=Object(n.useCallback)((function(){r.current=null,o.current&&clearTimeout(o.current)}),[]);return Object(n.useEffect)((function(){i.current=t}),[t]),Object(n.useEffect)((function(){return u(),s}),[e]),[a,s,u]}function rt(t,e,r){void 0===e&&(e=0),void 0===r&&(r=[]);var o=et(t,e),i=o[0],a=o[1],u=o[2];return Object(n.useEffect)(u,r),[i,a]}var nt=function(t,e){tt(t,e,k)},ot=function(t,e){var r=Object(n.useState)(e),o=r[0],i=r[1];return void 0===o||null===o?[t,i]:[o,i]},it=function(t,e){void 0===t&&(t={}),void 0===e&&(e=[]);var r=t.onFiles,o=t.onText,i=t.onUri,a=Object(n.useState)(!1),u=a[0],s=a[1],c=Object(n.useCallback)(s,[]),l=Object(n.useMemo)((function(){return function(t){return function(e,r){var n=e.getData("text/uri-list");if(n)(t.onUri||w)(n,r);else if(e.files&&e.files.length)(t.onFiles||w)(Array.from(e.files),r);else if(r.clipboardData){var o=r.clipboardData.getData("text");(t.onText||w)(o,r)}}}(t)}),[r,o,i]);return Object(n.useEffect)((function(){var t=function(t){t.preventDefault(),c(!0)},e=function(t){t.preventDefault(),c(!0)},r=function(){c(!1)},n=function(){c(!1)},i=function(t){t.preventDefault(),c(!1),l(t.dataTransfer,t)},a=function(t){l(t.clipboardData,t)};return _(document,"dragover",t),_(document,"dragenter",e),_(document,"dragleave",r),_(document,"dragexit",n),_(document,"drop",i),o&&_(document,"paste",a),function(){E(document,"dragover",t),E(document,"dragenter",e),E(document,"dragleave",r),E(document,"dragexit",n),E(document,"drop",i),E(document,"paste",a)}}),Object(f.__spreadArrays)([l],e)),{over:u}},at=function(t){void 0===t&&(t={});var e=t.onFiles,r=t.onText,o=t.onUri,i=h(),a=Object(n.useState)(!1),u=a[0],s=a[1],c=Object(n.useMemo)((function(){return function(t,e){return function(r,n){var o=r.getData("text/uri-list");o?(t.onUri||w)(o,n):r.files&&r.files.length?(t.onFiles||w)(Array.from(r.files),n):r.items&&r.items.length&&r.items[0].getAsString((function(r){e&&(t.onText||w)(r,n)}))}}(t,i())}),[e,r,o]),l=Object(n.useMemo)((function(){return function(t,e){return{onDragOver:function(t){t.preventDefault()},onDragEnter:function(t){t.preventDefault(),e(!0)},onDragLeave:function(){e(!1)},onDrop:function(r){r.preventDefault(),r.persist(),e(!1),t(r.dataTransfer,r)},onPaste:function(e){e.persist(),t(e.clipboardData,e)}}}(c,s)}),[c,s]);return[l,{over:u}]},ut=function(t){Object(n.useEffect)(t,[])};function st(t){var e=Object(n.useRef)(t&&t.current);return Object(n.useEffect)((function(){t&&(t.current=e.current)}),[t]),e}function ct(t){return Object(n.forwardRef)((function(e,r){var n=st(r);return t(e,n)}))}var lt=O?window:null,ft=function(t){return!!t.addEventListener},ht=function(t){return!!t.on},pt=function(t,e,r,o){void 0===r&&(r=lt),Object(n.useEffect)((function(){if(e&&r)return ft(r)?_(r,t,e,o):ht(r)&&r.on(t,e,o),function(){ft(r)?E(r,t,e,o):ht(r)&&r.off(t,e,o)}}),[t,e,r,JSON.stringify(o)])},dt=function(){var t=Object(n.useState)(null),e=t[0],r=t[1];return Object(n.useEffect)((function(){if(e)throw e}),[e]),Object(n.useCallback)((function(t){r(t)}),[])},yt=function(t){Object(n.useEffect)((function(){var e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}),[t])},vt=r(25),mt=r.n(vt),gt=function(t,e,r){void 0===r&&(r={});var o=r.video,i=r.onClose,a=void 0===i?w:i,u=Object(n.useState)(e),s=u[0],c=u[1];return Q((function(){if(e&&t.current){var r=function t(){(null===o||void 0===o?void 0:o.current)&&E(o.current,"webkitendfullscreen",t),a()},n=function(){if(mt.a.isEnabled){var t=mt.a.isFullscreen;c(t),t||a()}};if(mt.a.isEnabled){try{mt.a.request(t.current),c(!0)}catch(u){a(u),c(!1)}mt.a.on("change",n)}else o&&o.current&&o.current.webkitEnterFullscreen?(o.current.webkitEnterFullscreen(),_(o.current,"webkitendfullscreen",r),c(!0)):(a(),c(!1));return function(){if(c(!1),mt.a.isEnabled)try{mt.a.off("change",n),mt.a.exit()}catch(i){}else o&&o.current&&o.current.webkitExitFullscreen&&(E(o.current,"webkitendfullscreen",r),o.current.webkitExitFullscreen())}}}),[e,o,t]),s},bt=function(t){var e,r=Object(n.useState)({loading:!0,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,latitude:null,longitude:null,speed:null,timestamp:Date.now()}),o=r[0],i=r[1],a=!0,u=function(t){a&&i({loading:!1,accuracy:t.coords.accuracy,altitude:t.coords.altitude,altitudeAccuracy:t.coords.altitudeAccuracy,heading:t.coords.heading,latitude:t.coords.latitude,longitude:t.coords.longitude,speed:t.coords.speed,timestamp:t.timestamp})},s=function(t){return a&&i((function(e){return Object(f.__assign)(Object(f.__assign)({},e),{loading:!1,error:t})}))};return Object(n.useEffect)((function(){return navigator.geolocation.getCurrentPosition(u,s,t),e=navigator.geolocation.watchPosition(u,s,t),function(){a=!1,navigator.geolocation.clearWatch(e)}}),[]),o},wt=function(t){void 0===t&&(t={});var e=G(),r=Object(n.useRef)(Object(f.__assign)({},t));return[Object(n.useCallback)((function(){return r.current}),[]),Object(n.useCallback)((function(t){t&&(Object.assign(r.current,t),e())}),[])]},_t=0,Et={},Ot=function(t,e){void 0===e&&(e=0);var r=Object(n.useRef)((function(){}));Object(n.useEffect)((function(){r.current=t})),Object(n.useEffect)((function(){if(null!==e){var t=function(t,e){var r,n=_t++;if(Et[e])Et[e].listeners[n]=t;else{var o=setInterval((function(){for(var t,r=Et[e].listeners,n=!1,o=0,i=Object.values(r);o<i.length;o++){var a=i[o];try{a()}catch(u){n=!0,t=u}}if(n)throw t}),e);Et[e]={ms:e,timer:o,listeners:(r={},r[n]=t,r)}}return{bucket:Et[e],id:n}}((function(){return r.current()}),e);return function(){return function(t){var e=t.bucket,r=t.id;delete e.listeners[r];var n=!1;for(var o in e.listeners){n=!0;break}n||(clearInterval(e.timer),delete Et[e.ms])}(t)}}}),[e])},St=n.useState,xt=function(t){var e,r,o=St(!1),i=o[0],a=o[1];return"function"===typeof t&&(t=t(i)),[n.cloneElement(t,{onMouseEnter:(r=t.props.onMouseEnter,function(t){(r||w)(t),a(!0)}),onMouseLeave:(e=t.props.onMouseLeave,function(t){(e||w)(t),a(!1)})}),i]},kt=function(t,e){void 0===e&&(e=!0);var r=Object(n.useState)(!1),o=r[0],i=r[1];return Object(n.useEffect)((function(){var r=function(){return i(!0)},n=function(){return i(!1)};e&&t&&t.current&&(_(t.current,"mouseover",r),_(t.current,"mouseout",n));var o=t.current;return function(){e&&o&&(E(o,"mouseover",r),E(o,"mouseout",n))}}),[e,t]),o};function jt(t,e,r,n){var o,i=!1,a=0;function u(){o&&clearTimeout(o)}function s(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var f=this,h=Date.now()-a;function p(){a=Date.now(),r.apply(f,c)}function d(){o=void 0}i||(n&&!o&&p(),u(),void 0===n&&h>t?p():!0!==e&&(o=setTimeout(n?d:p,void 0===n?t-h:t)))}return"boolean"!==typeof e&&(n=r,r=e,e=void 0),s.cancel=function(){u(),i=!0},s}var Tt=["mousemove","mousedown","resize","keydown","touchstart","wheel"],Lt=function(t,e,r){void 0===t&&(t=6e4),void 0===e&&(e=!1),void 0===r&&(r=Tt);var o=Object(n.useState)(e),i=o[0],a=o[1];return Object(n.useEffect)((function(){for(var e,n=!0,o=i,u=function(t){n&&(o=t,a(t))},s=jt(50,(function(){o&&u(!1),clearTimeout(e),e=setTimeout((function(){return u(!0)}),t)})),c=function(){document.hidden||s()},l=0;l<r.length;l++)_(window,r[l],s);return _(document,"visibilitychange",c),e=setTimeout((function(){return u(!0)}),t),function(){n=!1;for(var t=0;t<r.length;t++)E(window,r[t],s);E(document,"visibilitychange",c)}}),[t,r]),i},Pt=function(t,e){var r=Object(n.useState)(null),o=r[0],i=r[1];return Object(n.useEffect)((function(){if(t.current&&"function"===typeof IntersectionObserver){var r=new IntersectionObserver((function(t){i(t[0])}),e);return r.observe(t.current),function(){i(null),r.disconnect()}}return function(){}}),[t.current,e.threshold,e.root,e.rootMargin]),o},At=function(t,e){var r=Object(n.useRef)((function(){}));Object(n.useEffect)((function(){r.current=t})),Object(n.useEffect)((function(){if(null!==e){var t=setInterval((function(){return r.current()}),e||0);return function(){return clearInterval(t)}}}),[e])},Ct=function(t,e,r,o){void 0===e&&(e=w),void 0===r&&(r={}),void 0===o&&(o=[t]);var i=r.event,a=void 0===i?"keydown":i,u=r.target,s=r.options,c=Object(n.useMemo)((function(){var r,n="function"===typeof(r=t)?r:"string"===typeof r?function(t){return t.key===r}:r?function(){return!0}:function(){return!1};return function(t){if(n(t))return e(t)}}),o);pt(a,c,u,s)},It=function(t){return void 0===t&&(t={laptopL:1440,laptop:1024,tablet:768}),function(){var e=Object(n.useState)(O?window.innerWidth:0),r=e[0],o=e[1];Object(n.useEffect)((function(){var t=function(){o(window.innerWidth)};return t(),_(window,"resize",t),function(){E(window,"resize",t)}}));var i=Object(n.useMemo)((function(){return Object.entries(t).sort((function(t,e){return t[1]>=e[1]?1:-1}))}),[t]),a=i.reduce((function(t,e){var n=e[0],o=e[1];return r>=o?n:t}),i[0][0]);return a}},Rt=function(t){var e=Object(n.useState)([!1,null]),r=e[0],o=e[1];return Ct(t,(function(t){return o([!0,t])}),{event:"keydown"},[r]),Ct(t,(function(t){return o([!1,t])}),{event:"keyup"},[r]),r},Dt=function(t,e,r,n){void 0===n&&(n=Rt);var o=n(t),i=o[0],a=o[1];u((function(){!i&&r?r(a):i&&e&&e(a)}),[i])},Nt=function(t){var e=Object(n.useRef)(t);return e.current=t,e},Ft=function(t,e){Object(n.useEffect)((function(){return t&&t(),function(){e&&e()}}),[])};var Mt=function(t){void 0===t&&(t=[]);var e=Object(n.useRef)(q(t)),r=G(),o=Object(n.useMemo)((function(){var n={set:function(t){e.current=q(t,e.current),r()},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.length&&o.set((function(e){return e.concat(t)}))},updateAt:function(t,e){o.set((function(r){var n=r.slice();return n[t]=e,n}))},insertAt:function(t,e){o.set((function(r){var n=r.slice();return t>n.length?n[t]=e:n.splice(t,0,e),n}))},update:function(t,e){o.set((function(r){return r.map((function(r){return t(r,e)?e:r}))}))},updateFirst:function(t,r){var n=e.current.findIndex((function(e){return t(e,r)}));n>=0&&o.updateAt(n,r)},upsert:function(t,r){var n=e.current.findIndex((function(e){return t(e,r)}));n>=0?o.updateAt(n,r):o.push(r)},sort:function(t){o.set((function(e){return e.slice().sort(t)}))},filter:function(t,e){o.set((function(r){return r.slice().filter(t,e)}))},removeAt:function(t){o.set((function(e){var r=e.slice();return r.splice(t,1),r}))},clear:function(){o.set([])},reset:function(){o.set(q(t).slice())}};return n.remove=n.removeAt,n}),[]);return[e.current,o]},Bt=function(t,e,r){if(!O)return[e,w,w];if(!t)throw new Error("useLocalStorage key may not be falsy");var o=r?r.raw?function(t){return t}:r.deserializer:JSON.parse,i=Object(n.useRef)((function(t){try{var n=r?r.raw?String:r.serializer:JSON.stringify,i=localStorage.getItem(t);return null!==i?o(i):(e&&localStorage.setItem(t,n(e)),e)}catch(a){return e}})),a=Object(n.useState)((function(){return i.current(t)})),u=a[0],s=a[1];Object(n.useLayoutEffect)((function(){return s(i.current(t))}),[t]);var c=Object(n.useCallback)((function(e){try{var n="function"===typeof e?e(u):e;if("undefined"===typeof n)return;var i=void 0;i=r?r.raw?"string"===typeof n?n:JSON.stringify(n):r.serializer?r.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(t,i),s(o(i))}catch(a){}}),[t,s]),l=Object(n.useCallback)((function(){try{localStorage.removeItem(t),s(void 0)}catch(a){}}),[t,s]);return[u,c,l]},Ut=function(t){var e=window.history,r=e[t];e[t]=function(e){var n=r.apply(this,arguments),o=new Event(t.toLowerCase());return o.state=e,window.dispatchEvent(o),n}};O&&(Ut("pushState"),Ut("replaceState"));var zt=function(t){var e=window.history,r=e.state,n=e.length,o=window.location;return{trigger:t,state:r,length:n,hash:o.hash,host:o.host,hostname:o.hostname,href:o.href,origin:o.origin,pathname:o.pathname,port:o.port,protocol:o.protocol,search:o.search}},Gt="function"===typeof Event,qt=O&&Gt?function(){var t=Object(n.useState)(zt("load")),e=t[0],r=t[1];return Object(n.useEffect)((function(){var t=function(){return r(zt("popstate"))},e=function(){return r(zt("pushstate"))},n=function(){return r(zt("replacestate"))};return _(window,"popstate",t),_(window,"pushstate",e),_(window,"replacestate",n),function(){E(window,"popstate",t),E(window,"pushstate",e),E(window,"replacestate",n)}}),[]),e}:function(){return{trigger:"load",length:1}};function Ht(t){if(!t)return null;if("BODY"===t.tagName)return t;if("IFRAME"===t.tagName){var e=t.contentDocument;return e?e.body:null}return t.offsetParent?Ht(t.offsetParent):null}function Vt(t){var e=t||window.event;return e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)}var $t=O&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),Wt=new Map,Kt="object"===typeof document?document:void 0,Yt=!1,Qt=Kt?function(t,e){void 0===t&&(t=!0);var r=Object(n.useRef)(Kt.body);e=e||r;var o=function(t){var e=Wt.get(t);e&&(1===e.counter?(Wt.delete(t),$t?(t.ontouchmove=null,Yt&&(E(document,"touchmove",Vt),Yt=!1)):t.style.overflow=e.initialOverflow):Wt.set(t,{counter:e.counter-1,initialOverflow:e.initialOverflow}))};Object(n.useEffect)((function(){var r=Ht(e.current);r&&(t?function(t){var e=Wt.get(t);e?Wt.set(t,{counter:e.counter+1,initialOverflow:e.initialOverflow}):(Wt.set(t,{counter:1,initialOverflow:t.style.overflow}),$t?Yt||(_(document,"touchmove",Vt,{passive:!1}),Yt=!0):t.style.overflow="hidden")}(r):o(r))}),[t,e.current]),Object(n.useEffect)((function(){var t=Ht(e.current);if(t)return function(){o(t)}}),[])}:function(t,e){void 0===t&&(t=!0)},Xt=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];ut((function(){return console.log.apply(console,Object(f.__spreadArrays)([t+" mounted"],e)),function(){return console.log(t+" unmounted")}})),u((function(){console.log.apply(console,Object(f.__spreadArrays)([t+" updated"],e))}))},Jt=function(t){(function(t){return"touches"in t})(t)&&t.touches.length<2&&t.preventDefault&&t.preventDefault()},Zt=function(t,e){var r=void 0===e?{}:e,o=r.isPreventDefault,i=void 0===o||o,a=r.delay,u=void 0===a?300:a,s=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useCallback)((function(e){i&&e.target&&(_(e.target,"touchend",Jt,{passive:!1}),c.current=e.target),s.current=setTimeout((function(){return t(e)}),u)}),[t,u,i]),f=Object(n.useCallback)((function(){s.current&&clearTimeout(s.current),i&&c.current&&E(c.current,"touchend",Jt)}),[i]);return{onMouseDown:function(t){return l(t)},onTouchStart:function(t){return l(t)},onMouseUp:f,onMouseLeave:f,onTouchEnd:f}},te=function(t){void 0===t&&(t={});var e=Object(n.useState)(t),r=e[0],o=e[1],i=Object(n.useMemo)((function(){return{set:function(t,e){o((function(r){var n;return Object(f.__assign)(Object(f.__assign)({},r),((n={})[t]=e,n))}))},setAll:function(t){o(t)},remove:function(t){o((function(e){var r=e,n=t;r[n];return Object(f.__rest)(r,["symbol"===typeof n?n:n+""])}))},reset:function(){return o(t)}}}),[o]),a=Object(f.__assign)({get:Object(n.useCallback)((function(t){return r[t]}),[r])},i);return[r,a]},ee=function(t,e){var r=Object(n.useState)(function(t,e){return void 0!==e?e:!!O&&window.matchMedia(t).matches}(t,e)),o=r[0],i=r[1];return Object(n.useEffect)((function(){var e=!0,r=window.matchMedia(t),n=function(){e&&i(!!r.matches)};return r.addListener(n),i(r.matches),function(){e=!1,r.removeListener(n)}}),[t]),o},re=S&&navigator.mediaDevices?function(){var t=Object(n.useState)({}),e=t[0],r=t[1];return Object(n.useEffect)((function(){var t=!0,e=function(){navigator.mediaDevices.enumerateDevices().then((function(e){t&&r({devices:e.map((function(t){return{deviceId:t.deviceId,groupId:t.groupId,kind:t.kind,label:t.label}}))})})).catch(w)};return _(navigator.mediaDevices,"devicechange",e),e(),function(){t=!1,E(navigator.mediaDevices,"devicechange",e)}}),[]),e}:function(){return{}};function ne(t,e){var r=Object(n.useRef)(t),o=Object(n.useState)(e),i=o[0],a=o[1];return[i,Object(n.useCallback)((function(t){2===r.current.length?r.current(t,a):a(r.current(t))}),[i])]}var oe=function(t,e){var r=Object(n.useMemo)((function(){return function(e,r){var n;return(n=t(e))[r.type].apply(n,r.payload)}}),[t]),o=Object(n.useReducer)(r,e),i=o[0],a=o[1],u=Object(n.useMemo)((function(){return Object.keys(t(e)).reduce((function(t,e){return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return a({type:e,payload:t})},t}),{})}),[t,e]);return[i,u]},ie={acceleration:{x:null,y:null,z:null},accelerationIncludingGravity:{x:null,y:null,z:null},rotationRate:{alpha:null,beta:null,gamma:null},interval:16},ae=function(t){void 0===t&&(t=ie);var e=Object(n.useState)(t),r=e[0],o=e[1];return Object(n.useEffect)((function(){var t=function(t){var e=t.acceleration,r=t.accelerationIncludingGravity,n=t.rotationRate,i=t.interval;o({acceleration:{x:e.x,y:e.y,z:e.z},accelerationIncludingGravity:{x:r.x,y:r.y,z:r.z},rotationRate:{alpha:n.alpha,beta:n.beta,gamma:n.gamma},interval:i})};return _(window,"devicemotion",t),function(){E(window,"devicemotion",t)}}),[]),r},ue=function(t){ut((function(){t()}))},se=function(t){var e=Object(n.useRef)(t);e.current=t,ut((function(){return function(){return e.current()}}))},ce=function(t){var e=Object(n.useRef)(0),r=Object(n.useState)(t),o=r[0],i=r[1],a=Object(n.useCallback)((function(t){cancelAnimationFrame(e.current),e.current=requestAnimationFrame((function(){i(t)}))}),[]);return se((function(){cancelAnimationFrame(e.current)})),[o,a]},le=function(t){var e=ce({docX:0,docY:0,posX:0,posY:0,elX:0,elY:0,elH:0,elW:0}),r=e[0],o=e[1];return Object(n.useEffect)((function(){var e=function(e){if(t&&t.current){var r=t.current.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,u=r.height,s=n+window.pageXOffset,c=i+window.pageYOffset,l=e.pageX-s,f=e.pageY-c;o({docX:e.pageX,docY:e.pageY,posX:s,posY:c,elX:l,elY:f,elH:u,elW:a})}};return _(document,"mousemove",e),function(){E(document,"mousemove",e)}}),[t]),r},fe={current:null},he=function(t,e){void 0===e&&(e={});var r=!!e.whenHovered,n=!!e.bound,o=kt(t,r),i=le(r&&!o?fe:t);return n&&(i.elX=Math.max(0,Math.min(i.elX,i.elW)),i.elY=Math.max(0,Math.min(i.elY,i.elH))),i},pe=function(){var t=Object(n.useState)(0),e=t[0],r=t[1];return Object(n.useEffect)((function(){var t=function(t){r(t.deltaY+e)};return _(window,"wheel",t,!1),function(){return E(window,"wheel",t)}})),e},de=S?navigator:void 0,ye=de&&(de.connection||de.mozConnection||de.webkitConnection);function ve(t){var e=null===de||void 0===de?void 0:de.onLine,r=null===t||void 0===t?void 0:t.online;return{online:e,previous:r,since:e!==r?new Date:null===t||void 0===t?void 0:t.since,downlink:null===ye||void 0===ye?void 0:ye.downlink,downlinkMax:null===ye||void 0===ye?void 0:ye.downlinkMax,effectiveType:null===ye||void 0===ye?void 0:ye.effectiveType,rtt:null===ye||void 0===ye?void 0:ye.rtt,saveData:null===ye||void 0===ye?void 0:ye.saveData,type:null===ye||void 0===ye?void 0:ye.type}}function me(t){var e=Object(n.useState)(null!==t&&void 0!==t?t:ve),r=e[0],o=e[1];return Object(n.useEffect)((function(){var t=function(){o(ve)};return _(window,"online",t,{passive:!0}),_(window,"offline",t,{passive:!0}),ye&&_(ye,"change",t,{passive:!0}),function(){E(window,"online",t),E(window,"offline",t),ye&&E(ye,"change",t)}}),[]),r}var ge=V;var be=function(t,e){var r=Object(n.useState)(e),o=r[0],i=r[1];return Q((function(){var e=t.subscribe(i);return function(){return e.unsubscribe()}}),[t]),o},we={angle:0,type:"landscape-primary"},_e=function(t){void 0===t&&(t=we);var e=Object(n.useState)(t),r=e[0],o=e[1];return Object(n.useEffect)((function(){var e=window.screen,r=!0,n=function(){if(r){var n=e.orientation;if(n){var i=n.angle,a=n.type;o({angle:i,type:a})}else void 0!==window.orientation?o({angle:"number"===typeof window.orientation?window.orientation:0,type:""}):o(t)}};return _(window,"orientationchange",n),n(),function(){r=!1,E(window,"orientationchange",n)}}),[]),r},Ee=function(t,e){void 0===e&&(e=[]),Object(n.useEffect)((function(){if(t){var e=function(e){var r=(e=e||window.event).relatedTarget||e.toElement;r&&"HTML"!==r.nodeName||t()};return _(document,"mouseout",e),function(){E(document,"mouseout",e)}}}),e)},Oe=function(t){var e=Object(n.useState)(""),r=e[0],o=e[1];return Object(n.useEffect)((function(){var e=!0,r=null,n=function(){e&&o((function(){var t;return null!==(t=null===r||void 0===r?void 0:r.state)&&void 0!==t?t:""}))};return navigator.permissions.query(t).then((function(t){_(r=t,"change",n),n()})).catch(w),function(){r&&E(r,"change",n),e=!1,r=null}}),[t]),r};function Se(t){var e=Object(n.useRef)();return Object(n.useEffect)((function(){e.current=t})),e.current}var xe=function(t,e){return t===e};function ke(t,e){void 0===e&&(e=xe);var r=Object(n.useRef)(),o=Object(n.useRef)(t);return a()||e(o.current,t)||(r.current=o.current,o.current=t),r.current}var je=function(){var t=h();return Object(n.useCallback)((function(e){return new Promise((function(r,n){e.then((function(e){t()&&r(e)}),(function(e){t()&&n(e)}))}))}),[])},Te=function(t){void 0===t&&(t=[]);var e=Object(n.useState)(t),r=e[0],o=e[1];return{add:function(t){o((function(e){return Object(f.__spreadArrays)(e,[t])}))},remove:function(){var t;return o((function(e){var r=e[0],n=e.slice(1);return t=r,n})),t},get first(){return r[0]},get last(){return r[r.length-1]},get size(){return r.length}}},Le=function(t,e){void 0===t&&(t=1e12),void 0===e&&(e=0);var r=Object(n.useState)(0),o=r[0],i=r[1];return Q((function(){var r,n,o,a=function(){var e=Math.min(1,(Date.now()-o)/t);i(e),u()},u=function(){r=requestAnimationFrame(a)},s=setTimeout((function(){n=setTimeout((function(){cancelAnimationFrame(r),i(1)}),t),o=Date.now(),u()}),e);return function(){clearTimeout(n),clearTimeout(s),cancelAnimationFrame(r)}}),[t,e]),o};function Pe(t,e){void 0===e&&(e=!0);var r=Object(n.useRef)(null),o=Object(n.useRef)(!1),i=Object(n.useRef)(t);i.current=t;var a=Object(n.useCallback)((function(t){o.current&&(i.current(t),r.current=requestAnimationFrame(a))}),[]),u=Object(n.useMemo)((function(){return[function(){o.current&&(o.current=!1,r.current&&cancelAnimationFrame(r.current))},function(){o.current||(o.current=!0,r.current=requestAnimationFrame(a))},function(){return o.current}]}),[]);return Object(n.useEffect)((function(){return e&&u[1](),u[0]}),[]),u}var Ae,Ce=function(t,e){return new URLSearchParams(t).get(e)},Ie=O?function(t){var e=window.location,r=Object(n.useState)((function(){return Ce(e.search,t)})),o=r[0],i=r[1];return Object(n.useEffect)((function(){var r=function(){i(Ce(e.search,t))};return _(window,"popstate",r),_(window,"pushstate",r),_(window,"replacestate",r),function(){E(window,"popstate",r),E(window,"pushstate",r),E(window,"replacestate",r)}}),[]),o}:function(){return null},Re=(r(128),function(t){void 0===t&&(t={});var e=t.disabled,r=Nt(t),o=Object(n.useState)({isScratching:!1}),i=o[0],a=o[1],u=Object(n.useRef)(i),s=Object(n.useRef)(!1),c=Object(n.useRef)(null),l=Object(n.useState)(null),h=l[0],p=l[1];return Object(n.useEffect)((function(){if(!e&&h){var t,n,o=function(t,e){cancelAnimationFrame(c.current),c.current=requestAnimationFrame((function(){var n=h.getBoundingClientRect(),o=n.left,i=n.top,s=o+window.scrollX,c=i+window.scrollY,l=t-s,p=e-c;a((function(t){var e=Object(f.__assign)(Object(f.__assign)({},t),{dx:l-(t.x||0),dy:p-(t.y||0),end:Date.now(),isScratching:!0});return u.current=e,(r.current.onScratch||w)(e),e}))}))},i=function(t){o(t.pageX,t.pageY)},l=function(t){o(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},p=function(){s.current&&(s.current=!1,u.current=Object(f.__assign)(Object(f.__assign)({},u.current),{isScratching:!1}),(r.current.onScratchEnd||w)(u.current),a({isScratching:!1}),E(window,"mousemove",i),E(window,"touchmove",l),E(window,"mouseup",t),E(window,"touchend",n))};t=p,n=p;var d=function(e,o){if(s.current){var c=h.getBoundingClientRect(),f=c.left,p=c.top,d=f+window.scrollX,y=p+window.scrollY,v=e-d,m=o-y,g=Date.now(),b={isScratching:!0,start:g,end:g,docX:e,docY:o,x:v,y:m,dx:0,dy:0,elH:h.offsetHeight,elW:h.offsetWidth,elX:d,elY:y};u.current=b,(r.current.onScratchStart||w)(b),a(b),_(window,"mousemove",i),_(window,"touchmove",l),_(window,"mouseup",t),_(window,"touchend",n)}},y=function(t){s.current=!0,d(t.pageX,t.pageY)},v=function(t){s.current=!0,d(t.changedTouches[0].pageX,t.changedTouches[0].pageY)};return _(h,"mousedown",y),_(h,"touchstart",v),function(){E(h,"mousedown",y),E(h,"touchstart",v),E(window,"mousemove",i),E(window,"touchmove",l),E(window,"mouseup",t),E(window,"touchend",n),c.current&&cancelAnimationFrame(c.current),c.current=null,s.current=!1,u.current={isScratching:!1},a(u.current)}}}),[h,e,r]),[p,i]}),De=Re,Ne=function(t){var e=ce({x:0,y:0}),r=e[0],o=e[1];return Object(n.useEffect)((function(){var e=function(){t.current&&o({x:t.current.scrollLeft,y:t.current.scrollTop})};return t.current&&_(t.current,"scroll",e,{capture:!1,passive:!0}),function(){t.current&&E(t.current,"scroll",e)}}),[t]),r},Fe=function(t){var e=Object(n.useState)(!1),r=e[0],o=e[1];return Object(n.useEffect)((function(){if(t.current){var e,r=function(){o(!0),clearTimeout(e),e=setTimeout((function(){o(!1)}),150)};return _(t.current,"scroll",r,!1),function(){t.current&&E(t.current,"scroll",r,!1)}}return function(){}}),[t]),r},Me=function(t,e,r){if(!O)return[e,function(){}];var o=Object(n.useState)((function(){try{var n=sessionStorage.getItem(t);return"string"!==typeof n?(sessionStorage.setItem(t,r?String(e):JSON.stringify(e)),e):r?n:JSON.parse(n||"null")}catch(o){return e}})),i=o[0],a=o[1];return Object(n.useEffect)((function(){try{var e=r?String(i):JSON.stringify(i);sessionStorage.setItem(t,e)}catch(o){}})),[i,a]},Be=r(129),Ue=function(t,e){return t.every((function(t,r){return Object(Be.equal)(t,e[r])}))},ze=function(t,e){tt(t,e,Ue)},Ge=n.useState,qe=n.useEffect,He=n.useRef,Ve=function(t,e){var r=void 0===e?{}:e,o=r.width,i=void 0===o?1/0:o,a=r.height,u=void 0===a?1/0:a;if(!O)return["function"===typeof t?t({width:i,height:u}):t,{width:i,height:u}];var s=Ge({width:i,height:u}),c=s[0],l=s[1];"function"===typeof t&&(t=t(c));var h=t.props.style||{},p=He(null),d=null,y=function(){var t=p.current,e=t?{width:t.offsetWidth,height:t.offsetHeight}:{width:i,height:u};l(e)},v=function(t){_(t,"resize",y),setTimeout(y,35)};return qe((function(){var t=p.current;if(t){if(t.contentWindow)d=t.contentWindow,v(d);else{E(t,"load",(function e(){_(t,"load",e),d=t.contentWindow,v(d)}))}return function(){d&&d.removeEventListener&&E(d,"resize",y)}}}),[]),h.position="relative",[n.cloneElement.apply(n,Object(f.__spreadArrays)([t,{style:h}],Object(f.__spreadArrays)([n.createElement("iframe",{ref:p,style:{background:"transparent",border:"none",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1}})],n.Children.toArray(t.props.children)))),c]},$e=function(t,e){void 0===e&&(e={});var r=h(),o=Object(n.useRef)(!1),i=Object(n.useRef)(0),a=Object(n.useRef)(0),u=v({isSliding:!1,value:0}),s=u[0],c=u[1];return i.current=s.value,Object(n.useEffect)((function(){if(O){var n=void 0===e.styles||e.styles,u=void 0!==e.reverse&&e.reverse;t.current&&n&&(t.current.style.userSelect="none");var s=function(){!o.current&&r()&&((e.onScrubStart||w)(),o.current=!0,c({isSliding:!0}),y())},l=function(){o.current&&r()&&((e.onScrubStop||w)(i.current),o.current=!1,c({isSliding:!1}),v())},f=function(t){s(),h(t)},h=e.vertical?function(t){return m(t.clientY)}:function(t){return m(t.clientX)},p=function(t){s(),d(t)},d=e.vertical?function(t){return m(t.changedTouches[0].clientY)}:function(t){return m(t.changedTouches[0].clientX)},y=function(){_(document,"mousemove",h),_(document,"mouseup",l),_(document,"touchmove",d),_(document,"touchend",l)},v=function(){E(document,"mousemove",h),E(document,"mouseup",l),E(document,"touchmove",d),E(document,"touchend",l)},m=function(n){cancelAnimationFrame(a.current),a.current=requestAnimationFrame((function(){if(r()&&t.current){var o=t.current.getBoundingClientRect(),i=e.vertical?o.top:o.left,a=e.vertical?o.height:o.width;if(!a)return;var s=(n-i)/a;s>1?s=1:s<0&&(s=0),u&&(s=1-s),c({value:s}),(e.onScrub||w)(s)}}))};return _(t.current,"mousedown",f),_(t.current,"touchstart",p),function(){E(t.current,"mousedown",f),E(t.current,"touchstart",p)}}}),[t,e.vertical]),s};!function(t){t[t.init=0]="init",t[t.play=1]="play",t[t.pause=2]="pause",t[t.end=3]="end"}(Ae||(Ae={}));var We=function(t,e){var r=Object(n.useRef)(!1),o=Object(n.useState)((function(){var t=e.voice||{},r=t.lang,n=void 0===r?"default":r,o=t.name,i=void 0===o?"":o;return{isPlaying:!1,status:Ae[Ae.init],lang:e.lang||"default",voiceInfo:{lang:n,name:i},rate:e.rate||1,pitch:e.pitch||1,volume:e.volume||1}})),i=o[0],a=o[1],u=Object(n.useCallback)((function(){r.current&&a((function(t){return Object(f.__assign)(Object(f.__assign)({},t),{isPlaying:!0,status:Ae[Ae.play]})}))}),[]),s=Object(n.useCallback)((function(){r.current&&a((function(t){return Object(f.__assign)(Object(f.__assign)({},t),{isPlaying:!1,status:Ae[Ae.pause]})}))}),[]),c=Object(n.useCallback)((function(){r.current&&a((function(t){return Object(f.__assign)(Object(f.__assign)({},t),{isPlaying:!1,status:Ae[Ae.end]})}))}),[]);return Object(n.useEffect)((function(){r.current=!0;var n=new SpeechSynthesisUtterance(t);return e.lang&&(n.lang=e.lang),e.voice&&(n.voice=e.voice),n.rate=e.rate||1,n.pitch=e.pitch||1,n.volume=e.volume||1,n.onstart=u,n.onpause=s,n.onresume=u,n.onend=c,window.speechSynthesis.speak(n),function(){r.current=!1}}),[]),i},Ke=function(t){Q((function(){var e=function(e){!function(){var t=document.activeElement,e=document.body;if(!t)return!1;if(t===e)return!1;switch(t.tagName){case"INPUT":case"TEXTAREA":return!0}return t.hasAttribute("contenteditable")}()&&function(t){var e=t.keyCode,r=t.metaKey,n=t.ctrlKey,o=t.altKey;return!(r||n||o)&&(e>=48&&e<=57||e>=65&&e<=90)}(e)&&t(e)};return _(document,"keydown",e),function(){E(document,"keydown",e)}}),[])};function Ye(t,e,r){if(void 0===e&&(e=10),e<1)throw new Error("Capacity has to be greater than 1, got '"+e+"'");var o=a(),i=Object(n.useState)(t),u=i[0],s=i[1],c=Object(n.useRef)(null!==r&&void 0!==r?r:[]),l=Object(n.useRef)(0);return o&&(c.current.length?(c.current[c.current.length-1]!==t&&c.current.push(t),c.current.length>e&&(c.current=c.current.slice(c.current.length-e))):c.current.push(t),l.current=c.current.length&&c.current.length-1),[u,Object(n.useCallback)((function(t){s((function(r){return(t=q(t,r))!==r&&(l.current<c.current.length-1&&(c.current=c.current.slice(0,l.current+1)),l.current=c.current.push(t)-1,c.current.length>e&&(c.current=c.current.slice(c.current.length-e))),t}))}),[u,e]),Object(n.useMemo)((function(){return{history:c.current,position:l.current,capacity:e,back:function(t){void 0===t&&(t=1),l.current&&s((function(){return l.current-=Math.min(t,l.current),c.current[l.current]}))},forward:function(t){void 0===t&&(t=1),l.current!==c.current.length-1&&s((function(){return l.current=Math.min(l.current+t,c.current.length-1),c.current[l.current]}))},go:function(t){t!==l.current&&s((function(){return l.current=t<0?Math.max(c.current.length+t,0):Math.min(c.current.length-1,t),c.current[l.current]}))}}}),[u])]}function Qe(t){void 0===t&&(t=[]);var e=h(),r=G(),o=Object(n.useRef)(0);u((function(){t.length<=o.current&&(o.current=t.length-1,r())}),[t.length]);var i=Object(n.useMemo)((function(){return{next:function(){return i.setStateAt(o.current+1)},prev:function(){return i.setStateAt(o.current-1)},setStateAt:function(n){e()&&t.length&&n!==o.current&&(o.current=n>=0?n%t.length:t.length+n%t.length,r())},setState:function(n){if(e()){var i=t.length?t.indexOf(n):-1;if(-1===i)throw new Error("State '"+n+"' is not a valid state (does not exist in state list)");o.current=i,r()}}}}),[t]);return Object(f.__assign)({state:t[o.current],currentIndex:o.current},i)}var Xe=function(t,e){void 0===e&&(e=200);var r=Object(n.useState)(t),o=r[0],i=r[1],a=Object(n.useRef)(),u=Object(n.useRef)(null),s=Object(n.useRef)(0);return Object(n.useEffect)((function(){if(a.current)u.current=t,s.current=!0;else{i(t);a.current=setTimeout((function t(){s.current?(s.current=!1,i(u.current),a.current=setTimeout(t,e)):a.current=void 0}),e)}}),[t]),se((function(){a.current&&clearTimeout(a.current)})),o},Je=function(t,e,r){void 0===e&&(e=200);var o=Object(n.useState)(null),i=o[0],a=o[1],u=Object(n.useRef)(),s=Object(n.useRef)();return Object(n.useEffect)((function(){if(u.current)s.current=r;else{a(t.apply(void 0,r));u.current=setTimeout((function r(){s.current?(a(t.apply(void 0,s.current)),s.current=void 0,u.current=setTimeout(r,e)):u.current=void 0}),e)}}),r),se((function(){u.current&&clearTimeout(u.current)})),i};function Ze(t){return void 0===t&&(t=0),et(G(),t)}var tr={restoreOnUnmount:!1};var er="undefined"!==typeof document?function(t,e){void 0===e&&(e=tr);var r=Object(n.useRef)(document.title);document.title!==t&&(document.title=t),Object(n.useEffect)((function(){return e&&e.restoreOnUnmount?function(){document.title=r.current}:void 0}),[])}:function(t){},rr=r(130),nr=function(t,e,r){return void 0===t&&(t="inCirc"),void 0===e&&(e=200),void 0===r&&(r=0),(0,rr.easing[t])(Le(e,r))},or=function(){var t=Object(n.useRef)(!1);return ut((function(){return function(){t.current=!0}})),Object(n.useMemo)((function(){return function(e,r){return new Promise((function(n,o){e.then((function(e){t.current||n(e)}),(function(e){t.current?r?r(e):console.error("useUnmountPromise",e):o(e)}))}))}}),[])};function ir(t,e){void 0===e&&(e=[]);var r=Mt(e),n=r[0],o=r[1];return[n,Object(f.__assign)(Object(f.__assign)({},o),{upsert:function(e){o.upsert(t,e)}})]}var ar=S&&"vibrate"in navigator?function(t,e,r){void 0===t&&(t=!0),void 0===e&&(e=[1e3,1e3]),void 0===r&&(r=!0),Object(n.useEffect)((function(){var n;if(t&&(navigator.vibrate(e),r)){var o=e instanceof Array?e.reduce((function(t,e){return t+e})):e;n=setInterval((function(){navigator.vibrate(e)}),o)}return function(){t&&(navigator.vibrate(0),r&&clearInterval(n))}}),[t])}:w,ur=g("video");function sr(t,e,r){void 0===r&&(r=[void 0]);var o=Object(n.useRef)(e),i=Object(n.useRef)(t);o.current=e,i.current=t;var a=Object(n.useState)(r),u=a[0],s=a[1],c=Object(n.useCallback)((function(){o.current.length>=2?o.current(i.current,s):s(o.current(i.current))}),[s]);return Object(n.useEffect)((function(){c()}),[t]),[u,c]}var cr=function t(e){if("undefined"==typeof document)return 0;if(document.body&&(!document.readyState||"loading"!==document.readyState)){if(!0!==e&&"number"==typeof t.__cache)return t.__cache;var r=document.createElement("div"),n=r.style;n.display="block",n.position="absolute",n.width="100px",n.height="100px",n.left="-999px",n.top="-999px",n.overflow="scroll",document.body.insertBefore(r,null);var o=r.clientWidth;if(0!==o)return t.__cache=100-o,document.body.removeChild(r),t.__cache;document.body.removeChild(r)}};function lr(){var t=Object(n.useState)(cr()),e=t[0],r=t[1];return Object(n.useEffect)((function(){if("undefined"===typeof e){var t=requestAnimationFrame((function(){r(cr())}));return function(){return cancelAnimationFrame(t)}}}),[]),e}function fr(t,e,r){if(void 0===r&&(r=[void 0]),"object"!==typeof t)throw new Error("states expected to be an object or array, got "+typeof t);var o=Object(n.useRef)(e),i=Object(n.useRef)(t);o.current=e,i.current=t;var a=Object(n.useState)(r),u=a[0],s=a[1],c=Object(n.useCallback)((function(){o.current.length>=2?o.current(i.current,s):s(o.current(i.current))}),[s]);return Object(n.useEffect)((function(){c()}),Object.values(t)),[u,c]}var hr=function(){var t=ce((function(){return{x:O?window.pageXOffset:0,y:O?window.pageYOffset:0}})),e=t[0],r=t[1];return Object(n.useEffect)((function(){var t=function(){r((function(t){var e=window.pageXOffset,r=window.pageYOffset;return t.x!==e||t.y!==r?{x:e,y:r}:t}))};return t(),_(window,"scroll",t,{capture:!1,passive:!0}),function(){E(window,"scroll",t)}}),[]),e},pr=function(t,e){void 0===t&&(t=1/0),void 0===e&&(e=1/0);var r=ce({width:O?window.innerWidth:t,height:O?window.innerHeight:e}),o=r[0],i=r[1];return Object(n.useEffect)((function(){if(O){var t=function(){i({width:window.innerWidth,height:window.innerHeight})};return _(window,"resize",t),function(){E(window,"resize",t)}}}),[]),o},dr={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};var yr,vr=O&&"undefined"!==typeof window.ResizeObserver?function(){var t=Object(n.useState)(null),e=t[0],r=t[1],o=Object(n.useState)(dr),i=o[0],a=o[1],u=Object(n.useMemo)((function(){return new window.ResizeObserver((function(t){if(t[0]){var e=t[0].contentRect,r=e.x,n=e.y,o=e.width,i=e.height,u=e.top,s=e.left,c=e.bottom,l=e.right;a({x:r,y:n,width:o,height:i,top:u,left:s,bottom:c,right:l})}}))}),[]);return Q((function(){if(e)return u.observe(e),function(){u.disconnect()}}),[e]),[r,i]}:function(){return[w,dr]};!function(t){t.ZOOMING_IN="ZOOMING_IN",t.ZOOMING_OUT="ZOOMING_OUT"}(yr||(yr={}));var mr=function(t){var e=Object(n.useMemo)((function(){return{evCache:[],prevDiff:-1}}),[t.current]),r=Object(n.useState)(),o=r[0],i=r[1],a=function(t){for(var r=0;r<e.evCache.length;r++)if(t.pointerId==e.evCache[r].pointerId){e.evCache[r]=t;break}if(2==e.evCache.length){var n=Math.abs(e.evCache[0].clientX-e.evCache[1].clientX);e.prevDiff>0&&(n>e.prevDiff&&i([yr.ZOOMING_IN,n]),n<e.prevDiff&&i([yr.ZOOMING_OUT,n])),e.prevDiff=n}},u=function(t){e.evCache.push(t)},s=function(t){c(t),e.evCache.length<2&&(e.prevDiff=-1)},c=function(t){for(var r=0;r<e.evCache.length;r++)if(e.evCache[r].pointerId==t.pointerId){e.evCache.splice(r,1);break}};return Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.current)&&(t.current.onpointerdown=u,t.current.onpointermove=a,t.current.onpointerup=s,t.current.onpointercancel=s,t.current.onpointerout=s,t.current.onpointerleave=s)}),[null===t||void 0===t?void 0:t.current]),o?{zoomingState:o[0],pinchState:o[1]}:{zoomingState:null,pinchState:0}};function gr(){return++Object(n.useRef)(0).current}var br=function(t){void 0===t&&(t=new Set);var e=Object(n.useState)(t),r=e[0],o=e[1],i=Object(n.useMemo)((function(){return{add:function(t){return o((function(e){return new Set(Object(f.__spreadArrays)(Array.from(e),[t]))}))},remove:function(t){return o((function(e){return new Set(Array.from(e).filter((function(e){return e!==t})))}))},toggle:function(t){return o((function(e){return e.has(t)?new Set(Array.from(e).filter((function(e){return e!==t}))):new Set(Object(f.__spreadArrays)(Array.from(e),[t]))}))},reset:function(){return o(t)}}}),[o]),a=Object(f.__assign)({has:Object(n.useCallback)((function(t){return r.has(t)}),[r])},i);return[r,a]};function wr(t){var e={state:t instanceof Function?t():t,setState:function(t){e.state=q(t,e.state),e.setters.forEach((function(t){return t(e.state)}))},setters:[]};return function(){var t=Object(n.useState)(e.state),r=t[0],o=t[1];return ut((function(){return function(){e.setters=e.setters.filter((function(t){return t!==o}))}})),Q((function(){e.setters.includes(o)||e.setters.push(o)})),[r,e.setState]}}var _r=function(){var t=Object(n.useState)((function(){return window.location.hash})),e=t[0],r=t[1],o=Object(n.useCallback)((function(){r(window.location.hash)}),[]);Ft((function(){_(window,"hashchange",o)}),(function(){E(window,"hashchange",o)}));var i=Object(n.useCallback)((function(t){t!==e&&(window.location.hash=t)}),[e]);return[e,i]}},function(t,e,r){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o.apply(this,arguments)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t){return c="function"===typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)},c(t)}function l(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?a(t):e}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.r(e),r.d(e,"Mention",(function(){return Vt})),r.d(e,"MentionsInput",(function(){return qt}));var p=r(0),d=r.n(p),y=r(24),v=r.n(y);function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(s){o=!0,i=s}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var b=r(22),w=r.n(b),_=r(17),E=r.n(_),O=function(t){return t===Object(t)?Object.keys(t):[]},S=function(t){return t===Object(t)?Object.values(t):[]};function x(t,e){var r=Object.assign({},t);return T(t)&&T(e)&&O(e).forEach((function(n){T(e[n])&&n in t?r[n]=x(t[n],e[n]):Object.assign(r,w()({},n,e[n]))})),r}var k=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((function(t,e){return x(t,e)}),t)},j=function(t,e){var r=Object.assign({},t);if(e)for(var n=0;n<e.length;n++)delete r[e[n]];return r},T=function(t){return t===Object(t)&&!(t instanceof Date)&&!Array.isArray(t)},L=function(t){return(t||[]).filter(Boolean)},P=function(t){return"&"===t[0]},A=function(t){return!P(t)},C=function(t){return t.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()}))},I=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=O(t),n={},o=0,i=r.length;o<i;o+=1){var a=r[o],u="[object Object]"!==Object.prototype.toString.call(t[a])||":"===a[0]||"@"===a[0]||e.indexOf(a)>=0;u&&(n[a]=t[a])}return n},R=function(t,e){for(var r=e.map(C),n=O(t),o={},i=0,a=n.length;i<a;i+=1){var u=n[i];(e.indexOf(u)>=0||r.indexOf(C(u))>=0)&&(o[u]=t[u])}return o},D=function t(e,r){for(var n=k.apply(void 0,[{},j(e,r)].concat(E()(S(R(e,r))))),o=O(n).filter(P),i=0,a=o.length;i<a;i+=1){var u=o[i],s=t(n[u],r);r.indexOf(u)>=0?(delete n[u],n=k({},n,s)):n[u]=s}return n};function N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?N(Object(r),!0).forEach((function(e){w()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var M=["animationName"],B=function(t){var e=t.style,r=t.className;return F(F({},e?{style:I(e,M)}:{}),r?{className:r}:{})},U=Object(p.createContext)(B),z=(U.Provider,function(t){if(!t)return[];if("string"===typeof t)return[t];if(!Array.isArray(t)){var e=t;return O(t).reduce((function(t,r){return t.concat(e[r]?[r]:[])}),[])}return t}),G={},q=function(t){return function(e,r){var n,o=r||G;t.memoize=t.memoize||new WeakMap,t.memoize.has(o)?n=t.memoize.get(o):(n={},t.memoize.set(o,n));var i=z(e).join(" ");return i in n?n[i]:n[i]=t(e||[],r)}};function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach((function(e){w()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var $=function(t){var e=t&&O(t)[0];return e&&e.split("__")[0].split("--")[0]},W=function(t,e,r){if(t){var n=t.split(" ")[0],o=[].concat(E()(0===e.length?r.map((function(t){return"".concat(n,"--").concat(t.substring(1))})):[]),E()(e.map((function(t){return"".concat(n,"__").concat(t)}))));return 0===e.length?[t].concat(E()(o)):o}};var K=function t(e){var r=e.style,n=e.className,o=e.classNames,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,a=n||$(o)||(null===r||void 0===r?void 0:r.className),u="function"===typeof r?r:q((function(e,n){var u=z(e);v()(Array.isArray(u),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),v()(!n||T(n),"Optional second parameter must be a plain object.");var s=u.filter(P),c=u.filter(A),l=c.length>0?function(t){return S(R(t,c))}:function(t){return[t]},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(D(t,s))},h=W(a,c,s);return t(V(V(V({},(r||n)&&{style:k.apply(void 0,[{}].concat(E()(f(n)),E()(f(r))))}),h&&{className:h.join(" ")}),o&&{classNames:o}),i)})),s=V({},"function"===typeof r?r:{style:r}),c=E()(new Set([].concat(E()(s.className?s.className.split(" "):[]),E()(a?a.split(" "):[])))),l=o?L(c.map((function(t){return o[t]}))):c,f=i(V(V({},s),l.length>0?{className:l.join(" ")}:{}));return Object.assign(u,f),u},Y=function(t,e,r){var n=e.style,o=e.className,i=e.classNames,a=Object(p.useContext)(U);return Object(p.useMemo)((function(){return K({style:n,className:o,classNames:i},a)}),[n,o,i,a])(r,t)};function Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(r),!0).forEach((function(e){w()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var J=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce((function(t,e){return X(X(X({},t),"function"===typeof e?e:{}),{},{style:X(X({},t.style),"function"===typeof e?e.style:e)})}),{})},Z=r(2),tt=r.n(Z),et=r(16),rt=r.n(et),nt=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},ot="__id__",it="__display__",at=function(t,e){v()("id"===e||"display"===e,'Second arg must be either "id" or "display", got: "'.concat(e,'"'));var r=t.indexOf(it),n=t.indexOf(ot);return r<0&&(r=null),n<0&&(n=null),v()(null!==r||null!==n,"The markup '".concat(t,"' does not contain either of the placeholders '__id__' or '__display__'")),null!==r&&null!==n?"id"===e&&n<=r||"display"===e&&r<=n?0:1:0},ut=function(t){var e=/^\/(.+)\/(\w+)?$/;return new RegExp(t.map((function(t){var r=m(e.exec(t.toString()),3),n=r[1],o=r[2];return v()(!o,"RegExp flags are not supported. Change /".concat(n,"/").concat(o," into /").concat(n,"/")),"(".concat(n,")")})).join("|"),"g")},st=function(t){var e=0;return t.indexOf("__id__")>=0&&e++,t.indexOf("__display__")>=0&&e++,e},ct=function(){},lt=function(t,e,r){for(var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ct,i=ut(e.map((function(t){return t.regex}))),a=2,u=e.map((function(t){var e=t.markup,r=a;return a+=st(e)+1,r})),s=0,c=0;null!==(n=i.exec(t));){var l=u.find((function(t){return!!n[t]})),f=u.indexOf(l),h=e[f],p=h.markup,d=h.displayTransform,y=l+at(p,"id"),v=l+at(p,"display"),m=n[y],g=d(m,n[v]),b=t.substring(s,n.index);o(b,s,c),c+=b.length,r(n[0],n.index,c,m,g,f,s),c+=g.length,s=i.lastIndex}s<t.length&&o(t.substring(s),s,c)},ft=function(t,e){var r="";return lt(t,e,(function(t,e,n,o,i){r+=i}),(function(t){r+=t})),r},ht=function(t,e,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"START";if("number"!==typeof r)return r;var i=function(t,e,o){void 0===n&&o+t.length>=r&&(n=e+r-o)},a=function(t,e,i,a,u,s,c){void 0===n&&i+u.length>r&&(n="NULL"===o?null:e+("END"===o?t.length:0))};return lt(t,e,a,i),void 0===n?t.length:n},pt=function(t,e,r,n){return t.substring(0,e)+n+t.substring(r)},dt=function(t,e,r){var n=r,o=!1;if(lt(t,e,(function(t,e,i,a,u,s,c){i<=r&&i+u.length>r&&(n=i,o=!0)})),o)return n},yt=function(t,e){var r=[];return lt(t,e,(function(t,e,n,o,i,a,u){r.push({id:o,display:i,childIndex:a,index:e,plainTextIndex:n})})),r},vt=function(t,e){return"".concat(t,"-").concat(e)},mt=function(t){return Object.values(t).reduce((function(t,e){return t+e.results.length}),0)},gt=function(t){var e=nt(t),r=t[t.indexOf(it)+it.length],n=t[t.indexOf(ot)+ot.length];return new RegExp(e.replace(it,"([^".concat(nt(r||""),"]+?)")).replace(ot,"([^".concat(nt(n||""),"]+?)")))},bt=function(t){return p.Children.toArray(t).map((function(t){var e=t.props,r=e.markup,n=e.regex,o=e.displayTransform;return{markup:r,regex:n?wt(n,r):gt(r),displayTransform:o||function(t,e){return e||t}}}))},wt=function(t,e){var r=new RegExp(t.toString()+"|").exec("").length-1,n=st(e);return v()(r===n,"Number of capturing groups in RegExp ".concat(t.toString()," (").concat(r,") does not match the number of placeholders in the markup '").concat(e,"' (").concat(n,")")),t},_t=[{base:"A",letters:/(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F])/g},{base:"AA",letters:/(&#42802;|[\uA732])/g},{base:"AE",letters:/(&#198;|&#508;|&#482;|[\u00C6\u01FC\u01E2])/g},{base:"AO",letters:/(&#42804;|[\uA734])/g},{base:"AU",letters:/(&#42806;|[\uA736])/g},{base:"AV",letters:/(&#42808;|&#42810;|[\uA738\uA73A])/g},{base:"AY",letters:/(&#42812;|[\uA73C])/g},{base:"B",letters:/(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181])/g},{base:"C",letters:/(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E])/g},{base:"D",letters:/(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779\u00D0])/g},{base:"DZ",letters:/(&#497;|&#452;|[\u01F1\u01C4])/g},{base:"Dz",letters:/(&#498;|&#453;|[\u01F2\u01C5])/g},{base:"E",letters:/(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E])/g},{base:"F",letters:/(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B])/g},{base:"G",letters:/(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E])/g},{base:"H",letters:/(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D])/g},{base:"I",letters:/(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197])/g},{base:"J",letters:/(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\u004A\u24BF\uFF2A\u0134\u0248])/g},{base:"K",letters:/(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2])/g},{base:"L",letters:/(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780])/g},{base:"LJ",letters:/(&#455;|[\u01C7])/g},{base:"Lj",letters:/(&#456;|[\u01C8])/g},{base:"M",letters:/(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C])/g},{base:"N",letters:/(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4\u014A])/g},{base:"NJ",letters:/(&#458;|[\u01CA])/g},{base:"Nj",letters:/(&#459;|[\u01CB])/g},{base:"O",letters:/(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C])/g},{base:"OE",letters:/(&#338;|[\u0152])/g},{base:"OI",letters:/(&#418;|[\u01A2])/g},{base:"OO",letters:/(&#42830;|[\uA74E])/g},{base:"OU",letters:/(&#546;|[\u0222])/g},{base:"P",letters:/(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754])/g},{base:"Q",letters:/(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\u0051\u24C6\uFF31\uA756\uA758\u024A])/g},{base:"R",letters:/(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782])/g},{base:"S",letters:/(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784])/g},{base:"T",letters:/(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786])/g},{base:"TH",letters:/(&#222;|[\u00DE])/g},{base:"TZ",letters:/(&#42792;|[\uA728])/g},{base:"U",letters:/(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244])/g},{base:"V",letters:/(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245])/g},{base:"VY",letters:/(&#42848;|[\uA760])/g},{base:"W",letters:/(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72])/g},{base:"X",letters:/(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\u0058\u24CD\uFF38\u1E8A\u1E8C])/g},{base:"Y",letters:/(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE])/g},{base:"Z",letters:/(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762])/g},{base:"a",letters:/(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250])/g},{base:"aa",letters:/(&#42803;|[\uA733])/g},{base:"ae",letters:/(&#230;|&#509;|&#483;|[\u00E6\u01FD\u01E3])/g},{base:"ao",letters:/(&#42805;|[\uA735])/g},{base:"au",letters:/(&#42807;|[\uA737])/g},{base:"av",letters:/(&#42809;|&#42811;|[\uA739\uA73B])/g},{base:"ay",letters:/(&#42813;|[\uA73D])/g},{base:"b",letters:/(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253])/g},{base:"c",letters:/(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184])/g},{base:"d",letters:/(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A\u00F0])/g},{base:"dz",letters:/(&#499;|&#454;|[\u01F3\u01C6])/g},{base:"e",letters:/(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD])/g},{base:"f",letters:/(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C])/g},{base:"g",letters:/(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F])/g},{base:"h",letters:/(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265])/g},{base:"hv",letters:/(&#405;|[\u0195])/g},{base:"i",letters:/(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131])/g},{base:"ij",letters:/(&#307;|[\u0133])/g},{base:"j",letters:/(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\u006A\u24D9\uFF4A\u0135\u01F0\u0249])/g},{base:"k",letters:/(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3])/g},{base:"l",letters:/(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747])/g},{base:"lj",letters:/(&#457;|[\u01C9])/g},{base:"m",letters:/(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F])/g},{base:"n",letters:/(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u014B])/g},{base:"nj",letters:/(&#460;|[\u01CC])/g},{base:"o",letters:/(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275])/g},{base:"oe",letters:/(&#339;|[\u0153])/g},{base:"oi",letters:/(&#419;|[\u01A3])/g},{base:"ou",letters:/(&#547;|[\u0223])/g},{base:"oo",letters:/(&#42831;|[\uA74F])/g},{base:"p",letters:/(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755])/g},{base:"q",letters:/(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\u0071\u24E0\uFF51\u024B\uA757\uA759])/g},{base:"r",letters:/(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783])/g},{base:"s",letters:/(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F])/g},{base:"ss",letters:/(&#223;|[\u00DF])/g},{base:"t",letters:/(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787])/g},{base:"th",letters:/(&#254;|[\u00FE])/g},{base:"tz",letters:/(&#42793;|[\uA729])/g},{base:"u",letters:/(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289])/g},{base:"v",letters:/(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C])/g},{base:"vy",letters:/(&#42849;|[\uA761])/g},{base:"w",letters:/(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73])/g},{base:"x",letters:/(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\u0078\u24E7\uFF58\u1E8B\u1E8D])/g},{base:"y",letters:/(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF])/g},{base:"z",letters:/(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763])/g}],Et=function(t){return function(t){var e=t;return _t.forEach((function(t){e=e.replace(t.letters,t.base)})),e}(t).toLowerCase()},Ot=function(t,e,r){return r?Et(t).indexOf(Et(e)):t.toLowerCase().indexOf(e.toLowerCase())},St=function(t){return"number"===typeof t},xt=["style","className","classNames"];function kt(t,e){return function(r){var n=function(n){var i=n.style,a=n.className,u=n.classNames,s=g(n,xt),c=e?e(s):void 0,l=Y(t,{style:i,className:a,classNames:u},c);return d.a.createElement(r,o({},s,{style:l}))},i=r.displayName||r.name||"Component";return n.displayName="defaultStyle(".concat(i,")"),n}}function jt(t){var e=t.selectionStart,r=t.selectionEnd,n=t.value,i=void 0===n?"":n,a=t.onCaretPositionChange,u=t.containerRef,s=t.children,c=(t.singleLine,t.style),l=m(Object(p.useState)({left:void 0,top:void 0}),2),f=l[0],h=l[1],y=m(Object(p.useState)(),2),v=y[0],g=y[1];Object(p.useEffect)((function(){w()}),[v]);var b,w=function(){if(v){var t=v.offsetLeft,e=v.offsetTop;if(f.left!==t||f.top!==e){var r={left:t,top:e};h(r),a(r)}}},_=bt(s);r===e&&(b=ht(i,_,e,"START"));var E=[],O={},S=E,x=0,k=function(t,e){return d.a.createElement("span",o({},c("substring"),{key:e}),t)},j=function(t,e,r,n){var o={id:t,display:e,key:n},i=p.Children.toArray(s)[r];return d.a.cloneElement(i,o)};return lt(i,_,(function(t,e,r,n,o,i,a){var u=function(t,e){return t.hasOwnProperty(e)?t[e]++:t[e]=0,e+"_"+t[e]}(O,n);S.push(j(n,o,i,u))}),(function(t,e,r){if(St(b)&&b>=e&&b<=e+t.length){var n=b-e;S.push(k(t.substring(0,n),x)),S=[k(t.substring(n),x)]}else S.push(k(t,x));x++})),S.push(" "),S!==E&&E.push(function(t){return d.a.createElement("span",o({},c("caret"),{ref:g,key:"caret"}),t)}(S)),d.a.createElement("div",o({},c,{ref:u}),E)}jt.propTypes={selectionStart:tt.a.number,selectionEnd:tt.a.number,value:tt.a.string.isRequired,onCaretPositionChange:tt.a.func.isRequired,containerRef:tt.a.oneOfType([tt.a.func,tt.a.shape({current:"undefined"===typeof Element?tt.a.any:tt.a.instanceOf(Element)})]),children:tt.a.oneOfType([tt.a.element,tt.a.arrayOf(tt.a.element)]).isRequired};var Tt=kt({position:"relative",boxSizing:"border-box",width:"100%",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word",border:"1px solid transparent",textAlign:"start","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},(function(t){return{"&singleLine":t.singleLine}}))(jt);function Lt(t){var e=t.id,r=t.focused,n=t.ignoreAccents,i=t.index,a=t.onClick,u=t.onMouseEnter,s=t.query,c=t.renderSuggestion,l=t.suggestion,f=t.style,h=(t.className,t.classNames,{onClick:a,onMouseEnter:u}),p=function(){if("string"===typeof l)return l;var t=l.id,e=l.display;return void 0!==t&&e?e:t},y=function(t){var e=Ot(t,s,n);return-1===e?d.a.createElement("span",f("display"),t):d.a.createElement("span",f("display"),t.substring(0,e),d.a.createElement("b",f("highlight"),t.substring(e,e+s.length)),t.substring(e+s.length))};return d.a.createElement("li",o({id:e,role:"option","aria-selected":r},h,f),function(){var t=p(),e=y(t);return c?c(l,s,e,i,r):e}())}Lt.propTypes={id:tt.a.string.isRequired,query:tt.a.string.isRequired,index:tt.a.number.isRequired,ignoreAccents:tt.a.bool,suggestion:tt.a.oneOfType([tt.a.string,tt.a.shape({id:tt.a.oneOfType([tt.a.string,tt.a.number]).isRequired,display:tt.a.string})]).isRequired,renderSuggestion:tt.a.func,focused:tt.a.bool};var Pt=kt({cursor:"pointer"},(function(t){return{"&focused":t.focused}}))(Lt);function At(t){var e=t.style,r=t.className,n=t.classNames,o=Y(Ct,{style:e,className:r,classNames:n}),i=o("spinner");return d.a.createElement("div",o,d.a.createElement("div",i,d.a.createElement("div",i(["element","element1"])),d.a.createElement("div",i(["element","element2"])),d.a.createElement("div",i(["element","element3"])),d.a.createElement("div",i(["element","element4"])),d.a.createElement("div",i(["element","element5"]))))}var Ct={};function It(t){var e=t.id,r=t.suggestions,i=void 0===r?{}:r,a=t.a11ySuggestionsListLabel,u=t.focusIndex,s=t.position,c=t.left,l=t.right,f=t.top,h=t.scrollFocusedIntoView,y=t.isLoading,v=t.isOpened,g=t.onSelect,b=void 0===g?function(){return null}:g,w=t.ignoreAccents,_=t.containerRef,E=t.children,O=t.style,S=t.customSuggestionsContainer,x=t.onMouseDown,k=t.onMouseEnter,j=m(Object(p.useState)(),2),T=j[0],L=j[1];Object(p.useEffect)((function(){if(T&&!(T.offsetHeight>=T.scrollHeight)&&h){var t=T.scrollTop,e=T.children[u].getBoundingClientRect(),r=e.top,n=e.bottom,o=T.getBoundingClientRect().top;n=n-o+t,(r=r-o+t)<t?T.scrollTop=r:n>T.offsetHeight&&(T.scrollTop=n-T.offsetHeight)}}),[]);var P=function(t,r,n){var o=n===u,i=r.childIndex,a=r.query,s=p.Children.toArray(E)[i].props.renderSuggestion;return d.a.createElement(Pt,{style:O("item"),key:"".concat(i,"-").concat(I(t)),id:vt(e,n),query:a,index:n,ignoreAccents:w,renderSuggestion:s,suggestion:t,focused:o,onClick:function(){return C(t,r)},onMouseEnter:function(){return A(n)}})},A=function(t,e){k&&k(t)},C=function(t,e){b(t,e)},I=function(t){return"string"===typeof t?t:t.id};return v?d.a.createElement("div",o({},J({position:s||"absolute",left:c,right:l,top:f},O),{onMouseDown:x,ref:_}),d.a.createElement("ul",o({ref:L,id:e,role:"listbox","aria-label":a},O("list")),function(){var t=Object.values(i).reduce((function(t,e){var r=e.results,o=e.queryInfo;return[].concat(n(t),n(r.map((function(e,r){return P(e,o,t.length+r)}))))}),[]);return S?S(t):t}()),function(){if(y)return d.a.createElement(At,{style:O("loadingIndicator")})}()):null}It.propTypes={id:tt.a.string.isRequired,suggestions:tt.a.object.isRequired,a11ySuggestionsListLabel:tt.a.string,focusIndex:tt.a.number,position:tt.a.string,left:tt.a.number,right:tt.a.number,top:tt.a.number,scrollFocusedIntoView:tt.a.bool,isLoading:tt.a.bool,isOpened:tt.a.bool.isRequired,onSelect:tt.a.func,ignoreAccents:tt.a.bool,customSuggestionsContainer:tt.a.any,containerRef:tt.a.oneOfType([tt.a.func,tt.a.shape({current:"undefined"===typeof Element?tt.a.any:tt.a.instanceOf(Element)})])};var Rt=kt({zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100,list:{margin:0,padding:0,listStyleType:"none"}})(It);function Dt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ft(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}var Mt={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},Bt=!1,Ut={singleLine:tt.a.bool,allowSpaceInQuery:tt.a.bool,allowSuggestionsAboveCursor:tt.a.bool,forceSuggestionsAboveCursor:tt.a.bool,ignoreAccents:tt.a.bool,a11ySuggestionsListLabel:tt.a.string,value:tt.a.string,onKeyDown:tt.a.func,customSuggestionsContainer:tt.a.func,onSelect:tt.a.func,onBlur:tt.a.func,onChange:tt.a.func,suggestionsPortalHost:"undefined"===typeof Element?tt.a.any:tt.a.PropTypes.instanceOf(Element),inputRef:tt.a.oneOfType([tt.a.func,tt.a.shape({current:"undefined"===typeof Element?tt.a.any:tt.a.instanceOf(Element)})]),children:tt.a.oneOfType([tt.a.element,tt.a.arrayOf(tt.a.element)]).isRequired},zt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(l,t);var e,r,s,c=Ft(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),h(a(e=c.call(this,t)),"setContainerElement",(function(t){e.containerElement=t})),h(a(e),"getInputProps",(function(){var t,r=e.props,n=r.readOnly,o=r.disabled,i=r.style,a=function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var i=(e=[]).concat.apply(e,n);return Object.keys(t).reduce((function(e,r){return t.hasOwnProperty(r)&&!i.includes(r)&&void 0!==t[r]&&(e[r]=t[r]),e}),{})}(e.props,["style","classNames","className"],(t=Ut)===Object(t)?Object.keys(t):[]);return Nt(Nt(Nt(Nt({},a),i("input")),{},{value:e.getPlainText(),onScroll:e.updateHighlighterScroll},!n&&!o&&{onChange:e.handleChange,onSelect:e.handleSelect,onKeyDown:e.handleKeyDown,onBlur:e.handleBlur,onCompositionStart:e.handleCompositionStart,onCompositionEnd:e.handleCompositionEnd}),e.isOpened()&&{role:"combobox","aria-controls":e.uuidSuggestionsOverlay,"aria-expanded":!0,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":vt(e.uuidSuggestionsOverlay,e.state.focusIndex)})})),h(a(e),"renderControl",(function(){var t=e.props,r=t.singleLine,n=t.style,o=e.getInputProps();return d.a.createElement("div",n("control"),e.renderHighlighter(),r?e.renderInput(o):e.renderTextarea(o))})),h(a(e),"renderInput",(function(t){return d.a.createElement("input",o({type:"text",ref:e.setInputRef},t))})),h(a(e),"renderTextarea",(function(t){return d.a.createElement("textarea",o({ref:e.setInputRef},t))})),h(a(e),"setInputRef",(function(t){e.inputElement=t;var r=e.props.inputRef;"function"===typeof r?r(t):r&&(r.current=t)})),h(a(e),"setSuggestionsElement",(function(t){e.suggestionsElement=t})),h(a(e),"renderSuggestionsOverlay",(function(){if(!St(e.state.selectionStart))return null;var t=e.state.suggestionsPosition,r=t.position,n=t.left,o=t.top,i=t.right,a=d.a.createElement(Rt,{id:e.uuidSuggestionsOverlay,style:e.props.style("suggestions"),position:r,left:n,top:o,right:i,focusIndex:e.state.focusIndex,scrollFocusedIntoView:e.state.scrollFocusedIntoView,containerRef:e.setSuggestionsElement,suggestions:e.state.suggestions,customSuggestionsContainer:e.props.customSuggestionsContainer,onSelect:e.addMention,onMouseDown:e.handleSuggestionsMouseDown,onMouseEnter:e.handleSuggestionsMouseEnter,isLoading:e.isLoading(),isOpened:e.isOpened(),ignoreAccents:e.props.ignoreAccents,a11ySuggestionsListLabel:e.props.a11ySuggestionsListLabel},e.props.children);return e.props.suggestionsPortalHost?rt.a.createPortal(a,e.props.suggestionsPortalHost):a})),h(a(e),"renderHighlighter",(function(){var t=e.state,r=t.selectionStart,n=t.selectionEnd,o=e.props,i=o.singleLine,a=o.children,u=o.value,s=o.style;return d.a.createElement(Tt,{containerRef:e.setHighlighterElement,style:s("highlighter"),value:u,singleLine:i,selectionStart:r,selectionEnd:n,onCaretPositionChange:e.handleCaretPositionChange},a)})),h(a(e),"setHighlighterElement",(function(t){e.highlighterElement=t})),h(a(e),"handleCaretPositionChange",(function(t){e.setState({caretPosition:t})})),h(a(e),"getPlainText",(function(){return ft(e.props.value||"",bt(e.props.children))})),h(a(e),"executeOnChange",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var i,a;return e.props.onChange?(i=e.props).onChange.apply(i,[t].concat(n)):e.props.valueLink?(a=e.props.valueLink).requestChange.apply(a,[t.target.value].concat(n)):void 0})),h(a(e),"handleChange",(function(t){if((Bt=!1,document.documentMode)&&(document.activeElement&&document.activeElement.contentDocument||document).activeElement!==t.target)return;var r=e.props.value||"",n=bt(e.props.children),o=t.target.value,i=function(t,e,r,n){var o=r.selectionStartBefore,i=r.selectionEndBefore,a=r.selectionEndAfter,u=ft(t,n),s=u.length-e.length;"undefined"===o&&(o=a+s),"undefined"===i&&(i=o),o===i&&i===a&&u.length===e.length&&(o-=1);var c=e.slice(o,a),l=Math.min(o,a),f=i;o===a&&(f=Math.max(i,o+s));var h=ht(t,n,l,"START"),p=ht(t,n,f,"END"),d=ht(t,n,l,"NULL"),y=ht(t,n,f,"NULL"),v=null===d||null===y,m=pt(t,h,p,c);if(!v){var g=ft(m,n);if(g!==e){for(l=0;e[l]===g[l];)l++;c=e.slice(l,a),f=u.lastIndexOf(e.substring(a)),h=ht(t,n,l,"START"),p=ht(t,n,f,"END"),m=pt(t,h,p,c)}}return m}(r,o,{selectionStartBefore:e.state.selectionStart,selectionEndBefore:e.state.selectionEnd,selectionEndAfter:t.target.selectionEnd},n);o=ft(i,n);var a=t.target.selectionStart,u=t.target.selectionEnd,s=!1,c=dt(r,n,a);void 0!==c&&e.state.selectionEnd>c&&(u=a=c+(t.nativeEvent.data?t.nativeEvent.data.length:0),s=!0),e.setState({selectionStart:a,selectionEnd:u,setSelectionAfterMentionChange:s});var l=yt(i,n),f={target:{value:i}};e.executeOnChange(f,i,o,l)})),h(a(e),"handleSelect",(function(t){if(e.setState({selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd}),!Bt){var r=e.inputElement;t.target.selectionStart===t.target.selectionEnd?e.updateMentionsQueries(r.value,t.target.selectionStart):e.clearSuggestions(),e.updateHighlighterScroll(),e.props.onSelect(t)}})),h(a(e),"handleKeyDown",(function(t){if(0!==mt(e.state.suggestions)&&e.suggestionsElement)switch(Object.values(Mt).indexOf(t.keyCode)>=0&&(t.preventDefault(),t.stopPropagation()),t.keyCode){case Mt.ESC:return void e.clearSuggestions();case Mt.DOWN:return void e.shiftFocus(1);case Mt.UP:return void e.shiftFocus(-1);case Mt.RETURN:case Mt.TAB:return void e.selectFocused();default:return}else e.props.onKeyDown(t)})),h(a(e),"shiftFocus",(function(t){var r=mt(e.state.suggestions);e.setState({focusIndex:(r+e.state.focusIndex+t)%r,scrollFocusedIntoView:!0})})),h(a(e),"selectFocused",(function(){var t=e.state,r=t.suggestions,o=t.focusIndex,i=Object.values(r).reduce((function(t,e){var r=e.results,o=e.queryInfo;return[].concat(n(t),n(r.map((function(t){return{result:t,queryInfo:o}}))))}),[])[o],a=i.result,u=i.queryInfo;e.addMention(a,u),e.setState({focusIndex:0})})),h(a(e),"handleBlur",(function(t){var r=e._suggestionsMouseDown;e._suggestionsMouseDown=!1,r||e.setState({selectionStart:null,selectionEnd:null}),window.setTimeout((function(){e.updateHighlighterScroll()}),1),e.props.onBlur(t,r)})),h(a(e),"handleSuggestionsMouseDown",(function(t){e._suggestionsMouseDown=!0})),h(a(e),"handleSuggestionsMouseEnter",(function(t){e.setState({focusIndex:t,scrollFocusedIntoView:!1})})),h(a(e),"updateSuggestionsPosition",(function(){var t=e.state.caretPosition,r=e.props,n=r.suggestionsPortalHost,o=r.allowSuggestionsAboveCursor,i=r.forceSuggestionsAboveCursor;if(t&&e.suggestionsElement){var a=e.suggestionsElement,u=e.highlighterElement,s=u.getBoundingClientRect(),c=Gt(u,"font-size"),l={left:s.left+t.left,top:s.top+t.top+c},f=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(a){var h={};if(n){h.position="fixed";var p=l.left,d=l.top;p-=Gt(a,"margin-left"),d-=Gt(a,"margin-top"),p-=u.scrollLeft,d-=u.scrollTop;var y=Math.max(document.documentElement.clientWidth,window.innerWidth||0);p+a.offsetWidth>y?h.left=Math.max(0,y-a.offsetWidth):h.left=p,o&&d+a.offsetHeight>f&&a.offsetHeight<d-c||i?h.top=Math.max(0,d-a.offsetHeight-c):h.top=d}else{var v=t.left-u.scrollLeft,m=t.top-u.scrollTop;v+a.offsetWidth>e.containerElement.offsetWidth?h.right=0:h.left=v,o&&l.top-u.scrollTop+a.offsetHeight>f&&a.offsetHeight<s.top-c-u.scrollTop||i?h.top=m-a.offsetHeight-c:h.top=m}h.left===e.state.suggestionsPosition.left&&h.top===e.state.suggestionsPosition.top&&h.position===e.state.suggestionsPosition.position||e.setState({suggestionsPosition:h})}}})),h(a(e),"updateHighlighterScroll",(function(){var t=e.inputElement,r=e.highlighterElement;t&&r&&(r.scrollLeft=t.scrollLeft,r.scrollTop=t.scrollTop,r.height=t.height)})),h(a(e),"handleCompositionStart",(function(){Bt=!0})),h(a(e),"handleCompositionEnd",(function(){Bt=!1})),h(a(e),"setSelection",(function(t,r){if(null!==t&&null!==r){var n=e.inputElement;if(n.setSelectionRange)n.setSelectionRange(t,r);else if(n.createTextRange){var o=n.createTextRange();o.collapse(!0),o.moveEnd("character",r),o.moveStart("character",t),o.select()}}})),h(a(e),"updateMentionsQueries",(function(t,r){e._queryId++,e.suggestions={},e.setState({suggestions:{}});var n=e.props.value||"",o=e.props.children,i=bt(o),a=ht(n,i,r,"NULL");if(null!==a){var u=function(t,e){var r=yt(t,e),n=r[r.length-1];return n?n.plainTextIndex+n.display.length:0}(n.substring(0,a),i),s=t.substring(u,r);d.a.Children.forEach(o,(function(r,n){if(r){var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t instanceof RegExp)return t;var r=e.allowSpaceInQuery,n=nt(t);return new RegExp("(?:^|\\s)(".concat(n,"([^").concat(r?"":"\\s").concat(n,"]*))$"))}(r.props.trigger,e.props),i=s.match(o);if(i){var a=u+s.indexOf(i[1],i.index);e.queryData(i[2],n,a,a+i[1].length,t)}}}))}})),h(a(e),"clearSuggestions",(function(){e._queryId++,e.suggestions={},e.setState({suggestions:{},focusIndex:0})})),h(a(e),"queryData",(function(t,r,n,o,i){var a=e.props,u=a.children,s=a.ignoreAccents,c=function(t,e){return t instanceof Array?function(r,n){for(var o=[],i=0,a=t.length;i<a;++i){var u=t[i].display||t[i].id;Ot(u,r,e)>=0&&o.push(t[i])}return o}:t}(p.Children.toArray(u)[r].props.data,s),l=c(t,e.updateSuggestions.bind(null,e._queryId,r,t,n,o,i));l instanceof Array&&e.updateSuggestions(e._queryId,r,t,n,o,i,l)})),h(a(e),"updateSuggestions",(function(t,r,n,o,i,a,u){if(t===e._queryId){e.suggestions=Nt(Nt({},e.suggestions),{},h({},r,{queryInfo:{childIndex:r,query:n,querySequenceStart:o,querySequenceEnd:i,plainTextValue:a},results:u}));var s=e.state.focusIndex,c=mt(e.suggestions);e.setState({suggestions:e.suggestions,focusIndex:s>=c?Math.max(c-1,0):s})}})),h(a(e),"addMention",(function(t,r){var n=t.id,o=t.display,i=r.childIndex,a=r.querySequenceStart,u=r.querySequenceEnd,s=r.plainTextValue,c=e.props.value||"",l=bt(e.props.children),f=p.Children.toArray(e.props.children)[i].props,h=f.markup,d=f.displayTransform,y=f.appendSpaceOnAdd,v=f.onAdd,m=ht(c,l,a,"START"),g=m+u-a,b=function(t,e,r){return t.replace(ot,e).replace(it,r)}(h,n,o);y&&(b+=" ");var w=pt(c,m,g,b);e.inputElement.focus();var _=d(n,o);y&&(_+=" ");var E=a+_.length;e.setState({selectionStart:E,selectionEnd:E,setSelectionAfterMentionChange:!0});var O={target:{value:w}},S=yt(w,l),x=pt(s,a,u,_);e.executeOnChange(O,w,x,S),v&&v(n,o,m,g),e.clearSuggestions()})),h(a(e),"isLoading",(function(){var t=!1;return d.a.Children.forEach(e.props.children,(function(e){t=t||e&&e.props.isLoading})),t})),h(a(e),"isOpened",(function(){return St(e.state.selectionStart)&&(0!==mt(e.state.suggestions)||e.isLoading())})),h(a(e),"_queryId",0),e.suggestions={},e.uuidSuggestionsOverlay=Math.random().toString(16).substring(2),e.handleCopy=e.handleCopy.bind(a(e)),e.handleCut=e.handleCut.bind(a(e)),e.handlePaste=e.handlePaste.bind(a(e)),e.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:{}},e}return e=l,(r=[{key:"componentDidMount",value:function(){document.addEventListener("copy",this.handleCopy),document.addEventListener("cut",this.handleCut),document.addEventListener("paste",this.handlePaste),this.updateSuggestionsPosition()}},{key:"componentDidUpdate",value:function(t,e){e.suggestionsPosition===this.state.suggestionsPosition&&this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("copy",this.handleCopy),document.removeEventListener("cut",this.handleCut),document.removeEventListener("paste",this.handlePaste)}},{key:"render",value:function(){return d.a.createElement("div",o({ref:this.setContainerElement},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())}},{key:"handlePaste",value:function(t){if(t.target===this.inputElement&&this.supportsClipboardActions(t)){t.preventDefault();var e=this.state,r=e.selectionStart,n=e.selectionEnd,o=this.props,i=o.value,a=o.children,u=bt(a),s=ht(i,u,r,"START"),c=ht(i,u,n,"END"),l=t.clipboardData.getData("text/react-mentions"),f=t.clipboardData.getData("text/plain"),h=pt(i,s,c,l||f).replace(/\r/g,""),p=ft(h,u),d={target:Nt(Nt({},t.target),{},{value:h})};this.executeOnChange(d,h,p,yt(h,u));var y=(dt(i,u,r)||r)+ft(l||f,u).length;this.setSelection(y,y)}}},{key:"saveSelectionToClipboard",value:function(t){var e=this.inputElement.selectionStart,r=this.inputElement.selectionEnd,n=this.props,o=n.children,i=n.value,a=bt(o),u=ht(i,a,e,"START"),s=ht(i,a,r,"END");t.clipboardData.setData("text/plain",t.target.value.slice(e,r)),t.clipboardData.setData("text/react-mentions",i.slice(u,s))}},{key:"supportsClipboardActions",value:function(t){return!!t.clipboardData}},{key:"handleCopy",value:function(t){t.target===this.inputElement&&this.supportsClipboardActions(t)&&(t.preventDefault(),this.saveSelectionToClipboard(t))}},{key:"handleCut",value:function(t){if(t.target===this.inputElement&&this.supportsClipboardActions(t)){t.preventDefault(),this.saveSelectionToClipboard(t);var e=this.state,r=e.selectionStart,n=e.selectionEnd,o=this.props,i=o.children,a=o.value,u=bt(i),s=ht(a,u,r,"START"),c=ht(a,u,n,"END"),l=[a.slice(0,s),a.slice(c)].join(""),f=ft(l,u),h={target:Nt(Nt({},t.target),{},{value:f})};this.executeOnChange(h,l,f,yt(a,u))}}}])&&i(e.prototype,r),s&&i(e,s),l}(d.a.Component);h(zt,"propTypes",Ut),h(zt,"defaultProps",{ignoreAccents:!1,singleLine:!1,allowSuggestionsAboveCursor:!1,onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}});var Gt=function(t,e){var r=parseFloat(window.getComputedStyle(t,null).getPropertyValue(e));return isFinite(r)?r:0},qt=kt({position:"relative",overflowY:"visible",input:{display:"block",width:"100%",position:"absolute",margin:0,top:0,left:0,boxSizing:"border-box",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",letterSpacing:"inherit"},"&multiLine":{input:Nt({height:"100%",bottom:0,overflow:"hidden",resize:"none"},"undefined"!==typeof navigator&&/iPhone|iPad|iPod/i.test(navigator.userAgent)?{marginTop:1,marginLeft:-3}:null)}},(function(t){var e=t.singleLine;return{"&singleLine":e,"&multiLine":!e}}))(zt),Ht={fontWeight:"inherit"},Vt=function(t){var e=t.display,r=t.style,n=t.className,o=t.classNames,i=Y(Ht,{style:r,className:n,classNames:o});return d.a.createElement("strong",i,e)};Vt.propTypes={onAdd:tt.a.func,onRemove:tt.a.func,renderSuggestion:tt.a.func,trigger:tt.a.oneOfType([tt.a.string,tt.a.instanceOf(RegExp)]),markup:tt.a.string,displayTransform:tt.a.func,allowSpaceInQuery:tt.a.bool,isLoading:tt.a.bool},Vt.defaultProps={trigger:"@",markup:"@[__display__](__id__)",displayTransform:function(t,e){return e||t},onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1}},function(t,e,r){"use strict";var n;r.r(e),r.d(e,"v1",(function(){return y})),r.d(e,"v3",(function(){return x})),r.d(e,"v4",(function(){return k})),r.d(e,"v5",(function(){return L})),r.d(e,"NIL",(function(){return P})),r.d(e,"version",(function(){return A})),r.d(e,"validate",(function(){return u})),r.d(e,"stringify",(function(){return h})),r.d(e,"parse",(function(){return v}));var o=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=function(t){return"string"===typeof t&&a.test(t)},s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));var l,f,h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase();if(!u(r))throw TypeError("Stringified UUID is invalid");return r},p=0,d=0;var y=function(t,e,r){var n=e&&r||0,o=e||new Array(16),a=(t=t||{}).node||l,u=void 0!==t.clockseq?t.clockseq:f;if(null==a||null==u){var s=t.random||(t.rng||i)();null==a&&(a=l=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==u&&(u=f=16383&(s[6]<<8|s[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),y=void 0!==t.nsecs?t.nsecs:d+1,v=c-p+(y-d)/1e4;if(v<0&&void 0===t.clockseq&&(u=u+1&16383),(v<0||c>p)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=c,d=y,f=u;var m=(1e4*(268435455&(c+=122192928e5))+y)%4294967296;o[n++]=m>>>24&255,o[n++]=m>>>16&255,o[n++]=m>>>8&255,o[n++]=255&m;var g=c/4294967296*1e4&268435455;o[n++]=g>>>8&255,o[n++]=255&g,o[n++]=g>>>24&15|16,o[n++]=g>>>16&255,o[n++]=u>>>8|128,o[n++]=255&u;for(var b=0;b<6;++b)o[n+b]=a[b];return e||h(o)};var v=function(t){if(!u(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};var m=function(t,e,r){function n(t,n,o,i){if("string"===typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"===typeof n&&(n=v(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+t.length);if(a.set(n),a.set(t,n.length),(a=r(a))[6]=15&a[6]|e,a[8]=63&a[8]|128,o){i=i||0;for(var u=0;u<16;++u)o[i+u]=a[u];return o}return h(a)}try{n.name=t}catch(o){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};function g(t){return 14+(t+64>>>9<<4)+1}function b(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function w(t,e,r,n,o,i){return b((a=b(b(e,t),b(n,i)))<<(u=o)|a>>>32-u,r);var a,u}function _(t,e,r,n,o,i,a){return w(e&r|~e&n,t,e,o,i,a)}function E(t,e,r,n,o,i,a){return w(e&n|r&~n,t,e,o,i,a)}function O(t,e,r,n,o,i,a){return w(e^r^n,t,e,o,i,a)}function S(t,e,r,n,o,i,a){return w(r^(e|~n),t,e,o,i,a)}var x=m("v3",48,(function(t){if("string"===typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){for(var e=[],r=32*t.length,n="0123456789abcdef",o=0;o<r;o+=8){var i=t[o>>5]>>>o%32&255,a=parseInt(n.charAt(i>>>4&15)+n.charAt(15&i),16);e.push(a)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[g(e)-1]=e;for(var r=1732584193,n=-271733879,o=-1732584194,i=271733878,a=0;a<t.length;a+=16){var u=r,s=n,c=o,l=i;r=_(r,n,o,i,t[a],7,-680876936),i=_(i,r,n,o,t[a+1],12,-389564586),o=_(o,i,r,n,t[a+2],17,606105819),n=_(n,o,i,r,t[a+3],22,-1044525330),r=_(r,n,o,i,t[a+4],7,-176418897),i=_(i,r,n,o,t[a+5],12,1200080426),o=_(o,i,r,n,t[a+6],17,-1473231341),n=_(n,o,i,r,t[a+7],22,-45705983),r=_(r,n,o,i,t[a+8],7,1770035416),i=_(i,r,n,o,t[a+9],12,-1958414417),o=_(o,i,r,n,t[a+10],17,-42063),n=_(n,o,i,r,t[a+11],22,-1990404162),r=_(r,n,o,i,t[a+12],7,1804603682),i=_(i,r,n,o,t[a+13],12,-40341101),o=_(o,i,r,n,t[a+14],17,-1502002290),r=E(r,n=_(n,o,i,r,t[a+15],22,1236535329),o,i,t[a+1],5,-165796510),i=E(i,r,n,o,t[a+6],9,-1069501632),o=E(o,i,r,n,t[a+11],14,643717713),n=E(n,o,i,r,t[a],20,-373897302),r=E(r,n,o,i,t[a+5],5,-701558691),i=E(i,r,n,o,t[a+10],9,38016083),o=E(o,i,r,n,t[a+15],14,-660478335),n=E(n,o,i,r,t[a+4],20,-405537848),r=E(r,n,o,i,t[a+9],5,568446438),i=E(i,r,n,o,t[a+14],9,-1019803690),o=E(o,i,r,n,t[a+3],14,-187363961),n=E(n,o,i,r,t[a+8],20,1163531501),r=E(r,n,o,i,t[a+13],5,-1444681467),i=E(i,r,n,o,t[a+2],9,-51403784),o=E(o,i,r,n,t[a+7],14,1735328473),r=O(r,n=E(n,o,i,r,t[a+12],20,-1926607734),o,i,t[a+5],4,-378558),i=O(i,r,n,o,t[a+8],11,-2022574463),o=O(o,i,r,n,t[a+11],16,1839030562),n=O(n,o,i,r,t[a+14],23,-35309556),r=O(r,n,o,i,t[a+1],4,-1530992060),i=O(i,r,n,o,t[a+4],11,1272893353),o=O(o,i,r,n,t[a+7],16,-155497632),n=O(n,o,i,r,t[a+10],23,-1094730640),r=O(r,n,o,i,t[a+13],4,681279174),i=O(i,r,n,o,t[a],11,-358537222),o=O(o,i,r,n,t[a+3],16,-722521979),n=O(n,o,i,r,t[a+6],23,76029189),r=O(r,n,o,i,t[a+9],4,-640364487),i=O(i,r,n,o,t[a+12],11,-421815835),o=O(o,i,r,n,t[a+15],16,530742520),r=S(r,n=O(n,o,i,r,t[a+2],23,-995338651),o,i,t[a],6,-198630844),i=S(i,r,n,o,t[a+7],10,1126891415),o=S(o,i,r,n,t[a+14],15,-1416354905),n=S(n,o,i,r,t[a+5],21,-57434055),r=S(r,n,o,i,t[a+12],6,1700485571),i=S(i,r,n,o,t[a+3],10,-1894986606),o=S(o,i,r,n,t[a+10],15,-1051523),n=S(n,o,i,r,t[a+1],21,-2054922799),r=S(r,n,o,i,t[a+8],6,1873313359),i=S(i,r,n,o,t[a+15],10,-30611744),o=S(o,i,r,n,t[a+6],15,-1560198380),n=S(n,o,i,r,t[a+13],21,1309151649),r=S(r,n,o,i,t[a+4],6,-145523070),i=S(i,r,n,o,t[a+11],10,-1120210379),o=S(o,i,r,n,t[a+2],15,718787259),n=S(n,o,i,r,t[a+9],21,-343485551),r=b(r,u),n=b(n,s),o=b(o,c),i=b(i,l)}return[r,n,o,i]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(g(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))}));var k=function(t,e,r){var n=(t=t||{}).random||(t.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return h(n)};function j(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function T(t,e){return t<<e|t>>>32-e}var L=m("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var o=0;o<n.length;++o)t.push(n.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,a=Math.ceil(i/16),u=new Array(a),s=0;s<a;++s){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=t[64*s+4*l]<<24|t[64*s+4*l+1]<<16|t[64*s+4*l+2]<<8|t[64*s+4*l+3];u[s]=c}u[a-1][14]=8*(t.length-1)/Math.pow(2,32),u[a-1][14]=Math.floor(u[a-1][14]),u[a-1][15]=8*(t.length-1)&4294967295;for(var f=0;f<a;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=u[f][p];for(var d=16;d<80;++d)h[d]=T(h[d-3]^h[d-8]^h[d-14]^h[d-16],1);for(var y=r[0],v=r[1],m=r[2],g=r[3],b=r[4],w=0;w<80;++w){var _=Math.floor(w/20),E=T(y,5)+j(_,v,m,g)+b+e[_]+h[w]>>>0;b=g,g=m,m=T(v,30)>>>0,v=y,y=E}r[0]=r[0]+y>>>0,r[1]=r[1]+v>>>0,r[2]=r[2]+m>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),P="00000000-0000-0000-0000-000000000000";var A=function(t){if(!u(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},function(t,e,r){"use strict";r.r(e),r.d(e,"adjustHue",(function(){return $t})),r.d(e,"animation",(function(){return Le})),r.d(e,"backgroundImages",(function(){return Pe})),r.d(e,"backgrounds",(function(){return Ae})),r.d(e,"between",(function(){return V})),r.d(e,"border",(function(){return Ie})),r.d(e,"borderColor",(function(){return Re})),r.d(e,"borderRadius",(function(){return De})),r.d(e,"borderStyle",(function(){return Ne})),r.d(e,"borderWidth",(function(){return Fe})),r.d(e,"buttons",(function(){return Ge})),r.d(e,"clearFix",(function(){return $})),r.d(e,"complement",(function(){return Wt})),r.d(e,"cover",(function(){return W})),r.d(e,"cssVar",(function(){return w})),r.d(e,"darken",(function(){return Qt})),r.d(e,"desaturate",(function(){return Jt})),r.d(e,"directionalProperty",(function(){return x})),r.d(e,"easeIn",(function(){return U})),r.d(e,"easeInOut",(function(){return G})),r.d(e,"easeOut",(function(){return H})),r.d(e,"ellipsis",(function(){return K})),r.d(e,"em",(function(){return P})),r.d(e,"fluidRange",(function(){return X})),r.d(e,"fontFace",(function(){return it})),r.d(e,"getContrast",(function(){return te})),r.d(e,"getLuminance",(function(){return Zt})),r.d(e,"getValueAndUnit",(function(){return C})),r.d(e,"grayscale",(function(){return ee})),r.d(e,"hiDPI",(function(){return st})),r.d(e,"hideText",(function(){return at})),r.d(e,"hideVisually",(function(){return ut})),r.d(e,"hsl",(function(){return Mt})),r.d(e,"hslToColorString",(function(){return re})),r.d(e,"hsla",(function(){return Bt})),r.d(e,"important",(function(){return I})),r.d(e,"invert",(function(){return ne})),r.d(e,"lighten",(function(){return ie})),r.d(e,"linearGradient",(function(){return lt})),r.d(e,"margin",(function(){return qe})),r.d(e,"math",(function(){return g})),r.d(e,"meetsContrastGuidelines",(function(){return ae})),r.d(e,"mix",(function(){return se})),r.d(e,"modularScale",(function(){return D})),r.d(e,"normalize",(function(){return ft})),r.d(e,"opacify",(function(){return le})),r.d(e,"padding",(function(){return He})),r.d(e,"parseToHsl",(function(){return Ct})),r.d(e,"parseToRgb",(function(){return At})),r.d(e,"position",(function(){return $e})),r.d(e,"radialGradient",(function(){return ht})),r.d(e,"readableColor",(function(){return pe})),r.d(e,"rem",(function(){return N})),r.d(e,"remToPx",(function(){return M})),r.d(e,"retinaImage",(function(){return pt})),r.d(e,"rgb",(function(){return Ut})),r.d(e,"rgbToColorString",(function(){return de})),r.d(e,"rgba",(function(){return zt})),r.d(e,"saturate",(function(){return ve})),r.d(e,"setHue",(function(){return ge})),r.d(e,"setLightness",(function(){return we})),r.d(e,"setSaturation",(function(){return Ee})),r.d(e,"shade",(function(){return Se})),r.d(e,"size",(function(){return We})),r.d(e,"stripUnit",(function(){return T})),r.d(e,"textInputs",(function(){return Qe})),r.d(e,"timingFunctions",(function(){return yt})),r.d(e,"tint",(function(){return ke})),r.d(e,"toColorString",(function(){return Gt})),r.d(e,"transitions",(function(){return Xe})),r.d(e,"transparentize",(function(){return Te})),r.d(e,"triangle",(function(){return mt})),r.d(e,"wordWrap",(function(){return gt}));var n=r(5);function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t,e,r){return u=a()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&o(i,r.prototype),i},u.apply(null,arguments)}function s(t){var e="function"===typeof Map?new Map:void 0;return s=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return u(t,arguments,i(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,t)},s(t)}function c(t,e){return e||(e=t.slice(0)),t.raw=e,t}function l(){var t;return(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t]}var f={symbols:{"*":{infix:{symbol:"*",f:function(t,e){return t*e},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(t,e){return t/e},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(t,e){return t+e},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:l,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(t,e){return t-e},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(t){return-t},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:l,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"}}},h=f;var p=function(t){var e,r;function n(e){return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+e+" for more information.")||this)}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,o(e,r),n}(s(Error)),d=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function y(t,e){var r,n=t.pop();return e.push(n.f.apply(n,(r=[]).concat.apply(r,e.splice(-n.argCount)))),n.precedence}function v(t,e){var r,o=function(t){var e={};return e.symbols=t?Object(n.a)({},h.symbols,t.symbols):Object(n.a)({},h.symbols),e}(e),i=[o.symbols["("].prefix],a=[],u=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(o.symbols).map((function(t){return o.symbols[t]})).sort((function(t,e){return e.symbol.length-t.symbol.length})).map((function(t){return t.regSymbol})).join("|")+"|(\\S)","g");u.lastIndex=0;var s=!1;do{var c=(r=u.exec(t))||[")",void 0],l=c[0],f=c[1],d=o.symbols[l],v=d&&!d.prefix&&!d.func,m=!d||!d.postfix&&!d.infix;if(f||(s?m:v))throw new p(37,r?r.index:t.length,t);if(s){var g=d.postfix||d.infix;do{var b=i[i.length-1];if((g.precedence-b.precedence||b.rightToLeft)>0)break}while(y(i,a));s="postfix"===g.notation,")"!==g.symbol&&(i.push(g),s&&y(i,a))}else if(d){if(i.push(d.prefix||d.func),d.func&&(!(r=u.exec(t))||"("!==r[0]))throw new p(38,r?r.index:t.length,t)}else a.push(+l),s=!0}while(r&&i.length);if(i.length)throw new p(39,r?r.index:t.length,t);if(r)throw new p(40,r?r.index:t.length,t);return a.pop()}function m(t){return t.split("").reverse().join("")}function g(t,e){var r=m(t),n=r.match(d);if(n&&!n.every((function(t){return t===n[0]})))throw new p(41);return""+v(m(r.replace(d,"")),e)+(n?m(n[0]):"")}var b=/--[\S]*/g;function w(t,e){if(!t||!t.match(b))throw new p(73);var r;if("undefined"!==typeof document&&null!==document.documentElement&&(r=getComputedStyle(document.documentElement).getPropertyValue(t)),r)return r.trim();if(e)return e;throw new p(74)}function _(t){return t.charAt(0).toUpperCase()+t.slice(1)}var E=["Top","Right","Bottom","Left"];function O(t,e){if(!t)return e.toLowerCase();var r=t.split("-");if(r.length>1)return r.splice(1,0,e),r.reduce((function(t,e){return""+t+_(e)}));var n=t.replace(/([a-z])([A-Z])/g,"$1"+e+"$2");return t===n?""+t+e:n}function S(t,e){for(var r={},n=0;n<e.length;n+=1)(e[n]||0===e[n])&&(r[O(t,E[n])]=e[n]);return r}function x(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=r[0],i=r[1],a=void 0===i?o:i,u=r[2],s=void 0===u?o:u,c=r[3],l=void 0===c?a:c,f=[o,a,s,l];return S(t,f)}function k(t,e){return t.substr(-e.length)===e}var j=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function T(t){return"string"!==typeof t?t:t.match(j)?parseFloat(t):t}var L=function(t){return function(e,r){void 0===r&&(r="16px");var n=e,o=r;if("string"===typeof e){if(!k(e,"px"))throw new p(69,t,e);n=T(e)}if("string"===typeof r){if(!k(r,"px"))throw new p(70,t,r);o=T(r)}if("string"===typeof n)throw new p(71,e,t);if("string"===typeof o)throw new p(72,r,t);return""+n/o+t}},P=L("em"),A=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function C(t){if("string"!==typeof t)return[t,""];var e=t.match(A);return e?[parseFloat(t),e[2]]:[t,void 0]}function I(t,e){if("object"!==typeof t||null===t)throw new p(75,typeof t);var r={};return Object.keys(t).forEach((function(n){"object"===typeof t[n]&&null!==t[n]?r[n]=I(t[n],e):!e||e&&(e===n||e.indexOf(n)>=0)?r[n]=t[n]+" !important":r[n]=t[n]})),r}var R={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function D(t,e,r){if(void 0===e&&(e="1em"),void 0===r&&(r=1.333),"number"!==typeof t)throw new p(42);if("string"===typeof r&&!R[r])throw new p(43);var n="string"===typeof e?C(e):[e,""],o=n[0],i=n[1],a="string"===typeof r?R[r]:r;if("string"===typeof o)throw new p(44,e);return""+o*Math.pow(a,t)+(i||"")}var N=L("rem");function F(t){var e=C(t);if("px"===e[1])return parseFloat(t);if("%"===e[1])return parseFloat(t)/100*16;throw new p(78,e[1])}function M(t,e){var r=C(t);if("rem"!==r[1]&&""!==r[1])throw new p(77,r[1]);var n=e?F(e):function(){if("undefined"!==typeof document&&null!==document.documentElement){var t=getComputedStyle(document.documentElement).fontSize;return t?F(t):16}return 16}();return r[0]*n+"px"}var B={back:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",circ:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",cubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",expo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",quad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",quart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",quint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",sine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)"};function U(t){return B[t.toLowerCase().trim()]}var z={back:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",circ:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",cubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",expo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",quad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",quart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",quint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",sine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function G(t){return z[t.toLowerCase().trim()]}var q={back:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",cubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",circ:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",expo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",quad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",quart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",quint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",sine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)"};function H(t){return q[t.toLowerCase().trim()]}function V(t,e,r,n){void 0===r&&(r="320px"),void 0===n&&(n="1200px");var o=C(t),i=o[0],a=o[1],u=C(e),s=u[0],c=u[1],l=C(r),f=l[0],h=l[1],d=C(n),y=d[0],v=d[1];if("number"!==typeof f||"number"!==typeof y||!h||!v||h!==v)throw new p(47);if("number"!==typeof i||"number"!==typeof s||a!==c)throw new p(48);if(a!==h||c!==v)throw new p(76);var m=(i-s)/(f-y);return"calc("+(s-m*y).toFixed(2)+(a||"")+" + "+(100*m).toFixed(2)+"vw)"}function $(t){var e;return void 0===t&&(t="&"),(e={})[t+"::after"]={clear:"both",content:'""',display:"table"},e}function W(t){return void 0===t&&(t=0),{position:"absolute",top:t,right:t,bottom:t,left:t}}function K(t,e){void 0===e&&(e=1);var r={display:"inline-block",maxWidth:t||"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"};return e>1?Object(n.a)({},r,{WebkitBoxOrient:"vertical",WebkitLineClamp:e,display:"-webkit-box",whiteSpace:"normal"}):r}function Y(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X(t,e,r){if(void 0===e&&(e="320px"),void 0===r&&(r="1200px"),!Array.isArray(t)&&"object"!==typeof t||null===t)throw new p(49);if(Array.isArray(t)){for(var o,i={},a={},u=Y(t);!(o=u()).done;){var s,c,l=o.value;if(!l.prop||!l.fromSize||!l.toSize)throw new p(50);a[l.prop]=l.fromSize,i["@media (min-width: "+e+")"]=Object(n.a)({},i["@media (min-width: "+e+")"],((s={})[l.prop]=V(l.fromSize,l.toSize,e,r),s)),i["@media (min-width: "+r+")"]=Object(n.a)({},i["@media (min-width: "+r+")"],((c={})[l.prop]=l.toSize,c))}return Object(n.a)({},a,i)}var f,h,d;if(!t.prop||!t.fromSize||!t.toSize)throw new p(51);return(d={})[t.prop]=t.fromSize,d["@media (min-width: "+e+")"]=((f={})[t.prop]=V(t.fromSize,t.toSize,e,r),f),d["@media (min-width: "+r+")"]=((h={})[t.prop]=t.toSize,h),d}var J,Z,tt=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,et={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function rt(t,e){return e?' format("'+et[t]+'")':""}function nt(t,e,r){if(function(t){return!!t.replace(/\s+/g," ").match(tt)}(t))return'url("'+t+'")'+rt(e[0],r);var n=e.map((function(e){return'url("'+t+"."+e+'")'+rt(e,r)}));return n.join(", ")}function ot(t,e,r,n){var o=[];return e&&o.push(function(t){return t.map((function(t){return'local("'+t+'")'})).join(", ")}(e)),t&&o.push(nt(t,r,n)),o.join(", ")}function it(t){var e=t.fontFamily,r=t.fontFilePath,n=t.fontStretch,o=t.fontStyle,i=t.fontVariant,a=t.fontWeight,u=t.fileFormats,s=void 0===u?["eot","woff2","woff","ttf","svg"]:u,c=t.formatHint,l=void 0!==c&&c,f=t.localFonts,h=void 0===f?[e]:f,d=t.unicodeRange,y=t.fontDisplay,v=t.fontVariationSettings,m=t.fontFeatureSettings;if(!e)throw new p(55);if(!r&&!h)throw new p(52);if(h&&!Array.isArray(h))throw new p(53);if(!Array.isArray(s))throw new p(54);var g={"@font-face":{fontFamily:e,src:ot(r,h,s,l),unicodeRange:d,fontStretch:n,fontStyle:o,fontVariant:i,fontWeight:a,fontDisplay:y,fontVariationSettings:v,fontFeatureSettings:m}};return JSON.parse(JSON.stringify(g))}function at(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}}function ut(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}}function st(t){return void 0===t&&(t=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+t+"),\n    only screen and (min--moz-device-pixel-ratio: "+t+"),\n    only screen and (-o-min-device-pixel-ratio: "+t+"/1),\n    only screen and (min-resolution: "+Math.round(96*t)+"dpi),\n    only screen and (min-resolution: "+t+"dppx)\n  "}function ct(t){for(var e="",r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];for(var i=0;i<t.length;i+=1)if(e+=t[i],i===n.length-1&&n[i]){var a=n.filter((function(t){return!!t}));a.length>1?(e=e.slice(0,-1),e+=", "+n[i]):1===a.length&&(e+=""+n[i])}else n[i]&&(e+=n[i]+" ");return e.trim()}function lt(t){var e=t.colorStops,r=t.fallback,n=t.toDirection,o=void 0===n?"":n;if(!e||e.length<2)throw new p(56);return{backgroundColor:r||e[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:ct(J||(J=c(["linear-gradient(","",")"])),o,e.join(", ").replace(/,(?=\S)/g,", "))}}function ft(){var t;return[(t={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},t["b,\n    strong"]={fontWeight:"bolder"},t["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},t.small={fontSize:"80%"},t["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},t.sub={bottom:"-0.25em"},t.sup={top:"-0.5em"},t.img={borderStyle:"none"},t["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},t["button,\n    input"]={overflow:"visible"},t["button,\n    select"]={textTransform:"none"},t['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},t['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},t['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},t.fieldset={padding:"0.35em 0.625em 0.75em"},t.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},t.progress={verticalAlign:"baseline"},t.textarea={overflow:"auto"},t['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},t['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},t['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},t['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},t["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},t.details={display:"block"},t.summary={display:"list-item"},t.template={display:"none"},t["[hidden]"]={display:"none"},t),{"abbr[title]":{textDecoration:"underline dotted"}}]}function ht(t){var e=t.colorStops,r=t.extent,n=void 0===r?"":r,o=t.fallback,i=t.position,a=void 0===i?"":i,u=t.shape,s=void 0===u?"":u;if(!e||e.length<2)throw new p(57);return{backgroundColor:o||e[0].split(" ")[0],backgroundImage:ct(Z||(Z=c(["radial-gradient(","","","",")"])),a,s,n,e.join(", "))}}function pt(t,e,r,o,i){var a;if(void 0===r&&(r="png"),void 0===i&&(i="_2x"),!t)throw new p(58);var u=r.replace(/^\./,""),s=o?o+"."+u:""+t+i+"."+u;return(a={backgroundImage:"url("+t+"."+u+")"})[st()]=Object(n.a)({backgroundImage:"url("+s+")"},e?{backgroundSize:e}:{}),a}var dt={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function yt(t){return dt[t]}var vt=function(t,e,r){var n=""+r[0]+(r[1]||""),o=""+r[0]/2+(r[1]||""),i=""+e[0]+(e[1]||""),a=""+e[0]/2+(e[1]||"");switch(t){case"top":return"0 "+o+" "+i+" "+o;case"topLeft":return n+" "+i+" 0 0";case"left":return a+" "+n+" "+a+" 0";case"bottomLeft":return n+" 0 0 "+i;case"bottom":return i+" "+o+" 0 "+o;case"bottomRight":return"0 0 "+n+" "+i;case"right":return a+" 0 "+a+" "+n;default:return"0 "+n+" "+i+" 0"}};function mt(t){var e=t.pointingDirection,r=t.height,o=t.width,i=t.foregroundColor,a=t.backgroundColor,u=void 0===a?"transparent":a,s=C(o),c=C(r);if(isNaN(c[0])||isNaN(s[0]))throw new p(60);return Object(n.a)({width:"0",height:"0",borderColor:u},function(t,e){switch(t){case"top":case"bottomRight":return{borderBottomColor:e};case"right":case"bottomLeft":return{borderLeftColor:e};case"bottom":case"topLeft":return{borderTopColor:e};case"left":case"topRight":return{borderRightColor:e};default:throw new p(59)}}(e,i),{borderStyle:"solid",borderWidth:vt(e,c,s)})}function gt(t){return void 0===t&&(t="break-word"),{overflowWrap:t,wordWrap:t,wordBreak:"break-word"===t?"break-all":t}}function bt(t){return Math.round(255*t)}function wt(t,e,r){return bt(t)+","+bt(e)+","+bt(r)}function _t(t,e,r,n){if(void 0===n&&(n=wt),0===e)return n(r,r,r);var o=(t%360+360)%360/60,i=(1-Math.abs(2*r-1))*e,a=i*(1-Math.abs(o%2-1)),u=0,s=0,c=0;o>=0&&o<1?(u=i,s=a):o>=1&&o<2?(u=a,s=i):o>=2&&o<3?(s=i,c=a):o>=3&&o<4?(s=a,c=i):o>=4&&o<5?(u=a,c=i):o>=5&&o<6&&(u=i,c=a);var l=r-i/2;return n(u+l,s+l,c+l)}var Et={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var Ot=/^#[a-fA-F0-9]{6}$/,St=/^#[a-fA-F0-9]{8}$/,xt=/^#[a-fA-F0-9]{3}$/,kt=/^#[a-fA-F0-9]{4}$/,jt=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,Tt=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,Lt=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Pt=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function At(t){if("string"!==typeof t)throw new p(3);var e=function(t){if("string"!==typeof t)return t;var e=t.toLowerCase();return Et[e]?"#"+Et[e]:t}(t);if(e.match(Ot))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(St)){var r=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:r}}if(e.match(xt))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(kt)){var n=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:n}}var o=jt.exec(e);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=Tt.exec(e.substring(0,50));if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])>1?parseFloat(""+i[4])/100:parseFloat(""+i[4])};var a=Lt.exec(e);if(a){var u="rgb("+_t(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",s=jt.exec(u);if(!s)throw new p(4,e,u);return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10)}}var c=Pt.exec(e.substring(0,50));if(c){var l="rgb("+_t(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",f=jt.exec(l);if(!f)throw new p(4,e,l);return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10),alpha:parseFloat(""+c[4])>1?parseFloat(""+c[4])/100:parseFloat(""+c[4])}}throw new p(5)}function Ct(t){return function(t){var e,r=t.red/255,n=t.green/255,o=t.blue/255,i=Math.max(r,n,o),a=Math.min(r,n,o),u=(i+a)/2;if(i===a)return void 0!==t.alpha?{hue:0,saturation:0,lightness:u,alpha:t.alpha}:{hue:0,saturation:0,lightness:u};var s=i-a,c=u>.5?s/(2-i-a):s/(i+a);switch(i){case r:e=(n-o)/s+(n<o?6:0);break;case n:e=(o-r)/s+2;break;default:e=(r-n)/s+4}return e*=60,void 0!==t.alpha?{hue:e,saturation:c,lightness:u,alpha:t.alpha}:{hue:e,saturation:c,lightness:u}}(At(t))}var It=function(t){return 7===t.length&&t[1]===t[2]&&t[3]===t[4]&&t[5]===t[6]?"#"+t[1]+t[3]+t[5]:t};function Rt(t){var e=t.toString(16);return 1===e.length?"0"+e:e}function Dt(t){return Rt(Math.round(255*t))}function Nt(t,e,r){return It("#"+Dt(t)+Dt(e)+Dt(r))}function Ft(t,e,r){return _t(t,e,r,Nt)}function Mt(t,e,r){if("number"===typeof t&&"number"===typeof e&&"number"===typeof r)return Ft(t,e,r);if("object"===typeof t&&void 0===e&&void 0===r)return Ft(t.hue,t.saturation,t.lightness);throw new p(1)}function Bt(t,e,r,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof r&&"number"===typeof n)return n>=1?Ft(t,e,r):"rgba("+_t(t,e,r)+","+n+")";if("object"===typeof t&&void 0===e&&void 0===r&&void 0===n)return t.alpha>=1?Ft(t.hue,t.saturation,t.lightness):"rgba("+_t(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new p(2)}function Ut(t,e,r){if("number"===typeof t&&"number"===typeof e&&"number"===typeof r)return It("#"+Rt(t)+Rt(e)+Rt(r));if("object"===typeof t&&void 0===e&&void 0===r)return It("#"+Rt(t.red)+Rt(t.green)+Rt(t.blue));throw new p(6)}function zt(t,e,r,n){if("string"===typeof t&&"number"===typeof e){var o=At(t);return"rgba("+o.red+","+o.green+","+o.blue+","+e+")"}if("number"===typeof t&&"number"===typeof e&&"number"===typeof r&&"number"===typeof n)return n>=1?Ut(t,e,r):"rgba("+t+","+e+","+r+","+n+")";if("object"===typeof t&&void 0===e&&void 0===r&&void 0===n)return t.alpha>=1?Ut(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")";throw new p(7)}function Gt(t){if("object"!==typeof t)throw new p(8);if(function(t){return"number"===typeof t.red&&"number"===typeof t.green&&"number"===typeof t.blue&&"number"===typeof t.alpha}(t))return zt(t);if(function(t){return"number"===typeof t.red&&"number"===typeof t.green&&"number"===typeof t.blue&&("number"!==typeof t.alpha||"undefined"===typeof t.alpha)}(t))return Ut(t);if(function(t){return"number"===typeof t.hue&&"number"===typeof t.saturation&&"number"===typeof t.lightness&&"number"===typeof t.alpha}(t))return Bt(t);if(function(t){return"number"===typeof t.hue&&"number"===typeof t.saturation&&"number"===typeof t.lightness&&("number"!==typeof t.alpha||"undefined"===typeof t.alpha)}(t))return Mt(t);throw new p(8)}function qt(t,e,r){return function(){var n=r.concat(Array.prototype.slice.call(arguments));return n.length>=e?t.apply(this,n):qt(t,e,n)}}function Ht(t){return qt(t,t.length,[])}function Vt(t,e){if("transparent"===e)return e;var r=Ct(e);return Gt(Object(n.a)({},r,{hue:r.hue+parseFloat(t)}))}var $t=Ht(Vt);function Wt(t){if("transparent"===t)return t;var e=Ct(t);return Gt(Object(n.a)({},e,{hue:(e.hue+180)%360}))}function Kt(t,e,r){return Math.max(t,Math.min(e,r))}function Yt(t,e){if("transparent"===e)return e;var r=Ct(e);return Gt(Object(n.a)({},r,{lightness:Kt(0,1,r.lightness-parseFloat(t))}))}var Qt=Ht(Yt);function Xt(t,e){if("transparent"===e)return e;var r=Ct(e);return Gt(Object(n.a)({},r,{saturation:Kt(0,1,r.saturation-parseFloat(t))}))}var Jt=Ht(Xt);function Zt(t){if("transparent"===t)return 0;var e=At(t),r=Object.keys(e).map((function(t){var r=e[t]/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)})),n=r[0],o=r[1],i=r[2];return parseFloat((.2126*n+.7152*o+.0722*i).toFixed(3))}function te(t,e){var r=Zt(t),n=Zt(e);return parseFloat((r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)).toFixed(2))}function ee(t){return"transparent"===t?t:Gt(Object(n.a)({},Ct(t),{saturation:0}))}function re(t){if("object"===typeof t&&"number"===typeof t.hue&&"number"===typeof t.saturation&&"number"===typeof t.lightness)return t.alpha&&"number"===typeof t.alpha?Bt({hue:t.hue,saturation:t.saturation,lightness:t.lightness,alpha:t.alpha}):Mt({hue:t.hue,saturation:t.saturation,lightness:t.lightness});throw new p(45)}function ne(t){if("transparent"===t)return t;var e=At(t);return Gt(Object(n.a)({},e,{red:255-e.red,green:255-e.green,blue:255-e.blue}))}function oe(t,e){if("transparent"===e)return e;var r=Ct(e);return Gt(Object(n.a)({},r,{lightness:Kt(0,1,r.lightness+parseFloat(t))}))}var ie=Ht(oe);function ae(t,e){var r=te(t,e);return{AA:r>=4.5,AALarge:r>=3,AAA:r>=7,AAALarge:r>=4.5}}function ue(t,e,r){if("transparent"===e)return r;if("transparent"===r)return e;if(0===t)return r;var o=At(e),i=Object(n.a)({},o,{alpha:"number"===typeof o.alpha?o.alpha:1}),a=At(r),u=Object(n.a)({},a,{alpha:"number"===typeof a.alpha?a.alpha:1}),s=i.alpha-u.alpha,c=2*parseFloat(t)-1,l=((c*s===-1?c:c+s)/(1+c*s)+1)/2,f=1-l;return zt({red:Math.floor(i.red*l+u.red*f),green:Math.floor(i.green*l+u.green*f),blue:Math.floor(i.blue*l+u.blue*f),alpha:i.alpha*parseFloat(t)+u.alpha*(1-parseFloat(t))})}var se=Ht(ue);function ce(t,e){if("transparent"===e)return e;var r=At(e),o="number"===typeof r.alpha?r.alpha:1;return zt(Object(n.a)({},r,{alpha:Kt(0,1,(100*o+100*parseFloat(t))/100)}))}var le=Ht(ce),fe="#000",he="#fff";function pe(t,e,r,n){void 0===e&&(e=fe),void 0===r&&(r=he),void 0===n&&(n=!0);var o=Zt(t)>.179,i=o?e:r;return!n||te(t,i)>=4.5?i:o?fe:he}function de(t){if("object"===typeof t&&"number"===typeof t.red&&"number"===typeof t.green&&"number"===typeof t.blue)return"number"===typeof t.alpha?zt({red:t.red,green:t.green,blue:t.blue,alpha:t.alpha}):Ut({red:t.red,green:t.green,blue:t.blue});throw new p(46)}function ye(t,e){if("transparent"===e)return e;var r=Ct(e);return Gt(Object(n.a)({},r,{saturation:Kt(0,1,r.saturation+parseFloat(t))}))}var ve=Ht(ye);function me(t,e){return"transparent"===e?e:Gt(Object(n.a)({},Ct(e),{hue:parseFloat(t)}))}var ge=Ht(me);function be(t,e){return"transparent"===e?e:Gt(Object(n.a)({},Ct(e),{lightness:parseFloat(t)}))}var we=Ht(be);function _e(t,e){return"transparent"===e?e:Gt(Object(n.a)({},Ct(e),{saturation:parseFloat(t)}))}var Ee=Ht(_e);function Oe(t,e){return"transparent"===e?e:se(parseFloat(t),"rgb(0, 0, 0)",e)}var Se=Ht(Oe);function xe(t,e){return"transparent"===e?e:se(parseFloat(t),"rgb(255, 255, 255)",e)}var ke=Ht(xe);function je(t,e){if("transparent"===e)return e;var r=At(e),o="number"===typeof r.alpha?r.alpha:1;return zt(Object(n.a)({},r,{alpha:Kt(0,1,+(100*o-100*parseFloat(t)).toFixed(2)/100)}))}var Te=Ht(je);function Le(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Array.isArray(e[0]);if(!n&&e.length>8)throw new p(64);var o=e.map((function(t){if(n&&!Array.isArray(t)||!n&&Array.isArray(t))throw new p(65);if(Array.isArray(t)&&t.length>8)throw new p(66);return Array.isArray(t)?t.join(" "):t})).join(", ");return{animation:o}}function Pe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return{backgroundImage:e.join(", ")}}function Ae(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return{background:e.join(", ")}}var Ce=["top","right","bottom","left"];function Ie(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o;return"string"===typeof t&&Ce.indexOf(t)>=0?((o={})["border"+_(t)+"Width"]=r[0],o["border"+_(t)+"Style"]=r[1],o["border"+_(t)+"Color"]=r[2],o):(r.unshift(t),{borderWidth:r[0],borderStyle:r[1],borderColor:r[2]})}function Re(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,["borderColor"].concat(e))}function De(t,e){var r,n,o=_(t);if(!e&&0!==e)throw new p(62);if("Top"===o||"Bottom"===o)return(r={})["border"+o+"RightRadius"]=e,r["border"+o+"LeftRadius"]=e,r;if("Left"===o||"Right"===o)return(n={})["borderTop"+o+"Radius"]=e,n["borderBottom"+o+"Radius"]=e,n;throw new p(63)}function Ne(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,["borderStyle"].concat(e))}function Fe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,["borderWidth"].concat(e))}function Me(t,e){return t(e?":"+e:"")}function Be(t,e,r){if(!e)throw new p(67);if(0===t.length)return Me(e,null);for(var n=[],o=0;o<t.length;o+=1){if(r&&r.indexOf(t[o])<0)throw new p(68);n.push(Me(e,t[o]))}return n=n.join(",")}var Ue=[void 0,null,"active","focus","hover"];function ze(t){return"button"+t+',\n  input[type="button"]'+t+',\n  input[type="reset"]'+t+',\n  input[type="submit"]'+t}function Ge(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Be(e,ze,Ue)}function qe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,["margin"].concat(e))}function He(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,["padding"].concat(e))}var Ve=["absolute","fixed","relative","static","sticky"];function $e(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return Ve.indexOf(t)>=0&&t?Object(n.a)({},x.apply(void 0,[""].concat(r)),{position:t}):x.apply(void 0,["",t].concat(r))}function We(t,e){return void 0===e&&(e=t),{height:t,width:e}}var Ke=[void 0,null,"active","focus","hover"];function Ye(t){return'input[type="color"]'+t+',\n    input[type="date"]'+t+',\n    input[type="datetime"]'+t+',\n    input[type="datetime-local"]'+t+',\n    input[type="email"]'+t+',\n    input[type="month"]'+t+',\n    input[type="number"]'+t+',\n    input[type="password"]'+t+',\n    input[type="search"]'+t+',\n    input[type="tel"]'+t+',\n    input[type="text"]'+t+',\n    input[type="time"]'+t+',\n    input[type="url"]'+t+',\n    input[type="week"]'+t+",\n    input:not([type])"+t+",\n    textarea"+t}function Qe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Be(e,Ye,Ke)}function Xe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Array.isArray(e[0])&&2===e.length){var n=e[1];if("string"!==typeof n)throw new p(61);var o=e[0].map((function(t){return t+" "+n})).join(", ");return{transition:o}}return{transition:e.join(", ")}}},function(t,e,r){"use strict";r.r(e),r.d(e,"Portal",(function(){return w})),r.d(e,"PortalWithState",(function(){return S}));var n=r(16),o=r.n(n),i=r(0),a=r.n(i),u=r(2),s=r.n(u),c=!("undefined"===typeof window||!window.document||!window.document.createElement),l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var p=function(t){function e(){return f(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),l(e,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return c?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),o.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),e}(a.a.Component);p.propTypes={children:s.a.node.isRequired,node:s.a.any};var d=p,y=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var g=function(t){function e(){return v(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),y(e,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(t){this.renderPortal()}},{key:"componentWillUnmount",value:function(){o.a.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(t){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var e=this.props.children;"function"===typeof this.props.children.type&&(e=a.a.cloneElement(this.props.children)),this.portal=o.a.unstable_renderSubtreeIntoContainer(this,e,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),e}(a.a.Component),b=g;g.propTypes={children:s.a.node.isRequired,node:s.a.any};var w=o.a.createPortal?d:b,_=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var E=27,O=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.portalNode=null,r.state={active:!!t.defaultOpen},r.openPortal=r.openPortal.bind(r),r.closePortal=r.closePortal.bind(r),r.wrapWithPortal=r.wrapWithPortal.bind(r),r.handleOutsideMouseClick=r.handleOutsideMouseClick.bind(r),r.handleKeydown=r.handleKeydown.bind(r),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),_(e,[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.addEventListener("click",this.handleOutsideMouseClick)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.removeEventListener("click",this.handleOutsideMouseClick)}},{key:"openPortal",value:function(t){this.state.active||(t&&t.nativeEvent&&t.nativeEvent.stopImmediatePropagation(),this.setState({active:!0},this.props.onOpen))}},{key:"closePortal",value:function(){this.state.active&&this.setState({active:!1},this.props.onClose)}},{key:"wrapWithPortal",value:function(t){var e=this;return this.state.active?a.a.createElement(w,{node:this.props.node,key:"react-portal",ref:function(t){return e.portalNode=t}},t):null}},{key:"handleOutsideMouseClick",value:function(t){if(this.state.active){var e=this.portalNode&&(this.portalNode.props.node||this.portalNode.defaultNode);!e||e.contains(t.target)||t.button&&0!==t.button||this.closePortal()}}},{key:"handleKeydown",value:function(t){t.keyCode===E&&this.state.active&&this.closePortal()}},{key:"render",value:function(){return this.props.children({openPortal:this.openPortal,closePortal:this.closePortal,portal:this.wrapWithPortal,isOpen:this.state.active})}}]),e}(a.a.Component);O.propTypes={children:s.a.func.isRequired,defaultOpen:s.a.bool,node:s.a.any,closeOnEsc:s.a.bool,closeOnOutsideClick:s.a.bool,onOpen:s.a.func,onClose:s.a.func},O.defaultProps={onOpen:function(){},onClose:function(){}};var S=O},function(t,e,r){"use strict";r.r(e);var n=r(5);var o=r(0),i=o.useLayoutEffect,a=function(t,e){"function"!==typeof t?t.current=e:t(e)},u=function(t,e){var r=Object(o.useRef)();return Object(o.useCallback)((function(n){t.current=n,r.current&&a(r.current,null),r.current=e,e&&a(e,n)}),[e])},s={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},c=function(t){Object.keys(s).forEach((function(e){t.style.setProperty(e,s[e],"important")}))},l=null;var f=function(){},h=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],p=!!document.documentElement.currentStyle,d=function(t){var e=function(t){var e=o.useRef(t);return i((function(){e.current=t})),e}(t);Object(o.useLayoutEffect)((function(){var t=function(t){e.current(t)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[])},y=function(t,e){var r=t.cacheMeasurements,i=t.maxRows,a=t.minRows,s=t.onChange,y=void 0===s?f:s,v=t.onHeightChange,m=void 0===v?f:v,g=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var b=void 0!==g.value,w=Object(o.useRef)(null),_=u(w,e),E=Object(o.useRef)(0),O=Object(o.useRef)(),S=function(){var t=w.current,e=r&&O.current?O.current:function(t){var e=window.getComputedStyle(t);if(null===e)return null;var r,n=(r=e,h.reduce((function(t,e){return t[e]=r[e],t}),{})),o=n.boxSizing;return""===o?null:(p&&"border-box"===o&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})}(t);if(e){O.current=e;var n=function(t,e,r,n){void 0===r&&(r=1),void 0===n&&(n=1/0),l||((l=document.createElement("textarea")).setAttribute("tabindex","-1"),l.setAttribute("aria-hidden","true"),c(l)),null===l.parentNode&&document.body.appendChild(l);var o=t.paddingSize,i=t.borderSize,a=t.sizingStyle,u=a.boxSizing;Object.keys(a).forEach((function(t){var e=t;l.style[e]=a[e]})),c(l),l.value=e;var s=function(t,e){var r=t.scrollHeight;return"border-box"===e.sizingStyle.boxSizing?r+e.borderSize:r-e.paddingSize}(l,t);l.value="x";var f=l.scrollHeight-o,h=f*r;"border-box"===u&&(h=h+o+i),s=Math.max(h,s);var p=f*n;return"border-box"===u&&(p=p+o+i),[s=Math.min(p,s),f]}(e,t.value||t.placeholder||"x",a,i),o=n[0],u=n[1];E.current!==o&&(E.current=o,t.style.setProperty("height",o+"px","important"),m(o,{rowHeight:u}))}};return Object(o.useLayoutEffect)(S),d(S),Object(o.createElement)("textarea",Object(n.a)({},g,{onChange:function(t){b||S(),y(t)},ref:_}))},v=Object(o.forwardRef)(y);e.default=v},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return x}));var n=r(0),o=r.n(n),i=Number.isNaN||function(t){return"number"===typeof t&&t!==t};function a(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(n=t[r],o=e[r],!(n===o||i(n)&&i(o)))return!1;var n,o;return!0}var u=function(t,e){var r;void 0===e&&(e=a);var n,o=[],i=!1;return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return i&&r===this&&e(a,o)||(n=t.apply(this,a),i=!0,r=this,o=a),n}},s=r(75),c=r.n(s),l=r(131),f={characters:{tokenizeString:null,isAtomic:function(t){return t.length<=1}},words:{tokenizeString:function(t){return t.match(/(\s*\S[\S\xA0]*)/g)},isAtomic:function(t){return/^\s*[\S\xA0]*\s*$/.test(t)}}},h=function(t){return t.children||null};h.__rtm_atom=!0;var p,d,y=function(t){return!(!t||!t.type||!0!==t.type.__rtm_atom)},v="<Atom>",m=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var w=!0,_=!1,E=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return r;if("string"===typeof e)return r+e;if(y(e))return r+v;var n=Array.isArray(e)?e:e.props.children||"";return r+o.a.Children.map(n,(function(e){return t(e)})).join("")},O=function(t,e,r,n){return b({},t,{props:b({},t.props,{style:b({},t.props.style,r?{display:(t.props.style||{}).display||"block"}:2===n?{display:(t.props.style||{}).display||"inline-block"}:{}),children:e})})},S=function t(e){return!(null!=e&&!["string","number"].includes("undefined"===typeof e?"undefined":g(e))&&!y(e))||"function"!==typeof e.type&&(!e.props||!e.props.children||o.a.Children.toArray(e.props.children).reduce((function(e,r){return e&&t(r)}),!0))},x=(d=p=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,r));return n.lineHeight=null,n.splitDirectionSeq=[],n.shouldTruncate=!0,n.wasLastCharTested=!1,n.endFound=!1,n.latestThatFits=null,n.onTruncateCalled=!1,n.toStringMemo=u(E),n.childrenWithRefMemo=u(n.childrenElementWithRef),n.validateTreeMemo=u(S),n.onTruncate=function(t){n.onTruncateCalled||(n.onTruncateCalled=!0,n.props.onTruncate(t))},n.handleResize=function(t,e){if(e&&e.disconnect(),!t)return null;var r=!0,o=e||new l.a((function(){r?r=!1:(n.shouldTruncate=!1,n.latestThatFits=null,n.setState({text:n.origText},(function(){n.shouldTruncate=!0,n.onTruncateCalled=!1,n.truncate()})))}));return o.observe(t),o},n.setRef=function(t){var e=n.el!==t;n.el=t,e&&(n.resizeObserver=n.handleResize(t,n.resizeObserver))},n.state={text:n.childrenWithRefMemo(n.props.children)},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.isValid&&(this.lineHeight=this.props.lineHeight||c()(this.el),this.truncate())},e.prototype.UNSAFE_componentWillReceiveProps=function(t){var e=this;this.shouldTruncate=!1,this.latestThatFits=null,this.setState({text:this.childrenWithRefMemo(t.children)},(function(){e.isValid&&(e.lineHeight=t.lineHeight||c()(e.el),e.shouldTruncate=!0,e.truncate())}))},e.prototype.componentDidUpdate=function(){if(!1!==this.shouldTruncate&&!1!==this.isValid)return this.endFound?null!==this.latestThatFits&&this.state.text!==this.latestThatFits?void this.setState({text:this.latestThatFits}):void this.onTruncate(!0):void(this.splitDirectionSeq.length&&(this.fits()?(this.latestThatFits=this.state.text,this.splitDirectionSeq.splice(this.splitDirectionSeq.length-1,1,_,w)):this.splitDirectionSeq.push(w),this.tryToFit(this.origText,this.splitDirectionSeq)))},e.prototype.componentWillUnmount=function(){this.lineHeight=null,this.latestThatFits=null,this.splitDirectionSeq=[]},e.prototype.truncate=function(){if(this.fits())return this.shouldTruncate=!1,void this.onTruncate(!1);this.truncateOriginalText()},e.prototype.childrenElementWithRef=function(t){var e=o.a.Children.only(t);return o.a.cloneElement(e,{ref:this.setRef,style:b({wordWrap:"break-word"},e.props.style)})},e.prototype.truncateOriginalText=function(){this.endFound=!1,this.splitDirectionSeq=[w],this.wasLastCharTested=!1,this.tryToFit(this.origText,this.splitDirectionSeq)},e.prototype.tryToFit=function(t,e){if(t.props.children){var r=this.split(t,e,!0),n="function"===typeof this.props.ellipsis?this.props.ellipsis(r):this.props.ellipsis;n="object"===("undefined"===typeof n?"undefined":g(n))?o.a.cloneElement(n,{key:"ellipsis"}):n;var i=r.props.children,a=[].concat(i,n),u=E(i)!==this.toStringMemo(this.props.children);this.setState({text:b({},r,{props:b({},r.props,{children:u?a:i})})})}},e.prototype.split=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!t||y(t))return this.endFound=!0,t;if("string"===typeof t)return this.splitString(t,e,n);if(Array.isArray(t))return this.splitArray(t,e,n);var o=this.split(t.props.children,e,!1,n+1);return O(t,o,r,n)},e.prototype.splitString=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2];if(!e.length)return t;if(e.length&&this.policy.isAtomic(t))return this.wasLastCharTested?this.endFound=!0:this.wasLastCharTested=!0,t;if(this.policy.tokenizeString){var n=this.splitArray(this.policy.tokenizeString(t),e,r);return n.join("")}var o=e[0],i=e.slice(1),a=Math.ceil(t.length/2),u=t.substring(0,a);if(o===w)return this.splitString(u,i,r);var s=t.substring(a);return u+this.splitString(s,i,r)},e.prototype.splitArray=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2];if(!e.length)return t;if(1===t.length)return[this.split(t[0],e,!1,r)];var n=e[0],o=e.slice(1),i=Math.ceil(t.length/2),a=t.slice(0,i);if(n===w)return this.splitArray(a,o,r);var u=t.slice(i);return a.concat(this.splitArray(u,o,r))},e.prototype.fits=function(){var t=this.props.lines,e=this.el.getBoundingClientRect().height;return t>=Math.round(e/parseFloat(this.lineHeight))},e.prototype.render=function(){return this.state.text},m(e,[{key:"isValid",get:function(){return this.validateTreeMemo(this.props.children)}},{key:"origText",get:function(){return this.childrenWithRefMemo(this.props.children)}},{key:"policy",get:function(){return f[this.props.tokenize]||f.characters}}]),e}(o.a.Component),p.Atom=h,p.defaultProps={lines:1,ellipsis:"...",lineHeight:"",onTruncate:function(){},tokenize:"characters"},d);x.propTypes={}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return _}));var n=r(3),o=r(13),i=r(19),a=r(0),u=r(6),s=r(51),c=r(53),l=r(26),f=r(52);function h(t){var e=new Date(t);if(!Number.isNaN(e.valueOf()))return e;var r=String(t).match(/\d+/g);if(null==r||r.length<=2)return e;var n,o=r.map((function(t){return parseInt(t)})),i=(n=o,Object(s.a)(n)||Object(c.a)(n)||Object(l.a)(n)||Object(f.a)()),a=i[0],h=i[1],p=i.slice(2),d=[a,h-1].concat(Object(u.a)(p));return new Date(Date.UTC.apply(Date,Object(u.a)(d)))}function p(t,e,r){return t+" "+(1!==t?e+"s":e)+" "+r}var d=["date","formatter","component","live","minPeriod","maxPeriod","title","now"];function y(){return y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y.apply(this,arguments)}var v=3600,m=86400,g=7*m,b=30*m,w=365*m;function _(t){var e=t.date,r=t.formatter,u=void 0===r?p:r,s=t.component,c=void 0===s?"time":s,l=t.live,f=void 0===l||l,_=t.minPeriod,E=void 0===_?0:_,O=t.maxPeriod,S=void 0===O?g:O,x=t.title,k=t.now,j=void 0===k?function(){return Date.now()}:k,T=Object(i.a)(t,d),L=Object(a.useState)(j()),P=Object(o.a)(L,2),A=P[0],C=P[1];Object(a.useEffect)((function(){if(f){var t=function(){var t=h(e).valueOf();if(!t)return console.warn("[react-timeago] Invalid Date provided"),0;var r=Math.round(Math.abs(A-t)/1e3),n=r<60?1e3:r<v?6e4:r<m?36e5:6048e5,o=Math.min(Math.max(n,1e3*E),1e3*S);return o?setTimeout((function(){C(j())}),o):0}();return function(){t&&clearTimeout(t)}}}),[e,f,S,E,j,A]);var I=c,R=h(e).valueOf();if(!R)return null;var D=Math.round(Math.abs(A-R)/1e3),N=R<A?"ago":"from now",F=D<60?[Math.round(D),"second"]:D<v?[Math.round(D/60),"minute"]:D<m?[Math.round(D/v),"hour"]:D<g?[Math.round(D/m),"day"]:D<b?[Math.round(D/g),"week"]:D<w?[Math.round(D/b),"month"]:[Math.round(D/w),"year"],M=Object(o.a)(F,2),B=M[0],U=M[1],z="undefined"===typeof x?"string"===typeof e?e:h(e).toISOString().substr(0,16).replace("T"," "):x,G="time"===I?Object(n.a)(Object(n.a)({},T),{},{dateTime:h(e).toISOString()}):T,q=p.bind(null,B,U,N);return a.createElement(I,y({},G,{title:z}),u(B,U,N,R,q,j))}},,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));function n(t,e,r){if(void 0===r&&(r=Error),!t)throw new r(e)}}]]);
//# sourceMappingURL=2.e647eaaa.chunk.js.map